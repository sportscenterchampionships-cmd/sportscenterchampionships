var HE=Object.create;var as=Object.defineProperty,zE=Object.defineProperties,WE=Object.getOwnPropertyDescriptor,GE=Object.getOwnPropertyDescriptors,qE=Object.getOwnPropertyNames,Vg=Object.getOwnPropertySymbols,ZE=Object.getPrototypeOf,Ug=Object.prototype.hasOwnProperty,KE=Object.prototype.propertyIsEnumerable;var Bg=(t,n,e)=>n in t?as(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,S=(t,n)=>{for(var e in n||={})Ug.call(n,e)&&Bg(t,e,n[e]);if(Vg)for(var e of Vg(n))KE.call(n,e)&&Bg(t,e,n[e]);return t},oe=(t,n)=>zE(t,GE(n));var H=(t,n)=>()=>(t&&(n=t(t=0)),n);var _t=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),ls=(t,n)=>{for(var e in n)as(t,e,{get:n[e],enumerable:!0})},$g=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of qE(n))!Ug.call(t,i)&&i!==e&&as(t,i,{get:()=>n[i],enumerable:!(r=WE(n,i))||r.enumerable});return t};var JE=(t,n,e)=>(e=t!=null?HE(ZE(t)):{},$g(n||!t||!t.__esModule?as(e,"default",{value:t,enumerable:!0}):e,t)),kt=t=>$g(as({},"__esModule",{value:!0}),t);var v=(t,n,e)=>new Promise((r,i)=>{var o=l=>{try{a(e.next(l))}catch(c){i(c)}},s=l=>{try{a(e.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(t,n)).next())});var Ur={};ls(Ur,{__addDisposableResource:()=>D0,__assign:()=>el,__asyncDelegator:()=>v0,__asyncGenerator:()=>rl,__asyncValues:()=>il,__await:()=>_n,__awaiter:()=>N,__classPrivateFieldGet:()=>w0,__classPrivateFieldIn:()=>E0,__classPrivateFieldSet:()=>C0,__createBinding:()=>nl,__decorate:()=>o0,__disposeResources:()=>S0,__esDecorate:()=>a0,__exportStar:()=>p0,__extends:()=>i0,__generator:()=>f0,__importDefault:()=>b0,__importStar:()=>_0,__makeTemplateObject:()=>y0,__metadata:()=>d0,__param:()=>s0,__propKey:()=>c0,__read:()=>pf,__rest:()=>Un,__rewriteRelativeImportExtension:()=>x0,__runInitializers:()=>l0,__setFunctionName:()=>u0,__spread:()=>h0,__spreadArray:()=>g0,__spreadArrays:()=>m0,__values:()=>tl,default:()=>fD});function i0(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");df(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function Un(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function o0(t,n,e,r){var i=arguments.length,o=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(n,e,o):s(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o}function s0(t,n){return function(e,r){n(e,r,t)}}function a0(t,n,e,r,i,o){function s(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!n&&t?r.static?t:t.prototype:null,f=n||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),m,y=!1,h=e.length-1;h>=0;h--){var _={};for(var w in r)_[w]=w==="access"?{}:r[w];for(var w in r.access)_.access[w]=r.access[w];_.addInitializer=function(D){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(D||null))};var C=(0,e[h])(a==="accessor"?{get:f.get,set:f.set}:f[l],_);if(a==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(m=s(C.get))&&(f.get=m),(m=s(C.set))&&(f.set=m),(m=s(C.init))&&i.unshift(m)}else(m=s(C))&&(a==="field"?i.unshift(m):f[l]=m)}c&&Object.defineProperty(c,r.name,f),y=!0}function l0(t,n,e){for(var r=arguments.length>2,i=0;i<n.length;i++)e=r?n[i].call(t,e):n[i].call(t);return r?e:void 0}function c0(t){return typeof t=="symbol"?t:"".concat(t)}function u0(t,n,e){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:e?"".concat(e," ",n):n})}function d0(t,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,n)}function N(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(m){s(m)}}function l(f){try{c(r.throw(f))}catch(m){s(m)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function f0(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=n.call(t,e)}catch(f){c=[6,f],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function p0(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&nl(n,t,e)}function tl(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function pf(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function h0(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(pf(arguments[n]));return t}function m0(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var o=arguments[n],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function g0(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))}function _n(t){return this instanceof _n?(this.v=t,this):new _n(t)}function rl(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(_){return Promise.resolve(_).then(h,m)}}function a(h,_){r[h]&&(i[h]=function(w){return new Promise(function(C,D){o.push([h,w,C,D])>1||l(h,w)})},_&&(i[h]=_(i[h])))}function l(h,_){try{c(r[h](_))}catch(w){y(o[0][3],w)}}function c(h){h.value instanceof _n?Promise.resolve(h.value.v).then(f,m):y(o[0][2],h)}function f(h){l("next",h)}function m(h){l("throw",h)}function y(h,_){h(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function v0(t){var n,e;return n={},r("next"),r("throw",function(i){throw i}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(i,o){n[i]=t[i]?function(s){return(e=!e)?{value:_n(t[i](s)),done:!1}:o?o(s):s}:o}}function il(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof tl=="function"?tl(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function y0(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}function _0(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e=ff(t),r=0;r<e.length;r++)e[r]!=="default"&&nl(n,t,e[r]);return uD(n,t),n}function b0(t){return t&&t.__esModule?t:{default:t}}function w0(t,n,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?t!==n||!r:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(t):r?r.value:n.get(t)}function C0(t,n,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?t!==n||!i:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,e):i?i.value=e:n.set(t,e),e}function E0(t,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?n===t:t.has(n)}function D0(t,n,e){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],e&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:n,dispose:r,async:e})}else e&&t.stack.push({async:!0});return n}function S0(t){function n(o){t.error=t.hasError?new dD(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var e,r=0;function i(){for(;e=t.stack.pop();)try{if(!e.async&&r===1)return r=0,t.stack.push(e),Promise.resolve().then(i);if(e.dispose){var o=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(o).then(i,function(s){return n(s),i()})}else r|=1}catch(s){n(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function x0(t,n){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,i,o,s){return r?n?".jsx":".js":i&&(!o||!s)?e:i+o+"."+s.toLowerCase()+"js"}):t}var df,el,nl,uD,ff,dD,fD,Te=H(()=>{"use strict";df=function(t,n){return df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},df(t,n)};el=function(){return el=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},el.apply(this,arguments)};nl=Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]};uD=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n},ff=function(t){return ff=Object.getOwnPropertyNames||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[e.length]=r);return e},ff(t)};dD=typeof SuppressedError=="function"?SuppressedError:function(t,n,e){var r=new Error(e);return r.name="SuppressedError",r.error=t,r.suppressed=n,r};fD={__extends:i0,__assign:el,__rest:Un,__decorate:o0,__param:s0,__esDecorate:a0,__runInitializers:l0,__propKey:c0,__setFunctionName:u0,__metadata:d0,__awaiter:N,__generator:f0,__createBinding:nl,__exportStar:p0,__values:tl,__read:pf,__spread:h0,__spreadArrays:m0,__spreadArray:g0,__await:_n,__asyncGenerator:rl,__asyncDelegator:v0,__asyncValues:il,__makeTemplateObject:y0,__importStar:_0,__importDefault:b0,__classPrivateFieldGet:w0,__classPrivateFieldSet:C0,__classPrivateFieldIn:E0,__addDisposableResource:D0,__disposeResources:S0,__rewriteRelativeImportExtension:x0}});var xw,Iw=H(()=>{"use strict";xw=t=>t?(...n)=>t(...n):(...n)=>fetch(...n)});var pi,xo,hi,mi,ua,pm=H(()=>{"use strict";pi=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},xo=class extends pi{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},hi=class extends pi{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},mi=class extends pi{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},ua=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(ua||{})});var _u,Mw=H(()=>{"use strict";Te();Iw();pm();_u=class{constructor(n,{headers:e={},customFetch:r,region:i=ua.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=xw(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return N(this,arguments,void 0,function*(e,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:f,timeout:m}=r,y={},{region:h}=r;h||(h=this.region);let _=new URL(`${this.url}/${e}`);h&&h!=="any"&&(y["x-region"]=h,_.searchParams.set("forceFunctionRegion",h));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(y["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(y["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let C=f;m&&(s=new AbortController,o=setTimeout(()=>s.abort(),m),f?(C=s.signal,f.addEventListener("abort",()=>s.abort())):C=s.signal);let D=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),a),body:w,signal:C}).catch(he=>{throw new xo(he)}),ae=D.headers.get("x-relay-error");if(ae&&ae==="true")throw new hi(D);if(!D.ok)throw new mi(D);let j=((i=D.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),V;return j==="application/json"?V=yield D.json():j==="application/octet-stream"||j==="application/pdf"?V=yield D.blob():j==="text/event-stream"?V=D:j==="multipart/form-data"?V=yield D.formData():V=yield D.text(),{data:V,error:null,response:D}}catch(a){return{data:null,error:a,response:a instanceof mi||a instanceof hi?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var hm={};ls(hm,{FunctionRegion:()=>ua,FunctionsClient:()=>_u,FunctionsError:()=>pi,FunctionsFetchError:()=>xo,FunctionsHttpError:()=>mi,FunctionsRelayError:()=>hi});var mm=H(()=>{"use strict";Mw();pm()});var ym=_t(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});var gm=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};vm.default=gm});var wm=_t(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});var vA=(Te(),kt(Ur)),yA=vA.__importDefault(ym()),_m=class{constructor(n){var e,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>v(this,null,function*(){var s,a,l,c;let f=null,m=null,y=null,h=o.status,_=o.statusText;if(o.ok){if(this.method!=="HEAD"){let ae=yield o.text();ae===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?m=ae:m=JSON.parse(ae))}let C=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),D=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");C&&D&&D.length>1&&(y=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,h=406,_="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{let C=yield o.text();try{f=JSON.parse(C),Array.isArray(f)&&o.status===404&&(m=[],f=null,h=200,_="OK")}catch{o.status===404&&C===""?(h=204,_="No Content"):f={message:C}}if(f&&this.isMaybeSingle&&(!((c=f?.details)===null||c===void 0)&&c.includes("0 rows"))&&(f=null,h=200,_="OK"),f&&this.shouldThrowOnError)throw new yA.default(f)}return{error:f,data:m,count:y,status:h,statusText:_}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,f,m;let y="",h=o?.cause;if(h){let _=(s=h?.message)!==null&&s!==void 0?s:"",w=(a=h?.code)!==null&&a!==void 0?a:"";y=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,y+=`

Caused by: ${(c=h?.name)!==null&&c!==void 0?c:"Error"}: ${_}`,w&&(y+=` (${w})`),h?.stack&&(y+=`
${h.stack}`)}else y=(f=o?.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(m=o?.name)!==null&&m!==void 0?m:"FetchError"}: ${o?.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}};bm.default=_m});var Dm=_t(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});var _A=(Te(),kt(Ur)),bA=_A.__importDefault(wm()),Cm=class extends bA.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};Em.default=Cm});var bu=_t(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});var wA=(Te(),kt(Ur)),CA=wA.__importDefault(Dm()),EA=new RegExp("[,()]"),Sm=class extends CA.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&EA.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};xm.default=Sm});var Tm=_t(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});var DA=(Te(),kt(Ur)),da=DA.__importDefault(bu()),Im=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(n,e){let{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET",s=!1,a=(n??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new da.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:r=!0}={}){var i;let o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new da.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let l=n.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){let c=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new da.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new da.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var e;let r="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new da.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};Mm.default=Im});var Ow=_t(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});var Tw=(Te(),kt(Ur)),SA=Tw.__importDefault(Tm()),xA=Tw.__importDefault(bu()),Om=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let e=new URL(`${this.url}/${n}`);return new SA.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${n}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{l.searchParams.append(m,y)})):(a="POST",c=e);let f=new Headers(this.headers);return o&&f.set("Prefer",`count=${o}`),new xA.default({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Am.default=Om});var Nm=_t(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;var Io=(Te(),kt(Ur)),Aw=Io.__importDefault(Ow());yt.PostgrestClient=Aw.default;var Nw=Io.__importDefault(Tm());yt.PostgrestQueryBuilder=Nw.default;var Rw=Io.__importDefault(bu());yt.PostgrestFilterBuilder=Rw.default;var kw=Io.__importDefault(Dm());yt.PostgrestTransformBuilder=kw.default;var Pw=Io.__importDefault(wm());yt.PostgrestBuilder=Pw.default;var Fw=Io.__importDefault(ym());yt.PostgrestError=Fw.default;yt.default={PostgrestClient:Aw.default,PostgrestQueryBuilder:Nw.default,PostgrestFilterBuilder:Rw.default,PostgrestTransformBuilder:kw.default,PostgrestBuilder:Pw.default,PostgrestError:Fw.default}});var Rm,wu,km=H(()=>{"use strict";Rm=class{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let e=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(e+=`

Suggested solution: ${n.workaround}`),new Error(e)}static createWebSocket(n,e){let r=this.getWebSocketConstructor();return new r(n,e)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},wu=Rm});var Lw,jw=H(()=>{"use strict";Lw="2.87.1"});var Vw,Pm,Bw,Fm,fa,Uw,$w,gi,qe,tn,Lm,vi,Cu=H(()=>{"use strict";jw();Vw=`realtime-js/${Lw}`,Pm="1.0.0",Bw="2.0.0",Fm=Pm,fa=1e4,Uw=1e3,$w=100,gi=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(gi||{}),qe=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(qe||{}),tn=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(tn||{}),Lm=function(t){return t.websocket="websocket",t}(Lm||{}),vi=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(vi||{})});var Eu,Hw=H(()=>{"use strict";Eu=class{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,e){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return e(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var e;return this._isArrayBuffer((e=n.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var e,r;let i=(r=(e=n.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(n){var e,r;let i=(r=(e=n.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(n,e,r){var i,o;let s=n.topic,a=(i=n.ref)!==null&&i!==void 0?i:"",l=(o=n.join_ref)!==null&&o!==void 0?o:"",c=n.payload.event,f=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},m=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);let y=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+m.length,h=new ArrayBuffer(this.HEADER_LENGTH+y),_=new DataView(h),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,l.length),_.setUint8(w++,a.length),_.setUint8(w++,s.length),_.setUint8(w++,c.length),_.setUint8(w++,m.length),_.setUint8(w++,e),Array.from(l,D=>_.setUint8(w++,D.charCodeAt(0))),Array.from(a,D=>_.setUint8(w++,D.charCodeAt(0))),Array.from(s,D=>_.setUint8(w++,D.charCodeAt(0))),Array.from(c,D=>_.setUint8(w++,D.charCodeAt(0))),Array.from(m,D=>_.setUint8(w++,D.charCodeAt(0)));var C=new Uint8Array(h.byteLength+r.byteLength);return C.set(new Uint8Array(h),0),C.set(new Uint8Array(r),h.byteLength),C.buffer}decode(n,e){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return e(r)}if(typeof n=="string"){let r=JSON.parse(n),[i,o,s,a,l]=r;return e({join_ref:i,ref:o,topic:s,event:a,payload:l})}return e({})}_binaryDecode(n){let e=new DataView(n),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,e,i)}}_decodeUserBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(n.slice(l,l+i));l=l+i;let f=r.decode(n.slice(l,l+o));l=l+o;let m=r.decode(n.slice(l,l+s));l=l+s;let y=n.slice(l,n.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,_={type:this.BROADCAST_EVENT,event:f,payload:h};return s>0&&(_.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(n){var e;return n instanceof ArrayBuffer||((e=n?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(n,e){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>e.includes(r)))}}});var Mo,jm=H(()=>{"use strict";Mo=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var Me,Bm,IA,zw,Vm,MA,TA,OA,AA,NA,Du,Su=H(()=>{"use strict";Me=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(Me||{}),Bm=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=IA(s,t,n,i),o),{}):{}},IA=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?zw(o,s):Vm(s)},zw=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return AA(n,e)}switch(t){case Me.bool:return MA(n);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return TA(n);case Me.json:case Me.jsonb:return OA(n);case Me.timestamp:return NA(n);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Vm(n);default:return Vm(n)}},Vm=t=>t,MA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TA=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},OA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},AA=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>zw(n,a))}return t},NA=t=>typeof t=="string"?t.replace(" ","T"):t,Du=t=>{let n=new URL(t);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href}});var To,Ww=H(()=>{"use strict";Cu();To=class{constructor(n,e,r={},i=fa){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}});var Um,Oo,$m=H(()=>{"use strict";Um=function(t){return t.SYNC="sync",t.JOIN="join",t.LEAVE="leave",t}(Um||{}),Oo=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},l={};return this.map(o,(c,f)=>{s[c]||(l[c]=f)}),this.map(s,(c,f)=>{let m=o[c];if(m){let y=f.map(C=>C.presence_ref),h=m.map(C=>C.presence_ref),_=f.filter(C=>h.indexOf(C.presence_ref)<0),w=m.filter(C=>y.indexOf(C.presence_ref)<0);_.length>0&&(a[c]=_),w.length>0&&(l[c]=w)}else a[c]=f}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let f=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),f.length>0){let m=n[a].map(h=>h.presence_ref),y=f.filter(h=>m.indexOf(h.presence_ref)<0);n[a].unshift(...y)}r(a,f,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let f=l.map(m=>m.presence_ref);c=c.filter(m=>f.indexOf(m.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var Hm,Ao,Fn,Gw,No,zm=H(()=>{"use strict";Cu();Ww();jm();$m();Su();Su();Hm=function(t){return t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE",t}(Hm||{}),Ao=function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t}(Ao||{}),Fn=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(Fn||{}),Gw=qe,No=class t{constructor(n,e={config:{}},r){var i,o;if(this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new To(this,tn.join,this.params,this.timeout),this.rejoinTimer=new Mo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Oo(this),this.broadcastEndpointURL=Du(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,e=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Ao.PRESENCE]&&this.bindings[Ao.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},y={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(h=>n?.(Fn.CHANNEL_ERROR,h)),this._onClose(()=>n?.(Fn.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",_=>v(this,[_],function*({postgres_changes:h}){var w;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){n?.(Fn.SUBSCRIBED);return}else{let C=this.bindings.postgres_changes,D=(w=C?.length)!==null&&w!==void 0?w:0,ae=[];for(let j=0;j<D;j++){let V=C[j],{filter:{event:he,schema:yn,table:Ee,filter:Ze}}=V,lr=h&&h[j];if(lr&&lr.event===he&&t.isFilterValueEqual(lr.schema,yn)&&t.isFilterValueEqual(lr.table,Ee)&&t.isFilterValueEqual(lr.filter,Ze))ae.push(Object.assign(Object.assign({},V),{id:lr.id}));else{this.unsubscribe(),this.state=qe.errored,n?.(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ae,n&&n(Fn.SUBSCRIBED);return}})).receive("error",h=>{this.state=qe.errored,n?.(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{n?.(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return v(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return v(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this.state===qe.joined&&n===Ao.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>v(this,null,function*(){return yield this.subscribe()}))),this._on(n,e,r)}httpSend(i,o){return v(this,arguments,function*(n,e,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:e,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{let m=yield c.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))})}send(r){return v(this,arguments,function*(n,e={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let f=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=f.body)===null||o===void 0?void 0:o.cancel(),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let f=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=qe.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new To(this,tn.leave,{},n),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}_fetchWithTimeout(n,e,r){return v(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new To(this,n,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>$w){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:f}=tn;if(r&&[a,l,c,f].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,e,r);if(e&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var _,w,C;return((_=h.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(w=h.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(h=>h.callback(y,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var _,w,C,D,ae,j;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let V=h.id,he=(_=h.filter)===null||_===void 0?void 0:_.event;return V&&((w=e.ids)===null||w===void 0?void 0:w.includes(V))&&(he==="*"||he?.toLocaleLowerCase()===((C=e.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let V=(ae=(D=h?.filter)===null||D===void 0?void 0:D.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase();return V==="*"||V===((j=e?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof y=="object"&&"ids"in y){let _=y.data,{schema:w,table:C,commit_timestamp:D,type:ae,errors:j}=_;y=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:D,eventType:ae,new:{},old:{},errors:j}),this._getPayloadRecords(_))}h.callback(y,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))})),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}static isFilterValueEqual(n,e){return(n??void 0)===(e??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(tn.close,{},n)}_onError(n){this._on(tn.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=Bm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=Bm(n.columns,n.old_record)),e}}});var Wm,xu,kA,PA,FA,Iu,qw=H(()=>{"use strict";km();Cu();Hw();jm();Su();zm();Wm=()=>{},xu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kA=[1e3,2e3,5e3,1e4],PA=1e4,FA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Iu=class{constructor(n,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fa,this.transport=null,this.heartbeatIntervalMs=xu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wm,this.ref=0,this.reconnectTimer=null,this.vsn=Fm,this.logger=Wm,this.conn=null,this.sendBuffer=[],this.serializer=new Eu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${n}/${Lm.websocket}`,this.httpEndpoint=Du(n),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wu.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let e=n.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return v(this,null,function*(){let e=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return v(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gi.connecting:return vi.Connecting;case gi.open:return vi.Open;case gi.closing:return vi.Closing;default:return vi.Closed}}isConnected(){return this.connectionState()===vi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,e={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new No(`realtime:${n}`,e,this);return this.channels.push(o),o}}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return v(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return v(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Uw,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},xu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=e,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(n){var e;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===gi.open||this.conn.readyState===gi.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var e;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(tn.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([FA],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(n,e=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(n=null){return v(this,null,function*(){let e,r=!1;if(n)e=n,r=!0;else if(this.accessToken)try{e=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),e=this.accessTokenValue}else e=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(i=>{let o={access_token:e,version:Vw};e&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(tn.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return v(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(e=>{this.log("error",`Error setting auth in ${n}`,e)})}_triggerStateCallbacks(n,e){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Mo(()=>v(this,null,function*(){setTimeout(()=>v(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),xu.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var e,r,i,o,s,a,l,c,f,m,y,h;switch(this.transport=(e=n?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:fa,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:xu.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:Wm,this.vsn=(l=n?.vsn)!==null&&l!==void 0?l:Fm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=n?.reconnectAfterMs)!==null&&c!==void 0?c:_=>kA[_-1]||PA,this.vsn){case Pm:this.encode=(f=n?.encode)!==null&&f!==void 0?f:(_,w)=>w(JSON.stringify(_)),this.decode=(m=n?.decode)!==null&&m!==void 0?m:(_,w)=>w(JSON.parse(_));break;case Bw:this.encode=(y=n?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(h=n?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}});var Gm={};ls(Gm,{REALTIME_CHANNEL_STATES:()=>Gw,REALTIME_LISTEN_TYPES:()=>Ao,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>Hm,REALTIME_PRESENCE_LISTEN_EVENTS:()=>Um,REALTIME_SUBSCRIBE_STATES:()=>Fn,RealtimeChannel:()=>No,RealtimeClient:()=>Iu,RealtimePresence:()=>Oo,WebSocketFactory:()=>wu});var qm=H(()=>{"use strict";qw();zm();$m();km()});function ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var or,pa,Sr,xr=H(()=>{"use strict";or=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};pa=class extends or{constructor(n,e,r){super(n),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sr=class extends or{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}}});var Ro,Zw,Mu,Kw,Jw,ha=H(()=>{"use strict";Ro=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),Zw=()=>Response,Mu=t=>{if(Array.isArray(t))return t.map(e=>Mu(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=Mu(r)}),n},Kw=t=>{if(typeof t!="object"||t===null)return!1;let n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t)});function ma(t,n,e,r,i,o){return N(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,jA(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>LA(l,a,r))})})}function Ir(t,n,e,r){return N(this,void 0,void 0,function*(){return ma(t,"GET",n,e,r)})}function Rt(t,n,e,r,i){return N(this,void 0,void 0,function*(){return ma(t,"POST",n,r,i,e)})}function ga(t,n,e,r,i){return N(this,void 0,void 0,function*(){return ma(t,"PUT",n,r,i,e)})}function Yw(t,n,e,r){return N(this,void 0,void 0,function*(){return ma(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function ko(t,n,e,r,i){return N(this,void 0,void 0,function*(){return ma(t,"DELETE",n,r,i,e)})}var Zm,LA,jA,Tu=H(()=>{"use strict";Te();xr();ha();Zm=t=>{var n;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(n=t.error)===null||n===void 0?void 0:n.message)||JSON.stringify(t)},LA=(t,n,e)=>N(void 0,void 0,void 0,function*(){let r=yield Zw();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{let o=t.status||500,s=i?.statusCode||o+"";n(new pa(Zm(i),o,s))}).catch(i=>{n(new Sr(Zm(i),i))}):n(new Sr(Zm(t),t))}),jA=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"||!r?i:(Kw(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),e))}});var Ou,Qw=H(()=>{"use strict";Te();xr();Ou=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}execute(){return N(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}}});var Xw,Km,eC,tC=H(()=>{"use strict";Te();xr();Qw();Km=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Xw]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ou(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return N(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}};Xw=Symbol.toStringTag;eC=Km});var VA,nC,Au,rC=H(()=>{"use strict";Te();xr();Tu();ha();tC();VA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Au=class{constructor(n,e={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=r,this.fetch=Ro(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,e,r,i){return N(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},nC),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),f=this._getFinalPath(c),m=yield(n=="PUT"?ga:Rt)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ve(o))return{data:null,error:o};throw o}})}upload(n,e,r){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return N(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:nC.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);let m=yield ga(this.fetch,a.toString(),l,{headers:f});return{data:{path:o,fullPath:m.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ve(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,e){return N(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new or("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}update(n,e,r){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return N(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}copy(n,e,r){return N(this,void 0,void 0,function*(){try{return{data:{path:(yield Rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return N(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Rt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return N(this,void 0,void 0,function*(){try{let i=yield Rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}download(n,e){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(n),l=()=>Ir(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new eC(l,this.shouldThrowOnError)}info(n){return N(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield Ir(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Mu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}exists(n){return N(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield Yw(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r)&&r instanceof Sr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return N(this,void 0,void 0,function*(){try{return{data:yield ko(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}list(n,e,r){return N(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},VA),e),{prefix:n||""});return{data:yield Rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}listV2(n,e){return N(this,void 0,void 0,function*(){try{let r=Object.assign({},n);return{data:yield Rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}}});var Nu,Jm=H(()=>{"use strict";Nu="2.87.1"});var Ru,Ym=H(()=>{"use strict";Jm();Ru={"X-Client-Info":`storage-js/${Nu}`}});var ku,iC=H(()=>{"use strict";Te();Ym();xr();Tu();ha();ku=class{constructor(n,e={},r,i){this.shouldThrowOnError=!1;let o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ru),e),this.fetch=Ro(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return N(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(n);return{data:yield Ir(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}getBucket(n){return N(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}createBucket(n){return N(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}updateBucket(n,e){return N(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}emptyBucket(n){return N(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}deleteBucket(n){return N(this,void 0,void 0,function*(){try{return{data:yield ko(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(n){let e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}}});function BA(t,n,e){let r=new URL(n,t);if(e)for(let[i,o]of Object.entries(e))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function UA(t){return v(this,null,function*(){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?yield t.getHeaders():{}})}function $A(t){let n=t.fetchImpl??globalThis.fetch;return{request(l){return v(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=BA(t.baseUrl,i,o),f=yield UA(t.auth),m=yield n(c,{method:r,headers:S(S(S({},s?{"Content-Type":"application/json"}:{}),f),a),body:s?JSON.stringify(s):void 0}),y=yield m.text(),h=(m.headers.get("content-type")||"").includes("application/json"),_=h&&y?JSON.parse(y):y;if(!m.ok){let w=h?_:void 0,C=w?.error;throw new va(C?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:C?.type,icebergCode:C?.code,details:w})}return{status:m.status,headers:m.headers,data:_}})}}}function Pu(t){return t.join("")}function Po(t){return t.join("")}var va,HA,zA,oC,sC=H(()=>{"use strict";va=class extends Error{constructor(t,n){super(t),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};HA=class{constructor(t,n=""){this.client=t,this.prefix=n}listNamespaces(t){return v(this,null,function*(){let n=t?{parent:Pu(t.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(t,n){return v(this,null,function*(){let e={namespace:t.namespace,properties:n?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data})}dropNamespace(t){return v(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pu(t.namespace)}`})})}loadNamespaceMetadata(t){return v(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pu(t.namespace)}`})).data.properties}})}namespaceExists(t){return v(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pu(t.namespace)}`}),!0}catch(n){if(n instanceof va&&n.status===404)return!1;throw n}})}createNamespaceIfNotExists(t,n){return v(this,null,function*(){try{return yield this.createNamespace(t,n)}catch(e){if(e instanceof va&&e.status===409)return;throw e}})}};zA=class{constructor(t,n="",e){this.client=t,this.prefix=n,this.accessDelegation=e}listTables(t){return v(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Po(t.namespace)}/tables`})).data.identifiers})}createTable(t,n){return v(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Po(t.namespace)}/tables`,body:n,headers:e})).data.metadata})}updateTable(t,n){return v(this,null,function*(){let e=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Po(t.namespace)}/tables/${t.name}`,body:n});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}})}dropTable(t,n){return v(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Po(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(n?.purge??!1)}})})}loadTable(t){return v(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Po(t.namespace)}/tables/${t.name}`,headers:n})).data.metadata})}tableExists(t){return v(this,null,function*(){let n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Po(t.namespace)}/tables/${t.name}`,headers:n}),!0}catch(e){if(e instanceof va&&e.status===404)return!1;throw e}})}createTableIfNotExists(t,n){return v(this,null,function*(){try{return yield this.createTable(t,n)}catch(e){if(e instanceof va&&e.status===409)return yield this.loadTable({namespace:t.namespace,name:n.name});throw e}})}},oC=class{constructor(t){let n="v1";t.catalogName&&(n+=`/${t.catalogName}`);let e=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=$A({baseUrl:e,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new HA(this.client,n),this.tableOps=new zA(this.client,n,this.accessDelegation)}listNamespaces(t){return v(this,null,function*(){return this.namespaceOps.listNamespaces(t)})}createNamespace(t,n){return v(this,null,function*(){return this.namespaceOps.createNamespace(t,n)})}dropNamespace(t){return v(this,null,function*(){yield this.namespaceOps.dropNamespace(t)})}loadNamespaceMetadata(t){return v(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(t)})}listTables(t){return v(this,null,function*(){return this.tableOps.listTables(t)})}createTable(t,n){return v(this,null,function*(){return this.tableOps.createTable(t,n)})}updateTable(t,n){return v(this,null,function*(){return this.tableOps.updateTable(t,n)})}dropTable(t,n){return v(this,null,function*(){yield this.tableOps.dropTable(t,n)})}loadTable(t){return v(this,null,function*(){return this.tableOps.loadTable(t)})}namespaceExists(t){return v(this,null,function*(){return this.namespaceOps.namespaceExists(t)})}tableExists(t){return v(this,null,function*(){return this.tableOps.tableExists(t)})}createNamespaceIfNotExists(t,n){return v(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(t,n)})}createTableIfNotExists(t,n){return v(this,null,function*(){return this.tableOps.createTableIfNotExists(t,n)})}}});var Fo,Qm=H(()=>{"use strict";Te();sC();Ym();xr();Tu();ha();Fo=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ru),e),this.fetch=Ro(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return N(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}listBuckets(n){return N(this,void 0,void 0,function*(){try{let e=new URLSearchParams;n?.limit!==void 0&&e.set("limit",n.limit.toString()),n?.offset!==void 0&&e.set("offset",n.offset.toString()),n?.sortColumn&&e.set("sortColumn",n.sortColumn),n?.sortOrder&&e.set("sortOrder",n.sortOrder),n?.search&&e.set("search",n.search);let r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ir(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}deleteBucket(n){return N(this,void 0,void 0,function*(){try{return{data:yield ko(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}from(n){if(!Jw(n))throw new or("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let e=new oC({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>N(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(e,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>N(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var Lo,Fu=H(()=>{"use strict";Jm();Lo={"X-Client-Info":`storage-js/${Nu}`,"Content-Type":"application/json"}});function tt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var jo,Mr,Vo,Xm,Bo=H(()=>{"use strict";jo=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};Mr=class extends jo{constructor(n,e,r){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vo=class extends jo{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}},Xm=function(t){return t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",t}(Xm||{})});var Tr,aC,Lu,lC,cC,Uo=H(()=>{"use strict";Tr=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),aC=()=>Response,Lu=t=>{if(typeof t!="object"||t===null)return!1;let n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lC=t=>Array.from(new Float32Array(t)),cC=(t,n)=>{if(n!==void 0&&t.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${t.float32.length}`)}});function qA(t,n,e,r,i,o){return N(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,GA(n,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>WA(l,a,r))})})}function lt(t,n,e,r,i){return N(this,void 0,void 0,function*(){return qA(t,"POST",n,r,i,e)})}var uC,WA,GA,ju=H(()=>{"use strict";Te();Bo();Uo();uC=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WA=(t,n,e)=>N(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!e?.noResolveJson){let i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";n(new Mr(uC(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new Mr(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new Mr(a,i,s))}}else n(new Vo(uC(t),t))}),GA=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"||!r?i:(Lu(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e))}});var $o,eg=H(()=>{"use strict";Te();Fu();Bo();ju();Uo();$o=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lo),e),this.fetch=Tr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return N(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}getIndex(n,e){return N(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}listIndexes(n){return N(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}deleteIndex(n,e){return N(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}});var Ho,tg=H(()=>{"use strict";Te();Fu();Bo();ju();Uo();Ho=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lo),e),this.fetch=Tr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return N(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield lt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}getVectors(n){return N(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}listVectors(n){return N(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield lt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}queryVectors(n){return N(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}deleteVectors(n){return N(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield lt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}});var zo,ng=H(()=>{"use strict";Te();Fu();Bo();ju();Uo();zo=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lo),e),this.fetch=Tr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return N(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}getBucket(n){return N(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}listBuckets(){return N(this,arguments,void 0,function*(n={}){try{return{data:yield lt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}deleteBucket(n){return N(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}});var Wo,ya,_a,dC=H(()=>{"use strict";Te();eg();tg();ng();Wo=class extends zo{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new ya(this.url,this.headers,n,this.fetch)}createBucket(n){let e=Object.create(null,{createBucket:{get:()=>super.createBucket}});return N(this,void 0,void 0,function*(){return e.createBucket.call(this,n)})}getBucket(n){let e=Object.create(null,{getBucket:{get:()=>super.getBucket}});return N(this,void 0,void 0,function*(){return e.getBucket.call(this,n)})}listBuckets(){let n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return N(this,arguments,void 0,function*(e={}){return n.listBuckets.call(this,e)})}deleteBucket(n){let e=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return N(this,void 0,void 0,function*(){return e.deleteBucket.call(this,n)})}},ya=class extends $o{constructor(n,e,r,i){super(n,e,i),this.vectorBucketName=r}createIndex(n){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return N(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return N(this,arguments,void 0,function*(e={}){return n.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return N(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return N(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new _a(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},_a=class extends Ho{constructor(n,e,r,i,o){super(n,e,o),this.vectorBucketName=r,this.indexName=i}putVectors(n){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return N(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return N(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return N(this,arguments,void 0,function*(e={}){return n.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return N(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return N(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var rg=H(()=>{"use strict";dC();ng();eg();tg();Bo();Uo()});var Vu,fC=H(()=>{"use strict";rC();iC();Qm();rg();Vu=class extends ku{constructor(n,e={},r,i){super(n,e,r,i)}from(n){return new Au(this.url,this.headers,n,this.fetch)}get vectors(){return new Wo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fo(this.url+"/iceberg",this.headers,this.fetch)}}});var pC=H(()=>{"use strict"});var hC={};ls(hC,{StorageAnalyticsClient:()=>Fo,StorageApiError:()=>pa,StorageClient:()=>Vu,StorageError:()=>or,StorageUnknownError:()=>Sr,StorageVectorsApiError:()=>Mr,StorageVectorsClient:()=>Wo,StorageVectorsError:()=>jo,StorageVectorsErrorCode:()=>Xm,StorageVectorsUnknownError:()=>Vo,VectorBucketApi:()=>zo,VectorBucketScope:()=>ya,VectorDataApi:()=>Ho,VectorIndexApi:()=>$o,VectorIndexScope:()=>_a,isPlainObject:()=>Lu,isStorageError:()=>ve,isStorageVectorsError:()=>tt,normalizeToFloat32:()=>lC,resolveFetch:()=>Tr,resolveResponse:()=>aC,validateVectorDimension:()=>cC});var mC=H(()=>{"use strict";fC();Qm();pC();xr();rg()});var gC=_t(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.version=void 0;Bu.version="2.87.1"});var vC=_t(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.DEFAULT_REALTIME_OPTIONS=Ut.DEFAULT_AUTH_OPTIONS=Ut.DEFAULT_DB_OPTIONS=Ut.DEFAULT_GLOBAL_OPTIONS=Ut.DEFAULT_HEADERS=void 0;var ZA=gC(),ba="";typeof Deno<"u"?ba="deno":typeof document<"u"?ba="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ba="react-native":ba="node";Ut.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${ba}/${ZA.version}`};Ut.DEFAULT_GLOBAL_OPTIONS={headers:Ut.DEFAULT_HEADERS};Ut.DEFAULT_DB_OPTIONS={schema:"public"};Ut.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};Ut.DEFAULT_REALTIME_OPTIONS={}});var yC=_t(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.fetchWithAuth=gn.resolveHeadersConstructor=gn.resolveFetch=void 0;var KA=t=>t?(...n)=>t(...n):(...n)=>fetch(...n);gn.resolveFetch=KA;var JA=()=>Headers;gn.resolveHeadersConstructor=JA;var YA=(t,n,e)=>{let r=(0,gn.resolveFetch)(e),i=(0,gn.resolveHeadersConstructor)();return(o,s)=>v(null,null,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:t,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};gn.fetchWithAuth=YA});var bC=_t(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.isBrowser=void 0;Or.uuid=QA;Or.ensureTrailingSlash=_C;Or.applySettingDefaults=eN;Or.validateSupabaseUrl=tN;function QA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,e=t=="x"?n:n&3|8;return e.toString(16)})}function _C(t){return t.endsWith("/")?t:t+"/"}var XA=()=>typeof window<"u";Or.isBrowser=XA;function eN(t,n){var e,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:l,auth:c,realtime:f,global:m}=n,y={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},f),s),storage:{},global:Object.assign(Object.assign(Object.assign({},m),a),{headers:Object.assign(Object.assign({},(e=m?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>v(null,null,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function tN(t){let n=t?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_C(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var Uu,ig=H(()=>{"use strict";Uu="2.87.1"});var yi,$u,Hu,wC,CC,EC,wa,og,DC,SC,zu=H(()=>{"use strict";ig();yi=30*1e3,$u=3,Hu=$u*yi,wC="http://localhost:9999",CC="supabase.auth.token",EC={"X-Client-Info":`gotrue-js/${Uu}`},wa="X-Supabase-Api-Version",og={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SC=10*60*1e3});function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}function sg(t){return U(t)&&t.name==="AuthApiError"}function ag(t){return U(t)&&t.name==="AuthSessionMissingError"}function lg(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}function Ea(t){return U(t)&&t.name==="AuthRetryableFetchError"}function nN(t){return U(t)&&t.name==="AuthWeakPasswordError"}var sr,Ca,$t,vn,nt,Ln,Ar,Nr,Go,_i,qo,Rr,bi=H(()=>{"use strict";sr=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};Ca=class extends sr{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};$t=class extends sr{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},vn=class extends sr{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},nt=class extends vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};Ln=class extends vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ar=class extends vn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Nr=class extends vn{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};Go=class extends vn{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},_i=class extends vn{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};qo=class extends vn{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};Rr=class extends vn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}});function IC(t,n,e){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(Wu[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(Wu[r]),n.queuedBits-=6}}function MC(t,n,e){let r=rN[t];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)e(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cg(t){let n=[],e=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{sN(s,r,e)};for(let s=0;s<t.length;s+=1)MC(t.charCodeAt(s),i,o);return n.join("")}function iN(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function oN(t,n){for(let e=0;e<t.length;e+=1){let r=t.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}iN(r,n)}}function sN(t,n,e){if(n.utf8seq===0){if(t<=127){e(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&e(n.codepoint)}}function kr(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<t.length;i+=1)MC(t.charCodeAt(i),e,r);return new Uint8Array(n)}function TC(t){let n=[];return oN(t,e=>n.push(e)),new Uint8Array(n)}function ar(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};return t.forEach(i=>IC(i,e,r)),IC(null,e,r),n.join("")}var Wu,xC,rN,Gu=H(()=>{"use strict";Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xC=` 	
\r=`.split(""),rN=(()=>{let t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<xC.length;n+=1)t[xC[n].charCodeAt(0)]=-2;for(let n=0;n<Wu.length;n+=1)t[Wu[n].charCodeAt(0)]=n;return t})()});function OC(t){return Math.round(Date.now()/1e3)+t}function AC(){return Symbol("auth-callback")}function NC(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}function Ku(t){let n=t.split(".");if(n.length!==3)throw new Rr("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!DC.test(n[r]))throw new Rr("JWT not in base64url format");return{header:JSON.parse(cg(n[0])),payload:JSON.parse(cg(n[1])),signature:kr(n[2]),raw:{header:n[0],payload:n[1]}}}function kC(t){return v(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function PC(t,n){return new Promise((r,i)=>{v(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function aN(t){return("0"+t.toString(16)).substr(-2)}function lN(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,aN).join("")}function cN(t){return v(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function uN(t){return v(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield cN(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Ei(t,n,e=!1){return v(this,null,function*(){let r=lN(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Ci(t,`${n}-code-verifier`,i);let o=yield uN(r);return[o,r===o?"plain":"s256"]})}function FC(t){let n=t.headers.get(wa);if(!n||!n.match(dN))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function LC(t){if(!t)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function jC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function Di(t){if(!fN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ju(){let t={};return new Proxy(t,{get:(n,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VC(t,n){return new Proxy(t,{get:(e,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,i)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(e,r,i)}})}function ug(t){return JSON.parse(JSON.stringify(t))}var Xe,wi,qu,Zu,RC,Ci,Pr,rt,Da,dN,fN,Zo=H(()=>{"use strict";zu();bi();Gu();Xe=()=>typeof window<"u"&&typeof document<"u",wi={tested:!1,writable:!1},qu=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wi.tested)return wi.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wi.tested=!0,wi.writable=!0}catch{wi.tested=!0,wi.writable=!1}return wi.writable};Zu=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),RC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ci=(t,n,e)=>v(null,null,function*(){yield t.setItem(n,JSON.stringify(e))}),Pr=(t,n)=>v(null,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),rt=(t,n)=>v(null,null,function*(){yield t.removeItem(n)}),Da=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Da.promiseConstructor=Promise;dN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;fN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function BC(t){return v(this,null,function*(){var n;if(!RC(t))throw new _i(Si(t),0);if(pN.includes(t.status))throw new _i(Si(t),t.status);let e;try{e=yield t.json()}catch(o){throw new $t(Si(o),o)}let r,i=FC(t);if(i&&i.getTime()>=og["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new qo(Si(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new nt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new qo(Si(e),t.status,e.weak_password.reasons);throw new Ca(Si(e),t.status||500,r)})}function Z(t,n,e,r){return v(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[wa]||(o[wa]=og["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield mN(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function mN(t,n,e,r,i,o){return v(this,null,function*(){let s=hN(n,r,i,o),a;try{a=yield t(e,Object.assign({},s))}catch(l){throw console.error(l),new _i(Si(l),0)}if(a.ok||(yield BC(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield BC(l)}})}function nn(t){var n;let e=null;gN(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=OC(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function dg(t){let n=nn(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function jn(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function UC(t){return{data:t,error:null}}function $C(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=Un(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function fg(t){return t}function gN(t){return t.access_token&&t.refresh_token&&t.expires_in}var Si,pN,hN,pg=H(()=>{"use strict";Te();zu();Zo();bi();Si=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pN=[502,503,504];hN=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))}});var Sa,hg=H(()=>{"use strict";Sa=["global","local","others"]});var Fr,Yu=H(()=>{"use strict";Te();pg();Zo();hg();bi();Fr=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=Zu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return v(this,arguments,function*(n,e=Sa[0]){if(Sa.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sa.join(", ")}`);try{return yield Z(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return v(this,arguments,function*(n,e={}){try{return yield Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:jn})}catch(i){if(U(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return v(this,null,function*(){try{let{options:e}=n,r=Un(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$C,redirectTo:e?.redirectTo})}catch(e){if(U(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return v(this,null,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:jn})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return v(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},f=yield Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:fg});if(f.error)throw f.error;let m=yield f.json(),y=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(_=>{let w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);c[`${C}Page`]=w}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return v(this,null,function*(){Di(n);try{return yield Z(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:jn})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return v(this,null,function*(){Di(n);try{return yield Z(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:jn})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return v(this,null,function*(){Di(n);try{return yield Z(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:jn})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return v(this,null,function*(){Di(n.userId);try{let{data:e,error:r}=yield Z(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(U(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return v(this,null,function*(){Di(n.userId),Di(n.id);try{return{data:yield Z(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}_listOAuthClients(n){return v(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},f=yield Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:fg});if(f.error)throw f.error;let m=yield f.json(),y=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(_=>{let w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);c[`${C}Page`]=w}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(U(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(n){return v(this,null,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}})}_getOAuthClient(n){return v(this,null,function*(){try{return yield Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}})}_updateOAuthClient(n,e){return v(this,null,function*(){try{return yield Z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(n){return v(this,null,function*(){try{return yield Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(n){return v(this,null,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}})}}});function mg(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}var HC=H(()=>{"use strict"});function Qu(t,n,e){return v(this,null,function*(){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>v(null,null,function*(){if(i){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield e()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xa(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function WC(t,n,e){return v(this,null,function*(){var r;let i=(r=zC[t])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),n>=0?new Promise((s,a)=>{setTimeout(()=>{a(new gg(`Acquring process lock with name "${t}" timed out`))},n)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>v(null,null,function*(){return yield e()}));return zC[t]=o.catch(s=>v(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var Lr,Ko,xa,gg,zC,vg=H(()=>{"use strict";Zo();Lr={debug:!!(globalThis&&qu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ko=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},xa=class extends Ko{},gg=class extends Ko{};zC={}});function GC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var qC=H(()=>{"use strict"});function yg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ZC(t){return parseInt(t,16)}function KC(t){let n=new TextEncoder().encode(t);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function JC(t){var n;let{chainId:e,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:f,uri:m,version:y}=t;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((n=t.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let h=yg(t.address),_=f?`${f}://${r}`:r,w=t.statement?`${t.statement}
`:"",C=`${_} wants you to sign in with your Ethereum account:
${h}

${w}`,D=`URI: ${m}
Version: ${y}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(D+=`
Expiration Time: ${i.toISOString()}`),a&&(D+=`
Not Before: ${a.toISOString()}`),l&&(D+=`
Request ID: ${l}`),c){let ae=`
Resources:`;for(let j of c){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);ae+=`
- ${j}`}D+=ae}return`${C}
${D}`}var YC=H(()=>{"use strict"});function QC({error:t,options:n}){var e,r,i;let{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((e=o.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(n.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ke({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(_g(s)){if(o.rp.id!==s)return new ke({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function XC({error:t,options:n}){let{publicKey:e}=n;if(!e)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ke({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(_g(r)){if(e.rpId!==r)return new ke({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var ke,xi,eE=H(()=>{"use strict";bg();ke=class extends Error{constructor({message:n,code:e,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=e}},xi=class extends ke{constructor(n,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:n}),this.name="WebAuthnUnknownError",this.originalError=e}}});function nE(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:n,user:e,excludeCredentials:r}=t,i=Un(t,["challenge","user","excludeCredentials"]),o=kr(n).buffer,s=Object.assign(Object.assign({},e),{id:kr(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:kr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function rE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:n,allowCredentials:e}=t,r=Un(t,["challenge","allowCredentials"]),i=kr(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){o.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){let a=e[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:kr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function iE(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let e=t;return{id:t.id,rawId:t.id,response:{attestationObject:ar(new Uint8Array(t.response.attestationObject)),clientDataJSON:ar(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(n=e.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function oE(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let e=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ar(new Uint8Array(i.authenticatorData)),clientDataJSON:ar(new Uint8Array(i.clientDataJSON)),signature:ar(new Uint8Array(i.signature)),userHandle:i.userHandle?ar(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=e.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function _g(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function tE(){var t,n;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}function yN(t){return v(this,null,function*(){try{let n=yield navigator.credentials.create(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new xi("Browser returned unexpected credential type",n)}:{data:null,error:new xi("Empty credential response",n)}}catch(n){return{data:null,error:QC({error:n,options:t})}}})}function _N(t){return v(this,null,function*(){try{let n=yield navigator.credentials.get(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new xi("Browser returned unexpected credential type",n)}:{data:null,error:new xi("Empty credential response",n)}}catch(n){return{data:null,error:XC({error:n,options:t})}}})}function Xu(...t){let n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of t)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(e(s))r[o]=s;else if(n(s)){let a=r[o];n(a)?r[o]=Xu(a,s):r[o]=Xu(s)}else r[o]=s}return r}function CN(t,n){return Xu(bN,t,n||{})}function EN(t,n){return Xu(wN,t,n||{})}var wg,vN,bN,wN,ed,bg=H(()=>{"use strict";Te();Gu();bi();Zo();eE();wg=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){let n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}},vN=new wg;bN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};ed=class{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){return v(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})}_challenge(s,a){return v(this,arguments,function*({factorId:n,webauthn:e,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:n,webauthn:e});if(!l)return{data:null,error:c};let f=i??vN.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{let m=CN(l.webauthn.credential_options.publicKey,o?.create),{data:y,error:h}=yield yN({publicKey:m,signal:f});return y?{data:{factorId:n,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:h}}case"request":{let m=EN(l.webauthn.credential_options.publicKey,o?.request),{data:y,error:h}=yield _N(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:f}));return y?{data:{factorId:n,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:h}}}}catch(l){return U(l)?{data:null,error:l}:{data:null,error:new $t("Unexpected error in challenge",l)}}})}_verify(i){return v(this,arguments,function*({challengeId:n,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:n,webauthn:r})})}_authenticate(s,a){return v(this,arguments,function*({factorId:n,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new sr("rpId is required for WebAuthn authentication")};try{if(!tE())return{data:null,error:new $t("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:n,webauthn:{rpId:e,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:f}=l;return this._verify({factorId:n,challengeId:l.challengeId,webauthn:{type:f.type,rpId:e,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return U(l)?{data:null,error:l}:{data:null,error:new $t("Unexpected error in authenticate",l)}}})}_register(s,a){return v(this,arguments,function*({friendlyName:n,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new sr("rpId is required for WebAuthn registration")};try{if(!tE())return{data:null,error:new $t("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:n});if(!l)return yield this.client.mfa.listFactors().then(y=>{var h;return(h=y.data)===null||h===void 0?void 0:h.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:c};let{data:f,error:m}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:e,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(l){return U(l)?{data:null,error:l}:{data:null,error:new $t("Unexpected error in register",l)}}})}}});function sE(t,n,e){return v(this,null,function*(){return yield e()})}var DN,Jo,SN,td,Cg=H(()=>{"use strict";Yu();zu();bi();pg();Zo();HC();vg();qC();ig();Gu();YC();bg();GC();DN={url:wC,storageKey:CC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};Jo={},SN=(()=>{class t{get jwks(){var e,r;return(r=(e=Jo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Jo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},DN),e);if(this.storageKey=s.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Xe()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Fr({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zu(s.fetch),this.lock=s.lock||sE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Xe()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Qu:this.lock=sE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ed(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=mg(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>v(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uu}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return v(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=v(this,null,function*(){return yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return v(this,null,function*(){var e;try{let r={},i="none";if(Xe()&&(r=NC(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),Xe()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lg(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>v(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?this._returnResult({error:r}):this._returnResult({error:new $t("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return v(this,null,function*(){var r,i,o;try{let s=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:nn}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,f=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(e){return v(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:m,password:y,options:h}=e,_=null,w=null;this.flowType==="pkce"&&([_,w]=yield Ei(this.storage,this.storageKey)),s=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:m,password:y,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:_,code_challenge_method:w},xform:nn})}else if("phone"in e){let{phone:m,password:y,options:h}=e;s=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:nn})}else throw new Ar("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,f=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(s){if(yield rt(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(e){return v(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:dg})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:dg})}else throw new Ar("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Ln;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return v(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return v(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>v(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return v(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return v(this,null,function*(){var r,i,o,s,a,l,c,f,m,y,h;let _,w;if("message"in e)_=e.message,w=e.signature;else{let{chain:C,wallet:D,statement:ae,options:j}=e,V;if(Xe())if(typeof D=="object")V=D;else{let Vn=window;if("ethereum"in Vn&&typeof Vn.ethereum=="object"&&"request"in Vn.ethereum&&typeof Vn.ethereum.request=="function")V=Vn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=D}let he=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),yn=yield V.request({method:"eth_requestAccounts"}).then(Vn=>Vn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!yn||yn.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let Ee=yg(yn[0]),Ze=(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Ze){let Vn=yield V.request({method:"eth_chainId"});Ze=ZC(Vn)}let lr={domain:he.host,address:Ee,statement:ae,uri:he.href,version:"1",chainId:Ze,nonce:(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=j?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=j?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=JC(lr),w=yield V.request({method:"personal_sign",params:[KC(_),Ee]})}try{let{data:C,error:D}=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:nn});if(D)throw D;if(!C||!C.session||!C.user){let ae=new Ln;return this._returnResult({data:{user:null,session:null},error:ae})}return C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:D})}catch(C){if(U(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}})}signInWithSolana(e){return v(this,null,function*(){var r,i,o,s,a,l,c,f,m,y,h,_;let w,C;if("message"in e)w=e.message,C=e.signature;else{let{chain:D,wallet:ae,statement:j,options:V}=e,he;if(Xe())if(typeof ae=="object")he=ae;else{let Ee=window;if("solana"in Ee&&typeof Ee.solana=="object"&&("signIn"in Ee.solana&&typeof Ee.solana.signIn=="function"||"signMessage"in Ee.solana&&typeof Ee.solana.signMessage=="function"))he=Ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ae!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");he=ae}let yn=new URL((r=V?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in he&&he.signIn){let Ee=yield he.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},V?.signInWithSolana),{version:"1",domain:yn.host,uri:yn.href}),j?{statement:j}:null)),Ze;if(Array.isArray(Ee)&&Ee[0]&&typeof Ee[0]=="object")Ze=Ee[0];else if(Ee&&typeof Ee=="object"&&"signedMessage"in Ee&&"signature"in Ee)Ze=Ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ze&&"signature"in Ze&&(typeof Ze.signedMessage=="string"||Ze.signedMessage instanceof Uint8Array)&&Ze.signature instanceof Uint8Array)w=typeof Ze.signedMessage=="string"?Ze.signedMessage:new TextDecoder().decode(Ze.signedMessage),C=Ze.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in he)||typeof he.signMessage!="function"||!("publicKey"in he)||typeof he!="object"||!he.publicKey||!("toBase58"in he.publicKey)||typeof he.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${yn.host} wants you to sign in with your Solana account:`,he.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${yn.href}`,`Issued At: ${(o=(i=V?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=V?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...!((a=V?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...!((l=V?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...!((c=V?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...!((f=V?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...!((y=(m=V?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...V.signInWithSolana.resources.map(Ze=>`- ${Ze}`)]:[]].join(`
`);let Ee=yield he.signMessage(new TextEncoder().encode(w),"utf8");if(!Ee||!(Ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Ee}}try{let{data:D,error:ae}=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ar(C)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:nn});if(ae)throw ae;if(!D||!D.session||!D.user){let j=new Ln;return this._returnResult({data:{user:null,session:null},error:j})}return D.session&&(yield this._saveSession(D.session),yield this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:ae})}catch(D){if(U(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}})}_exchangeCodeForSession(e){return v(this,null,function*(){let r=yield Pr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:nn});if(yield rt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new Ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield rt(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(e){return v(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:nn}),{data:c,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){let m=new Ln;return this._returnResult({data:{user:null,session:null},error:m})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return v(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,f=null,m=null;this.flowType==="pkce"&&([f,m]=yield Ei(this.storage,this.storageKey));let{error:y}=yield Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){let{phone:l,options:c}=e,{data:f,error:m}=yield Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Ar("You must provide either an email or phone number.")}catch(l){if(yield rt(this.storage,`${this.storageKey}-code-verifier`),U(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(e){return v(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:nn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,f=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(o){if(U(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(e){return v(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield Ei(this.storage,this.storageKey));let f=yield Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:UC});return!((s=f.data)===null||s===void 0)&&s.url&&Xe()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(yield rt(this.storage,`${this.storageKey}-code-verifier`),U(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return v(this,null,function*(){try{return yield this._useSession(e=>v(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new nt;let{error:o}=yield Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return v(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield Z(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Ar("You must provide either an email or phone number and a type")}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return this._useSession(r=>v(this,null,function*(){return r}))}))})}_acquireLock(e,r){return v(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=v(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(v(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>v(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(v(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return v(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return v(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<Hu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=yield Pr(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Ju()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=VC(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return v(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(e){return v(this,null,function*(){try{return e?yield Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jn}):yield this._useSession(r=>v(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nt}:yield Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:jn})}))}catch(r){if(U(r))return ag(r)&&(yield this._removeSession(),yield rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return v(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return v(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>v(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new nt;let l=s.session,c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=yield Ei(this.storage,this.storageKey));let{data:m,error:y}=yield Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:jn});if(y)throw y;return l.user=m.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield rt(this.storage,`${this.storageKey}-code-verifier`),U(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(e){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return v(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new nt;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Ku(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(U(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new nt;let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return v(this,null,function*(){try{if(!Xe())throw new Nr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Go("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Go("No code detected.");let{data:j,error:V}=yield this._exchangeCodeForSession(e.code);if(V)throw V;let he=new URL(window.location.href);return he.searchParams.delete("code"),window.history.replaceState(window.history.state,"",he.toString()),{data:{session:j.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:f}=e;if(!s||!l||!a||!f)throw new Nr("No session defined in URL");let m=Math.round(Date.now()/1e3),y=parseInt(l),h=m+y;c&&(h=parseInt(c));let _=h-m;_*1e3<=yi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);let w=h-y;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,m);let{data:C,error:D}=yield this._getUser(s);if(D)throw D;let ae={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:y,expires_at:h,refresh_token:a,token_type:f,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:ae,redirectType:e.type},error:null})}catch(i){if(U(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return v(this,null,function*(){let r=yield Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return v(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return v(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>v(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(sg(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(yield this._removeSession(),yield rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){let r=AC(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),v(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return v(this,null,function*(){return yield this._useSession(r=>v(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return v(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Ei(this.storage,this.storageKey,!0));try{return yield Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield rt(this.storage,`${this.storageKey}-code-verifier`),U(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return v(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return v(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return v(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>v(this,null,function*(){var a,l,c,f,m;let{data:y,error:h}=s;if(h)throw h;let _=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Z(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})}));if(o)throw o;return Xe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(U(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}})}linkIdentityIdToken(e){return v(this,null,function*(){return yield this._useSession(r=>v(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:f,nonce:m}=e,y=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:nn}),{data:h,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ln}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:_}))}catch(o){if(yield rt(this.storage,`${this.storageKey}-code-verifier`),U(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield Z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return v(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield PC(o=>v(this,null,function*(){return o>0&&(yield kC(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nn})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Ea(s)&&Date.now()+a-i<yi})}catch(i){if(this._debug(r,"error",i),U(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return v(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Xe()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return v(this,null,function*(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Pr(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Ci(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a?.user)!==null&&e!==void 0?e:Ju()}else if(o&&!o.user&&!o.user){let a=yield Pr(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield rt(this.storage,this.storageKey+"-user"),yield Ci(this.storage,this.storageKey,o)):o.user=Ju()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hu;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Hu}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Ea(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return v(this,null,function*(){var r,i;if(!e)throw new nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Da;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new nt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),U(s)){let a={data:null,error:s};return Ea(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return v(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>v(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return v(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield rt(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Ci(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=ug(o);yield Ci(this.storage,this.storageKey,s)}else{let o=ug(r);yield Ci(this.storage,this.storageKey,o)}})}_removeSession(){return v(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield rt(this.storage,this.storageKey),yield rt(this.storage,this.storageKey+"-code-verifier"),yield rt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield rt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return v(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),yi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>v(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return v(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return v(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return v(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return v(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>v(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>v(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/yi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yi}ms, refresh threshold is ${$u} ticks`),o<=$u&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ko)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return v(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>v(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return v(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return v(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Ei(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield Z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:f}=yield Z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return v(this,null,function*(){return this._acquireLock(-1,()=>v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?iE(e.webauthn.credential_response):oE(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=yield Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return v(this,null,function*(){return this._acquireLock(-1,()=>v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield Z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:nE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rE(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return v(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return v(this,null,function*(){var e;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return v(this,null,function*(){var e,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Ku(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let f=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}})}_getAuthorizationDetails(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield Z(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new nt})}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return v(this,null,function*(){try{return yield this._useSession(i=>v(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new nt});let a=yield Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Xe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(U(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(e,r){return v(this,null,function*(){try{return yield this._useSession(i=>v(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new nt});let a=yield Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Xe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(U(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return v(this,null,function*(){try{return yield this._useSession(e=>v(this,null,function*(){let{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?yield Z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nt})}))}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return v(this,null,function*(){try{return yield this._useSession(r=>v(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield Z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nt})}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return v(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(c=>c.kid===e);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===e),o&&this.jwks_cached_at+SC>s)return o;let{data:a,error:l}=yield Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===e),!o)?null:o})}getClaims(i){return v(this,arguments,function*(e,r={}){try{let o=e;if(!o){let{data:w,error:C}=yield this.getSession();if(C||!w.session)return this._returnResult({data:null,error:C});o=w.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:f}}=Ku(o);r?.allowExpired||LC(a.exp);let m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){let{error:w}=yield this.getUser(o);if(w)throw w;return{data:{claims:a,header:s,signature:l},error:null}}let y=jC(s.alg),h=yield crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!(yield crypto.subtle.verify(y,h,l,TC(`${c}.${f}`))))throw new Rr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(U(o))return this._returnResult({data:null,error:o});throw o}})}}return t.nextInstanceID={},t})(),td=SN});var xN,aE,lE=H(()=>{"use strict";Yu();xN=Fr,aE=xN});var IN,cE,uE=H(()=>{"use strict";Cg();IN=td,cE=IN});var Eg={};ls(Eg,{AuthAdminApi:()=>aE,AuthApiError:()=>Ca,AuthClient:()=>cE,AuthError:()=>sr,AuthImplicitGrantRedirectError:()=>Nr,AuthInvalidCredentialsError:()=>Ar,AuthInvalidJwtError:()=>Rr,AuthInvalidTokenResponseError:()=>Ln,AuthPKCEGrantCodeExchangeError:()=>Go,AuthRetryableFetchError:()=>_i,AuthSessionMissingError:()=>nt,AuthUnknownError:()=>$t,AuthWeakPasswordError:()=>qo,CustomAuthError:()=>vn,GoTrueAdminApi:()=>Fr,GoTrueClient:()=>td,NavigatorLockAcquireTimeoutError:()=>xa,SIGN_OUT_SCOPES:()=>Sa,isAuthApiError:()=>sg,isAuthError:()=>U,isAuthImplicitGrantRedirectError:()=>lg,isAuthRetryableFetchError:()=>Ea,isAuthSessionMissingError:()=>ag,isAuthWeakPasswordError:()=>nN,lockInternals:()=>Lr,navigatorLock:()=>Qu,processLock:()=>WC});var Dg=H(()=>{"use strict";Yu();Cg();lE();uE();hg();bi();vg()});var dE=_t(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.SupabaseAuthClient=void 0;var MN=(Dg(),kt(Eg)),Sg=class extends MN.AuthClient{constructor(n){super(n)}};nd.SupabaseAuthClient=Sg});var Mg=_t(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});var TN=(mm(),kt(hm)),ON=Nm(),AN=(qm(),kt(Gm)),NN=(mC(),kt(hC)),rd=vC(),RN=yC(),fE=bC(),kN=dE(),xg=class{constructor(n,e,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=e;let a=(0,fE.validateSupabaseUrl)(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:rd.DEFAULT_DB_OPTIONS,realtime:rd.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},rd.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:rd.DEFAULT_GLOBAL_OPTIONS},f=(0,fE.applySettingDefaults)(r??{},c);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=(0,RN.fetchWithAuth)(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new ON.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new NN.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new TN.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return v(this,null,function*(){var n,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:f},m,y){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kN.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),m),storageKey:s,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:f,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new AN.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Ig.default=xg});var mE=_t(Se=>{"use strict";var PN=Se&&Se.__createBinding||(Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]}),pE=Se&&Se.__exportStar||function(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&PN(n,t,e)},hE=Se&&Se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.createClient=Se.SupabaseClient=Se.FunctionRegion=Se.FunctionsError=Se.FunctionsRelayError=Se.FunctionsFetchError=Se.FunctionsHttpError=Se.PostgrestError=void 0;var FN=hE(Mg());pE((Dg(),kt(Eg)),Se);var LN=Nm();Object.defineProperty(Se,"PostgrestError",{enumerable:!0,get:function(){return LN.PostgrestError}});var Ia=(mm(),kt(hm));Object.defineProperty(Se,"FunctionsHttpError",{enumerable:!0,get:function(){return Ia.FunctionsHttpError}});Object.defineProperty(Se,"FunctionsFetchError",{enumerable:!0,get:function(){return Ia.FunctionsFetchError}});Object.defineProperty(Se,"FunctionsRelayError",{enumerable:!0,get:function(){return Ia.FunctionsRelayError}});Object.defineProperty(Se,"FunctionsError",{enumerable:!0,get:function(){return Ia.FunctionsError}});Object.defineProperty(Se,"FunctionRegion",{enumerable:!0,get:function(){return Ia.FunctionRegion}});pE((qm(),kt(Gm)),Se);var jN=Mg();Object.defineProperty(Se,"SupabaseClient",{enumerable:!0,get:function(){return hE(jN).default}});var VN=(t,n,e)=>new FN.default(t,n,e);Se.createClient=VN;function BN(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}BN()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function Bd(t,n){return Object.is(t,n)}var Ke=null,Ua=!1,Ud=1,zt=Symbol("SIGNAL");function le(t){let n=Ke;return Ke=t,n}function $d(){return Ke}var us={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ds(t){if(Ua)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(t);let n=Ke.nextProducerIndex++;if(Wa(Ke),n<Ke.producerNode.length&&Ke.producerNode[n]!==t&&cs(Ke)){let e=Ke.producerNode[n];za(e,Ke.producerIndexOfThis[n])}Ke.producerNode[n]!==t&&(Ke.producerNode[n]=t,Ke.producerIndexOfThis[n]=cs(Ke)?zg(t,Ke,n):0),Ke.producerLastReadVersion[n]=t.version}function Hg(){Ud++}function Hd(t){if(!(cs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ud)){if(!t.producerMustRecompute(t)&&!qd(t)){Vd(t);return}t.producerRecomputeValue(t),Vd(t)}}function zd(t){if(t.liveConsumerNode===void 0)return;let n=Ua;Ua=!0;try{for(let e of t.liveConsumerNode)e.dirty||YE(e)}finally{Ua=n}}function Wd(){return Ke?.consumerAllowSignalWrites!==!1}function YE(t){t.dirty=!0,zd(t),t.consumerMarkedDirty?.(t)}function Vd(t){t.dirty=!1,t.lastCleanEpoch=Ud}function Ha(t){return t&&(t.nextProducerIndex=0),le(t)}function Gd(t,n){if(le(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(cs(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)za(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qd(t){Wa(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(Hd(e),r!==e.version))return!0}return!1}function Zd(t){if(Wa(t),cs(t))for(let n=0;n<t.producerNode.length;n++)za(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zg(t,n,e){if(Wg(t),t.liveConsumerNode.length===0&&Gg(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=zg(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function za(t,n){if(Wg(t),t.liveConsumerNode.length===1&&Gg(t))for(let r=0;r<t.producerNode.length;r++)za(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];Wa(i),i.producerIndexOfThis[r]=n}}function cs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Wg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Gg(t){return t.producerNode!==void 0}function Kd(t,n){let e=Object.create(QE);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(Hd(e),ds(e),e.value===$a)throw e.error;return e.value};return r[zt]=e,r}var Ld=Symbol("UNSET"),jd=Symbol("COMPUTING"),$a=Symbol("ERRORED"),QE=oe(S({},us),{value:Ld,dirty:!0,error:null,equal:Bd,kind:"computed",producerMustRecompute(t){return t.value===Ld||t.value===jd},producerRecomputeValue(t){if(t.value===jd)throw new Error("Detected cycle in computations.");let n=t.value;t.value=jd;let e=Ha(t),r,i=!1;try{r=t.computation(),le(null),i=n!==Ld&&n!==$a&&r!==$a&&t.equal(n,r)}catch(o){r=$a,t.error=o}finally{Gd(t,e)}if(i){t.value=n;return}t.value=r,t.version++}});function XE(){throw new Error}var qg=XE;function Zg(t){qg(t)}function Jd(t){qg=t}var eD=null;function Yd(t,n){let e=Object.create(Ga);e.value=t,n!==void 0&&(e.equal=n);let r=()=>(ds(e),e.value);return r[zt]=e,r}function fs(t,n){Wd()||Zg(t),t.equal(t.value,n)||(t.value=n,tD(t))}function Qd(t,n){Wd()||Zg(t),fs(t,n(t.value))}var Ga=oe(S({},us),{equal:Bd,value:void 0,kind:"signal"});function tD(t){t.version++,Hg(),zd(t),eD?.()}function Xd(t){let n=le(null);try{return t()}finally{le(n)}}var ef;function ps(){return ef}function Bn(t){let n=ef;return ef=t,n}var qa=Symbol("NotFound");function J(t){return typeof t=="function"}function Ti(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Za=Ti(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function hs(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var $e=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){n=o instanceof Za?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Kg(o)}catch(s){n=n??[],s instanceof Za?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Za(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Kg(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&hs(e,n)}remove(n){let{_finalizers:e}=this;e&&hs(e,n),n instanceof t&&n._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var tf=$e.EMPTY;function Ka(t){return t instanceof $e||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function Kg(t){J(t)?t():t.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(t,n,...e){let{delegate:r}=Oi;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Oi;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ja(t){Oi.setTimeout(()=>{let{onUnhandledError:n}=an;if(n)n(t);else throw t})}function ms(){}var Jg=nf("C",void 0,void 0);function Yg(t){return nf("E",void 0,t)}function Qg(t){return nf("N",t,void 0)}function nf(t,n,e){return{kind:t,value:n,error:e}}var Vr=null;function Ai(t){if(an.useDeprecatedSynchronousErrorHandling){let n=!Vr;if(n&&(Vr={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=Vr;if(Vr=null,e)throw r}}else t()}function Xg(t){an.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}var Br=class extends $e{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ka(n)&&n.add(this)):this.destination=aD}static create(n,e,r){return new Ni(n,e,r)}next(n){this.isStopped?of(Qg(n),this):this._next(n)}error(n){this.isStopped?of(Yg(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?of(Jg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oD=Function.prototype.bind;function rf(t,n){return oD.call(t,n)}var sf=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Ya(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Ya(r)}else Ya(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ya(e)}}},Ni=class extends Br{constructor(n,e,r){super();let i;if(J(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&rf(n.next,o),error:n.error&&rf(n.error,o),complete:n.complete&&rf(n.complete,o)}):i=n}this.destination=new sf(i)}};function Ya(t){an.useDeprecatedSynchronousErrorHandling?Xg(t):Ja(t)}function sD(t){throw t}function of(t,n){let{onStoppedNotification:e}=an;e&&Oi.setTimeout(()=>e(t,n))}var aD={closed:!0,next:ms,error:sD,complete:ms};var Ri=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pt(t){return t}function af(...t){return lf(t)}function lf(t){return t.length===0?Pt:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var me=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=cD(e)?e:new Ni(e,r,i);return Ai(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=e0(r),new r((i,o)=>{let s=new Ni({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Ri](){return this}pipe(...e){return lf(e)(this)}toPromise(e){return e=e0(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function e0(t){var n;return(n=t??an.Promise)!==null&&n!==void 0?n:Promise}function lD(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function cD(t){return t&&t instanceof Br||lD(t)&&Ka(t)}function cf(t){return J(t?.lift)}function de(t){return n=>{if(cf(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,n,e,r,i){return new uf(t,n,e,r,i)}var uf=class extends Br{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function ki(){return de((t,n)=>{let e=null;t._refCount++;let r=ce(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var Pi=class extends me{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,cf(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new $e;let e=this.getSubject();n.add(this.source.subscribe(ce(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=$e.EMPTY)}return n}refCount(){return ki()(this)}};var t0=Ti(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Qa(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new t0}next(e){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?tf:(this.currentObservers=null,o.push(e),new $e(()=>{this.currentObservers=null,hs(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new me;return e.source=this,e}}return t.create=(n,e)=>new Qa(n,e),t})(),Qa=class extends He{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:tf}};var Je=class extends He{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var bt=new me(t=>t.complete());function n0(t){return t&&J(t.schedule)}function r0(t){return t[t.length-1]}function Xa(t){return J(r0(t))?t.pop():void 0}function cr(t){return n0(r0(t))?t.pop():void 0}Te();var ol=t=>t&&typeof t.length=="number"&&typeof t!="function";function sl(t){return J(t?.then)}function al(t){return J(t[Ri])}function ll(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function cl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ul=pD();function dl(t){return J(t?.[ul])}Te();function fl(t){return rl(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield _n(e.read());if(i)return yield _n(void 0);yield yield _n(r)}}finally{e.releaseLock()}})}function pl(t){return J(t?.getReader)}function ze(t){if(t instanceof me)return t;if(t!=null){if(al(t))return hD(t);if(ol(t))return mD(t);if(sl(t))return gD(t);if(ll(t))return I0(t);if(dl(t))return vD(t);if(pl(t))return yD(t)}throw cl(t)}function hD(t){return new me(n=>{let e=t[Ri]();if(J(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mD(t){return new me(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function gD(t){return new me(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Ja)})}function vD(t){return new me(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function I0(t){return new me(n=>{_D(t,n).catch(e=>n.error(e))})}function yD(t){return I0(fl(t))}function _D(t,n){var e,r,i,o;return N(this,void 0,void 0,function*(){try{for(e=il(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function wt(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function hl(t,n=0){return de((e,r)=>{e.subscribe(ce(r,i=>wt(r,t,()=>r.next(i),n),()=>wt(r,t,()=>r.complete(),n),i=>wt(r,t,()=>r.error(i),n)))})}function ml(t,n=0){return de((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function M0(t,n){return ze(t).pipe(ml(n),hl(n))}function T0(t,n){return ze(t).pipe(ml(n),hl(n))}function O0(t,n){return new me(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function A0(t,n){return new me(e=>{let r;return wt(e,n,()=>{r=t[ul](),wt(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function gl(t,n){if(!t)throw new Error("Iterable cannot be null");return new me(e=>{wt(e,n,()=>{let r=t[Symbol.asyncIterator]();wt(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function N0(t,n){return gl(fl(t),n)}function R0(t,n){if(t!=null){if(al(t))return M0(t,n);if(ol(t))return O0(t,n);if(sl(t))return T0(t,n);if(ll(t))return gl(t,n);if(dl(t))return A0(t,n);if(pl(t))return N0(t,n)}throw cl(t)}function Oe(t,n){return n?R0(t,n):ze(t)}function K(...t){let n=cr(t);return Oe(t,n)}function Fi(t,n){let e=J(t)?t:()=>t,r=i=>i.error(e());return new me(n?i=>n.schedule(r,0,i):r)}function hf(t){return!!t&&(t instanceof me||J(t.lift)&&J(t.subscribe))}var $n=Ti(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,n){return de((e,r)=>{let i=0;e.subscribe(ce(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:bD}=Array;function wD(t,n){return bD(n)?t(...n):t(n)}function vl(t){return se(n=>wD(t,n))}var{isArray:CD}=Array,{getPrototypeOf:ED,prototype:DD,keys:SD}=Object;function yl(t){if(t.length===1){let n=t[0];if(CD(n))return{args:n,keys:null};if(xD(n)){let e=SD(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function xD(t){return t&&typeof t=="object"&&ED(t)===DD}function _l(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function gs(...t){let n=cr(t),e=Xa(t),{args:r,keys:i}=yl(t);if(r.length===0)return Oe([],n);let o=new me(ID(r,n,i?s=>_l(i,s):Pt));return e?o.pipe(vl(e)):o}function ID(t,n,e=Pt){return r=>{k0(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)k0(n,()=>{let c=Oe(t[l],n),f=!1;c.subscribe(ce(r,m=>{o[l]=m,f||(f=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function k0(t,n,e){t?wt(e,t,n):n()}function P0(t,n,e,r,i,o,s,a){let l=[],c=0,f=0,m=!1,y=()=>{m&&!l.length&&!c&&n.complete()},h=w=>c<r?_(w):l.push(w),_=w=>{o&&n.next(w),c++;let C=!1;ze(e(w,f++)).subscribe(ce(n,D=>{i?.(D),o?h(D):n.next(D)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let D=l.shift();s?wt(n,s,()=>_(D)):_(D)}y()}catch(D){n.error(D)}}))};return t.subscribe(ce(n,h,()=>{m=!0,y()})),()=>{a?.()}}function Ve(t,n,e=1/0){return J(n)?Ve((r,i)=>se((o,s)=>n(r,o,i,s))(ze(t(r,i))),e):(typeof n=="number"&&(e=n),de((r,i)=>P0(r,i,t,e)))}function Li(t=1/0){return Ve(Pt,t)}function F0(){return Li(1)}function ji(...t){return F0()(Oe(t,cr(t)))}function bl(t){return new me(n=>{ze(t()).subscribe(n)})}function mf(...t){let n=Xa(t),{args:e,keys:r}=yl(t),i=new me(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let f=0;f<s;f++){let m=!1;ze(e[f]).subscribe(ce(o,y=>{m||(m=!0,c--),a[f]=y},()=>l--,void 0,()=>{(!l||!m)&&(c||o.next(r?_l(r,a):a),o.complete())}))}});return n?i.pipe(vl(n)):i}function pt(t,n){return de((e,r)=>{let i=0;e.subscribe(ce(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Hn(t){return de((n,e)=>{let r=null,i=!1,o;r=n.subscribe(ce(e,void 0,void 0,s=>{o=ze(t(s,Hn(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function L0(t,n,e,r,i){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(ce(s,f=>{let m=c++;l=a?t(l,f,m):(a=!0,f),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ur(t,n){return J(n)?Ve(t,n,1):Ve(t,1)}function dr(t){return de((n,e)=>{let r=!1;n.subscribe(ce(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function zn(t){return t<=0?()=>bt:de((n,e)=>{let r=0;n.subscribe(ce(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function wl(t=MD){return de((n,e)=>{let r=!1;n.subscribe(ce(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function MD(){return new $n}function vs(t){return de((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Wn(t,n){let e=arguments.length>=2;return r=>r.pipe(t?pt((i,o)=>t(i,o,r)):Pt,zn(1),e?dr(n):wl(()=>new $n))}function Vi(t){return t<=0?()=>bt:de((n,e)=>{let r=[];n.subscribe(ce(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function gf(t,n){let e=arguments.length>=2;return r=>r.pipe(t?pt((i,o)=>t(i,o,r)):Pt,Vi(1),e?dr(n):wl(()=>new $n))}function vf(t,n){return de(L0(t,n,arguments.length>=2,!0))}function yf(...t){let n=cr(t);return de((e,r)=>{(n?ji(t,e,n):ji(t,e)).subscribe(r)})}function Wt(t,n){return de((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(ce(r,l=>{i?.unsubscribe();let c=0,f=o++;ze(t(l,f)).subscribe(i=ce(r,m=>r.next(n?n(l,m,f,c++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function _f(t){return de((n,e)=>{ze(t).subscribe(ce(e,()=>e.complete(),ms)),!e.closed&&n.subscribe(e)})}function it(t,n,e){let r=J(t)||n||e?{next:t,error:n,complete:e}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Pt}var xv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(n,e){super(Iv(n,e)),this.code=n}};function TD(t){return`NG0${Math.abs(t)}`}function Iv(t,n){return`${TD(t)}${n?": "+n:""}`}var Mv=Symbol("InputSignalNode#UNSET"),OD=oe(S({},Ga),{transformFn:void 0,applyValueToInputSignal(t,n){fs(t,n)}});function Tv(t,n){let e=Object.create(OD);e.value=t,e.transformFn=n?.transform;function r(){if(ds(e),e.value===Mv){let i=null;throw new B(-950,i)}return e.value}return r[zt]=e,r}function Is(t){return{toString:t}.toString()}var Cl="__parameters__";function AD(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function Ov(t,n,e){return Is(()=>{let r=AD(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,f){let m=l.hasOwnProperty(Cl)?l[Cl]:Object.defineProperty(l,Cl,{value:[]})[Cl];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Hr=globalThis;function Ce(t){for(let n in t)if(t[n]===Ce)return n;throw Error("Could not find renamed property on target object.")}function ND(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Et).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function j0(t,n){return t?n?`${t} ${n}`:t:n||""}var RD=Ce({__forward_ref__:Ce});function gt(t){return t.__forward_ref__=gt,t.toString=function(){return Et(this())},t}function ht(t){return Av(t)?t():t}function Av(t){return typeof t=="function"&&t.hasOwnProperty(RD)&&t.__forward_ref__===gt}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function nc(t){return V0(t,Rv)||V0(t,kv)}function Nv(t){return nc(t)!==null}function V0(t,n){return t.hasOwnProperty(n)?t[n]:null}function kD(t){let n=t&&(t[Rv]||t[kv]);return n||null}function B0(t){return t&&(t.hasOwnProperty(U0)||t.hasOwnProperty(PD))?t[U0]:null}var Rv=Ce({\u0275prov:Ce}),U0=Ce({\u0275inj:Ce}),kv=Ce({ngInjectableDef:Ce}),PD=Ce({ngInjectorDef:Ce}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=P({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Pv(t){return t&&!!t.\u0275providers}var FD=Ce({\u0275cmp:Ce}),LD=Ce({\u0275dir:Ce}),jD=Ce({\u0275pipe:Ce}),VD=Ce({\u0275mod:Ce}),Ol=Ce({\u0275fac:Ce}),ws=Ce({__NG_ELEMENT_ID__:Ce}),$0=Ce({__NG_ENV_ID__:Ce});function Gn(t){return typeof t=="string"?t:t==null?"":String(t)}function BD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gn(t)}function Fv(t,n){throw new B(-200,t)}function Cp(t,n){throw new B(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),kf;function Lv(){return kf}function Ct(t){let n=kf;return kf=t,n}function jv(t,n,e){let r=nc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&ee.Optional)return null;if(n!==void 0)return n;Cp(t,"Injector")}var UD={},zr=UD,Pf="__NG_DI_FLAG__",Al=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=e;return this.injector.get(n,r.optional?qa:zr,r)}},Nl="ngTempTokenPath",$D="ngTokenPath",HD=/\n/gm,zD="\u0275",H0="__source";function WD(t,n=ee.Default){if(ps()===void 0)throw new B(-203,!1);if(ps()===null)return jv(t,void 0,n);{let e=ps(),r;return e instanceof Al?r=e.injector:r=e,r.get(t,n&ee.Optional?null:void 0,n)}}function G(t,n=ee.Default){return(Lv()||WD)(ht(t),n)}function E(t,n=ee.Default){return G(t,rc(n))}function rc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ff(t){let n=[];for(let e=0;e<t.length;e++){let r=ht(t[e]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let a=r[s],l=GD(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(G(i,o))}else n.push(G(r))}return n}function Vv(t,n){return t[Pf]=n,t.prototype[Pf]=n,t}function GD(t){return t[Pf]}function qD(t,n,e,r){let i=t[Nl];throw n[H0]&&i.unshift(n[H0]),t.message=ZD(`
`+t.message,i,e,r),t[$D]=i,t[Nl]=null,t}function ZD(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==zD?t.slice(2):t;let i=Et(n);if(Array.isArray(n))i=n.map(Et).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(HD,`
  `)}`}var KD=Vv(Ov("Optional"),8);var JD=Vv(Ov("SkipSelf"),4);function Gr(t,n){let e=t.hasOwnProperty(Ol);return e?t[Ol]:null}function Ep(t,n){t.forEach(e=>Array.isArray(e)?Ep(e,n):n(e))}function Bv(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Rl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function YD(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function QD(t,n,e){let r=Ms(t,n);return r>=0?t[r|1]=e:(r=~r,YD(t,r,n,e)),r}function bf(t,n){let e=Ms(t,n);if(e>=0)return t[e|1]}function Ms(t,n){return XD(t,n,1)}function XD(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var qr={},Gt=[],Cs=new $(""),Uv=new $("",-1),$v=new $(""),kl=class{get(n,e=zr){if(e===zr){let r=new Error(`NullInjectorError: No provider for ${Et(n)}!`);throw r.name="NullInjectorError",r}return e}};function Hv(t,n){let e=t[VD]||null;if(!e&&n===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return e}function Zr(t){return t[FD]||null}function eS(t){return t[LD]||null}function tS(t){return t[jD]||null}function Dp(t){return{\u0275providers:t}}function nS(...t){return{\u0275providers:zv(!0,t),\u0275fromNgModule:!0}}function zv(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return Ep(n,s=>{let a=s;Lf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Wv(i,o),e}function Wv(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];Sp(i,o=>{n(o,r)})}}function Lf(t,n,e,r){if(t=ht(t),!t)return!1;let i=null,o=B0(t),s=!o&&Zr(t);if(!o&&!s){let l=t.ngModule;if(o=B0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Lf(c,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Ep(o.imports,f=>{Lf(f,n,e,r)&&(c||=[],c.push(f))})}finally{}c!==void 0&&Wv(c,n)}if(!a){let c=Gr(i)||(()=>new i);n({provide:i,useFactory:c,deps:Gt},i),n({provide:$v,useValue:i,multi:!0},i),n({provide:Cs,useValue:()=>G(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;Sp(l,f=>{n(f,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Sp(t,n){for(let e of t)Pv(e)&&(e=e.\u0275providers),Array.isArray(e)?Sp(e,n):n(e)}var rS=Ce({provide:String,useValue:Ce});function Gv(t){return t!==null&&typeof t=="object"&&rS in t}function iS(t){return!!(t&&t.useExisting)}function oS(t){return!!(t&&t.useFactory)}function Gi(t){return typeof t=="function"}function sS(t){return!!t.useClass}var ic=new $(""),Sl={},z0={},wf;function xp(){return wf===void 0&&(wf=new kl),wf}var Dt=class{},Es=class extends Dt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Vf(n,s=>this.processProvider(s)),this.records.set(Uv,Bi(void 0,this)),i.has("environment")&&this.records.set(Dt,Bi(void 0,this));let o=this.records.get(ic);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($v,Gt,ee.Self))}retrieve(n,e){let r=e;return this.get(n,r.optional?qa:zr,r)}destroy(){_s(this),this._destroyed=!0;let n=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(n)}}onDestroy(n){return _s(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){_s(this);let e=Bn(this),r=Ct(void 0),i;try{return n()}finally{Bn(e),Ct(r)}}get(n,e=zr,r=ee.Default){if(_s(this),n.hasOwnProperty($0))return n[$0](this);r=rc(r);let i,o=Bn(this),s=Ct(void 0);try{if(!(r&ee.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=dS(n)&&nc(n);c&&this.injectableDefInScope(c)?l=Bi(jf(n),Sl):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,r)}let a=r&ee.Self?xp():this.parent;return e=r&ee.Optional&&e===zr?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Nl]=a[Nl]||[]).unshift(Et(n)),o)throw a;return qD(a,n,"R3InjectorError",this.source)}else throw a}finally{Ct(s),Bn(o)}}resolveInjectorInitializers(){let n=le(null),e=Bn(this),r=Ct(void 0),i;try{let o=this.get(Cs,Gt,ee.Self);for(let s of o)s()}finally{Bn(e),Ct(r),le(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(Et(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ht(n);let e=Gi(n)?n:ht(n&&n.provide),r=lS(n);if(!Gi(n)&&n.multi===!0){let i=this.records.get(e);i||(i=Bi(void 0,Sl,!0),i.factory=()=>Ff(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let i=le(null);try{return e.value===z0?Fv(Et(n)):e.value===Sl&&(e.value=z0,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&uS(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{le(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=ht(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function jf(t){let n=nc(t),e=n!==null?n.factory:Gr(t);if(e!==null)return e;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return aS(t);throw new B(204,!1)}function aS(t){if(t.length>0)throw new B(204,!1);let e=kD(t);return e!==null?()=>e.factory(t):()=>new t}function lS(t){if(Gv(t))return Bi(void 0,t.useValue);{let n=qv(t);return Bi(n,Sl)}}function qv(t,n,e){let r;if(Gi(t)){let i=ht(t);return Gr(i)||jf(i)}else if(Gv(t))r=()=>ht(t.useValue);else if(oS(t))r=()=>t.useFactory(...Ff(t.deps||[]));else if(iS(t))r=(i,o)=>G(ht(t.useExisting),o!==void 0&&o&ee.Optional?ee.Optional:void 0);else{let i=ht(t&&(t.useClass||t.provide));if(cS(t))r=()=>new i(...Ff(t.deps));else return Gr(i)||jf(i)}return r}function _s(t){if(t.destroyed)throw new B(205,!1)}function Bi(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function cS(t){return!!t.deps}function uS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function dS(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function Vf(t,n){for(let e of t)Array.isArray(e)?Vf(e,n):e&&Pv(e)?Vf(e.\u0275providers,n):n(e)}function Jt(t,n){let e;t instanceof Es?(_s(t),e=t):e=new Al(t);let r,i=Bn(e),o=Ct(void 0);try{return n()}finally{Bn(i),Ct(o)}}function Zv(){return Lv()!==void 0||ps()!=null}function fS(t){if(!Zv())throw new B(-203,!1)}function pS(t){return typeof t=="function"}var Yn=0,ue=1,Y=2,mt=3,cn=4,un=5,Pl=6,Fl=7,St=8,qi=9,qn=10,Be=11,Ds=12,W0=13,ro=14,wn=15,Zi=16,Ui=17,Ki=18,oc=19,Kv=20,fr=21,Cf=22,Ll=23,qt=24,zi=25,xt=26,Jv=1;var Kr=7,jl=8,Vl=9,Zt=10;function pr(t){return Array.isArray(t)&&typeof t[Jv]=="object"}function Qn(t){return Array.isArray(t)&&t[Jv]===!0}function Ip(t){return(t.flags&4)!==0}function io(t){return t.componentOffset>-1}function sc(t){return(t.flags&1)===1}function Cn(t){return!!t.template}function Bl(t){return(t[Y]&512)!==0}function oo(t){return(t[Y]&256)===256}var Bf=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Yv(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var hr=(()=>{let t=()=>Qv;return t.ngInherit=!0,t})();function Qv(t){return t.type.prototype.ngOnChanges&&(t.setInput=mS),hS}function hS(){let t=ey(this),n=t?.current;if(n){let e=t.previous;if(e===qr)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function mS(t,n,e,r,i){let o=this.declaredInputs[r],s=ey(t)||gS(t,{previous:qr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Bf(c&&c.currentValue,e,l===qr),Yv(t,n,i,e)}var Xv="__ngSimpleChanges__";function ey(t){return t[Xv]||null}function gS(t,n){return t[Xv]=n}var G0=null;var ye=function(t,n=null,e){G0?.(t,n,e)},ty="svg",vS="math";function En(t){for(;Array.isArray(t);)t=t[Yn];return t}function ny(t,n){return En(n[t])}function In(t,n){return En(n[t.index])}function ry(t,n){return t.data[n]}function Mp(t,n){return t[n]}function yS(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function Dn(t,n){let e=n[t];return pr(e)?e:e[Yn]}function Tp(t){return(t[Y]&128)===128}function _S(t){return Qn(t[mt])}function Ji(t,n){return n==null?null:t[n]}function iy(t){t[Ui]=0}function oy(t){t[Y]&1024||(t[Y]|=1024,Tp(t)&&Ts(t))}function bS(t,n){for(;t>0;)n=n[ro],t--;return n}function ac(t){return!!(t[Y]&9216||t[qt]?.dirty)}function Uf(t){t[qn].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),ac(t)&&Ts(t)}function Ts(t){t[qn].changeDetectionScheduler?.notify(0);let n=Jr(t);for(;n!==null&&!(n[Y]&8192||(n[Y]|=8192,!Tp(n)));)n=Jr(n)}function sy(t,n){if(oo(t))throw new B(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(n)}function wS(t,n){if(t[fr]===null)return;let e=t[fr].indexOf(n);e!==-1&&t[fr].splice(e,1)}function Jr(t){let n=t[mt];return Qn(n)?n[mt]:n}function ay(t){return t[Fl]??=[]}function ly(t){return t.cleanup??=[]}var ne={lFrame:gy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $f=!1;function CS(){return ne.lFrame.elementDepthCount}function ES(){ne.lFrame.elementDepthCount++}function DS(){ne.lFrame.elementDepthCount--}function Op(){return ne.bindingsEnabled}function SS(){return ne.skipHydrationRootTNode!==null}function xS(t){return ne.skipHydrationRootTNode===t}function IS(){ne.skipHydrationRootTNode=null}function fe(){return ne.lFrame.lView}function ot(){return ne.lFrame.tView}function F(t){return ne.lFrame.contextLView=t,t[St]}function L(t){return ne.lFrame.contextLView=null,t}function vt(){let t=cy();for(;t!==null&&t.type===64;)t=t.parent;return t}function cy(){return ne.lFrame.currentTNode}function MS(){let t=ne.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function ti(t,n){let e=ne.lFrame;e.currentTNode=t,e.isParent=n}function Ap(){return ne.lFrame.isParent}function uy(){ne.lFrame.isParent=!1}function TS(){return ne.lFrame.contextLView}function dy(){return $f}function q0(t){let n=$f;return $f=t,n}function Np(){let t=ne.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function fy(){return ne.lFrame.bindingIndex}function OS(t){return ne.lFrame.bindingIndex=t}function lc(){return ne.lFrame.bindingIndex++}function Rp(t){let n=ne.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function AS(){return ne.lFrame.inI18n}function NS(t,n){let e=ne.lFrame;e.bindingIndex=e.bindingRootIndex=t,Hf(n)}function RS(){return ne.lFrame.currentDirectiveIndex}function Hf(t){ne.lFrame.currentDirectiveIndex=t}function kS(t){let n=ne.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function py(t){ne.lFrame.currentQueryIndex=t}function PS(t){let n=t[ue];return n.type===2?n.declTNode:n.type===1?t[un]:null}function hy(t,n,e){if(e&ee.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&ee.Host);)if(i=PS(o),i===null||(o=o[ro],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=ne.lFrame=my();return r.currentTNode=n,r.lView=t,!0}function kp(t){let n=my(),e=t[ue];ne.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function my(){let t=ne.lFrame,n=t===null?null:t.child;return n===null?gy(t):n}function gy(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function vy(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yy=vy;function Pp(){let t=vy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function FS(t){return(ne.lFrame.contextLView=bS(t,ne.lFrame.contextLView))[St]}function mr(){return ne.lFrame.selectedIndex}function Yr(t){ne.lFrame.selectedIndex=t}function cc(){let t=ne.lFrame;return ry(t.tView,t.selectedIndex)}function _y(){ne.lFrame.currentNamespace=ty}function LS(){return ne.lFrame.currentNamespace}var by=!0;function uc(){return by}function dc(t){by=t}function jS(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Qv(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function Fp(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),f!=null&&(t.destroyHooks??=[]).push(e,f)}}function xl(t,n,e){wy(t,n,3,e)}function Il(t,n,e,r){(t[Y]&3)===e&&wy(t,n,e,r)}function Ef(t,n){let e=t[Y];(e&3)===n&&(e&=16383,e+=1,t[Y]=e)}function wy(t,n,e,r){let i=r!==void 0?t[Ui]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Ui]+=65536),(a<o||o==-1)&&(VS(t,e,n,l),t[Ui]=(t[Ui]&4294901760)+l+2),l++}function Z0(t,n){ye(4,t,n);let e=le(null);try{n.call(t)}finally{le(e),ye(5,t,n)}}function VS(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[Y]>>14<t[Ui]>>16&&(t[Y]&3)===n&&(t[Y]+=16384,Z0(a,o)):Z0(a,o)}var Wi=-1,Qr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function BS(t){return(t.flags&8)!==0}function US(t){return(t.flags&16)!==0}function $S(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];HS(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function Cy(t){return t===3||t===4||t===6}function HS(t){return t.charCodeAt(0)===64}function Yi(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?K0(t,e,i,null,n[++r]):K0(t,e,i,null,null))}}return t}function K0(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i)}function Ey(t){return t!==Wi}function Ul(t){return t&32767}function zS(t){return t>>16}function $l(t,n){let e=zS(t),r=n;for(;e>0;)r=r[ro],e--;return r}var zf=!0;function Hl(t){let n=zf;return zf=t,n}var WS=256,Dy=WS-1,Sy=5,GS=0,bn={};function qS(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(ws)&&(r=e[ws]),r==null&&(r=e[ws]=GS++);let i=r&Dy,o=1<<i;n.data[t+(i>>Sy)]|=o}function zl(t,n){let e=xy(t,n);if(e!==-1)return e;let r=n[ue];r.firstCreatePass&&(t.injectorIndex=n.length,Df(r.data,t),Df(n,null),Df(r.blueprint,null));let i=Lp(t,n),o=t.injectorIndex;if(Ey(i)){let s=Ul(i),a=$l(i,n),l=a[ue].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Df(t,n){t.push(0,0,0,0,0,0,0,0,n)}function xy(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Lp(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=Ay(i),r===null)return Wi;if(e++,i=i[ro],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Wi}function Wf(t,n,e){qS(t,n,e)}function ZS(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(Cy(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function Iy(t,n,e){if(e&ee.Optional||t!==void 0)return t;Cp(n,"NodeInjector")}function My(t,n,e,r){if(e&ee.Optional&&r===void 0&&(r=null),(e&(ee.Self|ee.Host))===0){let i=t[qi],o=Ct(void 0);try{return i?i.get(n,r,e&ee.Optional):jv(n,r,e&ee.Optional)}finally{Ct(o)}}return Iy(r,n,e)}function Ty(t,n,e,r=ee.Default,i){if(t!==null){if(n[Y]&2048&&!(r&ee.Self)){let s=XS(t,n,e,r,bn);if(s!==bn)return s}let o=Oy(t,n,e,r,bn);if(o!==bn)return o}return My(n,e,r,i)}function Oy(t,n,e,r,i){let o=YS(e);if(typeof o=="function"){if(!hy(n,t,r))return r&ee.Host?Iy(i,e,r):My(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))Cp(e);else return s}finally{yy()}}else if(typeof o=="number"){let s=null,a=xy(t,n),l=Wi,c=r&ee.Host?n[wn][un]:null;for((a===-1||r&ee.SkipSelf)&&(l=a===-1?Lp(t,n):n[a+8],l===Wi||!Y0(r,!1)?a=-1:(s=n[ue],a=Ul(l),n=$l(l,n)));a!==-1;){let f=n[ue];if(J0(o,a,f.data)){let m=KS(a,n,e,s,r,c);if(m!==bn)return m}l=n[a+8],l!==Wi&&Y0(r,n[ue].data[a+8]===c)&&J0(o,a,n)?(s=f,a=Ul(l),n=$l(l,n)):a=-1}}return i}function KS(t,n,e,r,i,o){let s=n[ue],a=s.data[t+8],l=r==null?io(a)&&zf:r!=s&&(a.type&3)!==0,c=i&ee.Host&&o===a,f=JS(a,s,e,l,c);return f!==null?Wl(n,s,f,a,i):bn}function JS(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,f=o>>20,m=r?a:a+f,y=i?a+f:c;for(let h=m;h<y;h++){let _=s[h];if(h<l&&e===_||h>=l&&_.type===e)return h}if(i){let h=s[l];if(h&&Cn(h)&&h.type===e)return l}return null}function Wl(t,n,e,r,i){let o=t[e],s=n.data;if(o instanceof Qr){let a=o;a.resolving&&Fv(BD(s[e]));let l=Hl(a.canSeeViewProviders);a.resolving=!0;let c,f=a.injectImpl?Ct(a.injectImpl):null,m=hy(t,r,ee.Default);try{o=t[e]=a.factory(void 0,i,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&jS(e,s[e],n)}finally{f!==null&&Ct(f),Hl(l),a.resolving=!1,yy()}}return o}function YS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(ws)?t[ws]:void 0;return typeof n=="number"?n>=0?n&Dy:QS:n}function J0(t,n,e){let r=1<<t;return!!(e[n+(t>>Sy)]&r)}function Y0(t,n){return!(t&ee.Self)&&!(t&ee.Host&&n)}var Wr=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Ty(this._tNode,this._lView,n,rc(r),e)}};function QS(){return new Wr(vt(),fe())}function It(t){return Is(()=>{let n=t.prototype.constructor,e=n[Ol]||Gf(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ol]||Gf(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gf(t){return Av(t)?()=>{let n=Gf(ht(t));return n&&n()}:Gr(t)}function XS(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[Y]&2048&&!Bl(s);){let a=Oy(o,s,e,r|ee.Self,bn);if(a!==bn)return a;let l=o.parent;if(!l){let c=s[Kv];if(c){let f=c.get(e,bn,r);if(f!==bn)return f}l=Ay(s),s=s[ro]}o=l}return i}function Ay(t){let n=t[ue],e=n.type;return e===2?n.declTNode:e===1?t[un]:null}function jp(t){return ZS(vt(),t)}function Q0(t,n=null,e=null,r){let i=Ny(t,n,e,r);return i.resolveInjectorInitializers(),i}function Ny(t,n=null,e=null,r,i=new Set){let o=[e||Gt,nS(t)];return r=r||(typeof t=="object"?void 0:Et(t)),new Es(o,n||xp(),r||null,i)}var Kt=class t{static THROW_IF_NOT_FOUND=zr;static NULL=new kl;static create(n,e){if(Array.isArray(n))return Q0({name:""},e,n,"");{let r=n.name??"";return Q0({name:r},n.parent,n.providers,r)}}static \u0275prov=P({token:t,providedIn:"any",factory:()=>G(Uv)});static __NG_ELEMENT_ID__=-1};var ex=new $("");ex.__NG_ELEMENT_ID__=t=>{let n=vt();if(n===null)throw new B(204,!1);if(n.type&2)return n.value;if(t&ee.Optional)return null;throw new B(204,!1)};var Ry=!1,Os=(()=>{class t{static __NG_ELEMENT_ID__=tx;static __NG_ENV_ID__=e=>e}return t})(),qf=class extends Os{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let e=this._lView;return oo(e)?(n(),()=>{}):(sy(e,n),()=>wS(e,n))}};function tx(){return new qf(fe())}var Qi=class{},ky=new $("",{providedIn:"root",factory:()=>!1});var Py=new $(""),Fy=new $(""),so=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Je(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})();var Zf=class extends He{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Zv()&&(this.destroyRef=E(Os,{optional:!0})??void 0,this.pendingTasks=E(so,{optional:!0})??void 0)}emit(n){let e=le(null);try{super.next(n)}finally{le(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof $e&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},we=Zf;function Gl(...t){}function Ly(t){let n,e;function r(){t=Gl;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function X0(t){return queueMicrotask(()=>t()),()=>{t=Gl}}var Vp="isAngularZone",ql=Vp+"_ID",nx=0,We=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new we(!1);onMicrotaskEmpty=new we(!1);onStable=new we(!1);onError=new we(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ry}=n;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ox(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Vp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,rx,Gl,Gl);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},rx={};function Bp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ix(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Ly(()=>{t.callbackScheduled=!1,Kf(t),t.isCheckStableRunning=!0,Bp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Kf(t)}function ox(t){let n=()=>{ix(t)},e=nx++;t._inner=t._inner.fork({name:"angular",properties:{[Vp]:!0,[ql]:e,[ql+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(sx(l))return r.invokeTask(o,s,a,l);try{return ev(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),tv(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return ev(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ax(l)&&n(),tv(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Kf(t),Bp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Kf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ev(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tv(t){t._nesting--,Bp(t)}var Jf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new we;onMicrotaskEmpty=new we;onStable=new we;onError=new we;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function sx(t){return jy(t,"__ignore_ng_zone__")}function ax(t){return jy(t,"__scheduler_tick__")}function jy(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Sn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},lx=new $("",{providedIn:"root",factory:()=>{let t=E(We),n=E(Sn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function nv(t,n){return Tv(t,n)}function cx(t){return Tv(Mv,t)}var Vy=(nv.required=cx,nv);function ux(){return fc(vt(),fe())}function fc(t,n){return new dn(In(t,n))}var dn=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=ux}return t})();function dx(t){return typeof t=="function"&&t[zt]!==void 0}function Mn(t,n){let e=Yd(t,n?.equal),r=e[zt];return e.set=i=>fs(r,i),e.update=i=>Qd(r,i),e.asReadonly=fx.bind(e),e}function fx(){let t=this[zt];if(t.readonlyFn===void 0){let n=()=>this();n[zt]=t,t.readonlyFn=n}return t.readonlyFn}function By(t){return dx(t)&&typeof t.set=="function"}function Uy(t){return(t.flags&128)===128}var $y=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($y||{}),Hy=new Map,px=0;function hx(){return px++}function mx(t){Hy.set(t[oc],t)}function Yf(t){Hy.delete(t[oc])}var rv="__ngContext__";function ao(t,n){pr(n)?(t[rv]=n[oc],mx(n)):t[rv]=n}function zy(t){return Gy(t[Ds])}function Wy(t){return Gy(t[cn])}function Gy(t){for(;t!==null&&!Qn(t);)t=t[cn];return t}var Qf;function qy(t){Qf=t}function gx(){if(Qf!==void 0)return Qf;if(typeof document<"u")return document;throw new B(210,!1)}var Up=new $("",{providedIn:"root",factory:()=>vx}),vx="ng",$p=new $(""),lo=new $("",{providedIn:"platform",factory:()=>"unknown"});var Hp=new $("",{providedIn:"root",factory:()=>gx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yx="h",_x="b";var Zy=!1,bx=new $("",{providedIn:"root",factory:()=>Zy});var zp=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(zp||{}),co=new $(""),iv=new Set;function As(t){iv.has(t)||(iv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Ky=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=wx}return t})();function wx(){return new Ky(fe(),vt())}var $i=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}($i||{}),Jy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})(),Cx=[$i.EarlyRead,$i.Write,$i.MixedReadWrite,$i.Read],Ex=(()=>{class t{ngZone=E(We);scheduler=E(Qi);errorHandler=E(Sn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(co,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ye(16),this.executing=!0;for(let r of Cx)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ye(17)}register(e){let{view:r}=e;r!==void 0?((r[zi]??=[]).push(e),Ts(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(zp.AFTER_NEXT_RENDER,e):e()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o,s=null){this.impl=n,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[zi];n&&(this.view[zi]=n.filter(e=>e!==this))}};function Wp(t,n){!n?.injector&&fS(Wp);let e=n?.injector??E(Kt);return As("NgAfterNextRender"),Sx(t,e,n,!0)}function Dx(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Sx(t,n,e,r){let i=n.get(Jy);i.impl??=n.get(Ex);let o=n.get(co,null,{optional:!0}),s=e?.phase??$i.MixedReadWrite,a=e?.manualCleanup!==!0?n.get(Os):null,l=n.get(Ky,null,{optional:!0}),c=new Xf(i.impl,Dx(t,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var xx=(t,n,e,r)=>{};function Ix(t,n,e,r){xx(t,n,e,r)}var Mx=()=>null;function Yy(t,n,e=!1){return Mx(t,n,e)}function Qy(t,n){let e=t.contentQueries;if(e!==null){let r=le(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];py(o),a.contentQueries(2,n[s],s)}}}finally{le(r)}}}function ep(t,n,e){py(0);let r=le(null);try{n(t,e)}finally{le(r)}}function Gp(t,n,e){if(Ip(n)){let r=le(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{le(r)}}}var xn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xn||{});var El;function Tx(){if(El===void 0&&(El=null,Hr.trustedTypes))try{El=Hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return El}function ov(t){return Tx()?.createScriptURL(t)||t}var Zl=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xv})`}};function pc(t){return t instanceof Zl?t.changingThisBreaksApplicationSecurity:t}function Xy(t,n){let e=Ox(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${xv})`)}return e===n}function Ox(t){return t instanceof Zl&&t.getTypeName()||null}var Ax=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nx(t){return t=String(t),t.match(Ax)?t:"unsafe:"+t}var Rx=/^>|^->|<!--|-->|--!>|<!-$/g,kx=/(<|>)/g,Px="\u200B$1\u200B";function Fx(t){return t.replace(Rx,n=>n.replace(kx,Px))}function Lx(t,n){return t.createText(n)}function jx(t,n,e){t.setValue(n,e)}function Vx(t,n){return t.createComment(Fx(n))}function e_(t,n,e){return t.createElement(n,e)}function Kl(t,n,e,r,i){t.insertBefore(n,e,r,i)}function t_(t,n,e){t.appendChild(n,e)}function sv(t,n,e,r,i){r!==null?Kl(t,n,e,r,i):t_(t,n,e)}function Bx(t,n,e){t.removeChild(null,n,e)}function Ux(t,n,e){t.setAttribute(n,"style",e)}function $x(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function n_(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&$S(t,n,r),i!==null&&$x(t,n,i),o!==null&&Ux(t,n,o)}var qp=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qp||{});function Fe(t){let n=i_();return n?n.sanitize(qp.URL,t)||"":Xy(t,"URL")?pc(t):Nx(Gn(t))}function Hx(t){let n=i_();if(n)return ov(n.sanitize(qp.RESOURCE_URL,t)||"");if(Xy(t,"ResourceURL"))return ov(pc(t));throw new B(904,!1)}function zx(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?Hx:Fe}function r_(t,n,e){return zx(n,e)(t)}function i_(){let t=fe();return t&&t[qn].sanitizer}function o_(t){return t instanceof Function?t():t}function Wx(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var s_="ng-template";function Gx(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&Wx(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Zp(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Zp(t){return t.type===4&&t.value!==s_}function qx(t,n,e){let r=t.type===4&&!e?s_:t.value;return n===r}function Zx(t,n,e){let r=4,i=t.attrs,o=i!==null?Yx(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!ln(r)&&!ln(l))return!1;if(s&&ln(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!qx(t,l,e)||l===""&&n.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!Gx(t,i,l,e)){if(ln(r))return!1;s=!0}}else{let c=n[++a],f=Kx(l,i,Zp(t),e);if(f===-1){if(ln(r))return!1;s=!0;continue}if(c!==""){let m;if(f>o?m="":m=i[f+1].toLowerCase(),r&2&&c!==m){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(t){return(t&1)===0}function Kx(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Qx(n,t)}function Jx(t,n,e=!1){for(let r=0;r<n.length;r++)if(Zx(t,n[r],e))return!0;return!1}function Yx(t){for(let n=0;n<t.length;n++){let e=t[n];if(Cy(e))return n}return t.length}function Qx(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function av(t,n){return t?":not("+n.trim()+")":n}function Xx(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(n+=av(o,i),i=""),r=s,o=o||!ln(r);e++}return i!==""&&(n+=av(o,i)),n}function eI(t){return t.map(Xx).join(",")}function tI(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!ln(i))break;i=o}r++}return e.length&&n.push(1,...e),n}var Ft={};function Kp(t,n,e,r,i,o,s,a,l,c,f){let m=xt+r,y=m+i,h=nI(m,y),_=typeof c=="function"?c():c;return h[ue]={type:t,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:f}}function nI(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:Ft);return e}function rI(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Kp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Jp(t,n,e,r,i,o,s,a,l,c,f){let m=n.blueprint.slice();return m[Yn]=i,m[Y]=r|4|128|8|64|1024,(c!==null||t&&t[Y]&2048)&&(m[Y]|=2048),iy(m),m[mt]=m[ro]=t,m[St]=e,m[qn]=s||t&&t[qn],m[Be]=a||t&&t[Be],m[qi]=l||t&&t[qi]||null,m[un]=o,m[oc]=hx(),m[Pl]=f,m[Kv]=c,m[wn]=n.type==2?t[wn]:m,m}function iI(t,n,e){let r=In(n,t),i=rI(e),o=t[qn].rendererFactory,s=Yp(t,Jp(t,i,null,a_(e),r,n,null,o.createRenderer(r,e),null,null,null));return t[n.index]=s}function a_(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function l_(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Yp(t,n){return t[Ds]?t[W0][cn]=n:t[Ds]=n,t[W0]=n,n}function g(t=1){c_(ot(),fe(),mr()+t,!1)}function c_(t,n,e,r){if(!r)if((n[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&xl(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Il(n,o,0,e)}Yr(e)}var hc=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hc||{});function tp(t,n,e,r){let i=le(null);try{let[o,s,a]=t.inputs[e],l=null;(s&hc.SignalBased)!==0&&(l=n[o][zt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,l,r,e,o):Yv(n,l,o,r)}finally{le(i)}}function u_(t,n,e,r,i){let o=mr(),s=r&2;try{Yr(-1),s&&n.length>xt&&c_(t,n,xt,!1),ye(s?2:0,i),e(r,i)}finally{Yr(o),ye(s?3:1,i)}}function mc(t,n,e){uI(t,n,e),(e.flags&64)===64&&dI(t,n,e)}function Qp(t,n,e=In){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function oI(t,n,e,r){let o=r.get(bx,Zy)||e===xn.ShadowDom,s=t.selectRootElement(n,o);return sI(s),s}function sI(t){aI(t)}var aI=()=>null;function lI(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xp(t,n,e,r,i,o,s,a){if(!a&&th(n,t,e,r,i)){io(n)&&cI(e,n.index);return}if(n.type&3){let l=In(n,e);r=lI(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)}else n.type&12}function cI(t,n){let e=Dn(n,t);e[Y]&16||(e[Y]|=64)}function uI(t,n,e){let r=e.directiveStart,i=e.directiveEnd;io(e)&&iI(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||zl(e,n);let o=e.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=Wl(n,t,s,e);if(ao(l,n),o!==null&&mI(n,s-r,l,a,e,o),Cn(a)){let c=Dn(e.index,n);c[St]=Wl(n,t,s,e)}}}function dI(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=RS();try{Yr(o);for(let a=r;a<i;a++){let l=t.data[a],c=n[a];Hf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&fI(l,c)}}finally{Yr(-1),Hf(s)}}function fI(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function eh(t,n){let e=t.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];Jx(n,o.selectors,!1)&&(r??=[],Cn(o)?r.unshift(o):r.push(o))}return r}function pI(t,n,e,r,i,o){let s=In(t,n);hI(n[Be],s,o,t.value,e,r,i)}function hI(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?Gn(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function mI(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];tp(r,e,l,c)}}function gI(t,n){let e=t[qi],r=e?e.get(Sn,null):null;r&&r.handleError(n)}function th(t,n,e,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],f=s[l+1],m=n.data[c];tp(m,e[c],f,i),a=!0}if(o)for(let l of o){let c=e[l],f=n.data[l];tp(f,c,r,i),a=!0}return a}function vI(t,n){let e=Dn(n,t),r=e[ue];yI(r,e);let i=e[Yn];i!==null&&e[Pl]===null&&(e[Pl]=Yy(i,e[qi])),ye(18),nh(r,e,e[St]),ye(19,e[St])}function yI(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function nh(t,n,e){kp(n);try{let r=t.viewQuery;r!==null&&ep(1,r,e);let i=t.template;i!==null&&u_(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Ki]?.finishViewCreation(t),t.staticContentQueries&&Qy(t,n),t.staticViewQueries&&ep(2,t.viewQuery,e);let o=t.components;o!==null&&_I(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Y]&=-5,Pp()}}function _I(t,n){for(let e=0;e<n.length;e++)vI(t,n[e])}function bI(t,n,e,r){let i=le(null);try{let o=n.tView,a=t[Y]&4096?4096:16,l=Jp(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[Zi]=c;let f=t[Ki];return f!==null&&(l[Ki]=f.createEmbeddedView(o)),nh(o,l,e),l}finally{le(i)}}function lv(t,n){return!n||n.firstChild===null||Uy(t)}var wI;function rh(t,n){return wI(t,n)}var Zn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zn||{});function d_(t){return(t.flags&32)===32}function Hi(t,n,e,r,i){if(r!=null){let o,s=!1;Qn(r)?o=r:pr(r)&&(s=!0,r=r[Yn]);let a=En(r);t===0&&e!==null?i==null?t_(n,e,a):Kl(n,e,a,i||null,!0):t===1&&e!==null?Kl(n,e,a,i||null,!0):t===2?Bx(n,a,s):t===3&&n.destroyNode(a),o!=null&&RI(n,t,o,e,i)}}function CI(t,n){f_(t,n),n[Yn]=null,n[un]=null}function EI(t,n,e,r,i,o){r[Yn]=i,r[un]=n,vc(t,r,e,1,i,o)}function f_(t,n){n[qn].changeDetectionScheduler?.notify(9),vc(t,n,n[Be],2,null,null)}function DI(t){let n=t[Ds];if(!n)return Sf(t[ue],t);for(;n;){let e=null;if(pr(n))e=n[Ds];else{let r=n[Zt];r&&(e=r)}if(!e){for(;n&&!n[cn]&&n!==t;)pr(n)&&Sf(n[ue],n),n=n[mt];n===null&&(n=t),pr(n)&&Sf(n[ue],n),e=n&&n[cn]}n=e}}function ih(t,n){let e=t[Vl],r=e.indexOf(n);e.splice(r,1)}function p_(t,n){if(oo(n))return;let e=n[Be];e.destroyNode&&vc(t,n,e,3,null,null),DI(n)}function Sf(t,n){if(oo(n))return;let e=le(null);try{n[Y]&=-129,n[Y]|=256,n[qt]&&Zd(n[qt]),xI(t,n),SI(t,n),n[ue].type===1&&n[Be].destroy();let r=n[Zi];if(r!==null&&Qn(n[mt])){r!==n[mt]&&ih(r,n);let i=n[Ki];i!==null&&i.detachView(t)}Yf(n)}finally{le(e)}}function SI(t,n){let e=t.cleanup,r=n[Fl];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[Fl]=null);let i=n[fr];if(i!==null){n[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Ll];if(o!==null){n[Ll]=null;for(let s of o)s.destroy()}}function xI(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof Qr)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ye(4,a,l);try{l.call(a)}finally{ye(5,a,l)}}else{ye(4,i,o);try{o.call(i)}finally{ye(5,i,o)}}}}}function II(t,n,e){return MI(t,n.parent,e)}function MI(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[Yn];if(io(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===xn.None||i===xn.Emulated)return null}return In(r,e)}function TI(t,n,e){return AI(t,n,e)}function OI(t,n,e){return t.type&40?In(t,e):null}var AI=OI,cv;function gc(t,n,e,r){let i=II(t,r,n),o=n[Be],s=r.parent||n[un],a=TI(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)sv(o,i,e[l],a,!1);else sv(o,i,e,a,!1);cv!==void 0&&cv(o,r,n,e,i)}function bs(t,n){if(n!==null){let e=n.type;if(e&3)return In(n,t);if(e&4)return np(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return bs(t,r);{let i=t[n.index];return Qn(i)?np(-1,i):En(i)}}else{if(e&128)return bs(t,n.next);if(e&32)return rh(n,t)()||En(t[n.index]);{let r=h_(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Jr(t[wn]);return bs(i,r)}else return bs(t,n.next)}}}return null}function h_(t,n){if(n!==null){let r=t[wn][un],i=n.projection;return r.projection[i]}return null}function np(t,n){let e=Zt+t+1;if(e<n.length){let r=n[e],i=r[ue].firstChild;if(i!==null)return bs(r,i)}return n[Kr]}function oh(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&ao(En(a),r),e.flags|=2),!d_(e))if(l&8)oh(t,n,e.child,r,i,o,!1),Hi(n,t,i,a,o);else if(l&32){let c=rh(e,r),f;for(;f=c();)Hi(n,t,i,f,o);Hi(n,t,i,a,o)}else l&16?NI(t,n,r,e,i,o):Hi(n,t,i,a,o);e=s?e.projectionNext:e.next}}function vc(t,n,e,r,i,o){oh(e,r,t.firstChild,n,i,o,!1)}function NI(t,n,e,r,i,o){let s=e[wn],l=s[un].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let f=l[c];Hi(n,t,i,f,o)}else{let c=l,f=s[mt];Uy(r)&&(c.flags|=128),oh(t,n,c,f,i,o,!0)}}function RI(t,n,e,r,i){let o=e[Kr],s=En(e);o!==s&&Hi(n,t,r,o,i);for(let a=Zt;a<e.length;a++){let l=e[a];vc(l[ue],l,t,n,r,o)}}function kI(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Zn.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zn.Important),t.setStyle(e,r,i,o))}}function Jl(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(En(o)),Qn(o)&&PI(o,r);let s=e.type;if(s&8)Jl(t,n,e.child,r);else if(s&32){let a=rh(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=h_(n,e);if(Array.isArray(a))r.push(...a);else{let l=Jr(n[wn]);Jl(l[ue],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function PI(t,n){for(let e=Zt;e<t.length;e++){let r=t[e],i=r[ue].firstChild;i!==null&&Jl(r[ue],r,i,n)}t[Kr]!==t[Yn]&&n.push(t[Kr])}function m_(t){if(t[zi]!==null){for(let n of t[zi])n.impl.addSequence(n);t[zi].length=0}}var g_=[];function FI(t){return t[qt]??LI(t)}function LI(t){let n=g_.pop()??Object.create(VI);return n.lView=t,n}function jI(t){t.lView[qt]!==t&&(t.lView=null,g_.push(t))}var VI=oe(S({},us),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ts(t.lView)},consumerOnSignalRead(){this.lView[qt]=this}});function BI(t){let n=t[qt]??Object.create(UI);return n.lView=t,n}var UI=oe(S({},us),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=Jr(t.lView);for(;n&&!v_(n[ue]);)n=Jr(n);n&&oy(n)},consumerOnSignalRead(){this.lView[qt]=this}});function v_(t){return t.type!==2}function y_(t){if(t[Ll]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Ll])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[Y]&8192)}}var $I=100;function __(t,n=!0,e=0){let i=t[qn].rendererFactory,o=!1;o||i.begin?.();try{HI(t,e)}catch(s){throw n&&gI(t,s),s}finally{o||i.end?.()}}function HI(t,n){let e=dy();try{q0(!0),rp(t,n);let r=0;for(;ac(t);){if(r===$I)throw new B(103,!1);r++,rp(t,1)}}finally{q0(e)}}function zI(t,n,e,r){if(oo(n))return;let i=n[Y],o=!1,s=!1;kp(n);let a=!0,l=null,c=null;o||(v_(t)?(c=FI(n),l=Ha(c)):$d()===null?(a=!1,c=BI(n),l=Ha(c)):n[qt]&&(Zd(n[qt]),n[qt]=null));try{iy(n),OS(t.bindingStartIndex),e!==null&&u_(t,n,e,2,r);let f=(i&3)===3;if(!o)if(f){let h=t.preOrderCheckHooks;h!==null&&xl(n,h,null)}else{let h=t.preOrderHooks;h!==null&&Il(n,h,0,null),Ef(n,0)}if(s||WI(n),y_(n),b_(n,0),t.contentQueries!==null&&Qy(t,n),!o)if(f){let h=t.contentCheckHooks;h!==null&&xl(n,h)}else{let h=t.contentHooks;h!==null&&Il(n,h,1),Ef(n,1)}qI(t,n);let m=t.components;m!==null&&C_(n,m,0);let y=t.viewQuery;if(y!==null&&ep(2,y,r),!o)if(f){let h=t.viewCheckHooks;h!==null&&xl(n,h)}else{let h=t.viewHooks;h!==null&&Il(n,h,2),Ef(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Cf]){for(let h of n[Cf])h();n[Cf]=null}o||(m_(n),n[Y]&=-73)}catch(f){throw o||Ts(n),f}finally{c!==null&&(Gd(c,l),a&&jI(c)),Pp()}}function b_(t,n){for(let e=zy(t);e!==null;e=Wy(e))for(let r=Zt;r<e.length;r++){let i=e[r];w_(i,n)}}function WI(t){for(let n=zy(t);n!==null;n=Wy(n)){if(!(n[Y]&2))continue;let e=n[Vl];for(let r=0;r<e.length;r++){let i=e[r];oy(i)}}}function GI(t,n,e){ye(18);let r=Dn(n,t);w_(r,e),ye(19,r[St])}function w_(t,n){Tp(t)&&rp(t,n)}function rp(t,n){let r=t[ue],i=t[Y],o=t[qt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&qd(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)zI(r,t,r.template,t[St]);else if(i&8192){y_(t),b_(t,1);let a=r.components;a!==null&&C_(t,a,1),m_(t)}}function C_(t,n,e){for(let r=0;r<n.length;r++)GI(t,n[r],e)}function qI(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Yr(~i);else{let o=i,s=e[++r],a=e[++r];NS(s,o);let l=n[o];ye(24,l),a(2,l),ye(25,l)}}}finally{Yr(-1)}}function sh(t,n){let e=dy()?64:1088;for(t[qn].changeDetectionScheduler?.notify(n);t;){t[Y]|=e;let r=Jr(t);if(Bl(t)&&!r)return t;t=r}return null}function E_(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function ZI(t,n,e,r=!0){let i=n[ue];if(KI(i,n,t,e),r){let s=np(e,t),a=n[Be],l=a.parentNode(t[Kr]);l!==null&&EI(i,t[un],a,n,l,s)}let o=n[Pl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ip(t,n){if(t.length<=Zt)return;let e=Zt+n,r=t[e];if(r){let i=r[Zi];i!==null&&i!==t&&ih(i,r),n>0&&(t[e-1][cn]=r[cn]);let o=Rl(t,Zt+n);CI(r[ue],r);let s=o[Ki];s!==null&&s.detachView(o[ue]),r[mt]=null,r[cn]=null,r[Y]&=-129}return r}function KI(t,n,e,r){let i=Zt+r,o=e.length;r>0&&(e[i-1][cn]=n),r<o-Zt?(n[cn]=e[i],Bv(e,Zt+r,n)):(e.push(n),n[cn]=null),n[mt]=e;let s=n[Zi];s!==null&&e!==s&&D_(s,n);let a=n[Ki];a!==null&&a.insertView(t),Uf(n),n[Y]|=128}function D_(t,n){let e=t[Vl],r=n[mt];if(pr(r))t[Y]|=2;else{let i=r[mt][wn];n[wn]!==i&&(t[Y]|=2)}e===null?t[Vl]=[n]:e.push(n)}var Ss=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[ue];return Jl(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[St]}set context(n){this._lView[St]=n}get destroyed(){return oo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[mt];if(Qn(n)){let e=n[jl],r=e?e.indexOf(this):-1;r>-1&&(ip(n,r),Rl(e,r))}this._attachedToViewContainer=!1}p_(this._lView[ue],this._lView)}onDestroy(n){sy(this._lView,n)}markForCheck(){sh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Uf(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,__(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Bl(this._lView),e=this._lView[Zi];e!==null&&!n&&ih(e,this._lView),f_(this._lView[ue],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=n;let e=Bl(this._lView),r=this._lView[Zi];r!==null&&!e&&D_(r,this._lView),Uf(this._lView)}};var yc=(()=>{class t{static __NG_ELEMENT_ID__=QI}return t})(),JI=yc,YI=class extends JI{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=bI(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new Ss(i)}};function QI(){return S_(vt(),fe())}function S_(t,n){return t.type&4?new YI(n,t,fc(t,n)):null}function _c(t,n,e,r,i){let o=t.data[n];if(o===null)o=XI(t,n,e,r,i),AS()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=MS();o.injectorIndex=s===null?-1:s.injectorIndex}return ti(o,!0),o}function XI(t,n,e,r,i){let o=cy(),s=Ap(),a=s?o:o&&o.parent,l=t.data[n]=tM(t,a,e,n,r,i);return eM(t,l,o,s),l}function eM(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function tM(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return SS()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var e3=new RegExp(`^(\\d+)*(${_x}|${yx})*(.*)`);var nM=()=>null;function uv(t,n){return nM(t,n)}var rM=class{},x_=class{},op=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Et(n)}.`)}},bc=class{static NULL=new op},Xi=class{},Tn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>iM()}return t})();function iM(){let t=fe(),n=vt(),e=Dn(n.index,t);return(pr(e)?e:t)[Be]}var oM=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>null})}return t})();var xf={},sp=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=rc(r);let i=this.injector.get(n,xf,r);return i!==xf||e===xf?i:this.parentInjector.get(n,e,r)}};function ap(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=j0(i,a);else if(o==2){let l=a,c=n[++s];r=j0(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function k(t,n=ee.Default){let e=fe();if(e===null)return G(t,n);let r=vt();return Ty(r,e,ht(t),n)}function I_(){let t="invalid";throw new Error(t)}function ah(t,n,e,r,i){let o=r===null?null:{"":-1},s=i(t,e);if(s!==null){let a,l=null,c=null,f=aM(s);f===null?a=s:[a,l,c]=f,uM(t,n,e,a,o,l,c)}o!==null&&r!==null&&sM(e,r,o)}function sM(t,n,e){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new B(-301,!1);r.push(n[i],o)}}function aM(t){let n=null,e=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Cn(a)&&(n=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,lM(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?t:t.slice(1)),[r,i,o]):null}function lM(t,n,e,r){let i=n.length;t.findHostDirectiveDefs(t,n,r),e.set(t,[i,n.length-1])}function cM(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function uM(t,n,e,r,i,o,s){let a=r.length,l=!1;for(let y=0;y<a;y++){let h=r[y];!l&&Cn(h)&&(l=!0,cM(t,e,y)),Wf(zl(e,n),t,h.type)}gM(e,t.data.length,a);for(let y=0;y<a;y++){let h=r[y];h.providersResolver&&h.providersResolver(h)}let c=!1,f=!1,m=l_(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let y=0;y<a;y++){let h=r[y];if(e.mergedAttrs=Yi(e.mergedAttrs,h.hostAttrs),fM(t,e,n,m,h),mM(m,h,i),s!==null&&s.has(h)){let[w,C]=s.get(h);e.directiveToIndex.set(h.type,[m,w+e.directiveStart,C+e.directiveStart])}else(o===null||!o.has(h))&&e.directiveToIndex.set(h.type,m);h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let _=h.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!f&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),f=!0),m++}dM(t,e,o)}function dM(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=t.data[r];if(e===null||!e.has(i))dv(0,n,i,r),dv(1,n,i,r),pv(n,r,!1);else{let o=e.get(i);fv(0,n,o,r),fv(1,n,o,r),pv(n,r,!0)}}}function dv(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),M_(n,o)}}function fv(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),M_(n,s)}}function M_(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function pv(t,n,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!e&&i===null||e&&o===null||Zp(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&i.hasOwnProperty(l)){let c=i[l];for(let f of c)if(f===n){s??=[],s.push(l,r[a+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let f=0;f<c.length;f+=2)if(c[f]===n){s??=[],s.push(c[f+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function fM(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=Gr(i.type,!0)),s=new Qr(o,Cn(i),k);t.blueprint[r]=s,e[r]=s,pM(t,n,r,l_(t,e,i.hostVars,Ft),i)}function pM(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;hM(s)!=a&&s.push(a),s.push(e,r,o)}}function hM(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function mM(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Cn(n)&&(e[""]=t)}}function gM(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function T_(t,n,e,r,i,o,s,a){let l=n.consts,c=Ji(l,s),f=_c(n,t,2,r,c);return o&&ah(n,e,f,Ji(l,a),i),f.mergedAttrs=Yi(f.mergedAttrs,f.attrs),f.attrs!==null&&ap(f,f.attrs,!1),f.mergedAttrs!==null&&ap(f,f.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,f),f}function O_(t,n){Fp(t,n),Ip(n)&&t.queries.elementEnd(n)}var Yl=class extends bc{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Zr(n);return new eo(e,this.ngModule)}};function vM(t){return Object.keys(t).map(n=>{let[e,r,i]=t[n],o={propName:e,templateName:n,isSignal:(r&hc.SignalBased)!==0};return i&&(o.transform=i),o})}function yM(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function _M(t,n,e){let r=n instanceof Dt?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new sp(e,r):e}function bM(t){let n=t.get(Xi,null);if(n===null)throw new B(407,!1);let e=t.get(oM,null),r=t.get(Qi,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r}}function wM(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return e_(n,e,e==="svg"?ty:e==="math"?vS:null)}var eo=class extends x_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vM(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=yM(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=eI(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,i){ye(22);let o=le(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:tI(this.componentDef.selectors[0]),l=Kp(0,null,null,1,0,null,null,null,null,[a],null),c=_M(s,i||this.ngModule,n),f=bM(c),m=f.rendererFactory.createRenderer(null,s),y=r?oI(m,r,s.encapsulation,c):wM(s,m),h=Jp(null,l,null,512|a_(s),null,null,f,m,c,null,Yy(y,c,!0));h[xt]=y,kp(h);let _=null;try{let w=T_(xt,l,h,"#host",()=>[this.componentDef],!0,0);y&&(n_(m,y,w),ao(y,h)),mc(l,h,w),Gp(l,w,h),O_(l,w),e!==void 0&&CM(w,this.ngContentSelectors,e),_=Dn(w.index,h),h[St]=_[St],nh(l,h,null)}catch(w){throw _!==null&&Yf(_),Yf(h),w}finally{ye(23),Pp()}return new lp(this.componentType,h)}finally{le(o)}}},lp=class extends rM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e){super(),this._rootLView=e,this._tNode=ry(e[ue],xt),this.location=fc(this._tNode,e),this.instance=Dn(this._tNode.index,e)[St],this.hostView=this.changeDetectorRef=new Ss(e,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let i=this._rootLView,o=th(r,i[ue],i,n,e);this.previousInputValues.set(n,e);let s=Dn(r.index,i);sh(s,1)}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function CM(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var uo=(()=>{class t{static __NG_ELEMENT_ID__=EM}return t})();function EM(){let t=vt();return SM(t,fe())}var DM=uo,A_=class extends DM{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return fc(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Lp(this._hostTNode,this._hostLView);if(Ey(n)){let e=$l(n,this._hostLView),r=Ul(n),i=e[ue].data[r+8];return new Wr(i,e)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=hv(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=uv(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,lv(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!pS(n),a;if(s)a=e;else{let _=e||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?n:new eo(Zr(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?c:this.parentInjector).get(Dt,null);w&&(o=w)}let f=Zr(l.componentType??{}),m=uv(this._lContainer,f?.id??null),y=m?.firstChild??null,h=l.create(c,i,y,o);return this.insertImpl(h.hostView,a,lv(this._hostTNode,m)),h}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(_S(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[mt],c=new A_(l,l[un],l[mt]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return ZI(s,i,o,r),n.attachToViewContainerRef(),Bv(If(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=hv(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=ip(this._lContainer,e);r&&(Rl(If(this._lContainer),e),p_(r[ue],r))}detach(n){let e=this._adjustIndex(n,-1),r=ip(this._lContainer,e);return r&&Rl(If(this._lContainer),e)!=null?new Ss(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function hv(t){return t[jl]}function If(t){return t[jl]||(t[jl]=[])}function SM(t,n){let e,r=n[t.index];return Qn(r)?e=r:(e=E_(r,n,null,t),n[t.index]=e,Yp(n,e)),IM(e,n,t,r),new A_(e,t,n)}function xM(t,n){let e=t[Be],r=e.createComment(""),i=In(n,t),o=e.parentNode(i);return Kl(e,o,r,e.nextSibling(i),!1),r}var IM=OM,MM=()=>!1;function TM(t,n,e){return MM(t,n,e)}function OM(t,n,e,r){if(t[Kr])return;let i;e.type&8?i=En(r):i=xM(n,e),t[Kr]=i}var to=class{},lh=class{};var cp=class extends to{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yl(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=Hv(n);this._bootstrapComponents=o_(o.bootstrap),this._r3Injector=Ny(n,e,[{provide:to,useValue:this},{provide:bc,useValue:this.componentFactoryResolver},...r],Et(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},up=class extends lh{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new cp(this.moduleType,n,[])}};var Ql=class extends to{injector;componentFactoryResolver=new Yl(this);instance=null;constructor(n){super();let e=new Es([...n.providers,{provide:to,useValue:this},{provide:bc,useValue:this.componentFactoryResolver}],n.parent||xp(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ns(t,n,e=null){return new Ql({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var AM=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=zv(!1,e.type),i=r.length>0?Ns([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:t,providedIn:"environment",factory:()=>new t(G(Dt))})}return t})();function z(t){return Is(()=>{let n=N_(t),e=oe(S({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(AM).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xn.Emulated,styles:t.styles||Gt,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&As("NgStandalone"),R_(e);let r=t.dependencies;return e.directiveDefs=mv(r,!1),e.pipeDefs=mv(r,!0),e.id=FM(e),e})}function NM(t){return Zr(t)||eS(t)}function RM(t){return t!==null}function Xn(t){return Is(()=>({type:t.type,bootstrap:t.bootstrap||Gt,declarations:t.declarations||Gt,imports:t.imports||Gt,exports:t.exports||Gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kM(t,n){if(t==null)return qr;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=hc.None,l=null),e[o]=[r,a,l],n[o]=s}return e}function PM(t){if(t==null)return qr;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function ge(t){return Is(()=>{let n=N_(t);return R_(n),n})}function ch(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function N_(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||qr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kM(t.inputs,n),outputs:PM(t.outputs),debugInfo:null}}function R_(t){t.features?.forEach(n=>n(t))}function mv(t,n){if(!t)return null;let e=n?tS:NM;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(RM)}function FM(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function LM(t){return Object.getPrototypeOf(t.prototype).constructor}function st(t){let n=LM(t.type),e=!0,r=[t];for(;n;){let i;if(Cn(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new B(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=Mf(t.inputs),s.declaredInputs=Mf(t.declaredInputs),s.outputs=Mf(t.outputs);let a=i.hostBindings;a&&$M(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&BM(t,l),c&&UM(t,c),jM(t,i),ND(t.outputs,i.outputs),Cn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===st&&(e=!1)}}n=Object.getPrototypeOf(n)}VM(r)}function jM(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function VM(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Yi(i.hostAttrs,e=Yi(e,i.hostAttrs))}}function Mf(t){return t===qr?{}:t===Gt?[]:t}function BM(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function UM(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function $M(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function k_(t){return zM(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function HM(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function zM(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function uh(t,n,e){return t[n]=e}function WM(t,n){return t[n]}function Kn(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function dh(t,n,e,r){let i=Kn(t,n,e);return Kn(t,n+1,r)||i}function GM(t,n,e,r,i){let o=dh(t,n,e,r);return Kn(t,n+2,i)||o}function qM(t,n,e,r,i,o,s,a,l){let c=n.consts,f=_c(n,t,4,s||null,a||null);Op()&&ah(n,e,f,Ji(c,l),eh),f.mergedAttrs=Yi(f.mergedAttrs,f.attrs),Fp(n,f);let m=f.tView=Kp(2,f,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,f),m.queries=n.queries.embeddedTView(f)),f}function ZM(t,n,e,r,i,o,s,a,l,c){let f=e+xt,m=n.firstCreatePass?qM(f,n,t,r,i,o,s,a,l):n.data[f];ti(m,!1);let y=KM(n,t,m,e);uc()&&gc(n,t,y,m),ao(y,t);let h=E_(y,t,y,m);return t[f]=h,Yp(t,h),TM(h,m,t),sc(m)&&mc(n,t,m),l!=null&&Qp(t,m,c),m}function R(t,n,e,r,i,o,s,a){let l=fe(),c=ot(),f=Ji(c.consts,o);return ZM(l,c,t,n,e,r,i,f,s,a),R}var KM=JM;function JM(t,n,e,r){return dc(!0),n[Be].createComment("")}var P_=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var F_=new $("");var YM=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>new dp})}return t})(),dp=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}};function gr(t){return!!t&&typeof t.then=="function"}function fh(t){return!!t&&typeof t.subscribe=="function"}var L_=new $("");function ph(t){return Dp([{provide:L_,multi:!0,useValue:t}])}var j_=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=E(L_,{optional:!0})??[];injector=E(Kt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Jt(this.injector,i);if(gr(o))e.push(o);else if(fh(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wc=new $("");function QM(){Jd(()=>{throw new B(600,!1)})}function XM(t){return t.isBoundToModule}var e1=10;var Xr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(lx);afterRenderManager=E(Jy);zonelessEnabled=E(ky);rootEffectScheduler=E(YM);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new He;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(so).hasPendingTasks.pipe(se(e=>!e));constructor(){E(co,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=E(Dt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=Kt.NULL){ye(10);let o=e instanceof x_;if(!this._injector.get(j_).done){let h="";throw new B(405,h)}let a;o?a=e:a=this._injector.get(bc).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let l=XM(a)?void 0:this._injector.get(to),c=r||a.selector,f=a.create(i,[],c,l),m=f.location.nativeElement,y=f.injector.get(F_,null);return y?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),Ml(this.components,f),y?.unregisterApplication(m)}),this._loadComponent(f),ye(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ye(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(zp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let e=le(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,le(e),this.afterTick.next(),ye(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<e1;)ye(14),this.synchronizeOnce(),ye(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)t1(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ac(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Ml(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(wc,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ml(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new B(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ml(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function t1(t,n,e,r){if(!e&&!ac(t))return;__(t,n,e&&!r?0:1)}function Ye(t,n,e,r){let i=fe(),o=lc();if(Kn(i,o,n)){let s=ot(),a=cc();pI(a,i,t,n,e,r)}return Ye}function V_(t,n,e,r){return Kn(t,lc(),e)?n+Gn(e)+r:Ft}function n1(t,n,e,r,i,o){let s=fy(),a=dh(t,s,e,i);return Rp(2),a?n+Gn(e)+r+Gn(i)+o:Ft}function r1(t,n,e,r,i,o,s,a){let l=fy(),c=GM(t,l,e,i,s);return Rp(3),c?n+Gn(e)+r+Gn(i)+o+Gn(s)+a:Ft}function Dl(t,n){return t<<17|n<<2}function ei(t){return t>>17&32767}function i1(t){return(t&2)==2}function o1(t,n){return t&131071|n<<17}function fp(t){return t|2}function no(t){return(t&131068)>>2}function Tf(t,n){return t&-131069|n<<2}function s1(t){return(t&1)===1}function pp(t){return t|1}function a1(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=ei(s),l=no(s);t[r]=e;let c=!1,f;if(Array.isArray(e)){let m=e;f=m[1],(f===null||Ms(m,f)>0)&&(c=!0)}else f=e;if(i)if(l!==0){let y=ei(t[a+1]);t[r+1]=Dl(y,a),y!==0&&(t[y+1]=Tf(t[y+1],r)),t[a+1]=o1(t[a+1],r)}else t[r+1]=Dl(a,0),a!==0&&(t[a+1]=Tf(t[a+1],r)),a=r;else t[r+1]=Dl(l,0),a===0?a=r:t[l+1]=Tf(t[l+1],r),l=r;c&&(t[r+1]=fp(t[r+1])),gv(t,f,r,!0),gv(t,f,r,!1),l1(n,f,t,r,o),s=Dl(a,l),o?n.classBindings=s:n.styleBindings=s}function l1(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Ms(o,n)>=0&&(e[r+1]=pp(e[r+1]))}function gv(t,n,e,r){let i=t[e+1],o=n===null,s=r?ei(i):no(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];c1(l,n)&&(a=!0,t[s+1]=r?pp(c):fp(c)),s=r?ei(c):no(c)}a&&(t[e+1]=r?fp(i):pp(i))}function c1(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Ms(t,n)>=0:!1}function b(t,n,e){let r=fe(),i=lc();if(Kn(r,i,n)){let o=ot(),s=cc();Xp(o,s,r,t,n,r[Be],e,!1)}return b}function vv(t,n,e,r,i){th(n,t,e,i?"class":"style",r)}function Rs(t,n,e){return B_(t,n,e,!1),Rs}function Lt(t,n){return B_(t,n,null,!0),Lt}function B_(t,n,e,r){let i=fe(),o=ot(),s=Rp(2);if(o.firstUpdatePass&&d1(o,t,s,r),n!==Ft&&Kn(i,s,n)){let a=o.data[mr()];g1(o,a,i,i[Be],t,i[s+1]=v1(n,e),r,s)}}function u1(t,n){return n>=t.expandoStartIndex}function d1(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[mr()],s=u1(t,e);y1(o,r)&&n===null&&!s&&(n=!1),n=f1(i,o,n,r),a1(i,o,n,e,s,r)}}function f1(t,n,e,r){let i=kS(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=Of(null,t,n,e,r),e=xs(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=Of(i,t,n,e,r),o===null){let l=p1(t,n,r);l!==void 0&&Array.isArray(l)&&(l=Of(null,t,n,l[1],r),l=xs(l,n.attrs,r),h1(t,n,r,l))}else o=m1(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function p1(t,n,e){let r=e?n.classBindings:n.styleBindings;if(no(r)!==0)return t[ei(r)]}function h1(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[ei(i)]=r}function m1(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xs(r,s,e)}return xs(r,n.attrs,e)}function Of(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=xs(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function xs(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),QD(t,s,e?!0:n[++o]))}return t===void 0?null:t}function g1(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],f=s1(c)?yv(l,n,e,i,no(c),s):void 0;if(!Xl(f)){Xl(o)||i1(c)&&(o=yv(l,null,e,i,a,s));let m=ny(mr(),e);kI(r,s,m,i,o)}}function yv(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),f=c?l[1]:l,m=f===null,y=e[i+1];y===Ft&&(y=m?Gt:void 0);let h=m?bf(y,r):f===r?y:void 0;if(c&&!Xl(h)&&(h=bf(l,r)),Xl(h)&&(a=h,s))return a;let _=t[i+1];i=s?ei(_):no(_)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=bf(l,r))}return a}function Xl(t){return t!==void 0}function v1(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Et(pc(t)))),t}function y1(t,n){return(t.flags&(n?8:16))!==0}function u(t,n,e,r){let i=fe(),o=ot(),s=xt+t,a=i[Be],l=o.firstCreatePass?T_(s,o,i,n,eh,Op(),e,r):o.data[s],c=_1(o,i,l,a,n,t);i[s]=c;let f=sc(l);return ti(l,!0),n_(a,c,l),!d_(l)&&uc()&&gc(o,i,c,l),(CS()===0||f)&&ao(c,i),ES(),f&&(mc(o,i,l),Gp(o,l,i)),r!==null&&Qp(i,l),u}function d(){let t=vt();Ap()?uy():(t=t.parent,ti(t,!1));let n=t;xS(n)&&IS(),DS();let e=ot();return e.firstCreatePass&&O_(e,n),n.classesWithoutHost!=null&&BS(n)&&vv(e,n,fe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&US(n)&&vv(e,n,fe(),n.stylesWithoutHost,!1),d}function O(t,n,e,r){return u(t,n,e,r),d(),O}var _1=(t,n,e,r,i,o)=>(dc(!0),e_(r,i,LS()));function b1(t,n,e,r,i){let o=n.consts,s=Ji(o,r),a=_c(n,t,8,"ng-container",s);s!==null&&ap(a,s,!0);let l=Ji(o,i);return Op()&&ah(n,e,a,l,eh),a.mergedAttrs=Yi(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function ni(t,n,e){let r=fe(),i=ot(),o=t+xt,s=i.firstCreatePass?b1(o,i,r,n,e):i.data[o];ti(s,!0);let a=w1(i,r,s,t);return r[o]=a,uc()&&gc(i,r,a,s),ao(a,r),sc(s)&&(mc(i,r,s),Gp(i,s,r)),e!=null&&Qp(r,s),ni}function ri(){let t=vt(),n=ot();return Ap()?uy():(t=t.parent,ti(t,!1)),n.firstCreatePass&&(Fp(n,t),Ip(t)&&n.queries.elementEnd(t)),ri}var w1=(t,n,e,r)=>(dc(!0),Vx(n[Be],""));function ie(){return fe()}var $r=void 0;function C1(t){let n=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&e===0?1:5}var E1=["en",[["a","p"],["AM","PM"],$r],[["AM","PM"],$r,$r],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$r,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$r,"{1} 'at' {0}",$r],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",C1],Af={};function Yt(t){let n=D1(t),e=_v(n);if(e)return e;let r=n.split("-")[0];if(e=_v(r),e)return e;if(r==="en")return E1;throw new B(701,!1)}function _v(t){return t in Af||(Af[t]=Hr.ng&&Hr.ng.common&&Hr.ng.common.locales&&Hr.ng.common.locales[t]),Af[t]}var Ue=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ue||{});function D1(t){return t.toLowerCase().replace(/_/g,"-")}var ec="en-US";var S1=ec;function x1(t){typeof t=="string"&&(S1=t.toLowerCase().replace(/_/g,"-"))}function bv(t,n,e){return function r(i){if(i===Function)return e;let o=io(t)?Dn(t.index,n):n;sh(o,5);let s=n[St],a=wv(n,s,e,i),l=r.__ngNextListenerFn__;for(;l;)a=wv(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function wv(t,n,e,r){let i=le(null);try{return ye(6,n,e),e(r)!==!1}catch(o){return I1(t,o),!1}finally{ye(7,n,e),le(i)}}function I1(t,n){let e=t[qi],r=e?e.get(Sn,null):null;r&&r.handleError(n)}function Cv(t,n,e,r,i,o){let s=n[e],a=n[ue],c=a.data[e].outputs[r],f=s[c],m=a.firstCreatePass?ly(a):null,y=ay(n),h=f.subscribe(o),_=y.length;y.push(o,h),m&&m.push(i,t.index,_,-(_+1))}function A(t,n,e,r){let i=fe(),o=ot(),s=vt();return U_(o,i,i[Be],s,t,n,r),A}function M1(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[Fl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function U_(t,n,e,r,i,o,s){let a=sc(r),c=t.firstCreatePass?ly(t):null,f=ay(n),m=!0;if(r.type&3||s){let y=In(r,n),h=s?s(y):y,_=f.length,w=s?D=>s(En(D[r.index])):r.index,C=null;if(!s&&a&&(C=M1(t,n,i,r.index)),C!==null){let D=C.__ngLastListenerFn__||C;D.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,m=!1}else{o=bv(r,n,o),Ix(n,h,i,o);let D=e.listen(h,i,o);f.push(o,D),c&&c.push(i,w,_,_+1)}}else o=bv(r,n,o);if(m){let y=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let _=0;_<h.length;_+=2){let w=h[_],C=h[_+1];Cv(r,n,w,C,i,o)}if(y&&y.length)for(let _ of y)Cv(r,n,_,i,i,o)}}function M(t=1){return FS(t)}function ks(t,n,e){return Cc(t,"",n,"",e),ks}function Cc(t,n,e,r,i){let o=fe(),s=V_(o,n,e,r);if(s!==Ft){let a=ot(),l=cc();Xp(a,l,o,t,s,o[Be],i,!1)}return Cc}function vr(t){let n=TS();return Mp(n,xt+t)}function p(t,n=""){let e=fe(),r=ot(),i=t+xt,o=r.firstCreatePass?_c(r,i,1,n,null):r.data[i],s=T1(r,e,o,n,t);e[i]=s,uc()&&gc(r,e,s,o),ti(o,!1)}var T1=(t,n,e,r,i)=>(dc(!0),Lx(n[Be],r));function W(t){return Ae("",t,""),W}function Ae(t,n,e){let r=fe(),i=V_(r,t,n,e);return i!==Ft&&mh(r,mr(),i),Ae}function er(t,n,e,r,i){let o=fe(),s=n1(o,t,n,e,r,i);return s!==Ft&&mh(o,mr(),s),er}function hh(t,n,e,r,i,o,s){let a=fe(),l=r1(a,t,n,e,r,i,o,s);return l!==Ft&&mh(a,mr(),l),hh}function mh(t,n,e){let r=ny(n,t);jx(t[Be],r,e)}function x(t,n,e){By(n)&&(n=n());let r=fe(),i=lc();if(Kn(r,i,n)){let o=ot(),s=cc();Xp(o,s,r,t,n,r[Be],e,!1)}return x}function T(t,n){let e=By(t);return e&&t.set(n),e}function I(t,n){let e=fe(),r=ot(),i=vt();return U_(r,e,e[Be],i,t,n),I}function O1(t,n,e){let r=ot();if(r.firstCreatePass){let i=Cn(t);hp(e,r.data,r.blueprint,i,!0),hp(n,r.data,r.blueprint,i,!1)}}function hp(t,n,e,r,i){if(t=ht(t),Array.isArray(t))for(let o=0;o<t.length;o++)hp(t[o],n,e,r,i);else{let o=ot(),s=fe(),a=vt(),l=Gi(t)?t:ht(t.provide),c=qv(t),f=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(Gi(t)||!t.multi){let h=new Qr(c,i,k),_=Rf(l,n,i?f:f+y,m);_===-1?(Wf(zl(a,s),o,l),Nf(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(h),s.push(h)):(e[_]=h,s[_]=h)}else{let h=Rf(l,n,f+y,m),_=Rf(l,n,f,f+y),w=h>=0&&e[h],C=_>=0&&e[_];if(i&&!C||!i&&!w){Wf(zl(a,s),o,l);let D=R1(i?N1:A1,e.length,i,r,c);!i&&C&&(e[_].providerFactory=D),Nf(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(D),s.push(D)}else{let D=$_(e[i?_:h],c,!i&&r);Nf(o,t,h>-1?h:_,D)}!i&&r&&C&&e[_].componentProviders++}}}function Nf(t,n,e,r){let i=Gi(n),o=sS(n);if(i||o){let l=(o?ht(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let f=c.indexOf(e);f===-1?c.push(e,[r,l]):c[f+1].push(r,l)}else c.push(e,l)}}}function $_(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Rf(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function A1(t,n,e,r,i){return mp(this.multi,[])}function N1(t,n,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Wl(r,r[ue],this.providerFactory.index,i);s=l.slice(0,a),mp(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],mp(o,s);return s}function mp(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function R1(t,n,e,r,i){let o=new Qr(t,e,k);return o.multi=[],o.index=n,o.componentProviders=0,$_(o,i,r&&!e),o}function jt(t,n=[]){return e=>{e.providersResolver=(r,i)=>O1(r,i?i(t):t,n)}}function Ec(t,n,e){let r=Np()+t,i=fe();return i[r]===Ft?uh(i,r,e?n.call(e):n()):WM(i,r)}function H_(t,n){let e=t[n];return e===Ft?void 0:e}function k1(t,n,e,r,i,o){let s=n+e;return Kn(t,s,i)?uh(t,s+1,o?r.call(o,i):r(i)):H_(t,s+1)}function P1(t,n,e,r,i,o,s){let a=n+e;return dh(t,a,i,o)?uh(t,a+2,s?r.call(s,i,o):r(i,o)):H_(t,a+2)}function On(t,n){let e=ot(),r,i=t+xt;e.firstCreatePass?(r=F1(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Gr(r.type,!0)),s,a=Ct(k);try{let l=Hl(!1),c=o();return Hl(l),yS(e,fe(),i,c),c}finally{Ct(a)}}function F1(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function Dc(t,n,e){let r=t+xt,i=fe(),o=Mp(i,r);return z_(i,r)?k1(i,Np(),n,o.transform,e,o):o.transform(e)}function fo(t,n,e,r){let i=t+xt,o=fe(),s=Mp(o,i);return z_(o,i)?P1(o,Np(),n,s.transform,e,r,s):s.transform(e,r)}function z_(t,n){return t[ue].data[n].pure}function Sc(t,n){return S_(t,n)}var gp=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},W_=(()=>{class t{compileModuleSync(e){return new up(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Hv(e),o=o_(i.declarations).reduce((s,a)=>{let l=Zr(a);return l&&s.push(new eo(l)),s},[]);return new gp(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var L1=(()=>{class t{zone=E(We);changeDetectionScheduler=E(Qi);applicationRef=E(Xr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function j1({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new We(oe(S({},V1()),{scheduleInRootZone:e})),[{provide:We,useFactory:t},{provide:Cs,multi:!0,useFactory:()=>{let r=E(L1,{optional:!0});return()=>r.initialize()}},{provide:Cs,multi:!0,useFactory:()=>{let r=E(B1);return()=>{r.initialize()}}},n===!0?{provide:Py,useValue:!0}:[],{provide:Fy,useValue:e??Ry}]}function V1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var B1=(()=>{class t{subscription=new $e;initialized=!1;zone=E(We);pendingTasks=E(so);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var U1=(()=>{class t{appRef=E(Xr);taskService=E(so);ngZone=E(We);zonelessEnabled=E(ky);tracing=E(co,{optional:!0});disableScheduling=E(Py,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ql):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Fy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jf||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?X0:Ly;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ql+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,X0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $1(){return typeof $localize<"u"&&$localize.locale||ec}var xc=new $("",{providedIn:"root",factory:()=>E(xc,ee.Optional|ee.SkipSelf)||$1()});var vp=new $(""),H1=new $("");function ys(t){return!t.moduleRef}function z1(t){let n=ys(t)?t.r3Injector:t.moduleRef.injector,e=n.get(We);return e.run(()=>{ys(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(Sn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),ys(t)){let o=()=>n.destroy(),s=t.platformInjector.get(vp);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(vp);s.add(o),t.moduleRef.onDestroy(()=>{Ml(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return G1(r,e,()=>{let o=n.get(j_);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(xc,ec);if(x1(s||ec),!n.get(H1,!0))return ys(t)?n.get(Xr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ys(t)){let l=n.get(Xr);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return W1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function W1(t,n){let e=t.injector.get(Xr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new B(-403,!1);n.push(t)}function G1(t,n,e){try{let r=e();return gr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var Tl=null;function q1(t=[],n){return Kt.create({name:n,providers:[{provide:ic,useValue:"platform"},{provide:vp,useValue:new Set([()=>Tl=null])},...t]})}function Z1(t=[]){if(Tl)return Tl;let n=q1(t);return Tl=n,QM(),K1(n),n}function K1(t){let n=t.get($p,null);Jt(t,()=>{n?.forEach(e=>e())})}var yr=(()=>{class t{static __NG_ELEMENT_ID__=J1}return t})();function J1(t){return Y1(vt(),fe(),(t&16)===16)}function Y1(t,n,e){if(io(t)&&!e){let r=Dn(t.index,n);return new Ss(r,r)}else if(t.type&175){let r=n[wn];return new Ss(r,n)}return null}var yp=class{constructor(){}supports(n){return k_(n)}create(n){return new _p(n)}},Q1=(t,n)=>n,_p=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||Q1}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Ev(r,i,o)?e:r,a=Ev(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,f=l-i;if(c!=f){for(let y=0;y<c;y++){let h=y<o.length?o[y]:o[y]=0,_=h+y;f<=_&&_<c&&(o[y]=h+1)}let m=s.previousIndex;o[m]=f-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!k_(n))throw new B(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,HM(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new bp(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new tc),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new tc),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},bp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},wp=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},tc=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new wp,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ev(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function Dv(){return new gh([new yp])}var gh=(()=>{class t{factories;static \u0275prov=P({token:t,providedIn:"root",factory:Dv});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Dv()),deps:[[t,new JD,new KD]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new B(901,!1)}}return t})();function G_(t){let{rootComponent:n,appProviders:e,platformProviders:r,platformRef:i}=t;ye(8);try{let o=i?.injector??Z1(r),s=[j1({}),{provide:Qi,useExisting:U1},...e||[]],a=new Ql({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return z1({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{ye(9)}}function _r(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function fn(t){return Xd(t)}function tr(t,n){return Kd(t,n?.equal)}var Sv=class{[zt];constructor(n){this[zt]=n}destroy(){this[zt].destroy()}};function q_(t){let n=Zr(t);if(!n)return null;let e=new eo(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var et=new $("");var J_=null;function Qt(){return J_}function vh(t){J_??=t}var Ps=class{},Fs=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>E(Y_),providedIn:"platform"})}return t})(),yh=new $(""),Y_=(()=>{class t extends Fs{_location;_history;_doc=E(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qt().getBaseHref(this._doc)}onPopState(e){let r=Qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Ic(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function Z_(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function pn(t){return t&&t[0]!=="?"?`?${t}`:t}var Xt=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>E(Tc),providedIn:"root"})}return t})(),Mc=new $(""),Tc=(()=>{class t extends Xt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ic(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+pn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+pn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+pn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(G(Fs),G(Mc,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),An=(()=>{class t{_subject=new He;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=tT(Z_(K_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+pn(r))}normalize(e){return t.stripTrailingSlash(eT(this._basePath,K_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=pn;static joinWithSlash=Ic;static stripTrailingSlash=Z_;static \u0275fac=function(r){return new(r||t)(G(Xt))};static \u0275prov=P({token:t,factory:()=>X1(),providedIn:"root"})}return t})();function X1(){return new An(G(Xt))}function eT(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function K_(t){return t.replace(/\/index.html$/,"")}function tT(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var jc=(()=>{class t extends Xt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Ic(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+pn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+pn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(G(Fs),G(Mc,8))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();var at=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(at||{}),_e=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(_e||{}),Mt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Mt||{}),rr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function nb(t){return Yt(t)[Ue.LocaleId]}function rb(t,n,e){let r=Yt(t),i=[r[Ue.DayPeriodsFormat],r[Ue.DayPeriodsStandalone]],o=en(i,n);return en(o,e)}function ib(t,n,e){let r=Yt(t),i=[r[Ue.DaysFormat],r[Ue.DaysStandalone]],o=en(i,n);return en(o,e)}function ob(t,n,e){let r=Yt(t),i=[r[Ue.MonthsFormat],r[Ue.MonthsStandalone]],o=en(i,n);return en(o,e)}function sb(t,n){let r=Yt(t)[Ue.Eras];return en(r,n)}function Ls(t,n){let e=Yt(t);return en(e[Ue.DateFormat],n)}function js(t,n){let e=Yt(t);return en(e[Ue.TimeFormat],n)}function Vs(t,n){let r=Yt(t)[Ue.DateTimeFormat];return en(r,n)}function Bs(t,n){let e=Yt(t),r=e[Ue.NumberSymbols][n];if(typeof r>"u"){if(n===rr.CurrencyDecimal)return e[Ue.NumberSymbols][rr.Decimal];if(n===rr.CurrencyGroup)return e[Ue.NumberSymbols][rr.Group]}return r}function ab(t){if(!t[Ue.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ue.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lb(t){let n=Yt(t);return ab(n),(n[Ue.ExtraData][2]||[]).map(r=>typeof r=="string"?_h(r):[_h(r[0]),_h(r[1])])}function cb(t,n,e){let r=Yt(t);ab(r);let i=[r[Ue.ExtraData][0],r[Ue.ExtraData][1]],o=en(i,n)||[];return en(o,e)||[]}function en(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function _h(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var nT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Oc={},rT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ub(t,n,e,r){let i=fT(t);n=nr(e,n)||n;let s=[],a;for(;n;)if(a=rT.exec(n),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;n=f}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=fb(r,l),i=dT(i,r));let c="";return s.forEach(f=>{let m=cT(f);c+=m?m(i,e,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Pc(t,n,e){let r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function nr(t,n){let e=nb(t);if(Oc[e]??={},Oc[e][n])return Oc[e][n];let r="";switch(n){case"shortDate":r=Ls(t,Mt.Short);break;case"mediumDate":r=Ls(t,Mt.Medium);break;case"longDate":r=Ls(t,Mt.Long);break;case"fullDate":r=Ls(t,Mt.Full);break;case"shortTime":r=js(t,Mt.Short);break;case"mediumTime":r=js(t,Mt.Medium);break;case"longTime":r=js(t,Mt.Long);break;case"fullTime":r=js(t,Mt.Full);break;case"short":let i=nr(t,"shortTime"),o=nr(t,"shortDate");r=Ac(Vs(t,Mt.Short),[i,o]);break;case"medium":let s=nr(t,"mediumTime"),a=nr(t,"mediumDate");r=Ac(Vs(t,Mt.Medium),[s,a]);break;case"long":let l=nr(t,"longTime"),c=nr(t,"longDate");r=Ac(Vs(t,Mt.Long),[l,c]);break;case"full":let f=nr(t,"fullTime"),m=nr(t,"fullDate");r=Ac(Vs(t,Mt.Full),[f,m]);break}return r&&(Oc[e][n]=r),r}function Ac(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return n!=null&&r in n?n[r]:e})),t}function hn(t,n,e="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function iT(t,n){return hn(t,3).substring(0,n)}function Ge(t,n,e=0,r=!1,i=!1){return function(o,s){let a=oT(t,o);if((e>0||a>-e)&&(a+=e),t===3)a===0&&e===-12&&(a=12);else if(t===6)return iT(a,n);let l=Bs(s,rr.MinusSign);return hn(a,n,l,r,i)}}function oT(t,n){switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function De(t,n,e=at.Format,r=!1){return function(i,o){return sT(i,o,t,n,e,r)}}function sT(t,n,e,r,i,o){switch(e){case 2:return ob(n,i,r)[t.getMonth()];case 1:return ib(n,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let c=lb(n),f=cb(n,i,r),m=c.findIndex(y=>{if(Array.isArray(y)){let[h,_]=y,w=s>=h.hours&&a>=h.minutes,C=s<_.hours||s===_.hours&&a<_.minutes;if(h.hours<_.hours){if(w&&C)return!0}else if(w||C)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(m!==-1)return f[m]}return rb(n,i,r)[s<12?0:1];case 3:return sb(n,r)[t.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function Nc(t){return function(n,e,r){let i=-1*r,o=Bs(e,rr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+hn(s,2,o)+hn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+hn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+hn(s,2,o)+":"+hn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+hn(s,2,o)+":"+hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var aT=0,kc=4;function lT(t){let n=Pc(t,aT,1).getDay();return Pc(t,0,1+(n<=kc?kc:kc+7)-n)}function db(t){let n=t.getDay(),e=n===0?-3:kc-n;return Pc(t.getFullYear(),t.getMonth(),t.getDate()+e)}function bh(t,n=!1){return function(e,r){let i;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=db(e),s=lT(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return hn(i,t,Bs(r,rr.MinusSign))}}function Rc(t,n=!1){return function(e,r){let o=db(e).getFullYear();return hn(o,t,Bs(r,rr.MinusSign),n)}}var wh={};function cT(t){if(wh[t])return wh[t];let n;switch(t){case"G":case"GG":case"GGG":n=De(3,_e.Abbreviated);break;case"GGGG":n=De(3,_e.Wide);break;case"GGGGG":n=De(3,_e.Narrow);break;case"y":n=Ge(0,1,0,!1,!0);break;case"yy":n=Ge(0,2,0,!0,!0);break;case"yyy":n=Ge(0,3,0,!1,!0);break;case"yyyy":n=Ge(0,4,0,!1,!0);break;case"Y":n=Rc(1);break;case"YY":n=Rc(2,!0);break;case"YYY":n=Rc(3);break;case"YYYY":n=Rc(4);break;case"M":case"L":n=Ge(1,1,1);break;case"MM":case"LL":n=Ge(1,2,1);break;case"MMM":n=De(2,_e.Abbreviated);break;case"MMMM":n=De(2,_e.Wide);break;case"MMMMM":n=De(2,_e.Narrow);break;case"LLL":n=De(2,_e.Abbreviated,at.Standalone);break;case"LLLL":n=De(2,_e.Wide,at.Standalone);break;case"LLLLL":n=De(2,_e.Narrow,at.Standalone);break;case"w":n=bh(1);break;case"ww":n=bh(2);break;case"W":n=bh(1,!0);break;case"d":n=Ge(2,1);break;case"dd":n=Ge(2,2);break;case"c":case"cc":n=Ge(7,1);break;case"ccc":n=De(1,_e.Abbreviated,at.Standalone);break;case"cccc":n=De(1,_e.Wide,at.Standalone);break;case"ccccc":n=De(1,_e.Narrow,at.Standalone);break;case"cccccc":n=De(1,_e.Short,at.Standalone);break;case"E":case"EE":case"EEE":n=De(1,_e.Abbreviated);break;case"EEEE":n=De(1,_e.Wide);break;case"EEEEE":n=De(1,_e.Narrow);break;case"EEEEEE":n=De(1,_e.Short);break;case"a":case"aa":case"aaa":n=De(0,_e.Abbreviated);break;case"aaaa":n=De(0,_e.Wide);break;case"aaaaa":n=De(0,_e.Narrow);break;case"b":case"bb":case"bbb":n=De(0,_e.Abbreviated,at.Standalone,!0);break;case"bbbb":n=De(0,_e.Wide,at.Standalone,!0);break;case"bbbbb":n=De(0,_e.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":n=De(0,_e.Abbreviated,at.Format,!0);break;case"BBBB":n=De(0,_e.Wide,at.Format,!0);break;case"BBBBB":n=De(0,_e.Narrow,at.Format,!0);break;case"h":n=Ge(3,1,-12);break;case"hh":n=Ge(3,2,-12);break;case"H":n=Ge(3,1);break;case"HH":n=Ge(3,2);break;case"m":n=Ge(4,1);break;case"mm":n=Ge(4,2);break;case"s":n=Ge(5,1);break;case"ss":n=Ge(5,2);break;case"S":n=Ge(6,1);break;case"SS":n=Ge(6,2);break;case"SSS":n=Ge(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Nc(0);break;case"ZZZZZ":n=Nc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Nc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Nc(2);break;default:return null}return wh[t]=n,n}function fb(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function uT(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function dT(t,n,e){let i=t.getTimezoneOffset(),o=fb(n,i);return uT(t,-1*(o-i))}function fT(t){if(Q_(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Pc(i,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(nT))return pT(r)}let n=new Date(t);if(!Q_(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function pT(t){let n=new Date(0),e=0,r=0,i=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,l,c),n}function Q_(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ch=/\s+/,X_=[],ii=(()=>{class t{_ngEl;_renderer;initialClasses=X_;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Ch):X_}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Ch):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Ch).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(k(dn),k(Tn))};static \u0275dir=ge({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Fc=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},be=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Fc(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),eb(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);eb(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(k(uo),k(yc),k(gh))};static \u0275dir=ge({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function eb(t,n){t.context.$implicit=n.item}var te=(()=>{class t{_viewContainer;_context=new Lc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tb(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tb(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(k(uo),k(yc))};static \u0275dir=ge({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Lc=class{$implicit=null;ngIf=null};function tb(t,n){if(t&&!t.createEmbeddedView)throw new B(2020,!1)}function pb(t,n){return new B(2100,!1)}var Eh=class{createSubscription(n,e){return fn(()=>n.subscribe({next:e,error:r=>{throw r}}))}dispose(n){fn(()=>n.unsubscribe())}},Dh=class{createSubscription(n,e){return n.then(r=>e?.(r),r=>{throw r}),{unsubscribe:()=>{e=null}}}dispose(n){n.unsubscribe()}},hT=new Dh,mT=new Eh,Sh=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(gr(e))return hT;if(fh(e))return mT;throw pb(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(k(yr,16))};static \u0275pipe=ch({name:"async",type:t,pure:!1})}return t})();var gT="mediumDate",hb=new $(""),mb=new $(""),oi=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??gT,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ub(e,s,o||this.locale,a)}catch(s){throw pb(t,s.message)}}static \u0275fac=function(r){return new(r||t)(k(xc,16),k(hb,24),k(mb,24))};static \u0275pipe=ch({name:"date",type:t,pure:!0})}return t})();var q=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xn({type:t});static \u0275inj=Jn({})}return t})();function xh(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Ih="browser",gb="server";function Vc(t){return t===gb}var Us=class{};var vb=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>new Mh(E(et),window)})}return t})(),Mh=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=yT(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function yT(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var $c=new $(""),Nh=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(G($c),G(We))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),$s=class{_doc;constructor(n){this._doc=n}manager},Bc="ng-app-id";function yb(t){for(let n of t)n.remove()}function _b(t,n){let e=n.createElement("style");return e.textContent=t,e}function _T(t,n,e,r){let i=t.head?.querySelectorAll(`style[${Bc}="${n}"],link[${Bc}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Bc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Oh(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Rh=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Vc(o),_T(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,_b);r?.forEach(i=>this.addUsage(i,this.external,Oh))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(yb(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])yb(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,_b(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Oh(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Bc,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(G(et),G(Up),G(Hp,8),G(lo))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kh=/%COMP%/g;var wb="%COMP%",bT=`_nghost-${wb}`,wT=`_ngcontent-${wb}`,CT=!0,ET=new $("",{providedIn:"root",factory:()=>CT});function DT(t){return wT.replace(kh,t)}function ST(t){return bT.replace(kh,t)}function Cb(t,n){return n.map(e=>e.replace(kh,t))}var Ph=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,f=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=f,this.platformIsServer=Vc(a),this.defaultRenderer=new Hs(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xn.ShadowDom&&(r=oe(S({},r),{encapsulation:xn.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Uc?i.applyToHost(e):i instanceof zs&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case xn.Emulated:o=new Uc(l,c,r,this.appId,f,s,a,m,y);break;case xn.ShadowDom:return new Ah(l,c,e,r,s,a,this.nonce,m,y);default:o=new zs(l,c,r,f,s,a,m,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(G(Nh),G(Rh),G(Up),G(ET),G(et),G(lo),G(We),G(Hp),G(co,8))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Hs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Th[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(bb(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(bb(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new B(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=Th[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=Th[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Zn.DashCase|Zn.Important)?n.style.setProperty(e,r,i&Zn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Zn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=Qt().getGlobalEventTarget(this.doc,n),!n))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function bb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ah=class extends Hs{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=Cb(i.id,f);for(let y of f){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=y,this.shadowRoot.appendChild(h)}let m=i.getExternalStyles?.();if(m)for(let y of m){let h=Oh(y,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zs=class extends Hs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=c?Cb(c,f):f,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Uc=class extends zs{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l,c){let f=i+"-"+r.id;super(n,e,r,o,s,a,l,c,f),this.contentAttr=DT(f),this.hostAttr=ST(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var Hc=class t extends Ps{supportsDOMEvents=!0;static makeCurrent(){vh(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=xT();return e==null?null:IT(e)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return xh(document.cookie,n)}},Ws=null;function xT(){return Ws=Ws||document.head.querySelector("base"),Ws?Ws.getAttribute("href"):null}function IT(t){return new URL(t,document.baseURI).pathname}var MT=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Db=(()=>{class t extends $s{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(G(et))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Eb=["alt","control","meta","shift"],TT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OT={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Sb=(()=>{class t extends $s{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qt().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Eb.forEach(c=>{let f=r.indexOf(c);f>-1&&(r.splice(f,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=TT[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Eb.forEach(s=>{if(s!==i){let a=OT[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(G(et))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function Fh(t,n,e){return G_(S({rootComponent:t,platformRef:e?.platformRef},AT(n)))}function AT(t){return{appProviders:[...FT,...t?.providers??[]],platformProviders:PT}}function NT(){Hc.makeCurrent()}function RT(){return new Sn}function kT(){return qy(document),document}var PT=[{provide:lo,useValue:Ih},{provide:$p,useValue:NT,multi:!0},{provide:et,useFactory:kT}];var FT=[{provide:ic,useValue:"root"},{provide:Sn,useFactory:RT},{provide:$c,useClass:Db,multi:!0,deps:[et]},{provide:$c,useClass:Sb,multi:!0,deps:[et]},Ph,Rh,Nh,{provide:Xi,useExisting:Ph},{provide:Us,useClass:MT},[]];var xb=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(G(et))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Q="primary",ia=Symbol("RouteTitle"),Uh=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function li(t){return new Uh(t)}function kb(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jT(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Nn(t[e],n[e]))return!1;return!0}function Nn(t,n){let e=t?$h(t):void 0,r=n?$h(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Pb(t[i],n[i]))return!1;return!0}function $h(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Pb(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function Fb(t){return t.length>0?t[t.length-1]:null}function Dr(t){return hf(t)?t:gr(t)?Oe(Promise.resolve(t)):K(t)}var VT={exact:jb,subset:Vb},Lb={exact:BT,subset:UT,ignored:()=>!0};function Ib(t,n,e){return VT[e.paths](t.root,n.root,e.matrixParams)&&Lb[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function BT(t,n){return Nn(t,n)}function jb(t,n,e){if(!si(t.segments,n.segments)||!Gc(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!jb(t.children[r],n.children[r],e))return!1;return!0}function UT(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Pb(t[e],n[e]))}function Vb(t,n,e){return Bb(t,n,n.segments,e)}function Bb(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!si(i,e)||n.hasChildren()||!Gc(i,e,r))}else if(t.segments.length===e.length){if(!si(t.segments,e)||!Gc(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!Vb(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!si(t.segments,i)||!Gc(t.segments,i,r)||!t.children[Q]?!1:Bb(t.children[Q],n,o,r)}}function Gc(t,n,e){return n.every((r,i)=>Lb[e](t[i].parameters,r.parameters))}var kn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new pe([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=li(this.queryParams),this._queryParamMap}toString(){return zT.serialize(this)}},pe=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qc(this)}},br=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=li(this.parameters),this._parameterMap}toString(){return $b(this)}};function $T(t,n){return si(t,n)&&t.every((e,r)=>Nn(e.parameters,n[r].parameters))}function si(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function HT(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===Q&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Q&&(e=e.concat(n(i,r)))}),e}var ci=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>new wr,providedIn:"root"})}return t})(),wr=class{parse(n){let e=new zh(n);return new kn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Gs(n.root,!0)}`,r=qT(n.queryParams),i=typeof n.fragment=="string"?`#${WT(n.fragment)}`:"";return`${e}${r}${i}`}},zT=new wr;function qc(t){return t.segments.map(n=>$b(n)).join("/")}function Gs(t,n){if(!t.hasChildren())return qc(t);if(n){let e=t.children[Q]?Gs(t.children[Q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Gs(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=HT(t,(r,i)=>i===Q?[Gs(t.children[Q],!1)]:[`${i}:${Gs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Q]!=null?`${qc(t)}/${e[0]}`:`${qc(t)}/(${e.join("//")})`}}function Ub(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zc(t){return Ub(t).replace(/%3B/gi,";")}function WT(t){return encodeURI(t)}function Hh(t){return Ub(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zc(t){return decodeURIComponent(t)}function Mb(t){return Zc(t.replace(/\+/g,"%20"))}function $b(t){return`${Hh(t.path)}${GT(t.parameters)}`}function GT(t){return Object.entries(t).map(([n,e])=>`;${Hh(n)}=${Hh(e)}`).join("")}function qT(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${zc(e)}=${zc(i)}`).join("&"):`${zc(e)}=${zc(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var ZT=/^[^\/()?;#]+/;function Lh(t){let n=t.match(ZT);return n?n[0]:""}var KT=/^[^\/()?;=#]+/;function JT(t){let n=t.match(KT);return n?n[0]:""}var YT=/^[^=?&#]+/;function QT(t){let n=t.match(YT);return n?n[0]:""}var XT=/^[^&#]+/;function eO(t){let n=t.match(XT);return n?n[0]:""}var zh=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Q]=new pe(n,e)),r}parseSegment(){let n=Lh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(n),new br(Zc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=JT(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Lh(this.remaining);i&&(r=i,this.capture(r))}n[Zc(e)]=Zc(r)}parseQueryParam(n){let e=QT(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=eO(this.remaining);s&&(r=s,this.capture(r))}let i=Mb(e),o=Mb(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Q);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Q]:new pe([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new B(4011,!1)}};function Hb(t){return t.segments.length>0?new pe([],{[Q]:t}):t}function zb(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=zb(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new pe(t.segments,n);return tO(e)}function tO(t){if(t.numberOfChildren===1&&t.children[Q]){let n=t.children[Q];return new pe(t.segments.concat(n.segments),n.children)}return t}function Cr(t){return t instanceof kn}function Wb(t,n,e=null,r=null){let i=Gb(t);return qb(i,n,e,r)}function Gb(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new pe(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=Hb(r);return n??i}function qb(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return jh(i,i,i,e,r);let o=nO(n);if(o.toRoot())return jh(i,i,new pe([],{}),e,r);let s=rO(o,i,t),a=s.processChildren?Zs(s.segmentGroup,s.index,o.commands):Kb(s.segmentGroup,s.index,o.commands);return jh(i,s.segmentGroup,a,e,r)}function Jc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Js(t){return typeof t=="object"&&t!=null&&t.outlets}function jh(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`});let s;t===n?s=e:s=Zb(t,n,e);let a=Hb(zb(s));return new kn(a,o,i)}function Zb(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=Zb(o,n,e)}),new pe(t.segments,r)}var Yc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Jc(r[0]))throw new B(4003,!1);let i=r.find(Js);if(i&&i!==Fb(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yc(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Yc(e,n,r)}var mo=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function rO(t,n,e){if(t.isAbsolute)return new mo(n,!0,0);if(!e)return new mo(n,!1,NaN);if(e.parent===null)return new mo(e,!0,0);let r=Jc(t.commands[0])?0:1,i=e.segments.length-1+r;return iO(e,i,t.numberOfDoubleDots)}function iO(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new mo(r,!1,i-o)}function oO(t){return Js(t[0])?t[0].outlets:{[Q]:t}}function Kb(t,n,e){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Zs(t,n,e);let r=sO(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new pe(t.segments.slice(0,r.pathIndex),{});return o.children[Q]=new pe(t.segments.slice(r.pathIndex),t.children),Zs(o,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?Wh(t,n,e):r.match?Zs(t,0,i):Wh(t,n,e)}function Zs(t,n,e){if(e.length===0)return new pe(t.segments,{});{let r=oO(e),i={};if(Object.keys(r).some(o=>o!==Q)&&t.children[Q]&&t.numberOfChildren===1&&t.children[Q].segments.length===0){let o=Zs(t.children[Q],n,e);return new pe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Kb(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new pe(t.segments,i)}}function sO(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(Js(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Ob(l,c,s))return o;r+=2}else{if(!Ob(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wh(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(Js(o)){let l=aO(o.outlets);return new pe(r,l)}if(i===0&&Jc(e[0])){let l=t.segments[n];r.push(new br(l.path,Tb(e[0]))),i++;continue}let s=Js(o)?o.outlets[Q]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Jc(a)?(r.push(new br(s,Tb(a))),i+=2):(r.push(new br(s,{})),i++)}return new pe(r,{})}function aO(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=Wh(new pe([],{}),0,r))}),n}function Tb(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function Ob(t,n,e){return t==e.path&&Nn(n,e.parameters)}var Kc="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),Bt=class{id;url;constructor(n,e){this.id=n,this.url=e}},Er=class extends Bt{type=Qe.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ot=class extends Bt{urlAfterRedirects;type=Qe.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Tt||{}),vo=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(vo||{}),Rn=class extends Bt{reason;code;type=Qe.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pn=class extends Bt{reason;code;type=Qe.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},yo=class extends Bt{error;target;type=Qe.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ys=class extends Bt{urlAfterRedirects;state;type=Qe.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qc=class extends Bt{urlAfterRedirects;state;type=Qe.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xc=class extends Bt{urlAfterRedirects;state;shouldActivate;type=Qe.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},eu=class extends Bt{urlAfterRedirects;state;type=Qe.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tu=class extends Bt{urlAfterRedirects;state;type=Qe.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nu=class{route;type=Qe.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ru=class{route;type=Qe.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},iu=class{snapshot;type=Qe.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ou=class{snapshot;type=Qe.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{snapshot;type=Qe.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},au=class{snapshot;type=Qe.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_o=class{routerEvent;position;anchor;type=Qe.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Qs=class{},bo=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function lO(t,n){return t.providers&&!t._injector&&(t._injector=Ns(t.providers,n,`Route: ${t.path}`)),t._injector??n}function mn(t){return t.outlet||Q}function cO(t,n){let e=t.filter(r=>mn(r)===n);return e.push(...t.filter(r=>mn(r)!==n)),e}function oa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var lu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return oa(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new ui(this.rootInjector)}},ui=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new lu(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(G(Dt))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cu=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Gh(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=Gh(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=qh(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return qh(n,this._root).map(e=>e.value)}};function Gh(t,n){if(t===n.value)return n;for(let e of n.children){let r=Gh(t,e);if(r)return r}return null}function qh(t,n){if(t===n.value)return[n];for(let e of n.children){let r=qh(t,e);if(r.length)return r.unshift(n),r}return[]}var Vt=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function ho(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Xs=class extends cu{snapshot;constructor(n,e){super(n),this.snapshot=e,tm(this,n)}toString(){return this.snapshot.toString()}};function Jb(t){let n=uO(t),e=new Je([new br("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new At(e,r,o,s,i,Q,t,n.root);return a.snapshot=n.root,new Xs(new Vt(a,[]),n)}function uO(t){let n={},e={},r={},i="",o=new ai([],n,r,i,e,Q,t,null,{});return new ea("",new Vt(o,[]))}var At=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(c=>c[ia]))??K(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(n=>li(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(n=>li(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function uu(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:S(S({},n.params),t.params),data:S(S({},n.data),t.data),resolve:S(S(S(S({},t.data),n.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&Qb(i)&&(r.resolve[ia]=i.title),r}var ai=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ia]}constructor(n,e,r,i,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=li(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},ea=class extends cu{url;constructor(n,e){super(e),this.url=n,tm(this,e)}toString(){return Yb(this._root)}};function tm(t,n){n.value._routerState=t,n.children.forEach(e=>tm(t,e))}function Yb(t){let n=t.children.length>0?` { ${t.children.map(Yb).join(", ")} } `:"";return`${t.value}${n}`}function Vh(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Nn(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Nn(n.params,e.params)||t.paramsSubject.next(e.params),jT(n.url,e.url)||t.urlSubject.next(e.url),Nn(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zh(t,n){let e=Nn(t.params,n.params)&&$T(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Zh(t.parent,n.parent))}function Qb(t){return typeof t.title=="string"||t.title===null}var Xb=new $(""),sa=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=Vy(void 0);parentContexts=E(ui);location=E(uo);changeDetector=E(yr);inputBinder=E(aa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Kh(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ge({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[hr]})}return t})(),Kh=class{route;childContexts;parent;outletData;constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===At?this.route:n===ui?this.childContexts:n===Xb?this.outletData:this.parent.get(n,e)}},aa=new $(""),nm=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=gs([r.queryParams,r.params,r.data]).pipe(Wt(([o,s,a],l)=>(a=S(S(S({},o),s),a),l===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=q_(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),rm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=z({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&O(0,"router-outlet")},dependencies:[sa],encapsulation:2})}return t})();function im(t){let n=t.children&&t.children.map(im),e=n?oe(S({},t),{children:n}):S({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Q&&(e.component=rm),e}function dO(t,n,e){let r=ta(t,n._root,e?e._root:void 0);return new Xs(r,n)}function ta(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=fO(t,n,e);return new Vt(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ta(t,a)),s}}let r=pO(n.value),i=n.children.map(o=>ta(t,o));return new Vt(r,i)}}function fO(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ta(t,r,i);return ta(t,r)})}function pO(t){return new At(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var wo=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},ew="ngNavigationCancelingError";function du(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=Cr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=tw(!1,Tt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function tw(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[ew]=!0,e.cancellationCode=n,e}function hO(t){return nw(t)&&Cr(t.url)}function nw(t){return!!t&&t[ew]}var mO=(t,n,e,r)=>se(i=>(new Jh(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),Jh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Vh(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=ho(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=ho(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=ho(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=ho(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new au(o.value.snapshot))}),n.children.length&&this.forwardEvent(new ou(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(Vh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vh(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},fu=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},go=class{component;route;constructor(n,e){this.component=n,this.route=e}};function gO(t,n,e){let r=t._root,i=n?n._root:null;return qs(r,i,e,[r.value])}function vO(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Eo(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!Nv(t)?t:n.get(t):r}function qs(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ho(n);return t.children.forEach(s=>{yO(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ks(a,e.getContext(s),i)),i}function yO(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_O(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new fu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qs(t,n,a?a.children:null,r,i):qs(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new go(a.outlet.component,s))}else s&&Ks(n,a,i),i.canActivateChecks.push(new fu(r)),o.component?qs(t,null,a?a.children:null,r,i):qs(t,null,e,r,i);return i}function _O(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!si(t.url,n.url);case"pathParamsOrQueryParamsChange":return!si(t.url,n.url)||!Nn(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zh(t,n)||!Nn(t.queryParams,n.queryParams);case"paramsChange":default:return!Zh(t,n)}}function Ks(t,n,e){let r=ho(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Ks(s,n.children.getContext(o),e):Ks(s,null,e):Ks(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new go(n.outlet.component,i)):e.canDeactivateChecks.push(new go(null,i)):e.canDeactivateChecks.push(new go(null,i))}function la(t){return typeof t=="function"}function bO(t){return typeof t=="boolean"}function wO(t){return t&&la(t.canLoad)}function CO(t){return t&&la(t.canActivate)}function EO(t){return t&&la(t.canActivateChild)}function DO(t){return t&&la(t.canDeactivate)}function SO(t){return t&&la(t.canMatch)}function rw(t){return t instanceof $n||t?.name==="EmptyError"}var Wc=Symbol("INITIAL_VALUE");function Co(){return Wt(t=>gs(t.map(n=>n.pipe(zn(1),yf(Wc)))).pipe(se(n=>{for(let e of n)if(e!==!0){if(e===Wc)return Wc;if(e===!1||xO(e))return e}return!0}),pt(n=>n!==Wc),zn(1)))}function xO(t){return Cr(t)||t instanceof wo}function IO(t,n){return Ve(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?K(oe(S({},e),{guardsResult:!0})):MO(s,r,i,t).pipe(Ve(a=>a&&bO(a)?TO(r,o,t,n):K(a)),se(a=>oe(S({},e),{guardsResult:a})))})}function MO(t,n,e,r){return Oe(t).pipe(Ve(i=>kO(i.component,i.route,e,n,r)),Wn(i=>i!==!0,!0))}function TO(t,n,e,r){return Oe(n).pipe(ur(i=>ji(AO(i.route.parent,r),OO(i.route,r),RO(t,i.path,e),NO(t,i.route,e))),Wn(i=>i!==!0,!0))}function OO(t,n){return t!==null&&n&&n(new su(t)),K(!0)}function AO(t,n){return t!==null&&n&&n(new iu(t)),K(!0)}function NO(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>bl(()=>{let s=oa(n)??e,a=Eo(o,s),l=CO(a)?a.canActivate(n,t):Jt(s,()=>a(n,t));return Dr(l).pipe(Wn())}));return K(i).pipe(Co())}function RO(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>vO(s)).filter(s=>s!==null).map(s=>bl(()=>{let a=s.guards.map(l=>{let c=oa(s.node)??e,f=Eo(l,c),m=EO(f)?f.canActivateChild(r,t):Jt(c,()=>f(r,t));return Dr(m).pipe(Wn())});return K(a).pipe(Co())}));return K(o).pipe(Co())}function kO(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let l=oa(n)??i,c=Eo(a,l),f=DO(c)?c.canDeactivate(t,n,e,r):Jt(l,()=>c(t,n,e,r));return Dr(f).pipe(Wn())});return K(s).pipe(Co())}function PO(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=Eo(s,t),l=wO(a)?a.canLoad(n,e):Jt(t,()=>a(n,e));return Dr(l)});return K(o).pipe(Co(),iw(r))}function iw(t){return af(it(n=>{if(typeof n!="boolean")throw du(t,n)}),se(n=>n===!0))}function FO(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=Eo(s,t),l=SO(a)?a.canMatch(n,e):Jt(t,()=>a(n,e));return Dr(l)});return K(o).pipe(Co(),iw(r))}var na=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},ra=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function po(t){return Fi(new na(t))}function LO(t){return Fi(new B(4e3,!1))}function jO(t){return Fi(tw(!1,Tt.GuardRejected))}var Yh=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[Q])return LO(`${n.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:f,url:m,outlet:y,params:h,data:_,title:w}=i,C=Jt(o,()=>a({params:h,data:_,queryParams:l,fragment:c,routeConfig:f,url:m,outlet:y,title:w}));if(C instanceof kn)throw new ra(C);e=C}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new ra(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new kn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new pe(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},Qh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VO(t,n,e,r,i){let o=ow(t,n,e);return o.matched?(r=lO(n,r),FO(r,n,e,i).pipe(se(s=>s===!0?o:S({},Qh)))):K(o)}function ow(t,n,e){if(n.path==="**")return BO(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?S({},Qh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||kb)(e,t,n);if(!i)return S({},Qh);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function BO(t){return{matched:!0,parameters:t.length>0?Fb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ab(t,n,e,r){return e.length>0&&HO(t,e,r)?{segmentGroup:new pe(n,$O(r,new pe(e,t.children))),slicedSegments:[]}:e.length===0&&zO(t,e,r)?{segmentGroup:new pe(t.segments,UO(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:e}}function UO(t,n,e,r){let i={};for(let o of e)if(hu(t,n,o)&&!r[mn(o)]){let s=new pe([],{});i[mn(o)]=s}return S(S({},r),i)}function $O(t,n){let e={};e[Q]=n;for(let r of t)if(r.path===""&&mn(r)!==Q){let i=new pe([],{});e[mn(r)]=i}return e}function HO(t,n,e){return e.some(r=>hu(t,n,r)&&mn(r)!==Q)}function zO(t,n,e){return e.some(r=>hu(t,n,r))}function hu(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function WO(t,n,e){return n.length===0&&!t.children[e]}var Xh=class{};function GO(t,n,e,r,i,o,s="emptyOnly"){return new em(t,n,e,r,i,s,o).recognize()}var qO=31,em=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Yh(this.urlSerializer,this.urlTree)}noMatchError(n){return new B(4002,`'${n.segmentGroup}'`)}recognize(){let n=Ab(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(se(({children:e,rootSnapshot:r})=>{let i=new Vt(r,e),o=new ea("",i),s=Wb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new ai([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Q,e).pipe(se(r=>({children:r,rootSnapshot:e})),Hn(r=>{if(r instanceof ra)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof na?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Vt?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Oe(o).pipe(ur(s=>{let a=r.children[s],l=cO(e,s);return this.processSegmentGroup(n,l,a,s,i)}),vf((s,a)=>(s.push(...a),s)),dr(null),gf(),Ve(s=>{if(s===null)return po(r);let a=sw(s);return ZO(a),K(a)}))}processSegment(n,e,r,i,o,s,a){return Oe(e).pipe(ur(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(Hn(c=>{if(c instanceof na)return K(null);throw c}))),Wn(l=>!!l),Hn(l=>{if(rw(l))return WO(r,i,o)?K(new Xh):po(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return mn(r)!==s&&(s===Q||!hu(i,o,r))?po(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):po(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:f,positionalParamSegments:m,remainingSegments:y}=ow(e,i,o);if(!l)return po(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qO&&(this.allowRedirects=!1));let h=new ai(o,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Nb(i),mn(i),i.component??i._loadedComponent??null,i,Rb(i)),_=uu(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(_.params),h.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,m,h,n);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ve(C=>this.processSegment(n,r,e,C.concat(y),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=VO(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Wt(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(Wt(({routes:c})=>{let f=r._loadedInjector??n,{parameters:m,consumedSegments:y,remainingSegments:h}=l,_=new ai(y,m,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Nb(r),mn(r),r.component??r._loadedComponent??null,r,Rb(r)),w=uu(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:C,slicedSegments:D}=Ab(e,y,h,c);if(D.length===0&&C.hasChildren())return this.processChildren(f,c,C,_).pipe(se(j=>new Vt(_,j)));if(c.length===0&&D.length===0)return K(new Vt(_,[]));let ae=mn(r)===o;return this.processSegment(f,c,C,D,ae?Q:o,!0,_).pipe(se(j=>new Vt(_,j instanceof Vt?[j]:[])))}))):po(e)))}getChildConfig(n,e,r){return e.children?K({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?K({routes:e._loadedRoutes,injector:e._loadedInjector}):PO(n,e,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(n,e).pipe(it(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):jO(e))):K({routes:[],injector:n})}};function ZO(t){t.sort((n,e)=>n.value.outlet===Q?-1:e.value.outlet===Q?1:n.value.outlet.localeCompare(e.value.outlet))}function KO(t){let n=t.value.routeConfig;return n&&n.path===""}function sw(t){let n=[],e=new Set;for(let r of t){if(!KO(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=sw(r.children);n.push(new Vt(r.value,i))}return n.filter(r=>!e.has(r))}function Nb(t){return t.data||{}}function Rb(t){return t.resolve||{}}function JO(t,n,e,r,i,o){return Ve(s=>GO(t,n,e,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:l})=>oe(S({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function YO(t,n){return Ve(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return K(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of aw(l))s.add(c);let a=0;return Oe(s).pipe(ur(l=>o.has(l)?QO(l,r,t,n):(l.data=uu(l,l.parent,t).resolve,K(void 0))),it(()=>a++),Vi(1),Ve(l=>a===s.size?K(e):bt))})}function aw(t){let n=t.children.map(e=>aw(e)).flat();return[t,...n]}function QO(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Qb(i)&&(o[ia]=i.title),XO(o,t,n,r).pipe(se(s=>(t._resolvedData=s,t.data=uu(t,t.parent,e).resolve,null)))}function XO(t,n,e,r){let i=$h(t);if(i.length===0)return K({});let o={};return Oe(i).pipe(Ve(s=>eA(t[s],n,e,r).pipe(Wn(),it(a=>{if(a instanceof wo)throw du(new wr,a);o[s]=a}))),Vi(1),se(()=>o),Hn(s=>rw(s)?bt:Fi(s)))}function eA(t,n,e,r){let i=oa(n)??r,o=Eo(t,i),s=o.resolve?o.resolve(n,e):Jt(i,()=>o(n,e));return Dr(s)}function Bh(t){return Wt(n=>{let e=t(n);return e?Oe(e).pipe(se(()=>n)):K(n)})}var om=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(e){return e.data[ia]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>E(lw),providedIn:"root"})}return t})(),lw=(()=>{class t extends om{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(G(xb))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),di=new $("",{providedIn:"root",factory:()=>({})}),fi=new $(""),mu=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(W_);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return K(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Dr(e.loadComponent()).pipe(se(uw),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),vs(()=>{this.componentLoaders.delete(e)})),i=new Pi(r,()=>new He).pipe(ki());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cw(r,this.compiler,e,this.onLoadEndListener).pipe(vs(()=>{this.childrenLoaders.delete(r)})),s=new Pi(o,()=>new He).pipe(ki());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cw(t,n,e,r){return Dr(t.loadChildren()).pipe(se(uw),Ve(i=>i instanceof lh||Array.isArray(i)?K(i):Oe(n.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(fi,[],{optional:!0,self:!0}).flat()),{routes:s.map(im),injector:o}}))}function tA(t){return t&&typeof t=="object"&&"default"in t}function uw(t){return tA(t)?t.default:t}var gu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>E(nA),providedIn:"root"})}return t})(),nA=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sm=new $(""),am=new $("");function dw(t,n,e){let r=t.get(am),i=t.get(et);return t.get(We).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),rA(t))),{onViewTransitionCreated:l}=r;return l&&Jt(t,()=>l({transition:a,from:n,to:e})),s})}function rA(t){return new Promise(n=>{Wp({read:()=>setTimeout(n)},{injector:t})})}var lm=new $(""),vu=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new He;transitionAbortSubject=new He;configLoader=E(mu);environmentInjector=E(Dt);destroyRef=E(Os);urlSerializer=E(ci);rootContexts=E(ui);location=E(An);inputBindingEnabled=E(aa,{optional:!0})!==null;titleStrategy=E(om);options=E(di,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(gu);createViewTransition=E(sm,{optional:!0});navigationErrorHandler=E(lm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new nu(i)),r=i=>this.events.next(new ru(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(oe(S({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new Je(null),this.transitions.pipe(pt(r=>r!==null),Wt(r=>{let i=!1,o=!1;return K(r).pipe(Wt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Tt.SupersededByNewNavigation),bt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?oe(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Pn(s.id,this.urlSerializer.serialize(s.rawUrl),c,vo.IgnoredSameUrlNavigation)),s.resolve(!1),bt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return K(s).pipe(Wt(c=>(this.events.next(new Er(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?bt:Promise.resolve(c))),JO(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),it(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=oe(S({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let f=new Ys(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:f,source:m,restoredState:y,extras:h}=s,_=new Er(c,this.urlSerializer.serialize(f),m,y);this.events.next(_);let w=Jb(this.rootComponentType).snapshot;return this.currentTransition=r=oe(S({},s),{targetSnapshot:w,urlAfterRedirects:f,extras:oe(S({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,K(r)}else{let c="";return this.events.next(new Pn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,vo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),bt}}),it(s=>{let a=new Qc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),se(s=>(this.currentTransition=r=oe(S({},s),{guards:gO(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),IO(this.environmentInjector,s=>this.events.next(s)),it(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw du(this.urlSerializer,s.guardsResult);let a=new Xc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),pt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Tt.GuardRejected),!1)),Bh(s=>{if(s.guards.canActivateChecks.length!==0)return K(s).pipe(it(a=>{let l=new eu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Wt(a=>{let l=!1;return K(a).pipe(YO(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Tt.NoDataFromResolver)}}))}),it(a=>{let l=new tu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Bh(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(it(f=>{l.component=f}),se(()=>{})));for(let f of l.children)c.push(...a(f));return c};return gs(a(s.targetSnapshot.root)).pipe(dr(null),zn(1))}),Bh(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Oe(l).pipe(se(()=>r)):K(r)}),se(s=>{let a=dO(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=oe(S({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),it(()=>{this.events.next(new Qs)}),mO(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),zn(1),it({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ot(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),_f(this.transitionAbortSubject.pipe(it(s=>{throw s}))),vs(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(s=>{if(this.destroyed)return r.resolve(!1),bt;if(o=!0,nw(s))this.events.next(new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),hO(s)?this.events.next(new bo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new yo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Jt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof wo){let{message:c,cancellationCode:f}=du(this.urlSerializer,l);this.events.next(new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,f)),this.events.next(new bo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return bt}))}))}cancelNavigationTransition(e,r,i){let o=new Rn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iA(t){return t!==Kc}var fw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>E(oA),providedIn:"root"})}return t})(),pu=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},oA=(()=>{class t extends pu{static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pw=(()=>{class t{urlSerializer=E(ci);options=E(di,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(An);urlHandlingStrategy=E(gu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof kn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=Jb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:()=>E(sA),providedIn:"root"})}return t})(),sA=(()=>{class t extends pw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Er?this.updateStateMemento():e instanceof Pn?this.commitTransition(r):e instanceof Ys?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Qs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Rn&&(e.code===Tt.GuardRejected||e.code===Tt.NoDataFromResolver)?this.restoreHistory(r):e instanceof yo?this.restoreHistory(r,!0):e instanceof Ot&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=S(S({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",l)}else{let a=S(S({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yu(t,n){t.events.pipe(pt(e=>e instanceof Ot||e instanceof Rn||e instanceof yo||e instanceof Pn),se(e=>e instanceof Ot||e instanceof Pn?0:(e instanceof Rn?e.code===Tt.Redirect||e.code===Tt.SupersededByNewNavigation:!1)?2:1),pt(e=>e!==2),zn(1)).subscribe(()=>{n()})}var aA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},X=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(P_);stateManager=E(pw);options=E(di,{optional:!0})||{};pendingTasks=E(so);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(vu);urlSerializer=E(ci);location=E(An);urlHandlingStrategy=E(gu);_events=new He;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(fw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(fi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(aa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rn&&r.code!==Tt.Redirect&&r.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ot)this.navigated=!0;else if(r instanceof bo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||iA(i.source)},s);this.scheduleNavigation(a,Kc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}uA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=S({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(im),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=Gb(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return qb(m,e,f,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Cr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Kc,null,r)}navigate(e,r={skipLocationChange:!1}){return cA(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=S({},aA):r===!1?i=S({},lA):i=r,Cr(e))return Ib(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Ib(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((m,y)=>{a=m,l=y});let f=this.pendingTasks.add();return yu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cA(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new B(4008,!1)}function uA(t){return!(t instanceof Qs)&&!(t instanceof bo)}var Do=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new He;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Ot&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Cr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:r_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Cr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(k(X),k(At),jp("tabindex"),k(Tn),k(dn),k(Xt))};static \u0275dir=ge({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&A("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ye("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_r],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_r],replaceUrl:[2,"replaceUrl","replaceUrl",_r],routerLink:"routerLink"},features:[hr]})}return t})();var ca=class{};var hw=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(pt(e=>e instanceof Ot),ur(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ns(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Oe(i).pipe(Li())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=K(null);let o=i.pipe(Ve(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Oe([o,s]).pipe(Li())}else return o})}static \u0275fac=function(r){return new(r||t)(G(X),G(Dt),G(ca),G(mu))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mw=new $(""),dA=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ot?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Pn&&e.code===vo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _o&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _o(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){I_()};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function um(t,...n){return Dp([{provide:fi,multi:!0,useValue:t},[],{provide:At,useFactory:gw,deps:[X]},{provide:wc,multi:!0,useFactory:vw},n.map(e=>e.\u0275providers)])}function gw(t){return t.routerState.root}function So(t,n){return{\u0275kind:t,\u0275providers:n}}function vw(){let t=E(Kt);return n=>{let e=t.get(Xr);if(n!==e.components[0])return;let r=t.get(X),i=t.get(yw);t.get(dm)===1&&r.initialNavigation(),t.get(ww,null,ee.Optional)?.setUpPreloading(),t.get(mw,null,ee.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var yw=new $("",{factory:()=>new He}),dm=new $("",{providedIn:"root",factory:()=>1});function _w(){let t=[{provide:dm,useValue:0},ph(()=>{let n=E(Kt);return n.get(yh,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(X),o=n.get(yw);yu(i,()=>{r(!0)}),n.get(vu).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))})];return So(2,t)}function bw(){let t=[ph(()=>{E(X).setUpLocationChangeListener()}),{provide:dm,useValue:2}];return So(3,t)}var ww=new $("");function Cw(t){return So(0,[{provide:ww,useExisting:hw},{provide:ca,useExisting:t}])}function fm(){return So(6,[{provide:Xt,useClass:jc}])}function Ew(){return So(8,[nm,{provide:aa,useExisting:nm}])}function Dw(t){As("NgRouterViewTransitions");let n=[{provide:sm,useValue:dw},{provide:am,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return So(9,n)}var Sw=[An,{provide:ci,useClass:wr},X,ui,{provide:At,useFactory:gw,deps:[X]},mu,[]],ir=(()=>{class t{constructor(){}static forRoot(e,r){return{ngModule:t,providers:[Sw,[],{provide:fi,multi:!0,useValue:e},[],r?.errorHandler?{provide:lm,useValue:r.errorHandler}:[],{provide:di,useValue:r||{}},r?.useHash?pA():hA(),fA(),r?.preloadingStrategy?Cw(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?mA(r):[],r?.bindToComponentInputs?Ew().\u0275providers:[],r?.enableViewTransitions?Dw().\u0275providers:[],gA()]}}static forChild(e){return{ngModule:t,providers:[{provide:fi,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xn({type:t});static \u0275inj=Jn({})}return t})();function fA(){return{provide:mw,useFactory:()=>{let t=E(vb),n=E(We),e=E(di),r=E(vu),i=E(ci);return e.scrollOffset&&t.setOffset(e.scrollOffset),new dA(i,r,t,n,e)}}}function pA(){return{provide:Xt,useClass:jc}}function hA(){return{provide:Xt,useClass:Tc}}function mA(t){return[t.initialNavigation==="disabled"?bw().\u0275providers:[],t.initialNavigation==="enabledBlocking"?_w().\u0275providers:[]]}var cm=new $("");function gA(){return[{provide:cm,useFactory:vw},{provide:wc,multi:!0,useExisting:cm}]}var Tg=JE(mE(),1),{PostgrestError:q5,FunctionsHttpError:Z5,FunctionsFetchError:K5,FunctionsRelayError:J5,FunctionsError:Y5,FunctionRegion:Q5,SupabaseClient:X5,createClient:gE,GoTrueAdminApi:e8,GoTrueClient:t8,AuthAdminApi:n8,AuthClient:r8,navigatorLock:i8,NavigatorLockAcquireTimeoutError:o8,lockInternals:s8,processLock:a8,SIGN_OUT_SCOPES:l8,AuthError:c8,AuthApiError:u8,AuthUnknownError:d8,CustomAuthError:f8,AuthSessionMissingError:p8,AuthInvalidTokenResponseError:h8,AuthInvalidCredentialsError:m8,AuthImplicitGrantRedirectError:g8,AuthPKCEGrantCodeExchangeError:v8,AuthRetryableFetchError:y8,AuthWeakPasswordError:_8,AuthInvalidJwtError:b8,isAuthError:w8,isAuthApiError:C8,isAuthSessionMissingError:E8,isAuthImplicitGrantRedirectError:D8,isAuthRetryableFetchError:S8,isAuthWeakPasswordError:x8,RealtimePresence:I8,RealtimeChannel:M8,RealtimeClient:T8,REALTIME_LISTEN_TYPES:O8,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:A8,REALTIME_PRESENCE_LISTEN_EVENTS:N8,REALTIME_SUBSCRIBE_STATES:R8,REALTIME_CHANNEL_STATES:k8}=Tg.default||Tg;var ct=class t{supabase;constructor(){this.supabase=gE("https://xnhkyqflvfqjbmcbzzct.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuaGt5cWZsdmZxamJtY2J6emN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MDE5NDUsImV4cCI6MjA4MDk3Nzk0NX0.0Wjj_6kClOznswEo2hijdOf9XQ75WwfhkeWXRfEw9jI")}signInWithEmail(n,e){return this.supabase.auth.signInWithPassword({email:n,password:e})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/sportscenterchampionships/"}})}get client(){return this.supabase}getUser(){return this.supabase.auth.getUser().then(n=>n.data.user)}signUp(n,e){return this.supabase.auth.signUp({email:n,password:e,options:{emailRedirectTo:window.location.origin+"/sportscenterchampionships/"}})}signIn(n,e){return this.supabase.auth.signInWithPassword({email:n,password:e})}signOut(){return this.supabase.auth.signOut()}getPublicAvatarUrl(n){return this.supabase.storage.from("avatars").getPublicUrl(n).data.publicUrl}uploadAvatar(n){return v(this,null,function*(){let e=yield this.getUser();if(!e)throw new Error("User not authenticated");let r=`avatars/${e.id}.jpg`,{error:i}=yield this.supabase.storage.from("avatars").upload(r,n,{upsert:!0});if(i)throw i;let{data:o}=this.supabase.storage.from("avatars").getPublicUrl(r);return o.publicUrl})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var od=class t{constructor(n){this.supabase=n}ngOnInit(){}static \u0275fac=function(e){return new(e||t)(k(ct))};static \u0275cmp=z({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){e&1&&O(0,"router-outlet")},dependencies:[sa],encapsulation:2})};var sd=class t{constructor(n,e){this.sb=n;this.router=e;this.sb.supabase.auth.getSession().then(({data:r})=>{this._user$.next(r.session?.user??null)}),this.sb.supabase.auth.onAuthStateChange((r,i)=>v(this,null,function*(){if(this._user$.next(i?.user??null),console.log(i?.user),i?.user){let{data:o}=yield this.sb.supabase.from("users").select("mail").eq("mail",this._user$.value.email).single();o?this.router.navigate(["/user-dashboard"]):this.router.navigate(["/user-onboarding"])}}))}_user$=new Je(null);user$=this._user$.asObservable();logout(){return v(this,null,function*(){yield this.sb.supabase.auth.signOut()})}static \u0275fac=function(e){return new(e||t)(G(ct),G(X))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};function $N(t,n){if(t&1){let e=ie();ni(0),u(1,"button",8),A("click",function(){F(e);let i=M();return L(i.logout())}),p(2," Logout "),d(),O(3,"img",9),ri()}if(t&2){let e=n.ngIf;g(3),b("src",(e.user_metadata==null?null:e.user_metadata.avatar_url)||"assets/images/default-avatar.png",Fe)}}function HN(t,n){if(t&1){let e=ie();u(0,"button",8),A("click",function(){F(e);let i=M();return L(i.login())}),p(1," Login "),d()}}function zN(t,n){if(t&1){let e=ie();u(0,"li",10)(1,"button",8),A("click",function(){F(e);let i=M();return L(i.logout())}),p(2," Logout "),d(),O(3,"img",9),d()}if(t&2){let e=n.ngIf;g(3),b("src",(e.user_metadata==null?null:e.user_metadata.avatar_url)||"assets/images/default-avatar.jpg",Fe)}}function WN(t,n){if(t&1){let e=ie();u(0,"li",10)(1,"button",8),A("click",function(){F(e);let i=M();return L(i.login())}),p(2," Login "),d()()}}var ad=class t{constructor(n,e,r){this.authService=n;this.supabase=e;this.router=r;this.user$=this.authService.user$}user$;login(){this.router.navigateByUrl("/login")}logout(){this.authService.logout()}loginWithGoogle(){this.supabase.signInWithGoogle()}static \u0275fac=function(e){return new(e||t)(k(sd),k(ct),k(X))};static \u0275cmp=z({type:t,selectors:[["app-header"]],decls:14,vars:10,consts:[["showLogin",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","main-navbar"],[1,"container-fluid","d-flex","align-items-center"],["href","#",1,"navbar-brand","fw-bold","d-none","d-lg-block"],[1,"flex-grow-1"],[1,"d-lg-none","d-flex","align-items-center","gap-2"],[4,"ngIf","ngIfElse"],["class","nav-item ms-3 d-none d-lg-flex align-items-center gap-2",4,"ngIf"],[1,"btn","btn-light","btn-sm","rounded-pill","fw-bold",3,"click"],["alt","avatar",1,"user-avatar",3,"src"],[1,"nav-item","ms-3","d-none","d-lg-flex","align-items-center","gap-2"]],template:function(e,r){if(e&1&&(u(0,"nav",1)(1,"div",2)(2,"a",3),p(3," Sports Championships "),d(),O(4,"div",4),u(5,"div",5),R(6,$N,4,1,"ng-container",6),On(7,"async"),R(8,HN,2,0,"ng-template",null,0,Sc),d(),R(10,zN,4,1,"li",7),On(11,"async"),R(12,WN,3,0,"li",7),On(13,"async"),d()()),e&2){let i=vr(9);g(6),b("ngIf",Dc(7,4,r.user$))("ngIfElse",i),g(4),b("ngIf",Dc(11,6,r.user$)),g(2),b("ngIf",Dc(13,8,r.user$)===null)}},dependencies:[q,te,Sh],styles:[".main-navbar[_ngcontent-%COMP%]{background:transparent;padding:.75rem 1rem;z-index:3}.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.7);transition:all .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3}.btn-light[_ngcontent-%COMP%]{color:#333;transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border:2px solid #fff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px;border-radius:.5rem}.navbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.35rem 1rem;font-size:.875rem}.main-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 6px #00000040}.navbar-collapse[_ngcontent-%COMP%]{background-color:#0f172af2;margin-top:.5rem}"]})};var Yo=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"app-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-links"],["href","#"],[1,"footer-bottom"]],template:function(e,r){e&1&&(u(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),p(4,"Sports Championships"),d(),u(5,"p"),p(6,"Organiza, compite y disfruta de tu deporte favorito"),d()(),u(7,"div",3)(8,"a",4),p(9,"Aviso legal"),d(),u(10,"a",4),p(11,"Privacidad"),d()()(),u(12,"div",5),p(13," \xA9 2025 Sports Center Championships \xB7 Todos los derechos reservados "),d()())},styles:[".app-footer[_ngcontent-%COMP%]{background:#0f172a;color:#cbd5e1;padding:1rem;margin-top:4rem}.footer-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:2rem;text-align:center}.footer-brand[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#fff}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;font-size:.9rem;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.8rem;color:#94a3b8}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;text-align:left}.footer-links[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};function GN(t,n){if(t&1&&(u(0,"small",11),p(1),On(2,"date"),d()),t&2){let e=M(2);g(),Ae(" ",fo(2,1,e.game.date,"dd MMM \xB7 HH:mm")," ")}}function qN(t,n){if(t&1&&(u(0,"small",11),p(1),d()),t&2){let e=M(2);g(),Ae(" \u{1F4CD} ",e.game.location," ")}}function ZN(t,n){if(t&1&&(u(0,"div",12)(1,"div",13),p(2,"Resultado oficial"),d(),u(3,"div",14),p(4),d()()),t&2){let e=M(2);g(4),W(e.game.result)}}function KN(t,n){t&1&&(u(0,"button",15),p(1," Introducir resultado "),d())}function JN(t,n){t&1&&(u(0,"button",16),p(1," Planificar partido "),d())}function YN(t,n){if(t&1){let e=ie();u(0,"div",1),A("click",function(){F(e);let i=M();return L(i.onOpenGame())}),O(1,"img",2),u(2,"div",3)(3,"div",4)(4,"small",5),p(5),d(),u(6,"div",6),p(7),d(),R(8,GN,3,4,"small",7),O(9,"br"),R(10,qN,2,1,"small",7)(11,ZN,5,1,"div",8)(12,KN,2,0,"button",9)(13,JN,2,0,"button",10),d()()()}if(t&2){let e=M();g(),b("src",e.getGameImage(e.game.sport_name||""),Fe),g(4),Ae(" ",e.game.status||"unplanned"," "),g(2),er(" ",e.game.team1==null?null:e.game.team1.name," vs ",e.game.team2==null?null:e.game.team2.name," "),g(),b("ngIf",e.game.date),g(2),b("ngIf",e.game.location),g(),b("ngIf",e.game.status==="completed"&&e.game.result),g(),b("ngIf",e.game.status==="scheduled"),g(),b("ngIf",!e.game.status)}}var Qo=class t{game=null;router=E(X);getGameImage(n){switch(n){case"tennis":return"assets/images/sports/tennis/tennis-field-1.jpeg";case"padel":return"assets/images/sports/padel/padel-field-1.jpeg";default:return"assets/images/default-field.jpg"}}onOpenGame(){this.game&&this.router.navigate(["/game"],{state:{gameCard:this.game}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-game-card"]],inputs:{game:"game"},decls:1,vars:1,consts:[["class","next-game-card",3,"click",4,"ngIf"],[1,"next-game-card",3,"click"],["alt","Campo de juego",1,"next-game-img",3,"src"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"badge","bg-dark","text-uppercase","mb-1"],[1,"fw-semibold","small"],["class","text-white-50",4,"ngIf"],["class","result-box mt-2",4,"ngIf"],["class","btn btn-sm btn-light mt-2",4,"ngIf"],["class","btn btn-sm btn-primary mt-2",4,"ngIf"],[1,"text-white-50"],[1,"result-box","mt-2"],[1,"result-title"],[1,"result-score"],[1,"btn","btn-sm","btn-light","mt-2"],[1,"btn","btn-sm","btn-primary","mt-2"]],template:function(e,r){e&1&&R(0,YN,14,9,"div",0),e&2&&b("ngIf",r.game)},dependencies:[q,te,oi],styles:[".next-game-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}"]})};function QN(t,n){if(t&1&&O(0,"app-game-card",10),t&2){let e=n.$implicit;b("game",e)}}function XN(t,n){t&1&&(u(0,"div",11)(1,"div",12),O(2,"img",13),u(3,"div",14)(4,"div",15)(5,"p",16),p(6,"No tienes partidos"),d(),u(7,"small"),p(8,"Crea o \xFAnete a un equipo/campeonato para ver tus pr\xF3ximos partidos."),d()()()()())}var Xo=class t{constructor(n){this.router=n}games;ngOnInit(){if(!this.games){let n=[{id:1,competition_id:1,date:"2025-01-22T18:30:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:3,team1:{id:101,name:"Ace Masters",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:102,name:"Clay Warriors",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"completed",result:"6-4, 3-6, 7-6"},{id:2,competition_id:2,date:"2025-01-25T19:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,team1:{id:201,name:"Padel Smash",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:202,name:"Golden Racket",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:3,competition_id:1,date:"2025-01-24T20:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:3,team1:{id:103,name:"Topspin United",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:104,name:"Baseline Kings",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"pending"},{id:4,competition_id:2,date:"2025-01-27T21:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,team1:{id:203,name:"Red Net Padel",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:204,name:"Vibora Team",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"}},{id:5,competition_id:3,date:"2025-01-29T18:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:4,team1:{id:105,name:"Match Point",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:106,name:"Deuce Squad",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"}];this.games=n}}onOpenCalendar(){this.router.navigate(["/games"])}static \u0275fac=function(e){return new(e||t)(k(X))};static \u0275cmp=z({type:t,selectors:[["app-my-games"]],inputs:{games:"games"},decls:11,vars:2,consts:[[1,"my-games-section"],[1,"container"],[1,"section-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-3"],[1,"d-flex","align-items-center","gap-2"],["title","Ver calendario",1,"action-btn",3,"click"],["src","assets/icons/calendar.png","alt","Calendario",1,"button-icon"],[1,"my-games-scroll"],[3,"game",4,"ngFor","ngForOf"],["class","empty-card",4,"ngIf"],[3,"game"],[1,"empty-card"],[1,"empty-card-body"],["src","assets/images/sports-center.jpeg","alt","Sin partidos",1,"empty-img"],[1,"empty-overlay"],[1,"empty-info"],[1,"mb-1","fw-bold"]],template:function(e,r){e&1&&(u(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),p(4,"Mis partidos"),d(),u(5,"div",4)(6,"button",5),A("click",function(){return r.onOpenCalendar()}),O(7,"img",6),d()()(),u(8,"div",7),R(9,QN,1,1,"app-game-card",8)(10,XN,9,0,"div",9),d()()()),e&2&&(g(9),b("ngForOf",r.games),g(),b("ngIf",!r.games||r.games.length===0))},dependencies:[q,be,te,Qo],styles:[".my-games-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-games-scroll[_ngcontent-%COMP%]   app-game-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.my-games-scroll[_ngcontent-%COMP%]   .empty-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.empty-card-body[_ngcontent-%COMP%]{position:relative;width:100%;border-radius:12px;overflow:hidden;background:#f2f2f2}.empty-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover;filter:grayscale(20%)}.empty-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000a6,#0003);display:flex;align-items:flex-end}.empty-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}.button-icon[_ngcontent-%COMP%]{width:24px;height:24px}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.4rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;box-shadow:0 1px 2px #0000000f;cursor:pointer;transition:background .2s ease,box-shadow .2s ease,transform .06s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7;box-shadow:0 2px 6px #0000001f}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}@media (min-width: 768px){.my-games-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.my-games-scroll[_ngcontent-%COMP%]   app-game-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem);scroll-snap-align:unset}.my-games-scroll[_ngcontent-%COMP%]   .empty-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem);scroll-snap-align:unset}}"]})};function eR(t,n){if(t&1&&(u(0,"div",21)(1,"div",22),O(2,"div",23),u(3,"div",24)(4,"h5",25),p(5),d(),u(6,"small",26),p(7),d()()()()),t&2){let e=n.$implicit;g(2),Rs("background-image","url("+e.image+")"),g(),b("ngClass",e.color),g(2),W(e.name),g(2),W(e.nextEvent)}}var ld=class t{sports=[{id:4,name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",nextEvent:"28 Sep \xB7 21:00"},{id:3,name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",nextEvent:"25 Sep \xB7 10:00"},{id:2,name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",nextEvent:"22 Sep \xB7 19:30"},{id:1,name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",nextEvent:"20 Sep \xB7 18:00"}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-home"]],decls:72,vars:1,consts:[[1,"hero-header"],[1,"hero-overlay"],[1,"container","hero-content"],[1,"display-5","fw-bold","text-white"],[1,"text-white-50","mt-2"],[1,"sports-section"],[1,"container"],[1,"fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"how-it-works-section"],[1,"fw-bold","mb-3"],[1,"text-muted","mb-3"],[1,"list-unstyled","rules-list"],[1,"features-section"],[1,"row","g-4","text-center"],[1,"col-12","col-md-4"],[1,"feature-item"],[1,"feature-icon","icon-league"],[1,"feature-icon","icon-notify"],[1,"feature-icon","icon-free"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"sport-card","shadow-sm","h-100"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],[1,"text-white","fw-bold","mb-1"],[1,"text-white-50"]],template:function(e,r){e&1&&(u(0,"section",0),O(1,"app-header")(2,"div",1),u(3,"div",2)(4,"h1",3),p(5," Sportify Championships "),d(),u(6,"p",4),p(7," Crea, gestiona y compite en ligas de tu deporte favorito "),d()()(),O(8,"app-my-games"),u(9,"section",5)(10,"div",6)(11,"h2",7),p(12,"Deportes"),d(),u(13,"div",8),R(14,eR,8,5,"div",9),d()()(),u(15,"section",10)(16,"div",6)(17,"h2",11),p(18,"C\xF3mo funciona"),d(),u(19,"p",12),p(20,"\u26A1 Reglas r\xE1pidas"),d(),u(21,"ul",13)(22,"li"),p(23,"Todos los jugadores deben crear un usuario."),d(),u(24,"li"),p(25,"Las ligas se juegan por equipos, no por jugadores."),d(),u(26,"li"),p(27,"Puedes crear o unirte a equipos y ligas, tantas como desees."),d(),u(28,"li"),p(29,"Al iniciarse una liga, se genera el calendario autom\xE1ticamente."),d(),u(30,"li"),p(31,"Se juega una jornada por semana (o m\xE1s si hay acuerdo)."),d(),u(32,"li"),p(33,"Los equipos definen su disponibilidad."),d(),u(34,"li"),p(35,"El equipo local organiza el partido y busca pista."),d(),u(36,"li"),p(37,"La reserva de pista se hace fuera de la app de Sportify."),d(),u(38,"li"),p(39,"Tras el partido, se introduce el resultado."),d(),u(40,"li"),p(41,"La clasificaci\xF3n se actualiza autom\xE1ticamente."),d(),u(42,"li"),p(43,"Al finalizar la liga, se puede reiniciar o crear una nueva."),d()()()(),u(44,"section",14)(45,"div",6)(46,"div",15)(47,"div",16)(48,"div",17)(49,"div",18),p(50,"\u{1F3C6}"),d(),u(51,"h5"),p(52,"Crea y compite"),d(),u(53,"p"),p(54,"Crea y ap\xFAntate a ligas de tu deporte favorito"),d()()(),u(55,"div",16)(56,"div",17)(57,"div",19),p(58,"\u{1F514}"),d(),u(59,"h5"),p(60,"Notificaciones"),d(),u(61,"p"),p(62,"Recibe avisos de partidos, resultados y cambios"),d()()(),u(63,"div",16)(64,"div",17)(65,"div",20),p(66,"\u{1F389}"),d(),u(67,"h5"),p(68,"100% gratis"),d(),u(69,"p"),p(70,"Sin costes ocultos, ahora y siempre"),d()()()()()(),O(71,"app-footer")),e&2&&(g(14),b("ngForOf",r.sports))},dependencies:[q,ii,be,ad,Yo,Xo],styles:['.hero-header[_ngcontent-%COMP%]{position:relative;min-height:45vh;background-image:url(/sportscenterchampionships/assets/images/homeHeader.jpeg);background-size:cover;background-position:center;display:flex;flex-direction:column}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0000,#00000080);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:auto;padding-bottom:3rem;max-width:720px}@media (max-width: 768px){.hero-header[_ngcontent-%COMP%]{min-height:23vh}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.title-section[_ngcontent-%COMP%]{position:relative;height:40vh;overflow:hidden;display:flex;align-items:center}.title-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}.title-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:720px}.sports-section[_ngcontent-%COMP%]{margin-top:.5rem}.sport-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.sport-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 25px #0003}.sport-image[_ngcontent-%COMP%]{height:180px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:16px}.features-section[_ngcontent-%COMP%]{padding:3rem 0;background-color:#f8f9fa}.feature-item[_ngcontent-%COMP%]{padding:1.75rem 1.25rem;border-radius:16px;background:#fff;height:100%;transition:transform .25s ease,box-shadow .25s ease}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014}.feature-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto .75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff}.feature-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.35rem;color:#222}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;line-height:1.4}@media (max-width: 576px){.feature-item[_ngcontent-%COMP%]{padding:1.25rem}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.icon-league[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7fa9c4,#6c96b1)}.icon-notify[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fbf9f,#7eaf90)}.icon-free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f2b36d,#c97a5a)}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:.5rem;font-weight:600;color:#222}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.5;margin:0}@media (min-width: 768px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.title-section[_ngcontent-%COMP%]{margin-top:3.4rem;height:10vh}.title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.sport-image[_ngcontent-%COMP%]{height:110px}@media (max-width: 576px){.sports-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.sport-body[_ngcontent-%COMP%]{padding:12px}.sport-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.95rem}.sport-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 768px){.sport-image[_ngcontent-%COMP%]{height:180px}}.how-it-works-section[_ngcontent-%COMP%]{padding:2.5rem 0 2rem;background:#fff}.how-it-works-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#222}.how-it-works-section[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.rules-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.75rem;margin:0;padding:0}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;background:#f8f9fa;border:1px solid #eef1f4;border-radius:12px;padding:.75rem .9rem .75rem 2.25rem;position:relative;color:#333}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2714";position:absolute;left:.8rem;top:50%;transform:translateY(-50%);width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;font-size:.9rem;color:#2e7d32}.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f1f4f8;border-color:#e2e6ea}@media (min-width: 768px){.rules-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){.rules-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:2rem;font-size:.95rem}}']})};var SE=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(k(Tn),k(dn))};static \u0275dir=ge({type:t})}return t})(),ka=(()=>{class t extends SE{static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,features:[st]})}return t})(),rs=new $(""),tR={provide:rs,useExisting:gt(()=>Ii),multi:!0},Ii=(()=>{class t extends ka{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[jt([tR]),st]})}return t})(),nR={provide:rs,useExisting:gt(()=>Re),multi:!0};function rR(){let t=Qt()?Qt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var iR=new $(""),Re=(()=>{class t extends SE{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!rR())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(k(Tn),k(dn),k(iR,8))};static \u0275dir=ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[jt([nR]),st]})}return t})();function xE(t){return t==null||IE(t)===0}function IE(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Mi=new $(""),ME=new $("");function oR(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function sR(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function aR(t){return xE(t.value)?{required:!0}:null}function lR(t){return n=>{let e=n.value?.length??IE(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function cR(t){if(!t)return Og;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(xE(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Og(t){return null}function TE(t){return t!=null}function OE(t){return gr(t)?Oe(t):t}function AE(t){let n={};return t.forEach(e=>{n=e!=null?S(S({},n),e):n}),Object.keys(n).length===0?null:n}function NE(t,n){return n.map(e=>e(t))}function uR(t){return!t.validate}function RE(t){return t.map(n=>uR(n)?n:e=>n.validate(e))}function dR(t){if(!t)return null;let n=t.filter(TE);return n.length==0?null:function(e){return AE(NE(e,n))}}function kg(t){return t!=null?dR(RE(t)):null}function fR(t){if(!t)return null;let n=t.filter(TE);return n.length==0?null:function(e){let r=NE(e,n).map(OE);return mf(r).pipe(se(AE))}}function Pg(t){return t!=null?fR(RE(t)):null}function vE(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function pR(t){return t._rawValidators}function hR(t){return t._rawAsyncValidators}function Ag(t){return t?Array.isArray(t)?t:[t]:[]}function ud(t,n){return Array.isArray(t)?t.includes(n):t===n}function yE(t,n){let e=Ag(n);return Ag(t).forEach(i=>{ud(e,i)||e.push(i)}),e}function _E(t,n){return Ag(n).filter(e=>!ud(t,e))}var dd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=kg(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Pg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},ns=class extends dd{name;get formDirective(){return null}get path(){return null}},Ra=class extends dd{_parent=null;name=null;valueAccessor=null},fd=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},mR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},C6=oe(S({},mR),{"[class.ng-submitted]":"isSubmitted"}),Le=(()=>{class t extends fd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(k(Ra,2))};static \u0275dir=ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Lt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[st]})}return t})(),rn=(()=>{class t extends fd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(k(ns,10))};static \u0275dir=ge({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Lt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[st]})}return t})();var Ma="VALID",cd="INVALID",es="PENDING",Ta="DISABLED",jr=class{},pd=class extends jr{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Aa=class extends jr{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Na=class extends jr{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},ts=class extends jr{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Ng=class extends jr{source;constructor(n){super(),this.source=n}},Rg=class extends jr{source;constructor(n){super(),this.source=n}};function kE(t){return(gd(t)?t.validators:t)||null}function gR(t){return Array.isArray(t)?kg(t):t||null}function PE(t,n){return(gd(n)?n.asyncValidators:t)||null}function vR(t){return Array.isArray(t)?Pg(t):t||null}function gd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function yR(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new B(1e3,"");if(!r[e])throw new B(1001,"")}function _R(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new B(1002,"")})}var hd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return fn(this.statusReactive)}set status(n){fn(()=>this.statusReactive.set(n))}_status=tr(()=>this.statusReactive());statusReactive=Mn(void 0);get valid(){return this.status===Ma}get invalid(){return this.status===cd}get pending(){return this.status==es}get disabled(){return this.status===Ta}get enabled(){return this.status!==Ta}errors;get pristine(){return fn(this.pristineReactive)}set pristine(n){fn(()=>this.pristineReactive.set(n))}_pristine=tr(()=>this.pristineReactive());pristineReactive=Mn(!0);get dirty(){return!this.pristine}get touched(){return fn(this.touchedReactive)}set touched(n){fn(()=>this.touchedReactive.set(n))}_touched=tr(()=>this.touchedReactive());touchedReactive=Mn(!1);get untouched(){return!this.touched}_events=new He;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(yE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(yE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(_E(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(_E(n,this._rawAsyncValidators))}hasValidator(n){return ud(this._rawValidators,n)}hasAsyncValidator(n){return ud(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(oe(S({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Na(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Na(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(oe(S({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Aa(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new Aa(!0,r))}markAsPending(n={}){this.status=es;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ts(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(oe(S({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ta,this.errors=null,this._forEachChild(i=>{i.disable(oe(S({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new pd(this.value,r)),this._events.next(new ts(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(S({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ma,this._forEachChild(r=>{r.enable(oe(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(oe(S({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ma||this.status===es)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new pd(this.value,e)),this._events.next(new ts(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(oe(S({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ta:Ma}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=es,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=OE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new ts(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Ta:this.errors?cd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(es)?es:this._anyControlsHaveStatus(cd)?cd:Ma}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new Aa(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Na(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){gd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=gR(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=vR(this._rawAsyncValidators)}},md=class extends hd{constructor(n,e,r){super(kE(e),PE(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){_R(this,!0,n),Object.keys(n).forEach(r=>{yR(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Fg=new $("",{providedIn:"root",factory:()=>Lg}),Lg="always";function bR(t,n){return[...n.path,t]}function FE(t,n,e=Lg){LE(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),CR(t,n),DR(t,n),ER(t,n),wR(t,n)}function bE(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function wR(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function LE(t,n){let e=pR(t);n.validator!==null?t.setValidators(vE(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=hR(t);n.asyncValidator!==null?t.setAsyncValidators(vE(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bE(n._rawValidators,i),bE(n._rawAsyncValidators,i)}function CR(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&jE(t,n)})}function ER(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&jE(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function jE(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function DR(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function SR(t,n){t==null,LE(t,n)}function xR(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function IR(t){return Object.getPrototypeOf(t.constructor)===ka}function MR(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function TR(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===Re?e=o:IR(o)?r=o:i=o}),i||r||e||null}var OR={provide:ns,useExisting:gt(()=>Ht)},Oa=Promise.resolve(),Ht=(()=>{class t extends ns{callSetDisabledState;get submitted(){return fn(this.submittedReactive)}_submitted=tr(()=>this.submittedReactive());submittedReactive=Mn(!1);_directives=new Set;form;ngSubmit=new we;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new md({},kg(e),Pg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Oa.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),FE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Oa.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Oa.then(()=>{let r=this._findContainer(e.path),i=new md({});SR(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Oa.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Oa.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),MR(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Ng(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Rg(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(k(Mi,10),k(ME,10),k(Fg,8))};static \u0275dir=ge({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&A("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jt([OR]),st]})}return t})();function wE(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function CE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var AR=class extends hd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(kE(e),PE(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(CE(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){wE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){wE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){CE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var NR={provide:Ra,useExisting:gt(()=>Pe)},EE=Promise.resolve(),Pe=(()=>{class t extends Ra{_changeDetectorRef;callSetDisabledState;control=new AR;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new we;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=TR(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),xR(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){FE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){EE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&_r(r);EE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?bR(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(k(ns,9),k(Mi,10),k(ME,10),k(rs,10),k(yr,8),k(Fg,8))};static \u0275dir=ge({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[jt([NR]),st,hr]})}return t})();var on=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ge({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),RR={provide:rs,useExisting:gt(()=>Pa),multi:!0},Pa=(()=>{class t extends ka{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&A("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[jt([RR]),st]})}return t})();var kR={provide:rs,useExisting:gt(()=>ut),multi:!0};function VE(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function PR(t){return t.split(":")[0]}var ut=(()=>{class t extends ka{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=VE(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=PR(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jt([kR]),st]})}return t})(),dt=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(VE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(k(dn),k(Tn),k(ut,9))};static \u0275dir=ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),FR={provide:rs,useExisting:gt(()=>BE),multi:!0};function DE(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function LR(t){return t.split(":")[0]}var BE=(()=>{class t extends ka{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=LR(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&A("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jt([FR]),st]})}return t})(),ft=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(DE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(DE(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(k(dn),k(Tn),k(BE,9))};static \u0275dir=ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function jR(t){return typeof t=="number"?t:parseInt(t,10)}function UE(t){return typeof t=="number"?t:parseFloat(t)}var Fa=(()=>{class t{_validator=Og;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Og,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ge({type:t,features:[hr]})}return t})(),VR={provide:Mi,useExisting:gt(()=>jg),multi:!0},jg=(()=>{class t extends Fa{max;inputName="max";normalizeInput=e=>UE(e);createValidator=e=>sR(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[jt([VR]),st]})}return t})(),BR={provide:Mi,useExisting:gt(()=>La),multi:!0},La=(()=>{class t extends Fa{min;inputName="min";normalizeInput=e=>UE(e);createValidator=e=>oR(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[jt([BR]),st]})}return t})(),UR={provide:Mi,useExisting:gt(()=>ja),multi:!0};var ja=(()=>{class t extends Fa{required;inputName="required";normalizeInput=_r;createValidator=e=>aR;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[jt([UR]),st]})}return t})();var $R={provide:Mi,useExisting:gt(()=>Va),multi:!0},Va=(()=>{class t extends Fa{maxlength;inputName="maxlength";normalizeInput=e=>jR(e);createValidator=e=>lR(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[jt([$R]),st]})}return t})(),HR={provide:Mi,useExisting:gt(()=>Ba),multi:!0},Ba=(()=>{class t extends Fa{pattern;inputName="pattern";normalizeInput=e=>e;createValidator=e=>cR(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=It(t)))(i||t)}})();static \u0275dir=ge({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[jt([HR]),st]})}return t})();var zR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xn({type:t});static \u0275inj=Jn({})}return t})();var Ie=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Fg,useValue:e.callSetDisabledState??Lg}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xn({type:t});static \u0275inj=Jn({imports:[zR]})}return t})();var vd=class t{sb=E(ct);constructor(){}createUser(n){return v(this,null,function*(){let e=yield this.sb.getUser();if(!e)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").insert(S({id:e.id},n));if(r)throw r})}updateUser(n){return v(this,null,function*(){let e=yield this.sb.getUser();if(!e)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").update(n).eq("id",e.id);if(r)throw r})}deleteUserProfile(){return v(this,null,function*(){let n=yield this.sb.getUser();if(!n)throw new Error("User not authenticated");let{error:e}=yield this.sb.supabase.from("users").delete().eq("id",n.id);if(e)throw e})}getUserTeams(n){return v(this,null,function*(){return this.sb.supabase.from("teams").select("id, name, image, gender").eq("active",!0)})}getUpcomingGames(){return v(this,null,function*(){return this.sb.supabase.from("games").select(`
        id,
        date,
        type,
        team1:team1_id ( id, name, image ),
        team2:team2_id ( id, name, image )
      `).order("date",{ascending:!0})})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};function WR(t,n){if(t&1){let e=ie();u(0,"input",7),I("ngModelChange",function(i){F(e);let o=M().$implicit;return T(o.level,i)||(o.level=i),L(i)}),d()}if(t&2){let e=M().$implicit;Cc("name","level-",e.key,""),x("ngModel",e.level)}}function GR(t,n){if(t&1){let e=ie();u(0,"div",2)(1,"div",3),A("click",function(){let i=F(e).$implicit,o=M();return L(o.toggleSport(i))}),O(2,"div",4),u(3,"div",5)(4,"span"),p(5),d()()(),R(6,WR,1,3,"input",6),d()}if(t&2){let e=n.$implicit,r=M();g(),Lt("selected",e.selected)("disabled",e.disabled),g(),Rs("background-image","url("+e.image+")"),g(),b("ngClass",e.color),g(2),W(e.name),g(),b("ngIf",e.selected&&r.showLevel)}}var yd=class t{initialSports=null;showLevel=!1;sportsSelected=new we;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];ngOnInit(){if(this.initialSports&&this.initialSports.length){let n=new Map(this.initialSports.map(e=>[e.key,e]));this.sports=this.sports.map(e=>{let r=n.get(e.key);return r?S(S({},e),r):e}),this.emitSelected()}}toggleSport(n){n.disabled||(n.selected=!n.selected,n.selected||(n.level=""),this.emitSelected())}emitSelected(){let n=this.sports.filter(e=>e.selected);this.sportsSelected.emit(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-sports-selector"]],inputs:{initialSports:"initialSports",showLevel:"showLevel"},outputs:{sportsSelected:"sportsSelected"},decls:2,vars:1,consts:[[1,"row","g-3","mb-4"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-3"],[1,"sport-card",3,"click"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],["type","text","class","form-control mt-2","placeholder","Nivel",3,"ngModel","name","ngModelChange",4,"ngIf"],["type","text","placeholder","Nivel",1,"form-control","mt-2",3,"ngModelChange","ngModel","name"]],template:function(e,r){e&1&&(u(0,"div",0),R(1,GR,7,9,"div",1),d()),e&2&&(g(),b("ngForOf",r.sports))},dependencies:[q,ii,be,te,Ie,Re,Le,Pe],styles:[".sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s,box-shadow .2s;background:#fff;border:1px solid #e5e7eb}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb33,0 10px 20px #00000014}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center;font-weight:600}"]})};var _d=class t{constructor(n,e){this.router=n;this.location=e;this.router.events.pipe(pt(r=>r instanceof Ot)).subscribe(r=>{let i=r.urlAfterRedirects;this.stack[this.stack.length-1]!==i&&(this.stack.push(i),this.stack.length>this.max&&this.stack.shift())})}stack=[];max=50;canGoBack(){return this.stack.length>1}getPreviousUrl(){return this.stack.length>1?this.stack[this.stack.length-2]:null}goBack(n){this.canGoBack()?this.location.back():n?this.router.navigateByUrl(n):this.router.navigateByUrl("/")}getRouteFallback(n){return n.snapshot.data?.backTo}static \u0275fac=function(e){return new(e||t)(G(X),G(An))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};function ZR(t,n){if(t&1&&(u(0,"span",5),p(1),d()),t&2){let e=M();g(),W(e.label)}}var je=class t{constructor(n,e,r){this.nav=n;this.route=e;this.router=r}label="Volver";iconOnly=!1;fallbackUrl;ariaLabel="Volver";onBack(){let n=this.fallbackUrl??this.nav.getRouteFallback(this.route)??"/";this.nav.goBack(n)}static \u0275fac=function(e){return new(e||t)(k(_d),k(At),k(X))};static \u0275cmp=z({type:t,selectors:[["app-back-button"]],inputs:{label:"label",iconOnly:"iconOnly",fallbackUrl:"fallbackUrl",ariaLabel:"ariaLabel"},decls:5,vars:2,consts:[["type","button",1,"back-btn",3,"click"],["aria-hidden","true",1,"icon"],["viewBox","0 0 24 24","width","20","height","20","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","15 18 9 12 15 6"],["class","label",4,"ngIf"],[1,"label"]],template:function(e,r){e&1&&(u(0,"button",0),A("click",function(){return r.onBack()}),u(1,"span",1),_y(),u(2,"svg",2),O(3,"polyline",3),d()(),R(4,ZR,2,1,"span",4),d()),e&2&&(Ye("aria-label",r.ariaLabel),g(4),b("ngIf",!r.iconOnly))},dependencies:[q,te],styles:[".back-btn[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid rgba(0,0,0,.08);border-radius:9999px;background:linear-gradient(180deg,#fff,#f6f7fb);color:#1f2937;box-shadow:0 2px 6px #00000014,inset 0 -1px #0000000a;cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .1s ease,box-shadow .15s ease,background .15s ease}.back-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #0000001a,inset 0 -1px #0000000a}.back-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.back-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center}.label[_ngcontent-%COMP%]{font-weight:600;font-size:14px}@media (prefers-color-scheme: dark){.back-btn[_ngcontent-%COMP%]{background:linear-gradient(180deg,#262b36,#1f2430);color:#e5e7eb;border-color:#ffffff14;box-shadow:0 2px 6px #00000080,inset 0 -1px #ffffff08}}"]})};function KR(t,n){t&1&&(u(0,"span"),p(1,"Crear cuenta"),d())}function JR(t,n){t&1&&O(0,"span",44)}function YR(t,n){t&1&&(u(0,"span"),p(1,"Siguiente TEST"),d())}var bd=class t{profile={name:"",email:"",password:"",phone:"",language:"es",avatar_url:"",zone:"",city:"",position:"",birthdate:"",gender:"",notifications:!0};loading=!1;avatarFile=null;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];selectedSports=[];supabase=E(ct);userService=E(vd);router=E(X);constructor(){}onAvatarSelected(n){return v(this,null,function*(){let e=n.target.files[0];if(!e)return;let r=yield this.supabase.uploadAvatar(e);r&&(this.profile.avatar_url=r)})}onSportsSelected(n){this.selectedSports=n}saveProfile(){return v(this,null,function*(){try{this.loading=!0;let{data:n,error:e}=yield this.supabase.signUp(this.profile.email,this.profile.password);if(e)throw e;this.avatarFile&&(this.profile.avatar_url=yield this.supabase.uploadAvatar(this.avatarFile)),yield this.userService.createUser({name:this.profile.name,email:this.profile.email,avatar_url:this.profile.avatar_url,language:this.profile.language,birth_date:this.profile.birthdate,gender:this.profile.gender,position:this.profile.position,notifications:this.profile.notifications,city:this.profile.city,zone:this.profile.zone});let{data:r,error:i}=yield this.supabase.signInWithEmail(this.profile.email,this.profile.password);if(i)throw i;console.log("Login after sign up:",r)}catch(n){console.error(n)}finally{this.loading=!1,this.router.navigate(["/user_onboarding"])}})}goToNextTest(){this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-user-profile"]],decls:67,vars:18,consts:[["form","ngForm"],[1,"onboarding-hero"],[1,"overlay"],[1,"onboarding-card"],[1,"d-flex","align-items-center","gap-2","mb-2"],["ariaLabel","Volver",3,"iconOnly"],[1,"m-0"],[1,"subtitle"],[3,"ngSubmit"],[1,"avatar-upload"],["alt","Avatar",1,"avatar-preview",3,"src"],[1,"upload-btn"],["type","file","hidden","","accept","image/*",3,"change"],["placeholder","Nombre","name","name","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["placeholder","Email","name","email","required","",1,"form-control","mb-3",3,"ngModelChange","value","ngModel"],["type","password","placeholder","Contrase\xF1a","name","password","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","language",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","es"],["value","en"],["value","ca"],["type","date","name","birthdate","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","gender","required","",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","male"],["value","female"],["value","other"],["name","position",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","drive"],["value","reves"],["value","indiferente"],["type","text","placeholder","Poblaci\xF3n","name","city","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","zone","required","",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","north"],["value","center"],["value","south"],[1,"form-check","form-switch","mb-4"],["type","checkbox","id","notifications","name","notifications",1,"form-check-input",3,"ngModelChange","ngModel"],["for","notifications",1,"form-check-label"],[1,"section-title"],[3,"sportsSelected","showLevel"],["type","submit",1,"mobile-submit",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["type","submit",1,"mobile-submit",3,"click"],[1,"spinner"]],template:function(e,r){if(e&1){let i=ie();u(0,"div",1),O(1,"div",2),u(2,"div",3)(3,"div",4),O(4,"app-back-button",5),u(5,"h2",6),p(6,"Bienvenido \u{1F44B}"),d()(),u(7,"p",7),p(8,"Crea tu perfil y empieza a competir"),d(),u(9,"form",8,0),A("ngSubmit",function(){return F(i),L(r.saveProfile())}),u(11,"div",9),O(12,"img",10),u(13,"label",11),p(14," Cambiar foto "),u(15,"input",12),A("change",function(s){return F(i),L(r.onAvatarSelected(s))}),d()()(),u(16,"input",13),I("ngModelChange",function(s){return F(i),T(r.profile.name,s)||(r.profile.name=s),L(s)}),d(),u(17,"input",14),I("ngModelChange",function(s){return F(i),T(r.profile.email,s)||(r.profile.email=s),L(s)}),d(),u(18,"input",15),I("ngModelChange",function(s){return F(i),T(r.profile.password,s)||(r.profile.password=s),L(s)}),d(),u(19,"select",16),I("ngModelChange",function(s){return F(i),T(r.profile.language,s)||(r.profile.language=s),L(s)}),u(20,"option",17),p(21,"\u{1F1EA}\u{1F1F8} Espa\xF1ol"),d(),u(22,"option",18),p(23,"\u{1F1EC}\u{1F1E7} English"),d(),u(24,"option",19),p(25," Valenci\xE0"),d()(),u(26,"input",20),I("ngModelChange",function(s){return F(i),T(r.profile.birthdate,s)||(r.profile.birthdate=s),L(s)}),d(),u(27,"select",21),I("ngModelChange",function(s){return F(i),T(r.profile.gender,s)||(r.profile.gender=s),L(s)}),u(28,"option",22),p(29,"Sexo"),d(),u(30,"option",23),p(31,"Hombre"),d(),u(32,"option",24),p(33,"Mujer"),d(),u(34,"option",25),p(35,"Otro"),d()(),u(36,"select",26),I("ngModelChange",function(s){return F(i),T(r.profile.position,s)||(r.profile.position=s),L(s)}),u(37,"option",22),p(38,"Posici\xF3n"),d(),u(39,"option",27),p(40,"Drive"),d(),u(41,"option",28),p(42,"Rev\xE9s"),d(),u(43,"option",29),p(44,"Indiferente"),d()(),u(45,"input",30),I("ngModelChange",function(s){return F(i),T(r.profile.city,s)||(r.profile.city=s),L(s)}),d(),u(46,"select",31),I("ngModelChange",function(s){return F(i),T(r.profile.zone,s)||(r.profile.zone=s),L(s)}),u(47,"option",22),p(48,"Zona de preferencia"),d(),u(49,"option",32),p(50,"Zona Norte"),d(),u(51,"option",33),p(52,"Zona Centro"),d(),u(53,"option",34),p(54,"Zona Sur"),d()(),u(55,"div",35)(56,"input",36),I("ngModelChange",function(s){return F(i),T(r.profile.notifications,s)||(r.profile.notifications=s),L(s)}),d(),u(57,"label",37),p(58," Recibir notificaciones "),d()(),u(59,"h4",38),p(60,"Deportes que practicas"),d(),u(61,"app-sports-selector",39),A("sportsSelected",function(s){return F(i),L(r.onSportsSelected(s))}),d(),u(62,"button",40),R(63,KR,2,0,"span",41)(64,JR,1,0,"span",42),d(),u(65,"button",43),A("click",function(){return F(i),L(r.goToNextTest())}),R(66,YR,2,0,"span",41),d()()()()}if(e&2){let i=vr(10);g(4),b("iconOnly",!0),g(8),b("src",r.profile.avatar_url||"assets/images/default-avatar.jpg",Fe),g(4),x("ngModel",r.profile.name),g(),b("value",r.profile.email),x("ngModel",r.profile.email),g(),x("ngModel",r.profile.password),g(),x("ngModel",r.profile.language),g(7),x("ngModel",r.profile.birthdate),g(),x("ngModel",r.profile.gender),g(9),x("ngModel",r.profile.position),g(9),x("ngModel",r.profile.city),g(),x("ngModel",r.profile.zone),g(10),x("ngModel",r.profile.notifications),g(5),b("showLevel",!0),g(),b("disabled",r.loading||!i.valid),g(),b("ngIf",!r.loading),g(),b("ngIf",r.loading),g(2),b("ngIf",!r.loading)}},dependencies:[q,te,Ie,on,dt,ft,Re,Ii,ut,Le,rn,ja,Pe,Ht,yd,je],styles:[".onboarding-hero[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/images/homeHeader.jpeg) center / cover;display:flex;justify-content:center;align-items:center;padding:1rem}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000008c}.onboarding-card[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:1rem;width:100%;max-width:520px;z-index:2}.avatar-upload[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.avatar-preview[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;object-fit:cover}.upload-btn[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#2563eb;cursor:pointer}.sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.mobile-submit[_ngcontent-%COMP%]{position:inherit;bottom:1rem;width:100%;padding:1rem;border-radius:999px;background:linear-gradient(135deg,#2563eb,#1e40af);color:#fff;font-size:1.05rem;font-weight:600;border:none;box-shadow:0 10px 25px #2563eb59;transition:transform .15s ease,box-shadow .15s ease,opacity .15s;z-index:5}.mobile-submit[_ngcontent-%COMP%]:active{transform:scale(.97);box-shadow:0 6px 16px #2563eb40}.mobile-submit[_ngcontent-%COMP%]:disabled{opacity:.5;box-shadow:none}.spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:3px solid rgba(255,255,255,.4);border-top-color:#fff;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function QR(t,n){if(t&1&&(u(0,"div",14),p(1),d()),t&2){let e=M();g(),Ae(" ",e.error," ")}}var wd=class t{constructor(n,e){this.supabase=n;this.router=e}email="";password="";loading=!1;error=null;loginWithEmail(){return v(this,null,function*(){this.loading=!0,this.error=null;let{data:n,error:e}=yield this.supabase.signInWithEmail(this.email,this.password);this.loading=!1,e?this.error=e.message:n?.user&&this.router.navigate(["/dashboard"])})}loginWithGoogle(){return v(this,null,function*(){let{data:n,error:e}=yield this.supabase.signInWithGoogle();e?this.error=e.message:n?.url&&this.router.navigate(["/dashboard"])})}goToOnboarding(){this.router.navigate(["/user-profile"])}static \u0275fac=function(e){return new(e||t)(k(ct),k(X))};static \u0275cmp=z({type:t,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"login-container"],[1,"login-card","shadow"],[1,"mb-4","text-center"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","tu@email.com",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"separator"],[1,"btn","btn-outline-dark","w-100","mb-3","d-flex","align-items-center","justify-content-center","gap-2",3,"click"],["src","assets/icons/google-icon.svg","width","18"],[1,"text-center","mt-3"],[1,"register-link",3,"click"],[1,"alert","alert-danger"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),p(3,"Iniciar sesi\xF3n"),d(),R(4,QR,2,1,"div",3),u(5,"div",4)(6,"label",5),p(7,"Email"),d(),u(8,"input",6),I("ngModelChange",function(o){return T(r.email,o)||(r.email=o),o}),d()(),u(9,"div",4)(10,"label",5),p(11,"Contrase\xF1a"),d(),u(12,"input",7),I("ngModelChange",function(o){return T(r.password,o)||(r.password=o),o}),d()(),u(13,"button",8),A("click",function(){return r.loginWithEmail()}),p(14," Entrar "),d(),u(15,"div",9),p(16,"o"),d(),u(17,"button",10),A("click",function(){return r.loginWithGoogle()}),O(18,"img",11),p(19," Entrar con Google "),d(),u(20,"p",12),p(21," \xBFNo tienes cuenta? "),u(22,"a",13),A("click",function(){return r.goToOnboarding()}),p(23," Darse de alta "),d()()()()),e&2&&(g(4),b("ngIf",r.error),g(4),x("ngModel",r.email),g(4),x("ngModel",r.password),g(),b("disabled",r.loading))},dependencies:[q,te,Ie,Re,Le,Pe],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#1e3c72,#2a5298)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;width:100%;max-width:400px;border-radius:12px}.separator[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;color:#888}.register-link[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;text-decoration:underline}"]})};var XR=()=>["/team"];function ek(t,n){if(t&1&&(ni(0),u(1,"div",1)(2,"div",2),O(3,"img",3),u(4,"div",4)(5,"div",5)(6,"div",6),p(7),d()()()()(),ri()),t&2){let e=M();g(),b("routerLink",Ec(5,XR)),Ye("aria-label","Editar equipo "+e.team.name),g(2),ks("alt",e.team.name),b("src",e.team.image||"assets/images/team-default.png",Fe),g(4),W(e.team.name)}}var is=class t{team;isAdd=!1;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-team-card"]],inputs:{team:"team",isAdd:"isAdd"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"team-card",3,"routerLink"],[1,"image-wrap"],[3,"src","alt"],[1,"my-team-overlay"],[1,"my-team-info"],[1,"name"]],template:function(e,r){e&1&&R(0,ek,8,6,"ng-container",0),e&2&&b("ngIf",r.team)},dependencies:[q,te,ir,Do],styles:[".team-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026;display:flex;flex-direction:column;gap:0}.image-wrap[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:0;overflow:hidden;box-shadow:none;background:linear-gradient(135deg,#f0f4ff,#e8f0fe);transform:translateZ(0)}.image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.team-card[_ngcontent-%COMP%]:hover   .image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#fff;text-align:left;padding:.75rem;text-shadow:1px 0 0 #000,-1px 0 0 #000,0 1px 0 #000,0 -1px 0 #000,1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000}.my-team-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.my-team-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.team-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:260px}}"]})};function tk(t,n){if(t&1&&O(0,"app-team-card",12),t&2){let e=n.$implicit;b("team",e)}}function nk(t,n){t&1&&(u(0,"div",13)(1,"div",14)(2,"div",15)(3,"p",16),p(4,"No tienes equipos"),d(),u(5,"small"),p(6,"Crea o \xFAnete a un equipo para empezar a competir."),d()()()())}var Cd=class t{constructor(n){this.router=n}teams;ngOnInit(){this.teams||(this.teams=[{id:1,name:"Equipo ejemplo",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"}])}onCreateTeam(){this.router.navigate(["/team"])}onJoinTeam(){this.router.navigate(["/team/join"])}static \u0275fac=function(e){return new(e||t)(k(X))};static \u0275cmp=z({type:t,selectors:[["app-my-teams"]],inputs:{teams:"teams"},decls:13,vars:2,consts:[[1,"my-teams-section"],[1,"container"],[1,"section-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-0"],[1,"d-flex","align-items-center","gap-2"],["title","Crear equipo",1,"action-btn",3,"click"],["src","assets/icons/team-new.png","alt","Nuevo equipo",1,"button-icon"],["title","Unirse a equipo",1,"action-btn",3,"click"],["src","assets/icons/team-add.png","alt","Unirse a equipo",1,"button-icon"],[1,"my-teams-scroll"],[3,"team",4,"ngFor","ngForOf"],["class","empty-card",4,"ngIf"],[3,"team"],[1,"empty-card"],[1,"empty-card-body"],[1,"empty-info"],[1,"mb-1","fw-bold"]],template:function(e,r){e&1&&(u(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),p(4,"Mis equipos"),d(),u(5,"div",4)(6,"button",5),A("click",function(){return r.onCreateTeam()}),O(7,"img",6),d(),u(8,"button",7),A("click",function(){return r.onJoinTeam()}),O(9,"img",8),d()()(),u(10,"div",9),R(11,tk,1,1,"app-team-card",10)(12,nk,7,0,"div",11),d()()()),e&2&&(g(11),b("ngForOf",r.teams),g(),b("ngIf",!r.teams||r.teams.length===0))},dependencies:[q,be,te,is],styles:[".my-teams-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-teams-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-teams-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-teams-scroll[_ngcontent-%COMP%]   app-team-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.my-teams-scroll[_ngcontent-%COMP%]   .empty-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.empty-card-body[_ngcontent-%COMP%]{width:100%;border:1px dashed rgba(0,0,0,.2);border-radius:12px;padding:1rem;background:#fafafa}.empty-info[_ngcontent-%COMP%]{color:#555}@media (min-width: 770px){.my-teams-scroll[_ngcontent-%COMP%]   app-team-card[_ngcontent-%COMP%]{flex:0 0 auto;max-width:none}.my-teams-scroll[_ngcontent-%COMP%]   .empty-card[_ngcontent-%COMP%]{flex:0 0 auto;max-width:none}}.button-icon[_ngcontent-%COMP%]{width:24px;height:24px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.4rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;box-shadow:0 1px 2px #0000000f;cursor:pointer;transition:background .2s ease,box-shadow .2s ease,transform .06s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7;box-shadow:0 2px 6px #0000001f}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}"]})};function rk(t,n){if(t&1){let e=ie();u(0,"button",8),A("click",function(i){F(e);let o=M(2);return L(o.editCompetition(i))}),p(1," \u270F\uFE0F "),d()}}function ik(t,n){if(t&1){let e=ie();ni(0),u(1,"div",1),A("click",function(){F(e);let i=M();return L(i.goToClassification())}),R(2,rk,2,0,"button",2),u(3,"div",3),O(4,"img",4),u(5,"div",5)(6,"div",6)(7,"div",7),p(8),d()()()()(),ri()}if(t&2){let e=M();g(),Ye("aria-label","Editar equipo desde campeonato "+e.competition.name),g(),b("ngIf",e.isCreator),g(2),ks("alt",e.competition.name),b("src",e.competition.image||"assets/images/sports-center.jpeg",Fe),g(4),W(e.competition.name)}}var os=class t{constructor(n){this.router=n}competition;isAdd=!1;isCreator=!1;editCompetition(n){n.stopPropagation(),this.competition&&this.router.navigate(["/competition"],{state:{competition:this.competition}})}goToClassification(){this.competition&&this.router.navigate(["/classification",this.competition.id])}static \u0275fac=function(e){return new(e||t)(k(X))};static \u0275cmp=z({type:t,selectors:[["app-competition-card"]],inputs:{competition:"competition",isAdd:"isAdd",isCreator:"isCreator"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"competition-card",3,"click"],["type","button","class","edit-btn","aria-label","Editar competici\xF3n",3,"click",4,"ngIf"],[1,"image-wrap"],[3,"src","alt"],[1,"competition-overlay"],[1,"competition-info"],[1,"name"],["type","button","aria-label","Editar competici\xF3n",1,"edit-btn",3,"click"]],template:function(e,r){e&1&&R(0,ik,9,5,"ng-container",0),e&2&&b("ngIf",r.competition)},dependencies:[q,te,ir],styles:[".competition-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026;display:grid;grid-template-rows:auto 1fr;gap:0;padding:0;background:#fff}.competition-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0000001f}.image-wrap[_ngcontent-%COMP%]{position:relative;width:100%;height:160px;padding-top:0;overflow:hidden;border-radius:0;background:#f3f4f6}.image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}.name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#fff;text-align:left;padding:.75rem;text-shadow:1px 0 0 #000,-1px 0 0 #000,0 1px 0 #000,0 -1px 0 #000,1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000}.competition-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.competition-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 1024px){.competition-card[_ngcontent-%COMP%]{flex:0 0 auto;max-width:none}}@media (min-width: 768px){.competition-card[_ngcontent-%COMP%]{flex:0 0 auto;max-width:none}}"]})};function ok(t,n){if(t&1&&O(0,"app-competition-card",12),t&2){let e=n.$implicit;b("competition",e)}}function sk(t,n){t&1&&(u(0,"div",13)(1,"div",14)(2,"div",15)(3,"p",16),p(4,"No tienes campeonatos"),d(),u(5,"small"),p(6,"Crea o \xFAnete a un campeonato para ver tus partidos y clasificaciones."),d()()()())}var Ed=class t{constructor(n){this.router=n}competitions;accessCode="";ngOnInit(){this.competitions||(this.competitions=[{id:1,name:"Campeonato ejemplo",sport_id:1,sport_name:"tennis",image:"assets/images/sample-league-tennis.jpeg",is_open:!0}])}onCreateCompetition(){this.router.navigate(["/competition"])}onJoinCompetition(){let n=String(this.accessCode||"").trim();if(n&&!/^\d{6}$/.test(n)){alert("Introduce un c\xF3digo de acceso de 6 cifras");return}let e=n?{queryParams:{code:n}}:void 0;this.router.navigate(["/competition/join"],e)}static \u0275fac=function(e){return new(e||t)(k(X))};static \u0275cmp=z({type:t,selectors:[["app-my-competitions"]],inputs:{competitions:"competitions"},decls:13,vars:2,consts:[[1,"my-competition-section"],[1,"container"],[1,"section-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-0"],[1,"d-flex","align-items-center","gap-2"],["title","Nuevo campeonato",1,"action-btn",3,"click"],["src","assets/icons/championship-new.png","alt","Nuevo",1,"button-icon"],["title","Unirse a campeonato",1,"action-btn",3,"click"],["src","assets/icons/championship-add.png","alt","Unirse",1,"button-icon"],[1,"my-competition-scroll"],[3,"competition",4,"ngFor","ngForOf"],["class","empty-card",4,"ngIf"],[3,"competition"],[1,"empty-card"],[1,"empty-card-body"],[1,"empty-info"],[1,"mb-1","fw-bold"]],template:function(e,r){e&1&&(u(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),p(4,"Mis campeonatos"),d(),u(5,"div",4)(6,"button",5),A("click",function(){return r.onCreateCompetition()}),O(7,"img",6),d(),u(8,"button",7),A("click",function(){return r.onJoinCompetition()}),O(9,"img",8),d()()(),u(10,"div",9),R(11,ok,1,1,"app-competition-card",10)(12,sk,7,0,"div",11),d()()()),e&2&&(g(11),b("ngForOf",r.competitions),g(),b("ngIf",!r.competitions||r.competitions.length===0))},dependencies:[q,be,te,Ie,os],styles:[".my-competition-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-competition-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-competition-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-competition-scroll[_ngcontent-%COMP%]   app-competition-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.button-icon[_ngcontent-%COMP%]{width:24px;height:24px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.4rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;box-shadow:0 1px 2px #0000000f;cursor:pointer;transition:background .2s ease,box-shadow .2s ease,transform .06s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7;box-shadow:0 2px 6px #0000001f}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}@media (min-width: 770px){.my-competition-scroll[_ngcontent-%COMP%]   app-competition-card[_ngcontent-%COMP%]{max-width:260px}}"]})};var Dd=class t{constructor(n){this.router=n}user={name:"Albert",avatar:"assets/images/default-avatar.jpg"};teams=[{id:1,name:"Ace Masters",sport_id:1,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},{id:2,name:"Baseline Kings",sport_id:1,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"}];competitions=[{id:1,name:"Liga Club Tenis",image:null,sport_id:1,sport_name:"padel",type:"league",level:3,start_date:"2025-01-15",location:"Club Deportivo Central",is_open:!0},{id:2,name:"Torneo de Invierno",image:null,sport_id:1,sport_name:"padel",type:"tournament",level:3,start_date:"2025-02-01",location:"Real Club de Tenis",is_open:!1}];games=[{id:101,competition_id:1,date:"",type:"league",sport_id:"padel",sport_name:"padel",location:"Club Deportivo Central",level:3,team1:this.teams[0],team2:this.teams[1],status:"scheduled"},{id:102,competition_id:1,date:"2025-01-29T19:00:00",type:"league",sport_id:"tennis",sport_name:"tennis",location:"Club Deportivo Central",level:3,team1:this.teams[1],team2:this.teams[0],status:"pending"},{id:201,competition_id:2,date:"2025-02-05T20:00:00",type:"tournament",sport_id:"tennis",sport_name:"tennis",location:"Real Club de Tenis",level:3,team1:this.teams[0],team2:this.teams[1],status:"completed"},{id:202,competition_id:2,date:"2025-02-12T20:30:00",type:"tournament",sport_id:"tennis",sport_name:"tennis",location:"Real Club de Tenis",level:3,team1:this.teams[1],team2:this.teams[0],status:"scheduled"}];goToNotifications(){this.router.navigate(["/notifications"])}goToProfile(){this.router.navigate(["/user-profile"])}static \u0275fac=function(e){return new(e||t)(k(X))};static \u0275cmp=z({type:t,selectors:[["app-user-dashboard"]],decls:18,vars:5,consts:[[1,"dashboard-header"],[1,"user-info"],["alt","Avatar","title","Ver perfil",1,"avatar","clickable",3,"click","src"],[1,"subtitle"],["title","Notificaciones","aria-label","Ir a notificaciones",1,"notif-btn","button-like",3,"click"],[1,"badge"],[1,"section"],[3,"games"],[3,"teams"],[3,"competitions"]],template:function(e,r){e&1&&(u(0,"header",0)(1,"div",1)(2,"img",2),A("click",function(){return r.goToProfile()}),d(),u(3,"div")(4,"h3"),p(5),d(),u(6,"span",3),p(7,"Bienvenido de nuevo"),d()()(),u(8,"button",4),A("click",function(){return r.goToNotifications()}),p(9," \u{1F514} "),O(10,"span",5),d()(),u(11,"section",6),O(12,"app-my-games",7),d(),u(13,"section",6),O(14,"app-my-teams",8),d(),u(15,"section",6),O(16,"app-my-competitions",9),d(),O(17,"app-footer")),e&2&&(g(2),b("src",r.user.avatar,Fe),g(3),Ae("Hola, ",r.user.name,""),g(7),b("games",r.games),g(2),b("teams",r.teams),g(2),b("competitions",r.competitions))},dependencies:[q,Cd,Ed,Xo,Yo],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.user-info[_ngcontent-%COMP%]{display:flex;gap:.8rem}.avatar[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;box-shadow:0 4px 12px #0000001f}.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:transform .15s ease,box-shadow .15s ease}.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 6px 16px #00000026}.notif-btn[_ngcontent-%COMP%]{background:#2563eb;border:none;color:#fff;font-size:1.2rem;position:relative;padding:.5rem .75rem;border-radius:999px;box-shadow:0 6px 20px #2563eb40;cursor:pointer}.notif-btn[_ngcontent-%COMP%]:hover{background:#1d4ed8}.badge[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;width:10px;height:10px;background:#ef4444;border:2px solid #fff;border-radius:50%}.section[_ngcontent-%COMP%]{padding:1rem}.section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .6rem;font-size:1rem;font-weight:700;color:#0f172a}.horizontal-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem}.carousel[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;overflow-x:auto;padding:.25rem .25rem .75rem;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}.carousel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.snap[_ngcontent-%COMP%]{scroll-snap-align:start}.card[_ngcontent-%COMP%]{min-width:160px;background:#fff;border-radius:1rem;padding:1rem;box-shadow:0 6px 20px #00000014}.add-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:2rem;color:#2563eb}.empty-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:.8rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.stat[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.8rem;padding:1rem;text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.dashboard-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;display:flex;justify-content:space-around;padding:.8rem;background:#fff;border-top:1px solid #eee}.add-card[_ngcontent-%COMP%]{min-width:60px;height:45px;border-radius:16px;border:2px dashed #93c5fd;background:#eff6ff;color:#2563eb;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.25rem;box-shadow:0 6px 20px #2563eb1f}.plus[_ngcontent-%COMP%]{font-size:2rem;line-height:1}.label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600}.button-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]})};var Sd=class t{center={name:"",google_maps_url:"",address:"",city:"",phone:"",website:""};submit(){console.log("Centro deportivo:",this.center)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-sports-center-form"]],decls:45,vars:8,consts:[["form","ngForm"],[1,"center-page"],[1,"container","py-5"],["label","Volver"],[1,"row","justify-content-center"],[1,"col-12","col-md-9","col-lg-6"],[1,"card","shadow-lg","center-card"],[1,"card-image"],["src","assets/images/sports-center.jpeg","alt","Centro deportivo"],[1,"card-body","p-4"],[1,"d-flex","align-items-center","gap-2","justify-content-center","mb-2"],["ariaLabel","Volver",3,"iconOnly"],[1,"fw-bold","m-0"],[1,"text-muted","text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","name","name","required","","placeholder","Ej. Centro Deportivo Municipal",1,"form-control",3,"ngModelChange","ngModel"],["type","url","name","google_maps_url","placeholder","https://maps.google.com/...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],["type","text","name","address","placeholder","Calle, n\xFAmero",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","city","placeholder","Ciudad",1,"form-control",3,"ngModelChange","ngModel"],["type","tel","name","phone","placeholder","+34 600 000 000",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["type","url","name","website","placeholder","https://...",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"]],template:function(e,r){if(e&1){let i=ie();u(0,"div",1)(1,"div",2),O(2,"app-back-button",3),u(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),O(7,"img",8),d(),u(8,"div",9)(9,"div",10),O(10,"app-back-button",11),u(11,"h2",12),p(12,"A\xF1adir centro deportivo"),d()(),u(13,"p",13),p(14," Introduce los datos b\xE1sicos o pega el enlace de Google Maps "),d(),u(15,"form",14,0),A("ngSubmit",function(){return F(i),L(r.submit())}),u(17,"div",15)(18,"label",16),p(19,"Nombre del centro *"),d(),u(20,"input",17),I("ngModelChange",function(s){return F(i),T(r.center.name,s)||(r.center.name=s),L(s)}),d()(),u(21,"div",15)(22,"label",16),p(23," Enlace de Google Maps "),d(),u(24,"input",18),I("ngModelChange",function(s){return F(i),T(r.center.google_maps_url,s)||(r.center.google_maps_url=s),L(s)}),d(),u(25,"small",19),p(26," Puedes copiarlo directamente desde Google Maps "),d()(),u(27,"div",15)(28,"label",16),p(29,"Direcci\xF3n"),d(),u(30,"input",20),I("ngModelChange",function(s){return F(i),T(r.center.address,s)||(r.center.address=s),L(s)}),d()(),u(31,"div",15)(32,"label",16),p(33,"Ciudad"),d(),u(34,"input",21),I("ngModelChange",function(s){return F(i),T(r.center.city,s)||(r.center.city=s),L(s)}),d()(),u(35,"div",15)(36,"label",16),p(37,"Tel\xE9fono"),d(),u(38,"input",22),I("ngModelChange",function(s){return F(i),T(r.center.phone,s)||(r.center.phone=s),L(s)}),d()(),u(39,"div",23)(40,"label",16),p(41,"P\xE1gina web"),d(),u(42,"input",24),I("ngModelChange",function(s){return F(i),T(r.center.website,s)||(r.center.website=s),L(s)}),d()(),u(43,"button",25),p(44," Guardar centro deportivo "),d()()()()()()()()}if(e&2){let i=vr(16);g(10),b("iconOnly",!0),g(10),x("ngModel",r.center.name),g(4),x("ngModel",r.center.google_maps_url),g(6),x("ngModel",r.center.address),g(4),x("ngModel",r.center.city),g(4),x("ngModel",r.center.phone),g(4),x("ngModel",r.center.website),g(),b("disabled",!i.valid)}},dependencies:[q,Ie,on,Re,Le,rn,ja,Pe,Ht,je],styles:[".center-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e4ecf7)}.center-card[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden;border:none}.card-image[_ngcontent-%COMP%]{height:180px;overflow:hidden}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.form-control[_ngcontent-%COMP%]{border-radius:12px;padding:12px}.btn-primary[_ngcontent-%COMP%]{border-radius:14px;background:linear-gradient(135deg,#0d6efd,#0a58ca);border:none}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6}@media (max-width: 576px){.card-image[_ngcontent-%COMP%]{height:140px}}"]})};function ak(t,n){if(t&1){let e=ie();u(0,"div",9)(1,"div",10)(2,"span",11),p(3,"Ma\xF1ana"),d(),u(4,"div",12)(5,"input",13),I("ngModelChange",function(i){F(e);let o=M().$implicit;return T(o.morning.start,i)||(o.morning.start=i),L(i)}),d(),u(6,"span"),p(7,"\u2013"),d(),u(8,"input",13),I("ngModelChange",function(i){F(e);let o=M().$implicit;return T(o.morning.end,i)||(o.morning.end=i),L(i)}),d()()(),u(9,"div",10)(10,"span",11),p(11,"Tarde"),d(),u(12,"div",12)(13,"input",13),I("ngModelChange",function(i){F(e);let o=M().$implicit;return T(o.afternoon.start,i)||(o.afternoon.start=i),L(i)}),d(),u(14,"span"),p(15,"\u2013"),d(),u(16,"input",13),I("ngModelChange",function(i){F(e);let o=M().$implicit;return T(o.afternoon.end,i)||(o.afternoon.end=i),L(i)}),d()()()()}if(t&2){let e=M().$implicit;g(5),x("ngModel",e.morning.start),g(3),x("ngModel",e.morning.end),g(5),x("ngModel",e.afternoon.start),g(3),x("ngModel",e.afternoon.end)}}function lk(t,n){if(t&1){let e=ie();u(0,"div",2)(1,"div",3)(2,"span",4),p(3),d(),u(4,"label",5)(5,"input",6),I("ngModelChange",function(i){let o=F(e).$implicit;return T(o.enabled,i)||(o.enabled=i),L(i)}),d(),O(6,"span",7),d()(),R(7,ak,17,4,"div",8),d()}if(t&2){let e=n.$implicit;g(3),W(e.label),g(2),x("ngModel",e.enabled),g(2),b("ngIf",e.enabled)}}var xd=class t{days=[{key:"mon",label:"Lunes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"tue",label:"Martes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"wed",label:"Mi\xE9rcoles",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"thu",label:"Jueves",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"fri",label:"Viernes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"sat",label:"S\xE1bado",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"sun",label:"Domingo",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-team-availability"]],decls:4,vars:1,consts:[[1,"availability-card"],["class","day-card",4,"ngFor","ngForOf"],[1,"day-card"],[1,"day-header"],[1,"day-name"],[1,"switch"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"slider"],["class","day-times",4,"ngIf"],[1,"day-times"],[1,"time-block"],[1,"block-label"],[1,"time-row"],["type","time",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"h5"),p(2,"Disponibilidad horaria"),d(),R(3,lk,8,3,"div",1),d()),e&2&&(g(3),b("ngForOf",r.days))},dependencies:[q,be,te,Ie,Re,Ii,Le,Pe],styles:['.availability-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:20px;box-shadow:inset 0 0 0 1px #e9ecef}.availability-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:16px}.day-card[_ngcontent-%COMP%]{border-radius:16px;background:#f8f9fa;padding:14px;margin-bottom:12px}.day-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.day-name[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem}.day-times[_ngcontent-%COMP%]{margin-top:12px;display:grid;gap:12px}.time-block[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:10px}.block-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;display:block;margin-bottom:6px}.time-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.time-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border-radius:10px;border:1px solid #ced4da;padding:6px;font-size:.75rem}.switch[_ngcontent-%COMP%]{position:relative;width:44px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ced4da;border-radius:999px;transition:.2s}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background:#fff;border-radius:50%;transition:.2s}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#1e88e5}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}@media (min-width: 768px){.day-times[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}']})};var ck=[{id:1,name:"Sports Center Norte",google_maps_url:"https://maps.google.com/?q=Sports+Center+Norte",address:"Av. del Deporte 1",city:"Madrid",phone:"+34 600 111 111",website:"https://norte.example.com"},{id:2,name:"Polideportivo Central",google_maps_url:"https://maps.google.com/?q=Polideportivo+Central",address:"C/ Mayor 22",city:"Madrid",phone:"+34 600 222 222",website:"https://central.example.com"},{id:3,name:"Club Deportivo Costa",google_maps_url:"https://maps.google.com/?q=Club+Deportivo+Costa",address:"Paseo Mar\xEDtimo s/n",city:"Valencia",phone:"+34 600 333 333",website:"https://costa.example.com"}],uk=[{id:11,sport_center_id:1,name:"Pista 1",type:"exterior"},{id:12,sport_center_id:1,name:"Pista 2",type:"cubierta"},{id:21,sport_center_id:2,name:"Pabell\xF3n A",type:"cubierta"},{id:22,sport_center_id:2,name:"Campo F11",type:"exterior"},{id:31,sport_center_id:3,name:"Pista Central",type:"exterior"}],Id=class t{getCenters(n){return K(ck).pipe(se(e=>{if(!n)return e;let r=(n.q||"").toLowerCase().trim(),i=(n.city||"").toLowerCase().trim();return e.filter(o=>{let s=!r||o.name.toLowerCase().includes(r)||o.address.toLowerCase().includes(r),a=!i||o.city.toLowerCase().includes(i);return s&&a})}))}getZonesByCenter(n){return K(uk.filter(e=>e.sport_center_id===n))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var fk=()=>["/sports-center"];function pk(t,n){t&1&&(u(0,"div",23),p(1,"Cargando centros..."),d())}function hk(t,n){if(t&1&&(u(0,"option",16),p(1),d()),t&2){let e=n.$implicit;b("ngValue",e.id),g(),er("",e.name," (",e.city,")")}}function mk(t,n){if(t&1&&(u(0,"small",24)(1,"a",25),p(2,"Ver en Google Maps"),d()()),t&2){let e=M();g(),b("href",e.selectedCenter==null?null:e.selectedCenter.google_maps_url,Fe)}}function gk(t,n){t&1&&(u(0,"div",28),p(1,"Cargando zonas..."),d())}function vk(t,n){if(t&1&&(u(0,"span"),p(1),d()),t&2){let e=M().$implicit;g(),Ae(" (",e.type,")")}}function yk(t,n){if(t&1&&(u(0,"option",16),p(1),R(2,vk,2,1,"span",29),d()),t&2){let e=n.$implicit;b("ngValue",e.id),g(),W(e.name),g(),b("ngIf",e.type)}}function _k(t,n){if(t&1){let e=ie();u(0,"div",13)(1,"label",14),p(2,"Zonas"),d(),R(3,gk,2,0,"div",26),u(4,"select",27),I("ngModelChange",function(i){F(e);let o=M();return T(o.selectedZoneId,i)||(o.selectedZoneId=i),L(i)}),A("ngModelChange",function(i){F(e);let o=M();return L(o.onZoneChange(i))}),u(5,"option",16),p(6,"-- Selecciona una zona --"),d(),R(7,yk,3,3,"option",17),d()()}if(t&2){let e=M();g(3),b("ngIf",e.loadingZones),g(),x("ngModel",e.selectedZoneId),b("disabled",!e.selectedCenterId||e.loadingZones),g(),b("ngValue",void 0),g(2),b("ngForOf",e.zones)}}var ss=class t{constructor(n,e){this.svc=n;this.router=e}showZone=!0;initialCenterId;initialZoneId;centerSelected=new we;zoneSelected=new we;selected=new we;centers=[];zones=[];filter={q:"",city:""};selectedCenterId;selectedZoneId;loadingCenters=!1;loadingZones=!1;get selectedCenter(){return this.centers.find(n=>n.id===this.selectedCenterId)}ngOnInit(){this.loadCenters()}loadCenters(){this.loadingCenters=!0,this.svc.getCenters(this.filter).subscribe({next:n=>{this.centers=n,this.initialCenterId&&n.some(e=>e.id===this.initialCenterId)&&(this.selectedCenterId=this.initialCenterId,this.onCenterChange(this.selectedCenterId))},complete:()=>this.loadingCenters=!1})}onSearch(){this.loadCenters()}onCenterChange(n){if(!n){this.zones=[],this.selectedZoneId=void 0,this.zoneSelected.emit(null);return}let e=this.centers.find(r=>r.id===n);e&&this.centerSelected.emit(e),this.showZone&&(this.loadingZones=!0,this.svc.getZonesByCenter(n).subscribe({next:r=>{this.zones=r,this.initialZoneId&&r.some(i=>i.id===this.initialZoneId)&&(this.selectedZoneId=this.initialZoneId,this.onZoneChange(this.selectedZoneId))},complete:()=>this.loadingZones=!1}))}onZoneChange(n){if(n==null){this.zoneSelected.emit(null);return}let e=this.zones.find(r=>r.id===n)||null;this.zoneSelected.emit(e)}confirmSelection(){let n=this.centers.find(r=>r.id===this.selectedCenterId),e=this.showZone&&this.zones.find(r=>r.id===this.selectedZoneId)||null;n&&this.selected.emit({center:n,zone:e})}goToCreateCenter(){this.router.navigateByUrl("/sports-center")}static \u0275fac=function(e){return new(e||t)(k(Id),k(X))};static \u0275cmp=z({type:t,selectors:[["app-sport-center"]],inputs:{showZone:"showZone",initialCenterId:"initialCenterId",initialZoneId:"initialZoneId"},outputs:{centerSelected:"centerSelected",zoneSelected:"zoneSelected",selected:"selected"},decls:30,vars:12,consts:[[1,"sport-center-selector","container","py-2"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"m-0"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"row","g-2","mb-3",3,"ngSubmit"],[1,"col-12","col-md-6"],["type","search","name","q","placeholder","Buscar por nombre o direcci\xF3n",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-8","col-md-4"],["type","text","name","city","placeholder","Ciudad",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-4","col-md-2","d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-info",4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","mb-3"],[1,"form-label"],["name","center",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-muted d-block mt-1",4,"ngIf"],["class","col-12 col-md-6 mb-3",4,"ngIf"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"routerLink"],[1,"alert","alert-info"],[1,"text-muted","d-block","mt-1"],["target","_blank","rel","noopener",3,"href"],["class","alert alert-info py-1",4,"ngIf"],["name","zone",1,"form-select",3,"ngModelChange","ngModel","disabled"],[1,"alert","alert-info","py-1"],[4,"ngIf"]],template:function(e,r){e&1&&(u(0,"section",0)(1,"div",1)(2,"h3",2),p(3,"Seleccionar centro"),d(),u(4,"button",3),A("click",function(){return r.goToCreateCenter()}),p(5," + Crear centro "),d()(),u(6,"form",4),A("ngSubmit",function(){return r.onSearch()}),u(7,"div",5)(8,"input",6),I("ngModelChange",function(o){return T(r.filter.q,o)||(r.filter.q=o),o}),d()(),u(9,"div",7)(10,"input",8),I("ngModelChange",function(o){return T(r.filter.city,o)||(r.filter.city=o),o}),d()(),u(11,"div",9)(12,"button",10),p(13,"Buscar"),d()()(),R(14,pk,2,0,"div",11),u(15,"div",12)(16,"div",13)(17,"label",14),p(18,"Centros"),d(),u(19,"select",15),I("ngModelChange",function(o){return T(r.selectedCenterId,o)||(r.selectedCenterId=o),o}),A("ngModelChange",function(o){return r.onCenterChange(o)}),u(20,"option",16),p(21,"-- Selecciona un centro --"),d(),R(22,hk,2,3,"option",17),d(),R(23,mk,3,1,"small",18),d(),R(24,_k,8,5,"div",19),d(),u(25,"div",20)(26,"button",21),A("click",function(){return r.confirmSelection()}),p(27," Confirmar selecci\xF3n "),d(),u(28,"a",22),p(29,"Crear centro"),d()()()),e&2&&(g(8),x("ngModel",r.filter.q),g(2),x("ngModel",r.filter.city),g(2),b("disabled",r.loadingCenters),g(2),b("ngIf",r.loadingCenters),g(5),x("ngModel",r.selectedCenterId),g(),b("ngValue",void 0),g(2),b("ngForOf",r.centers),g(),b("ngIf",r.selectedCenterId),g(),b("ngIf",r.showZone),g(2),b("disabled",!r.selectedCenterId),g(2),b("routerLink",Ec(11,fk)))},dependencies:[q,be,te,Ie,on,dt,ft,Re,ut,Le,rn,Pe,Ht,ir,Do],encapsulation:2})};var Md=class t{team={name:"",gender:"mixed",level:"",category:"",sport_id:null,max_players:null,image:""};submit(){console.log("Equipo:",this.team)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-team-form"]],decls:82,vars:2,consts:[[1,"team-page"],[1,"container","py-4"],[1,"d-flex","align-items-center","gap-2","mb-2"],["ariaLabel","Volver",3,"iconOnly"],[1,"m-0"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-7"],[1,"card","team-card","shadow-lg"],[1,"team-header"],[1,"card-body","p-4"],[1,"form-section","text-center"],[1,"team-avatar-wrapper"],["src","assets/images/team-default.png","alt","Equipo",1,"team-avatar"],[1,"edit-avatar-btn"],[1,"text-muted","d-block","mt-2"],[1,"form-section"],["placeholder","Nombre del equipo",1,"form-control","mb-3"],[1,"form-select"],["value",""],[1,"level-selector"],[1,"level-pill","active"],[1,"level-pill"],[1,"form-select","mb-3"],[3,"showZone"],["placeholder","Buscar jugador por nombre...",1,"form-control"],[1,"search-results","mt-2"],[1,"search-item"],[1,"players-list","mt-3"],[1,"player-chip"],[1,"btn","btn-primary","w-100","py-2","mt-4"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),O(3,"app-back-button",3),u(4,"h2",4),p(5,"Equipo"),d()(),u(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"p"),p(11,"Alta y edici\xF3n de equipo"),d()(),u(12,"div",9)(13,"section",10)(14,"div",11),O(15,"img",12),u(16,"button",13),p(17," \u270E "),d()(),u(18,"small",14),p(19," Cambiar imagen del equipo "),d()(),u(20,"section",15)(21,"h5"),p(22,"Datos del equipo"),d(),O(23,"input",16),u(24,"select",17)(25,"option",18),p(26,"G\xE9nero"),d(),u(27,"option"),p(28,"Mixto"),d(),u(29,"option"),p(30,"Masculino"),d(),u(31,"option"),p(32,"Femenino"),d()()(),u(33,"section",15)(34,"h5"),p(35,"Nivel del equipo"),d(),u(36,"div",19)(37,"button",20),p(38,"Principiante"),d(),u(39,"button",21),p(40,"Intermedio"),d(),u(41,"button",21),p(42,"Avanzado"),d(),u(43,"button",21),p(44,"Competici\xF3n"),d()()(),u(45,"section",15)(46,"h5"),p(47,"Deporte y centro"),d(),u(48,"select",22)(49,"option",18),p(50,"Deporte"),d(),u(51,"option"),p(52,"P\xE1del"),d(),u(53,"option"),p(54,"Tenis"),d(),u(55,"option"),p(56,"F\xFAtbol"),d()(),O(57,"app-sport-center",23),d(),u(58,"section",15)(59,"h5"),p(60,"Jugadores"),d(),O(61,"input",24),u(62,"div",25)(63,"div",26),p(64,"Juan P\xE9rez"),d(),u(65,"div",26),p(66,"Mar\xEDa L\xF3pez"),d()(),u(67,"div",27)(68,"div",28),p(69," Juan P\xE9rez "),u(70,"span"),p(71,"\u2715"),d()(),u(72,"div",28),p(73," Mar\xEDa L\xF3pez "),u(74,"span"),p(75,"\u2715"),d()()()(),u(76,"section",15),O(77,"app-team-availability"),d(),u(78,"button",29),p(79," Guardar "),d(),u(80,"button",29),p(81," Cancelar "),d()()()()()()()),e&2&&(g(3),b("iconOnly",!0),g(54),b("showZone",!1))},dependencies:[q,Ie,dt,ft,xd,je,ss],styles:[".team-page[_ngcontent-%COMP%]{background:#f5f7fa;min-height:100vh}.team-card[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;border:none}.team-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e88e5,#42a5f5);color:#fff;padding:24px}.team-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.team-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:12px}.team-avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}.team-avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:4px solid #fff;box-shadow:0 8px 20px #00000026}.edit-avatar-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background:#1e88e5;border:none;width:36px;height:36px;border-radius:50%;color:#fff;font-size:.9rem;box-shadow:0 4px 10px #00000040}.level-selector[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.level-pill[_ngcontent-%COMP%]{border:1px solid #ced4da;background:#fff;border-radius:999px;padding:8px 14px;font-size:.8rem;font-weight:600}.level-pill.active[_ngcontent-%COMP%]{background:#1e88e5;color:#fff;border-color:#1e88e5}.players-list[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.player-chip[_ngcontent-%COMP%]{background:#e9ecef;border-radius:999px;padding:6px 12px;font-size:.75rem;display:flex;align-items:center;gap:6px}.player-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.search-results[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;overflow:hidden}.search-item[_ngcontent-%COMP%]{padding:10px 14px;font-size:.85rem;border-bottom:1px solid #f1f1f1}.search-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.team-card[_ngcontent-%COMP%]{border-radius:20px}}"]})};function bk(t,n){if(t&1){let e=ie();u(0,"div",17)(1,"input",65),I("ngModelChange",function(i){F(e);let o=M();return T(o.competition.access_code,i)||(o.competition.access_code=i),L(i)}),d(),u(2,"small",66),p(3,"Introduce exactamente 6 cifras."),d()()}if(t&2){let e=M();g(),x("ngModel",e.competition.access_code)}}function wk(t,n){if(t&1&&(u(0,"span"),p(1),d()),t&2){let e=M(2);g(),Ae(" - ",e.selectedZone.name,"")}}function Ck(t,n){if(t&1&&(u(0,"div",67)(1,"small",66),p(2),R(3,wk,2,1,"span",68),d()()),t&2){let e=M();g(2),Ae("Seleccionado: ",e.selectedCenter.name,""),g(),b("ngIf",e.selectedZone)}}function Ek(t,n){if(t&1&&(u(0,"div",69),p(1),d()),t&2){let e=M();g(),W(e.error)}}function Dk(t,n){t&1&&(u(0,"div",70),p(1,"Guardado correctamente"),d())}var Td=class t{supabase=E(ct);router=E(X);competition={sport_id:null,name:"",type:null,level:null,min_teams:null,max_teams:null,min_players_per_team:null,max_players_per_team:null,start_date:null,end_date:null,location:null,timezone:"Europe/Madrid",organizer_name:"",organizer_email:"",organizer_phone:"",is_open:!0,status:"en_espera",back_to_back:!1,allow_draws:!0,points_win:3,points_draw:1,points_loss:0,fee_amount:null,fee_currency:"EUR",description:"",rules_url:"",prizes:"",banner_url:"",is_public:!0,is_private:!1,access_code:null};saving=!1;error=null;success=!1;selectedCenter;selectedZone;ngOnInit(){let e=this.router.getCurrentNavigation()?.extras?.state?.competition;e&&(this.competition=oe(S({},this.competition),{id:e.id,sport_id:e.sport_id??null,name:e.name??"",type:e.type??null,level:e.level??null,start_date:e.start_date??null,location:e.location??null,is_open:e.is_open??!0,is_private:e.is_private??!1}))}onCenterZoneSelected(n){this.selectedCenter=n.center,this.selectedZone=n.zone,this.competition.location=n.zone?.id??n.center.id??null}save(){return v(this,null,function*(){this.error=null,this.success=!1,this.saving=!0;try{let n=this.supabase.client,e=S({},this.competition);if(e.is_private||(e.access_code=null),e.is_private){let r=String(e.access_code??"").trim();if(!/^\d{6}$/.test(r))throw new Error("Introduce un c\xF3digo de acceso de 6 cifras");e.access_code=r}if(Object.keys(e).forEach(r=>{e[r]===""&&(e[r]=null)}),this.competition.id){let{error:r}=yield n.from("competitions").update(e).eq("id",this.competition.id);if(r)throw r}else{let{data:r,error:i}=yield n.from("competitions").insert(e).select().single();if(i)throw i;this.competition.id=r.id}this.success=!0}catch(n){this.error=n?.message||"Error al guardar"}finally{this.saving=!1}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-competition-form"]],decls:163,vars:46,consts:[[1,"competition-page"],[1,"container","py-4"],[1,"d-flex","align-items-center","gap-2","mb-2"],["ariaLabel","Volver",3,"iconOnly"],[1,"m-0"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-8"],[1,"card","competition-card","shadow-lg"],[1,"competition-header"],[1,"card-body","p-4"],[1,"form-section","text-center"],[1,"banner-wrapper"],["src","assets/images/sports-center.jpeg","alt","Banner",1,"banner-img"],["title","Cambiar banner",1,"edit-banner-btn"],[1,"text-muted","d-block","mt-2"],[1,"form-section"],[1,"row","g-3"],[1,"col-12"],["placeholder","Nombre de la competici\xF3n","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["name","sport_id",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],["name","type",1,"form-select",3,"ngModelChange","ngModel"],["name","level",1,"form-select",3,"ngModelChange","ngModel"],["name","status",1,"form-select",3,"ngModelChange","ngModel"],["value","en_espera"],["value","iniciada"],["value","finalizada"],[1,"col-12","d-flex","gap-3","flex-wrap","mt-1"],[1,"form-check","form-switch","m-0"],["type","checkbox","name","is_open",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"ms-2"],["type","checkbox","name","back_to_back",1,"form-check-input",3,"ngModelChange","ngModel"],["type","checkbox","name","is_private",1,"form-check-input",3,"ngModelChange","ngModel"],["class","col-12",4,"ngIf"],[1,"col-6"],["type","number","min","2","placeholder","M\xEDn. equipos","name","min_teams",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","2","placeholder","M\xE1x. equipos","name","max_teams",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","M\xEDn. jugadores por equipo","name","min_players_per_team",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","M\xE1x. jugadores por equipo","name","max_players_per_team",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label"],["type","date","name","start_date",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","end_date",1,"form-control",3,"ngModelChange","ngModel"],[3,"selected"],[1,"row","g-3","mt-2"],["name","timezone",1,"form-select",3,"ngModelChange","ngModel"],["value","Europe/Madrid"],["value","Atlantic/Canary"],["class","mt-2",4,"ngIf"],["placeholder","Organizador","name","organizer_name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-3"],["type","email","placeholder","Email","name","organizer_email",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Tel\xE9fono","name","organizer_phone",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","placeholder","Descripci\xF3n / reglas","name","description",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Enlace a bases/reglamento (opcional)","name","rules_url",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Premios (opcional)","name","prizes",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","d-flex","gap-3","flex-wrap"],["type","checkbox","name","allow_draws",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"points-grid"],["type","number","name","points_win",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","points_draw",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","points_loss",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-2","style","color:#c62828;",4,"ngIf"],["class","mt-2","style","color:#2e7d32;",4,"ngIf"],[1,"btn","btn-primary","w-100","py-2","mt-2",3,"click","disabled"],["placeholder","C\xF3digo de acceso (6 cifras)","name","access_code","maxlength","6","inputmode","numeric","pattern","\\\\d{6}",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],[1,"mt-2"],[4,"ngIf"],[1,"mt-2",2,"color","#c62828"],[1,"mt-2",2,"color","#2e7d32"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),O(3,"app-back-button",3),u(4,"h2",4),p(5,"Competici\xF3n"),d()(),u(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"p"),p(11,"Alta y edici\xF3n de competici\xF3n"),d()(),u(12,"div",9)(13,"section",10)(14,"div",11),O(15,"img",12),u(16,"button",13),p(17,"\u270E"),d()(),u(18,"small",14),p(19,"Cambiar imagen/banner"),d()(),u(20,"section",15)(21,"h5"),p(22,"Datos b\xE1sicos"),d(),u(23,"div",16)(24,"div",17)(25,"input",18),I("ngModelChange",function(o){return T(r.competition.name,o)||(r.competition.name=o),o}),d()(),u(26,"div",19)(27,"select",20),I("ngModelChange",function(o){return T(r.competition.sport_id,o)||(r.competition.sport_id=o),o}),u(28,"option",21),p(29,"Deporte"),d(),u(30,"option",21),p(31,"P\xE1del"),d(),u(32,"option",21),p(33,"Tenis"),d(),u(34,"option",21),p(35,"F\xFAtbol"),d(),u(36,"option",21),p(37,"Basket"),d()()(),u(38,"div",19)(39,"select",22),I("ngModelChange",function(o){return T(r.competition.type,o)||(r.competition.type=o),o}),u(40,"option",21),p(41,"Tipo"),d(),u(42,"option",21),p(43,"Liga"),d(),u(44,"option",21),p(45,"Torneo"),d()()(),u(46,"div",19)(47,"select",23),I("ngModelChange",function(o){return T(r.competition.level,o)||(r.competition.level=o),o}),u(48,"option",21),p(49,"Nivel"),d(),u(50,"option",21),p(51,"Principiante"),d(),u(52,"option",21),p(53,"Intermedio"),d(),u(54,"option",21),p(55,"Avanzado"),d(),u(56,"option",21),p(57,"Competici\xF3n"),d()()(),u(58,"div",19)(59,"select",24),I("ngModelChange",function(o){return T(r.competition.status,o)||(r.competition.status=o),o}),u(60,"option",25),p(61,"En espera"),d(),u(62,"option",26),p(63,"Iniciada"),d(),u(64,"option",27),p(65,"Finalizada"),d()()(),u(66,"div",28)(67,"label",29)(68,"input",30),I("ngModelChange",function(o){return T(r.competition.is_open,o)||(r.competition.is_open=o),o}),d(),u(69,"span",31),p(70,"Inscripci\xF3n abierta (p\xFAblica)"),d()(),u(71,"label",29)(72,"input",32),I("ngModelChange",function(o){return T(r.competition.back_to_back,o)||(r.competition.back_to_back=o),o}),d(),u(73,"span",31),p(74,"Ida y vuelta"),d()(),u(75,"label",29)(76,"input",33),I("ngModelChange",function(o){return T(r.competition.is_private,o)||(r.competition.is_private=o),o}),d(),u(77,"span",31),p(78,"Competici\xF3n privada (requiere c\xF3digo)"),d()()(),R(79,bk,4,1,"div",34),d()(),u(80,"section",15)(81,"h5"),p(82,"Equipos"),d(),u(83,"div",16)(84,"div",35)(85,"input",36),I("ngModelChange",function(o){return T(r.competition.min_teams,o)||(r.competition.min_teams=o),o}),d()(),u(86,"div",35)(87,"input",37),I("ngModelChange",function(o){return T(r.competition.max_teams,o)||(r.competition.max_teams=o),o}),d()(),u(88,"div",35)(89,"input",38),I("ngModelChange",function(o){return T(r.competition.min_players_per_team,o)||(r.competition.min_players_per_team=o),o}),d()(),u(90,"div",35)(91,"input",39),I("ngModelChange",function(o){return T(r.competition.max_players_per_team,o)||(r.competition.max_players_per_team=o),o}),d()()()(),u(92,"section",15)(93,"h5"),p(94,"Fechas"),d(),u(95,"div",16)(96,"div",19)(97,"label",40),p(98,"Inicio"),d(),u(99,"input",41),I("ngModelChange",function(o){return T(r.competition.start_date,o)||(r.competition.start_date=o),o}),d()(),u(100,"div",19)(101,"label",40),p(102,"Fin"),d(),u(103,"input",42),I("ngModelChange",function(o){return T(r.competition.end_date,o)||(r.competition.end_date=o),o}),d()()()(),u(104,"section",15)(105,"h5"),p(106,"Localizaci\xF3n"),d(),u(107,"app-sport-center",43),A("selected",function(o){return r.onCenterZoneSelected(o)}),d(),u(108,"div",44)(109,"div",19)(110,"label",40),p(111,"Zona horaria"),d(),u(112,"select",45),I("ngModelChange",function(o){return T(r.competition.timezone,o)||(r.competition.timezone=o),o}),u(113,"option",21),p(114,"Zona horaria"),d(),u(115,"option",46),p(116,"Europe/Madrid"),d(),u(117,"option",47),p(118,"Atlantic/Canary"),d()()()(),R(119,Ck,4,2,"div",48),d(),u(120,"section",15)(121,"h5"),p(122,"Organizaci\xF3n"),d(),u(123,"div",16)(124,"div",19)(125,"input",49),I("ngModelChange",function(o){return T(r.competition.organizer_name,o)||(r.competition.organizer_name=o),o}),d()(),u(126,"div",50)(127,"input",51),I("ngModelChange",function(o){return T(r.competition.organizer_email,o)||(r.competition.organizer_email=o),o}),d()(),u(128,"div",50)(129,"input",52),I("ngModelChange",function(o){return T(r.competition.organizer_phone,o)||(r.competition.organizer_phone=o),o}),d()()()(),u(130,"section",15)(131,"h5"),p(132,"Reglas y puntuaci\xF3n"),d(),u(133,"div",16)(134,"div",17)(135,"textarea",53),I("ngModelChange",function(o){return T(r.competition.description,o)||(r.competition.description=o),o}),d()(),u(136,"div",19)(137,"input",54),I("ngModelChange",function(o){return T(r.competition.rules_url,o)||(r.competition.rules_url=o),o}),d()(),u(138,"div",19)(139,"input",55),I("ngModelChange",function(o){return T(r.competition.prizes,o)||(r.competition.prizes=o),o}),d()(),u(140,"div",56)(141,"label",29)(142,"input",57),I("ngModelChange",function(o){return T(r.competition.allow_draws,o)||(r.competition.allow_draws=o),o}),d(),u(143,"span",31),p(144,"Permitir empates"),d()()(),u(145,"div",17)(146,"div",58)(147,"div")(148,"label",40),p(149,"Puntos por victoria"),d(),u(150,"input",59),I("ngModelChange",function(o){return T(r.competition.points_win,o)||(r.competition.points_win=o),o}),d()(),u(151,"div")(152,"label",40),p(153,"Puntos por empate"),d(),u(154,"input",60),I("ngModelChange",function(o){return T(r.competition.points_draw,o)||(r.competition.points_draw=o),o}),d()(),u(155,"div")(156,"label",40),p(157,"Puntos por derrota"),d(),u(158,"input",61),I("ngModelChange",function(o){return T(r.competition.points_loss,o)||(r.competition.points_loss=o),o}),d()()()()()(),R(159,Ek,2,1,"div",62)(160,Dk,2,0,"div",63),u(161,"button",64),A("click",function(){return r.save()}),p(162),d()()()()()()()),e&2&&(g(3),b("iconOnly",!0),g(22),x("ngModel",r.competition.name),g(2),x("ngModel",r.competition.sport_id),g(),b("ngValue",null),g(2),b("ngValue",1),g(2),b("ngValue",2),g(2),b("ngValue",3),g(2),b("ngValue",4),g(3),x("ngModel",r.competition.type),g(),b("ngValue",null),g(2),b("ngValue",1),g(2),b("ngValue",2),g(3),x("ngModel",r.competition.level),g(),b("ngValue",null),g(2),b("ngValue",1),g(2),b("ngValue",2),g(2),b("ngValue",3),g(2),b("ngValue",4),g(3),x("ngModel",r.competition.status),g(9),x("ngModel",r.competition.is_open),g(4),x("ngModel",r.competition.back_to_back),g(4),x("ngModel",r.competition.is_private),g(3),b("ngIf",r.competition.is_private),g(6),x("ngModel",r.competition.min_teams),g(2),x("ngModel",r.competition.max_teams),g(2),x("ngModel",r.competition.min_players_per_team),g(2),x("ngModel",r.competition.max_players_per_team),g(8),x("ngModel",r.competition.start_date),g(4),x("ngModel",r.competition.end_date),g(9),x("ngModel",r.competition.timezone),g(),b("ngValue",null),g(6),b("ngIf",r.selectedCenter),g(6),x("ngModel",r.competition.organizer_name),g(2),x("ngModel",r.competition.organizer_email),g(2),x("ngModel",r.competition.organizer_phone),g(6),x("ngModel",r.competition.description),g(2),x("ngModel",r.competition.rules_url),g(2),x("ngModel",r.competition.prizes),g(3),x("ngModel",r.competition.allow_draws),g(8),x("ngModel",r.competition.points_win),g(4),x("ngModel",r.competition.points_draw),g(4),x("ngModel",r.competition.points_loss),g(),b("ngIf",r.error),g(),b("ngIf",r.success),g(),b("disabled",r.saving),g(),W(r.saving?"Guardando...":"Guardar competici\xF3n"))},dependencies:[q,te,Ie,dt,ft,Re,Pa,Ii,ut,Le,Va,Ba,La,Pe,je,ss],styles:[".competition-page[_ngcontent-%COMP%]{background:#f5f7fa;min-height:100vh}.competition-card[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;border:none}.competition-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e88e5,#42a5f5);color:#fff;padding:24px}.competition-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.competition-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:12px}.banner-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:220px;border-radius:16px;overflow:hidden;box-shadow:0 8px 20px #00000026}.banner-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.edit-banner-btn[_ngcontent-%COMP%]{position:absolute;bottom:12px;right:12px;background:#1e88e5;border:none;width:40px;height:40px;border-radius:50%;color:#fff;font-size:.95rem;box-shadow:0 4px 10px #00000040}.points-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:12px}@media (max-width: 768px){.competition-card[_ngcontent-%COMP%]{border-radius:20px}.banner-wrapper[_ngcontent-%COMP%]{height:160px}.points-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function Sk(t,n){if(t&1&&(u(0,"figure",17),O(1,"img",18),d()),t&2){let e=M();g(),b("src",e.competition.banner_url||"assets/images/sports-center.jpeg",Fe)("alt","Imagen de "+(e.competition.name||"competici\xF3n"))}}function xk(t,n){t&1&&(u(0,"div",12),p(1,"L"),d())}function Ik(t,n){if(t&1&&(u(0,"div",12),p(1),d()),t&2){let e=M().$implicit;g(),W(e.lost)}}function Mk(t,n){if(t&1&&(u(0,"div",19)(1,"div",10)(2,"div",20),O(3,"img",21),u(4,"span",22),p(5),d()(),u(6,"span",23),p(7),d()(),u(8,"div",11),p(9),d(),u(10,"div",12),p(11),d(),u(12,"div",12),p(13),d(),R(14,Ik,2,1,"div",13),u(15,"div",14),p(16),d()()),t&2){let e=n.$implicit,r=n.index,i=M();Lt("leader",r===0),b("ngClass",i.hasLoses?"cols-6":"cols-5"),g(3),b("src","assets/images/team-default.png",Fe)("alt","Escudo "+e.team),g(),Ye("aria-label","Posici\xF3n "+e.position),g(),W(e.position),g(),b("title",e.team),g(),W(e.team),g(2),W(e.played),g(2),W(e.won),g(2),W(e.draw),g(),b("ngIf",i.hasLoses),g(2),W(e.points)}}function Tk(t,n){if(t&1&&(u(0,"a",35),p(1,"Ver reglas"),d()),t&2){let e=M(2);b("href",e.competition.rules_url,Fe)}}function Ok(t,n){t&1&&(u(0,"span"),p(1,"\u2014"),d())}function Ak(t,n){if(t&1&&(u(0,"section",24)(1,"div",25)(2,"h2"),p(3,"Detalles de la competici\xF3n"),d(),u(4,"div",26)(5,"span",27),p(6),d(),u(7,"span",27),p(8),d(),u(9,"span",27),p(10),d()()(),u(11,"div",28)(12,"div",29)(13,"span",30),p(14,"Nivel:"),d(),u(15,"span",31),p(16),d()(),u(17,"div",29)(18,"span",30),p(19,"Estado:"),d(),u(20,"span",31),p(21),d()(),u(22,"div",29)(23,"span",30),p(24,"Inicio:"),d(),u(25,"span",31),p(26),d()(),u(27,"div",29)(28,"span",30),p(29,"Fin:"),d(),u(30,"span",31),p(31),d()(),u(32,"div",29)(33,"span",30),p(34,"Localizaci\xF3n:"),d(),u(35,"span",31),p(36),d()(),u(37,"div",29)(38,"span",30),p(39,"Zona horaria:"),d(),u(40,"span",31),p(41),d()(),u(42,"div",29)(43,"span",30),p(44,"Organizador:"),d(),u(45,"span",31),p(46),d()(),u(47,"div",29)(48,"span",30),p(49,"Contacto:"),d(),u(50,"span",31),p(51),d()(),u(52,"div",29)(53,"span",30),p(54,"Reglas:"),d(),u(55,"span",31),R(56,Tk,2,1,"a",32)(57,Ok,2,0,"span",33),d()(),u(58,"div",29)(59,"span",30),p(60,"Puntuaci\xF3n:"),d(),u(61,"span",31),p(62),d()(),u(63,"div",34)(64,"span",30),p(65,"Descripci\xF3n:"),d(),u(66,"span",31),p(67),d()()()()),t&2){let e,r,i,o,s,a,l=M();g(5),Lt("success",l.competition.is_public),g(),W(l.competition.is_public?"P\xFAblica":"Privada"),g(),Lt("success",l.competition.is_open),g(),W(l.competition.is_open?"Inscripci\xF3n abierta":"Inscripci\xF3n cerrada"),g(),Lt("success",l.competition.back_to_back),g(),W(l.competition.back_to_back?"Ida y vuelta":"Solo ida"),g(6),W((e=l.competition.level)!==null&&e!==void 0?e:"\u2014"),g(5),W(l.competition.status||"\u2014"),g(5),W((r=l.competition.start_date)!==null&&r!==void 0?r:"\u2014"),g(5),W((i=l.competition.end_date)!==null&&i!==void 0?i:"\u2014"),g(5),W((o=l.competition.location)!==null&&o!==void 0?o:"\u2014"),g(5),W((s=l.competition.timezone)!==null&&s!==void 0?s:"\u2014"),g(5),W((a=l.competition.organizer_name)!==null&&a!==void 0?a:"\u2014"),g(5),W(l.competition.organizer_email||l.competition.organizer_phone||"\u2014"),g(5),b("ngIf",l.competition.rules_url),g(),b("ngIf",!l.competition.rules_url),g(5),hh("",l.competition.points_win," / ",l.competition.points_draw," / ",l.competition.points_loss," (W/D/L)"),g(5),W(l.competition.description||"\u2014")}}var Od=class t{constructor(n){this.route=n}competitionId;hasLoses=!0;rows=[];competition;ngOnInit(){let n=this.route.snapshot.paramMap.get("id");this.competitionId=n?Number(n):0,this.rows=[{position:1,team:"Equipo A",played:10,won:8,draw:1,lost:1,points:25},{position:2,team:"Equipo B",played:10,won:7,draw:2,lost:1,points:23},{position:3,team:"Equipo C",played:10,won:5,draw:3,lost:2,points:18}],this.competition={id:this.competitionId,sport_id:2,name:"Liga Municipal Invierno",type:1,level:2,min_teams:6,max_teams:12,min_players_per_team:5,max_players_per_team:12,start_date:"2025-01-15",end_date:"2025-03-30",location:1,timezone:"Europe/Madrid",organizer_name:"Ayuntamiento",organizer_email:"deportes@ciudad.es",organizer_phone:"+34 600 000 000",is_open:!0,status:"iniciada",back_to_back:!0,allow_draws:!0,points_win:3,points_draw:1,points_loss:0,fee_amount:null,fee_currency:null,description:"Liga local de tenis nivel intermedio.",rules_url:"https://example.com/reglas",prizes:"Trofeos y material deportivo",banner_url:null,is_public:!0}}getWinPct(n){let e=n.won+n.lost+n.draw;return e?Math.round(n.won/e*100):0}static \u0275fac=function(e){return new(e||t)(k(At))};static \u0275cmp=z({type:t,selectors:[["app-classification"]],decls:25,vars:7,consts:[[1,"classification"],[1,"d-flex","align-items-center","gap-2","mb-3","classification-header"],["ariaLabel","Volver",3,"iconOnly"],[1,"title-area"],[1,"m-0"],[1,"subtitle"],["class","competition-thumb",4,"ngIf"],["aria-label","Tabla de clasificaci\xF3n",1,"standings"],[1,"standings-content"],[1,"row","header",3,"ngClass"],[1,"cell","team"],[1,"cell","pj"],[1,"cell","num"],["class","cell num",4,"ngIf"],[1,"cell","pts"],["class","row",3,"leader","ngClass",4,"ngFor","ngForOf"],["class","competition-details",4,"ngIf"],[1,"competition-thumb"],[3,"src","alt"],[1,"row",3,"ngClass"],[1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"pos"],[1,"name",3,"title"],[1,"competition-details"],[1,"details-header"],[1,"badges"],[1,"badge"],[1,"details-grid","card"],[1,"detail"],[1,"label"],[1,"value"],["target","_blank","rel","noopener",3,"href",4,"ngIf"],[4,"ngIf"],[1,"detail","full"],["target","_blank","rel","noopener",3,"href"]],template:function(e,r){e&1&&(u(0,"section",0)(1,"header",1),O(2,"app-back-button",2),u(3,"div",3)(4,"h1",4),p(5,"Clasificaci\xF3n"),d(),u(6,"p",5),p(7),d()(),R(8,Sk,2,2,"figure",6),d(),u(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),p(13,"Equipo"),d(),u(14,"div",11),p(15,"PJ"),d(),u(16,"div",12),p(17,"W"),d(),u(18,"div",12),p(19,"D"),d(),R(20,xk,2,0,"div",13),u(21,"div",14),p(22,"PTOS"),d()(),R(23,Mk,17,14,"div",15),d()(),R(24,Ak,68,23,"section",16),d()),e&2&&(g(2),b("iconOnly",!0),g(5),Ae("Competici\xF3n: ",(r.competition==null?null:r.competition.name)||r.competitionId,""),g(),b("ngIf",r.competition),g(3),b("ngClass",r.hasLoses?"cols-6":"cols-5"),g(9),b("ngIf",r.hasLoses),g(3),b("ngForOf",r.rows),g(),b("ngIf",r.competition))},dependencies:[q,ii,be,te,ir,je],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.classification[_ngcontent-%COMP%]{padding:12px}.classification-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px}.classification-header[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]{display:flex;flex-direction:column}.classification-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:.85rem}.competition-thumb[_ngcontent-%COMP%]{margin:0;width:72px;height:72px;border-radius:12px;overflow:hidden;box-shadow:0 8px 24px #0000001f;border:1px solid #e5e7eb}.competition-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.standings[_ngcontent-%COMP%]{width:100%;max-width:960px;margin:0 auto;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;background:#fff;padding:.75rem;box-shadow:0 6px 18px #0000000f}.standings-content[_ngcontent-%COMP%]{padding:8px}.row[_ngcontent-%COMP%]{display:grid;gap:6px;align-items:center;padding:6px 8px;font-size:.85rem}.row.header[_ngcontent-%COMP%]{background:#f8fafc;color:#475569;font-weight:700;font-size:.75rem}.row[_ngcontent-%COMP%] + .row[_ngcontent-%COMP%]{border-top:1px solid #f1f5f9}.row.cols-6[_ngcontent-%COMP%]{grid-template-columns:27% 13% 13% 13% 13% 21%}.row.cols-5[_ngcontent-%COMP%]{grid-template-columns:31% 15% 15% 15% 24%}.cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.cell.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;min-width:0}.cell.pj[_ngcontent-%COMP%], .cell.num[_ngcontent-%COMP%]{text-align:center;font-variant-numeric:tabular-nums;min-width:0}.cell.pts[_ngcontent-%COMP%]{text-align:center;font-variant-numeric:tabular-nums;text-overflow:clip;overflow:visible;white-space:nowrap}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:65px;height:65px;display:inline-block}.avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:block;width:65px;height:65px;border-radius:6px;border:1px solid #e5e7eb;object-fit:cover}.avatar-wrapper[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{position:absolute;top:4px;left:50%;transform:translate(-50%);z-index:2;font-weight:800;font-size:.9rem;line-height:1;color:#000;-webkit-text-stroke:1px #fff;text-shadow:0 1px 0 #fff,1px 0 0 #fff,0 -1px 0 #fff,-1px 0 0 #fff}.pos[_ngcontent-%COMP%]{min-width:30px;text-align:center;font-weight:600;color:#334155}.avatar[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:4px;object-fit:cover;border:1px solid #e5e7eb}.name[_ngcontent-%COMP%]{font-weight:600;color:#0f172a;max-width:120px;text-align:center;overflow:hidden;text-overflow:ellipsis}.row.leader[_ngcontent-%COMP%]   .cell.pts[_ngcontent-%COMP%]{color:#2563eb;font-weight:800}.competition-details[_ngcontent-%COMP%]{max-width:960px;margin:16px auto 0;display:grid;gap:12px}.details-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.details-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#0f172a}.badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:4px 8px;border-radius:999px;background:#e2e8f0;color:#0f172a;border:1px solid #cbd5e1}.badge.success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;border-color:#86efac}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:12px;box-shadow:0 10px 30px #00000014;border:1px solid #e5e7eb}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px 16px}.detail[_ngcontent-%COMP%]{display:flex;gap:6px;align-items:baseline}.detail.full[_ngcontent-%COMP%]{grid-column:1 / -1}.label[_ngcontent-%COMP%]{font-weight:600;color:#334155}.value[_ngcontent-%COMP%]{color:#0f172a}@media (max-width: 640px){.classification-header[_ngcontent-%COMP%]{grid-template-columns:auto 1fr}.competition-thumb[_ngcontent-%COMP%]{display:none}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function Nk(t,n){if(t&1){let e=ie();u(0,"li"),O(1,"app-team-card",22),u(2,"button",23),A("click",function(){let i=F(e).$implicit,o=M(2);return L(o.requestJoin(i))}),p(3,"Solicitar unirme"),d()()}if(t&2){let e=n.$implicit;g(),b("team",e)}}function Rk(t,n){if(t&1&&(u(0,"div",20)(1,"h2"),p(2,"Resultados"),d(),u(3,"ul"),R(4,Nk,4,1,"li",21),d()()),t&2){let e=M();g(4),b("ngForOf",e.results)}}function kk(t,n){t&1&&(u(0,"p",24),p(1,"Usa los filtros para encontrar un equipo."),d())}var Ad=class t{filters={name:"",gender:"",level:"",sport:"",center:""};results=[];search(){this.results=[{id:1,name:"Los P\xE1delistas",sport_id:3,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},{id:2,name:"Futboleros",sport_id:2,sport_name:"football",image:"assets/images/team-default.png",gender:"male"},{id:3,name:"Volley Queens",sport_id:4,sport_name:"tennis",image:"assets/images/team-default.png",gender:"female"}]}requestJoin(n){console.log("Solicitar uni\xF3n al equipo",n),alert(`Solicitud enviada a "${n.name}"`)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-team-join"]],decls:32,vars:7,consts:[[1,"team-join"],[1,"d-flex","align-items-center","gap-2","mb-2"],["ariaLabel","Volver",3,"iconOnly"],[1,"m-0"],[1,"filters",3,"ngSubmit"],["type","text","placeholder","Nombre del equipo","name","name",3,"ngModelChange","ngModel"],["name","sport",3,"ngModelChange","ngModel"],["value",""],["value","football"],["value","basket"],["value","tennis"],["value","padel"],["name","level",3,"ngModelChange","ngModel"],["value","beginner"],["value","intermediate"],["value","advanced"],["type","text","placeholder","Centro deportivo","name","center",3,"ngModelChange","ngModel"],["type","submit"],["class","results",4,"ngIf"],["class","empty",4,"ngIf"],[1,"results"],[4,"ngFor","ngForOf"],[3,"team"],[3,"click"],[1,"empty"]],template:function(e,r){e&1&&(u(0,"section",0)(1,"div",1),O(2,"app-back-button",2),u(3,"h1",3),p(4,"Unirse a un equipo"),d()(),u(5,"form",4),A("ngSubmit",function(){return r.search()}),u(6,"input",5),I("ngModelChange",function(o){return T(r.filters.name,o)||(r.filters.name=o),o}),d(),u(7,"select",6),I("ngModelChange",function(o){return T(r.filters.sport,o)||(r.filters.sport=o),o}),u(8,"option",7),p(9,"Deporte"),d(),u(10,"option",8),p(11,"F\xFAtbol"),d(),u(12,"option",9),p(13,"Baloncesto"),d(),u(14,"option",10),p(15,"Tenis"),d(),u(16,"option",11),p(17,"P\xE1del"),d()(),u(18,"select",12),I("ngModelChange",function(o){return T(r.filters.level,o)||(r.filters.level=o),o}),u(19,"option",7),p(20,"Nivel"),d(),u(21,"option",13),p(22,"Iniciaci\xF3n"),d(),u(23,"option",14),p(24,"Intermedio"),d(),u(25,"option",15),p(26,"Avanzado"),d()(),u(27,"input",16),I("ngModelChange",function(o){return T(r.filters.center,o)||(r.filters.center=o),o}),d(),u(28,"button",17),p(29,"Buscar"),d()(),R(30,Rk,5,1,"div",18)(31,kk,2,0,"p",19),d()),e&2&&(g(2),b("iconOnly",!0),g(4),x("ngModel",r.filters.name),g(),x("ngModel",r.filters.sport),g(11),x("ngModel",r.filters.level),g(9),x("ngModel",r.filters.center),g(3),b("ngIf",r.results.length),g(),b("ngIf",!r.results.length))},dependencies:[q,be,te,Ie,on,dt,ft,Re,ut,Le,rn,Pe,Ht,je,is],styles:['[_ngcontent-%COMP%]:root{--bg: #0b0c10;--card-bg: #111318;--text: #e8eaf0;--muted: #9aa3af;--primary: #4f46e5;--primary-press: #4338ca;--border: #1f2330;--shadow: 0 6px 16px rgba(0, 0, 0, .25)}@media (prefers-color-scheme: light){[_ngcontent-%COMP%]:root{--bg: #f7f8fb;--card-bg: #ffffff;--text: #111318;--muted: #5b6574;--primary: #4f46e5;--primary-press: #4338ca;--border: #e5e7eb;--shadow: 0 6px 18px rgba(17, 19, 24, .07)}}.team-join[_ngcontent-%COMP%]{background:var(--bg);color:var(--text);min-height:100dvh;padding:calc(16px + env(safe-area-inset-top)) 16px calc(24px + env(safe-area-inset-bottom));display:block;max-width:720px;margin:0 auto}.team-join[_ngcontent-%COMP%]   app-back-button[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.team-join[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.2;font-weight:700;letter-spacing:-.01em;margin:4px 2px 16px}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;background:var(--card-bg);padding:12px;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;width:100%;padding:12px 14px;background:transparent;color:var(--text);border:1px solid var(--border);border-radius:12px;font-size:.95rem;outline:none;transition:border-color .2s ease,box-shadow .2s ease}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--muted)}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:color-mix(in oklab,var(--primary) 65%,var(--border));box-shadow:0 0 0 4px color-mix(in oklab,var(--primary) 18%,transparent)}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:4px;height:46px;border:0;border-radius:12px;background:var(--primary);color:#fff;font-weight:700;font-size:1rem;letter-spacing:.2px;box-shadow:0 8px 18px color-mix(in oklab,var(--primary) 28%,transparent);transition:transform .06s ease,background .15s ease,box-shadow .15s ease}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(1px);background:var(--primary-press);box-shadow:0 6px 14px color-mix(in oklab,var(--primary) 22%,transparent)}.results[_ngcontent-%COMP%]{margin-top:18px}.results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 4px 10px;color:var(--muted)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:10px}.team[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px;background:var(--card-bg);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);animation:_ngcontent-%COMP%_fadeUp .24s ease both}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.info[_ngcontent-%COMP%]{min-width:0;flex:1 1 auto}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:2px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:flex;gap:6px;flex-wrap:wrap;align-items:center}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;font-size:.78rem;font-weight:600;border-radius:999px;color:color-mix(in oklab,var(--primary) 86%,#ffffff);background:color-mix(in oklab,var(--primary) 15%,transparent);border:1px solid color-mix(in oklab,var(--primary) 28%,var(--border))}.center[_ngcontent-%COMP%]{color:var(--muted);font-size:.82rem}.center[_ngcontent-%COMP%]:before{content:"\\1f4cd";margin-right:4px}.team[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{white-space:nowrap;padding:10px 12px;min-height:38px;border-radius:10px;border:1px solid color-mix(in oklab,var(--primary) 50%,var(--border));background:color-mix(in oklab,var(--primary) 10%,transparent);color:color-mix(in oklab,var(--primary) 90%,#ffffff);font-weight:700;font-size:.92rem;transition:transform .06s ease,background .15s ease,border-color .15s ease}.team[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{transform:translateY(1px);background:color-mix(in oklab,var(--primary) 18%,transparent)}.empty[_ngcontent-%COMP%]{margin:18px 8px 0;color:var(--muted);text-align:center}@media (min-width: 420px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.filters[_ngcontent-%COMP%]   input[name=name][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{grid-column:1 / -1}}@media (prefers-reduced-motion: reduce){.team[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{transition:none!important;animation:none!important}}']})};function Pk(t,n){if(t&1){let e=ie();u(0,"input",30),I("ngModelChange",function(i){F(e);let o=M().$implicit,s=M(2);return T(s.accessCodes[o.id],i)||(s.accessCodes[o.id]=i),L(i)}),d()}if(t&2){let e=M().$implicit,r=M(2);x("ngModel",r.accessCodes[e.id]),Ye("name","code-"+e.id)}}function Fk(t,n){if(t&1){let e=ie();u(0,"li")(1,"div",25),O(2,"app-competition-card",26),u(3,"div",27),R(4,Pk,1,2,"input",28),u(5,"button",29),A("click",function(){let i=F(e).$implicit,o=M(2);return L(o.requestJoin(i))}),p(6),d()()()()}if(t&2){let e=n.$implicit;g(2),b("competition",e),g(2),b("ngIf",e.is_private),g(),b("disabled",!e.is_open),g(),Ae(" ",e.is_open?e.is_private?"Solicitar con c\xF3digo":"Solicitar inscripci\xF3n":"Inscripci\xF3n cerrada"," ")}}function Lk(t,n){if(t&1&&(u(0,"div",23)(1,"h2"),p(2,"Resultados"),d(),u(3,"ul"),R(4,Fk,7,4,"li",24),d()()),t&2){let e=M();g(4),b("ngForOf",e.results)}}function jk(t,n){t&1&&(u(0,"p",31),p(1,"Usa los filtros para encontrar un campeonato."),d())}var Nd=class t{filters={name:"",sport:"",type:"",level:"",center:""};results=[];accessCodes={};isValidCode(n){return/^\d{6}$/.test(String(n??"").trim())}search(){this.results=[{id:101,name:"Liga Municipal",image:"assets/images/sample-league-tennis.jpeg",sport_id:2,sport_name:"2",type:"league",level:2,start_date:"2025-02-10",location:"Polideportivo Sur",is_open:!0,is_private:!1},{id:202,name:"Open Padel Invierno",image:"assets/images/sample-league-padel.jpeg",sport_id:1,sport_name:"1",type:"tournament",level:3,start_date:"2025-01-20",location:"Real Club de Tenis",is_open:!0,is_private:!0}]}requestJoin(n){if(n.is_open){if(n.is_private){let e=this.accessCodes[n.id];if(!this.isValidCode(e)){alert("Introduce un c\xF3digo de acceso de 6 cifras");return}console.log("Solicitar inscripci\xF3n privada",n,"code:",e),alert(`Solicitud de inscripci\xF3n enviada a "${n.name}" con c\xF3digo ${e}`);return}console.log("Solicitar inscripci\xF3n a la competici\xF3n",n),alert(`Solicitud de inscripci\xF3n enviada a "${n.name}"`)}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-competition-join"]],decls:39,vars:8,consts:[[1,"competition-join"],[1,"d-flex","align-items-center","gap-2","mb-2"],["ariaLabel","Volver",3,"iconOnly"],[1,"m-0"],[1,"filters",3,"ngSubmit"],["type","text","placeholder","Nombre del campeonato","name","name",3,"ngModelChange","ngModel"],["name","sport",3,"ngModelChange","ngModel"],["value",""],["value","football"],["value","basket"],["value","tennis"],["value","padel"],["name","type",3,"ngModelChange","ngModel"],["value","league"],["value","tournament"],["name","level",3,"ngModelChange","ngModel"],["value","beginner"],["value","intermediate"],["value","advanced"],["type","text","placeholder","Centro deportivo","name","center",3,"ngModelChange","ngModel"],["type","submit"],["class","results",4,"ngIf"],["class","empty",4,"ngIf"],[1,"results"],[4,"ngFor","ngForOf"],[1,"competition"],[3,"competition"],[1,"actions"],["class","code-input","maxlength","6","inputmode","numeric","pattern","\\\\d{6}","placeholder","C\xF3digo (6)",3,"ngModel","ngModelChange",4,"ngIf"],[1,"",3,"click","disabled"],["maxlength","6","inputmode","numeric","pattern","\\\\d{6}","placeholder","C\xF3digo (6)",1,"code-input",3,"ngModelChange","ngModel"],[1,"empty"]],template:function(e,r){e&1&&(u(0,"section",0)(1,"div",1),O(2,"app-back-button",2),u(3,"h1",3),p(4,"Unirse a un campeonato"),d()(),u(5,"form",4),A("ngSubmit",function(){return r.search()}),u(6,"input",5),I("ngModelChange",function(o){return T(r.filters.name,o)||(r.filters.name=o),o}),d(),u(7,"select",6),I("ngModelChange",function(o){return T(r.filters.sport,o)||(r.filters.sport=o),o}),u(8,"option",7),p(9,"Deporte"),d(),u(10,"option",8),p(11,"F\xFAtbol"),d(),u(12,"option",9),p(13,"Baloncesto"),d(),u(14,"option",10),p(15,"Tenis"),d(),u(16,"option",11),p(17,"P\xE1del"),d()(),u(18,"select",12),I("ngModelChange",function(o){return T(r.filters.type,o)||(r.filters.type=o),o}),u(19,"option",7),p(20,"Tipo"),d(),u(21,"option",13),p(22,"Liga"),d(),u(23,"option",14),p(24,"Torneo"),d()(),u(25,"select",15),I("ngModelChange",function(o){return T(r.filters.level,o)||(r.filters.level=o),o}),u(26,"option",7),p(27,"Nivel"),d(),u(28,"option",16),p(29,"Iniciaci\xF3n"),d(),u(30,"option",17),p(31,"Intermedio"),d(),u(32,"option",18),p(33,"Avanzado"),d()(),u(34,"input",19),I("ngModelChange",function(o){return T(r.filters.center,o)||(r.filters.center=o),o}),d(),u(35,"button",20),p(36,"Buscar"),d()(),R(37,Lk,5,1,"div",21)(38,jk,2,0,"p",22),d()),e&2&&(g(2),b("iconOnly",!0),g(4),x("ngModel",r.filters.name),g(),x("ngModel",r.filters.sport),g(11),x("ngModel",r.filters.type),g(7),x("ngModel",r.filters.level),g(9),x("ngModel",r.filters.center),g(3),b("ngIf",r.results.length),g(),b("ngIf",!r.results.length))},dependencies:[q,be,te,Ie,on,dt,ft,Re,ut,Le,rn,Va,Ba,Pe,Ht,je,os],styles:['[_ngcontent-%COMP%]:root{--bg: #0b0c10;--card-bg: #111318;--text: #e8eaf0;--muted: #9aa3af;--primary: #2563eb;--primary-press: #1d4ed8;--border: #1f2330;--shadow: 0 6px 16px rgba(0, 0, 0, .25)}@media (prefers-color-scheme: light){[_ngcontent-%COMP%]:root{--bg: #f7f8fb;--card-bg: #ffffff;--text: #111318;--muted: #5b6574;--primary: #2563eb;--primary-press: #1d4ed8;--border: #e5e7eb;--shadow: 0 6px 18px rgba(17, 19, 24, .07)}}.competition-join[_ngcontent-%COMP%]{background:var(--bg);color:var(--text);min-height:100dvh;padding:calc(16px + env(safe-area-inset-top)) 16px calc(24px + env(safe-area-inset-bottom));display:block;max-width:720px;margin:0 auto}.competition-join[_ngcontent-%COMP%]   app-back-button[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.competition-join[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.2;font-weight:700;letter-spacing:-.01em;margin:4px 2px 16px}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;background:var(--card-bg);padding:12px;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;width:100%;padding:12px 14px;background:transparent;color:var(--text);border:1px solid var(--border);border-radius:12px;font-size:.95rem;outline:none;transition:border-color .2s ease,box-shadow .2s ease}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--muted)}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:color-mix(in oklab,var(--primary) 65%,var(--border));box-shadow:0 0 0 4px color-mix(in oklab,var(--primary) 18%,transparent)}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:4px;height:46px;border:0;border-radius:12px;background:var(--primary);color:#fff;font-weight:700;font-size:1rem;letter-spacing:.2px;box-shadow:0 8px 18px color-mix(in oklab,var(--primary) 28%,transparent);transition:transform .06s ease,background .15s ease,box-shadow .15s ease}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(1px);background:var(--primary-press);box-shadow:0 6px 14px color-mix(in oklab,var(--primary) 22%,transparent)}.results[_ngcontent-%COMP%]{margin-top:18px}.results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 4px 10px;color:var(--muted)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:10px}.competition[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px;background:var(--card-bg);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);animation:_ngcontent-%COMP%_fadeUp .24s ease both}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.info[_ngcontent-%COMP%]{min-width:0;flex:1 1 auto}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:2px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:flex;gap:6px;flex-wrap:wrap;align-items:center}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;font-size:.78rem;font-weight:600;border-radius:999px;color:color-mix(in oklab,var(--primary) 86%,#ffffff);background:color-mix(in oklab,var(--primary) 15%,transparent);border:1px solid color-mix(in oklab,var(--primary) 28%,var(--border))}.center[_ngcontent-%COMP%]{color:var(--muted);font-size:.82rem}.center[_ngcontent-%COMP%]:before{content:"\\1f4cd";margin-right:4px}.competition[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{white-space:normal;padding:10px 12px;min-height:38px;border-radius:10px;border:1px solid color-mix(in oklab,var(--primary) 50%,var(--border));background:color-mix(in oklab,var(--primary) 10%,transparent);color:color-mix(in oklab,var(--primary) 90%,#ffffff);font-weight:700;font-size:.92rem;transition:transform .06s ease,background .15s ease,border-color .15s ease;width:140px;max-width:45%;text-align:center;line-height:1.15;overflow-wrap:anywhere}.competition[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{transform:translateY(1px);background:color-mix(in oklab,var(--primary) 18%,transparent)}.empty[_ngcontent-%COMP%]{margin:18px 8px 0;color:var(--muted);text-align:center}@media (min-width: 420px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.filters[_ngcontent-%COMP%]   input[name=name][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{grid-column:1 / -1}}@media (prefers-reduced-motion: reduce){.competition[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{transition:none!important;animation:none!important}}']})};var Rd=class t{notification;delete=new we;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-notification"]],inputs:{notification:"notification"},outputs:{delete:"delete"},decls:12,vars:6,consts:[[1,"notification-item","d-flex","align-items-start","justify-content-between","p-3","border","rounded","mb-2"],[1,"me-3","flex-grow-1"],[1,"d-flex","align-items-center","gap-2"],[1,"text-muted"],[1,"text-body-secondary"],["title","Borrar",1,"btn","btn-light","btn-sm",3,"click"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong"),p(4),d(),u(5,"small",3),p(6),On(7,"date"),d()(),u(8,"div",4),p(9),d()(),u(10,"button",5),A("click",function(){return r.delete.emit(r.notification.id)}),p(11," \u{1F5D1}\uFE0F "),d()()),e&2&&(g(4),W(r.notification.title),g(2),W(fo(7,3,r.notification.createdAt,"short")),g(3),W(r.notification.description))},dependencies:[q,oi],styles:[".notification-item[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]{display:block}"]})};function Vk(t,n){if(t&1){let e=ie();u(0,"app-notification",7),A("delete",function(i){F(e);let o=M(2);return L(o.onDelete(i))}),d()}if(t&2){let e=n.$implicit;b("notification",e)}}function Bk(t,n){if(t&1&&(u(0,"div"),R(1,Vk,1,1,"app-notification",6),d()),t&2){let e=M();g(),b("ngForOf",e.notifications)("ngForTrackBy",e.trackById)}}function Uk(t,n){t&1&&(u(0,"div",8),p(1,"No tienes notificaciones"),d())}var kd=class t{notifications=[{id:1,title:"Partido programado",description:"Tienes un partido el 28 de enero a las 19:00",createdAt:new Date().toISOString(),type:"info"},{id:2,title:"Nuevo mensaje",description:"Tu capit\xE1n ha actualizado la alineaci\xF3n",createdAt:new Date(Date.now()-36e5).toISOString(),type:"success"},{id:3,title:"Resultado pendiente",description:"Recuerda reportar el resultado del \xFAltimo partido",createdAt:new Date(Date.now()-864e5).toISOString(),type:"warning"}];onDelete(n){this.notifications=this.notifications.filter(e=>e.id!==n)}trackById=(n,e)=>e.id;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-notifications"]],decls:8,vars:3,consts:[["empty",""],[1,"notifications-container","container","py-3"],[1,"d-flex","align-items-center","gap-2","mb-3"],["ariaLabel","Volver",3,"iconOnly"],[1,"m-0"],[4,"ngIf","ngIfElse"],[3,"notification","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","notification"],["role","status",1,"alert","alert-info"]],template:function(e,r){if(e&1&&(u(0,"section",1)(1,"div",2),O(2,"app-back-button",3),u(3,"h2",4),p(4,"Notificaciones"),d()(),R(5,Bk,2,2,"div",5)(6,Uk,2,0,"ng-template",null,0,Sc),d()),e&2){let i=vr(7);g(2),b("iconOnly",!0),g(3),b("ngIf",r.notifications.length)("ngIfElse",i)}},dependencies:[q,be,te,Rd,je],styles:[".notifications-container[_ngcontent-%COMP%]{max-width:720px}"]})};function $k(t,n){if(t&1&&(u(0,"section",8),O(1,"img",9),u(2,"div",10)(3,"div",11),p(4),d(),u(5,"div",12)(6,"span"),p(7),On(8,"date"),d(),u(9,"span"),p(10),d(),u(11,"span"),p(12),d()()()()),t&2){let e=M();g(),b("src",e.gameCard.sport_name==="tennis"?"assets/images/sports/tennis/tennis-field-1.jpeg":e.gameCard.sport_name==="padel"?"assets/images/sports/padel/padel-field-1.jpeg":"assets/images/default-field.jpg",Fe),g(3),er("",e.gameCard.team1==null?null:e.gameCard.team1.name," vs ",e.gameCard.team2==null?null:e.gameCard.team2.name,""),g(3),W(fo(8,6,(e.game==null?null:e.game.date)||e.gameCard.date,"EEE d MMM \xB7 HH:mm")),g(3),Ae("\u{1F4CD} ",e.gameCard.location||"-",""),g(2),Ae("Nivel: ",e.gameCard.level||"-","")}}function Hk(t,n){if(t&1&&(u(0,"div",14)(1,"span",15),p(2,"Equipo 1"),d(),u(3,"span",16),p(4),d()()),t&2){let e=M(2);g(4),W((e.gameCard.team1==null?null:e.gameCard.team1.name)||"-")}}function zk(t,n){if(t&1&&(u(0,"div",14)(1,"span",15),p(2,"Equipo 2"),d(),u(3,"span",16),p(4),d()()),t&2){let e=M(2);g(4),W((e.gameCard.team2==null?null:e.gameCard.team2.name)||"-")}}function Wk(t,n){if(t&1&&(u(0,"div",14)(1,"span",15),p(2,"Resultado"),d(),u(3,"span",16),p(4),d()()),t&2){let e=M(2);g(4),W(e.game==null?null:e.game.result)}}function Gk(t,n){if(t&1&&(u(0,"section",13)(1,"div",14)(2,"span",15),p(3,"ID"),d(),u(4,"span",16),p(5),d()(),u(6,"div",14)(7,"span",15),p(8,"Deporte"),d(),u(9,"span",16),p(10),d()(),u(11,"div",14)(12,"span",15),p(13,"Tipo"),d(),u(14,"span",16),p(15),d()(),R(16,Hk,5,1,"div",17)(17,zk,5,1,"div",17),u(18,"div",14)(19,"span",15),p(20,"Ubicaci\xF3n"),d(),u(21,"span",16),p(22),d()(),R(23,Wk,5,1,"div",17),d()),t&2){let e,r=M();g(5),W((r.game==null?null:r.game.id)||(r.gameCard==null?null:r.gameCard.id)),g(5),W((r.gameCard==null?null:r.gameCard.sport_name)||"-"),g(5),W((e=(r.game==null?null:r.game.type)||(r.gameCard==null?null:r.gameCard.type))!==null&&e!==void 0?e:"-"),g(),b("ngIf",r.gameCard),g(),b("ngIf",r.gameCard),g(5),W((r.gameCard==null?null:r.gameCard.location)||"-"),g(),b("ngIf",r.game==null?null:r.game.result)}}function qk(t,n){if(t&1){let e=ie();u(0,"button",25),A("click",function(){let i=F(e).$implicit,o=M(2);return L(o.selectDay(i))}),p(1),d()}if(t&2){let e=n.$implicit,r=M(2);Lt("active",e.key===r.selectedDayKey()),b("disabled",!e.enabled),g(),Ae(" ",e.label," ")}}function Zk(t,n){if(t&1){let e=ie();u(0,"section",18)(1,"h3"),p(2,"Planificar partido"),d(),u(3,"div",19),R(4,qk,2,4,"button",20),d(),u(5,"div",21)(6,"label",22)(7,"input",23),A("change",function(){F(e);let i=M();return L(i.pickTime("morning"))}),d(),p(8),d(),u(9,"label",22)(10,"input",23),A("change",function(){F(e);let i=M();return L(i.pickTime("afternoon"))}),d(),p(11),d()(),u(12,"button",24),A("click",function(){F(e);let i=M();return L(i.savePlanning())}),p(13,"Guardar planificaci\xF3n"),d()()}if(t&2){let e=M();g(4),b("ngForOf",e.availability()),g(4),er(" Ma\xF1ana: ",e.selectedMorningStart," - ",e.selectedMorningEnd," "),g(3),er(" Tarde: ",e.selectedAfternoonStart," - ",e.selectedAfternoonEnd," ")}}function Kk(t,n){if(t&1){let e=ie();u(0,"div",34)(1,"span",35),p(2),d(),u(3,"input",36),I("ngModelChange",function(i){let o=F(e).index,s=M(3);return T(s.setScores()[o].team1,i)||(s.setScores()[o].team1=i),L(i)}),d(),u(4,"input",37),I("ngModelChange",function(i){let o=F(e).index,s=M(3);return T(s.setScores()[o].team2,i)||(s.setScores()[o].team2=i),L(i)}),d()()}if(t&2){let e=n.index,r=M(3);g(2),Ae("Set ",e+1,""),g(),x("ngModel",r.setScores()[e].team1),g(),x("ngModel",r.setScores()[e].team2)}}function Jk(t,n){if(t&1){let e=ie();u(0,"div",29)(1,"label",30),p(2," Mejor de: "),u(3,"select",31),A("ngModelChange",function(i){F(e);let o=M(2);return L(o.onBestOfChange(i))}),u(4,"option",32),p(5,"3 sets"),d(),u(6,"option",32),p(7,"5 sets"),d()()(),R(8,Kk,5,3,"div",33),u(9,"button",24),A("click",function(){F(e);let i=M(2);return L(i.saveResult())}),p(10,"Guardar resultado"),d()()}if(t&2){let e=M(2);g(3),b("ngModel",e.bestOf()),g(),b("ngValue",3),g(2),b("ngValue",5),g(2),b("ngForOf",e.setScores())}}function Yk(t,n){t&1&&(u(0,"div",38),p(1," Formato de resultado no implementado para este deporte. "),d())}function Qk(t,n){if(t&1&&(u(0,"section",26)(1,"h3"),p(2,"Introducir resultado"),d(),R(3,Jk,11,4,"div",27)(4,Yk,2,0,"div",28),d()),t&2){let e=M();g(3),b("ngIf",e.sportKey==="padel"||e.sportKey==="tennis"),g(),b("ngIf",e.sportKey!=="padel"&&e.sportKey!=="tennis")}}var Xk=[{key:"mon",label:"Lunes",enabled:!0,morning:{start:"09:00",end:"12:00"},afternoon:{start:"16:00",end:"20:00"}},{key:"tue",label:"Martes",enabled:!0,morning:{start:"09:00",end:"12:00"},afternoon:{start:"16:00",end:"20:00"}},{key:"wed",label:"Mi\xE9rcoles",enabled:!0,morning:{start:"09:00",end:"12:00"},afternoon:{start:"16:00",end:"20:00"}},{key:"thu",label:"Jueves",enabled:!0,morning:{start:"09:00",end:"12:00"},afternoon:{start:"16:00",end:"20:00"}},{key:"fri",label:"Viernes",enabled:!0,morning:{start:"09:00",end:"12:00"},afternoon:{start:"16:00",end:"20:00"}},{key:"sat",label:"S\xE1bado",enabled:!0,morning:{start:"09:00",end:"12:00"},afternoon:{start:"16:00",end:"20:00"}},{key:"sun",label:"Domingo",enabled:!1,morning:{start:"10:00",end:"12:00"},afternoon:{start:"17:00",end:"19:00"}}],Pd=class t{gameCard=null;game=null;sportKey="other";availability=Mn(Xk);selectedDayKey=Mn("mon");selectedTime={start:null,end:null};bestOf=Mn(3);setScores=Mn([]);showPlanning=tr(()=>!(this.game?.date??this.gameCard?.date??null));showResult=tr(()=>!this.showPlanning());selectedDay=tr(()=>this.availability().find(n=>n.key===this.selectedDayKey()));get selectedMorningStart(){return this.selectedDay()?.morning.start??null}get selectedMorningEnd(){return this.selectedDay()?.morning.end??null}get selectedAfternoonStart(){return this.selectedDay()?.afternoon.start??null}get selectedAfternoonEnd(){return this.selectedDay()?.afternoon.end??null}pageTitle="Partido";router=E(X);ngOnInit(){let n=typeof window<"u"&&window.history&&window.history.state?window.history.state:void 0,e=this.router.getCurrentNavigation()?.extras?.state,r=n??e;r?.gameCard&&(this.gameCard=r.gameCard),r?.game&&(this.game=r.game);let i=this.gameCard?.sport_name??this.game?.sport_name??this.game?.sport;i==="padel"||i==="tennis"?this.sportKey=i:i==="football"?this.sportKey="football":i==="basket"?this.sportKey="basket":this.sportKey="other",i&&(this.pageTitle=`Partido de ${i}`),(this.sportKey==="padel"||this.sportKey==="tennis")&&(this.bestOf.set(3),this.initSets())}initSets(){let n=this.bestOf();this.setScores.set(Array.from({length:n},()=>({team1:null,team2:null})))}onBestOfChange(n){let e=n===5?5:3;this.bestOf.set(e),this.initSets()}selectDay(n){this.selectedDayKey.set(n.key),this.selectedTime={start:n.morning.start,end:n.morning.end}}pickTime(n){let e=this.availability().find(r=>r.key===this.selectedDayKey());e&&(this.selectedTime={start:e[n].start,end:e[n].end})}savePlanning(){if(!this.selectedTime.start||!this.selectedTime.end||!this.availability().find(s=>s.key===this.selectedDayKey()))return;let e=new Date,[r,i]=(this.selectedTime.start||"09:00").split(":").map(Number);e.setHours(r,i,0,0);let o=e.toISOString();this.game?this.game.date=o:this.gameCard&&(this.gameCard.date=o)}saveResult(){if(this.sportKey==="padel"||this.sportKey==="tennis"){let n=this.setScores().filter(e=>e.team1!=null&&e.team2!=null).map(e=>`${e.team1}-${e.team2}`).join(", ");this.game&&(this.game.result=n)}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=z({type:t,selectors:[["app-game"]],inputs:{gameCard:"gameCard",game:"game",sportKey:"sportKey"},decls:9,vars:6,consts:[[1,"game-page"],[1,"topbar"],["ariaLabel","Volver",3,"iconOnly"],[1,"title"],["class","hero",4,"ngIf"],["class","details",4,"ngIf"],["class","card planning",4,"ngIf"],["class","card result",4,"ngIf"],[1,"hero"],["alt","Imagen deporte",3,"src"],[1,"overlay"],[1,"teams"],[1,"meta"],[1,"details"],[1,"detail-row"],[1,"label"],[1,"value"],["class","detail-row",4,"ngIf"],[1,"card","planning"],[1,"days","scroller-x"],[3,"disabled","active","click",4,"ngFor","ngForOf"],[1,"slots"],[1,"slot"],["type","radio","name","slot",3,"change"],[1,"primary",3,"click"],[3,"click","disabled"],[1,"card","result"],["class","sets",4,"ngIf"],["class","not-implemented",4,"ngIf"],[1,"sets"],[1,"bestof"],[3,"ngModelChange","ngModel"],[3,"ngValue"],["class","set-row",4,"ngFor","ngForOf"],[1,"set-row"],[1,"set-label"],["type","number","min","0","max","7","placeholder","Equipo 1",1,"score",3,"ngModelChange","ngModel"],["type","number","min","0","max","7","placeholder","Equipo 2",1,"score",3,"ngModelChange","ngModel"],[1,"not-implemented"]],template:function(e,r){e&1&&(u(0,"div",0)(1,"header",1),O(2,"app-back-button",2),u(3,"h2",3),p(4),d()(),R(5,$k,13,9,"section",4)(6,Gk,24,7,"section",5)(7,Zk,14,5,"section",6)(8,Qk,5,2,"section",7),d()),e&2&&(g(2),b("iconOnly",!0),g(2),W(r.pageTitle),g(),b("ngIf",r.gameCard),g(),b("ngIf",r.game||r.gameCard),g(),b("ngIf",r.showPlanning()),g(),b("ngIf",r.showResult()))},dependencies:[q,be,te,oi,Ie,dt,ft,Re,Pa,ut,Le,La,jg,Pe,je],styles:[".game-container[_ngcontent-%COMP%]{padding:16px}.game-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:4px 0}.planning[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}.planning[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ccc;background:#f7f7f7;cursor:pointer}.planning[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.slots[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]{margin:6px 0}.actions[_ngcontent-%COMP%]{margin-top:12px}.result[_ngcontent-%COMP%]   .set-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:6px 0}.result[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:80px;padding:4px}.game-page[_ngcontent-%COMP%]{padding:12px;max-width:640px;margin:0 auto}.topbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}.hero[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;margin:12px 0 16px}.hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover;filter:brightness(.8)}.hero[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:flex-end;padding:12px;color:#fff;background:linear-gradient(to top,#00000080,#0000)}.hero[_ngcontent-%COMP%]   .teams[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.hero[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;font-size:.85rem;opacity:.9}.details[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:12px;box-shadow:0 6px 20px #0000000f}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f0f0}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.label[_ngcontent-%COMP%]{color:#555}.value[_ngcontent-%COMP%]{font-weight:600}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:12px;margin-top:16px;box-shadow:0 6px 20px #0000000f}.days[_ngcontent-%COMP%]{display:flex;gap:8px;overflow-x:auto;padding-bottom:8px}.days[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;padding:8px 12px;border-radius:20px;border:1px solid #ddd;background:#f9f9f9}.days[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#1e88e5;color:#fff;border-color:#1e88e5}.slots[_ngcontent-%COMP%]{display:grid;gap:8px;margin-top:8px}.slot[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.primary[_ngcontent-%COMP%]{width:100%;margin-top:12px;padding:10px 12px;border:none;border-radius:10px;background:#1e88e5;color:#fff;font-weight:600}.sets[_ngcontent-%COMP%]{display:grid;gap:10px}.bestof[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.set-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;align-items:center}.set-label[_ngcontent-%COMP%]{color:#555}.score[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;border-radius:8px}.not-implemented[_ngcontent-%COMP%]{color:#777;font-size:.95rem}@media (min-width: 768px){.hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:220px}}"]})};function eP(t,n){if(t&1){let e=ie();u(0,"app-game-card",27),A("click",function(){let i=F(e).$implicit,o=M();return L(o.onOpenGame(i))}),d()}if(t&2){let e=n.$implicit;b("game",e)}}function tP(t,n){t&1&&(u(0,"div",28)(1,"div",29)(2,"div",30)(3,"p",31),p(4,"No hay partidos con esos filtros"),d(),u(5,"small"),p(6,"Ajusta los filtros para ver resultados."),d()()()())}var Fd=class t{constructor(n){this.router=n;this.seedGames(),this.applyFilters()}allGames=[];filteredGames=[];teamFilter="";sportFilter="";clubFilter="";statusFilter="";dateFilter="";sortBy="date";sortDir="asc";seedGames(){this.allGames=[{id:1,competition_id:1,date:"2025-01-02T18:30:00",type:"league",sport_id:"tennis",sport_name:"tennis",level:3,location:"Club Centro",team1:{id:101,name:"Ace Masters",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:102,name:"Clay Warriors",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"completed",result:"6-4, 3-6, 7-6"},{id:2,competition_id:2,date:"2025-01-05T19:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,location:"Padel Norte",team1:{id:201,name:"Padel Smash",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:202,name:"Golden Racket",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:3,competition_id:1,date:"2025-01-12T20:00:00",type:"league",sport_id:"tennis",sport_name:"tennis",level:3,location:"Club Sur",team1:{id:103,name:"Topspin United",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:104,name:"Baseline Kings",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"pending"},{id:4,competition_id:2,date:"2025-01-17T21:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,location:"Padel Este",team1:{id:203,name:"Red Net Padel",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:204,name:"Vibora Team",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:5,competition_id:3,date:"2025-02-01T18:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:4,location:"Club Oeste",team1:{id:105,name:"Match Point",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:106,name:"Deuce Squad",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:6,competition_id:4,date:"",type:"friendly",sport_id:"football",sport_name:"football",level:3,location:"Campo Norte",team1:{id:301,name:"Los Tigres",sport_id:3,sport_name:"football",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:302,name:"Azul FC",sport_id:3,sport_name:"football",image:"assets/images/team-default.png",gender:"mixed"},status:"pending"},{id:7,competition_id:5,date:"2025-01-23T17:00:00",type:"league",sport_id:"basket",sport_name:"basket",level:2,location:"Pabell\xF3n Central",team1:{id:401,name:"Basket Bulls",sport_id:4,sport_name:"basket",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:402,name:"Hoop Heroes",sport_id:4,sport_name:"basket",image:"assets/images/team-default.png",gender:"mixed"},status:"completed",result:"82-79"},{id:8,competition_id:6,date:"2025-01-28T20:30:00",type:"league",sport_id:"padel",sport_name:"padel",level:1,location:"Padel Sur",team1:{id:205,name:"Smash Crew",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:206,name:"Cross Court",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:9,competition_id:7,date:"",type:"league",sport_id:"tennis",sport_name:"tennis",level:5,location:"Club Norte",team1:{id:107,name:"Spin Doctors",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:108,name:"Serve & Volley",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"pending"},{id:10,competition_id:8,date:"2025-02-12T19:15:00",type:"friendly",sport_id:"basket",sport_name:"basket",level:3,location:"Pabell\xF3n Norte",team1:{id:403,name:"Dunk Masters",sport_id:4,sport_name:"basket",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:404,name:"Net Runners",sport_id:4,sport_name:"basket",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:11,competition_id:9,date:"2025-02-18T21:00:00",type:"league",sport_id:"football",sport_name:"football",level:4,location:"Campo Este",team1:{id:303,name:"Verde FC",sport_id:3,sport_name:"football",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:304,name:"Rojo United",sport_id:3,sport_name:"football",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:12,competition_id:10,date:"2025-02-25T20:00:00",type:"league",sport_id:"tennis",sport_name:"tennis",level:2,location:"Club Central",team1:{id:109,name:"Baseline Crew",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:110,name:"Grand Slammers",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:13,competition_id:11,date:"",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,location:"Padel Club Oeste",team1:{id:207,name:"Padel Pros",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:208,name:"Backglass Team",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},status:"pending"},{id:14,competition_id:12,date:"2025-03-02T18:30:00",type:"league",sport_id:"basket",sport_name:"basket",level:1,location:"Pabell\xF3n Sur",team1:{id:405,name:"Triple Threat",sport_id:4,sport_name:"basket",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:406,name:"Fast Breakers",sport_id:4,sport_name:"basket",image:"assets/images/team-default.png",gender:"mixed"},status:"pending"},{id:15,competition_id:13,date:"2025-01-30T16:00:00",type:"friendly",sport_id:"football",sport_name:"football",level:2,location:"Campo Central",team1:{id:305,name:"Toros FC",sport_id:3,sport_name:"football",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:306,name:"Leones FC",sport_id:3,sport_name:"football",image:"assets/images/team-default.png",gender:"mixed"},status:"completed",result:"2-1"},{id:16,competition_id:14,date:"",type:"league",sport_id:"tennis",sport_name:"tennis",level:3,location:"Club Este",team1:{id:111,name:"Top Court",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:112,name:"Drop Shotters",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:17,competition_id:15,date:"2025-03-10T19:45:00",type:"league",sport_id:"padel",sport_name:"padel",level:4,location:"Padel Este",team1:{id:209,name:"Net Chasers",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:210,name:"Court Kings",sport_id:2,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"},{id:18,competition_id:16,date:"2025-02-07T20:30:00",type:"friendly",sport_id:"basket",sport_name:"basket",level:2,location:"Pabell\xF3n Oeste",team1:{id:407,name:"Sky Dunkers",sport_id:4,sport_name:"basket",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:408,name:"Rim Rockers",sport_id:4,sport_name:"basket",image:"assets/images/team-default.png",gender:"mixed"},status:"scheduled"}]}applyFilters(){let n=[...this.allGames];if(this.teamFilter){let e=this.teamFilter.toLowerCase();n=n.filter(r=>r.team1?.name.toLowerCase().includes(e)||r.team2?.name.toLowerCase().includes(e))}if(this.sportFilter){let e=this.sportFilter.toLowerCase();n=n.filter(r=>(r.sport_name||r.sport_id)?.toString().toLowerCase().includes(e))}if(this.clubFilter){let e=this.clubFilter.toLowerCase();n=n.filter(r=>r.club&&r.club.toLowerCase().includes(e))}if(this.statusFilter){let e=this.statusFilter.toLowerCase();n=n.filter(r=>(r.status||"").toLowerCase()===e)}this.dateFilter&&(n=n.filter(e=>(e.date||"").startsWith(this.dateFilter))),n.sort((e,r)=>{if(this.sortBy==="date"){let i=e.date?new Date(e.date).getTime():this.sortDir==="asc"?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY,o=r.date?new Date(r.date).getTime():this.sortDir==="asc"?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;return this.sortDir==="asc"?i-o:o-i}else{let i=(e.status||"").toLowerCase(),o=(r.status||"").toLowerCase();return i<o?this.sortDir==="asc"?-1:1:i>o?this.sortDir==="asc"?1:-1:0}}),this.filteredGames=n}onOpenGame(n){this.router.navigate(["/game"],{state:{gameId:n.id}})}static \u0275fac=function(e){return new(e||t)(k(X))};static \u0275cmp=z({type:t,selectors:[["app-games-list"]],decls:40,vars:10,consts:[[1,"games-list-section","container","py-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center","gap-2"],["ariaLabel","Volver",3,"iconOnly"],[1,"fw-bold","mb-0"],[1,"filters","mb-3"],[1,"row","g-2"],[1,"col-6","col-md-4"],["type","text","placeholder","Filtrar por equipo","name","teamFilter",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Filtrar por deporte","name","sportFilter",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Filtrar por club","name","clubFilter",1,"form-control",3,"ngModelChange","ngModel"],["name","statusFilter",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","scheduled"],["value","pending"],["value","completed"],["type","date","name","dateFilter",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6","col-md-4","d-flex","gap-2"],["name","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","date"],["value","status"],["name","sortDir",1,"form-select",3,"ngModelChange","ngModel"],["value","asc"],["value","desc"],[1,"games-grid"],[3,"game","click",4,"ngFor","ngForOf"],["class","empty-card mt-3",4,"ngIf"],[3,"click","game"],[1,"empty-card","mt-3"],[1,"empty-card-body"],[1,"empty-info"],[1,"mb-1","fw-bold"]],template:function(e,r){e&1&&(u(0,"section",0)(1,"div",1)(2,"div",2),O(3,"app-back-button",3),u(4,"h2",4),p(5,"Calendario de partidos"),d()()(),u(6,"form",5)(7,"div",6)(8,"div",7)(9,"input",8),I("ngModelChange",function(o){return T(r.teamFilter,o)||(r.teamFilter=o),o}),A("ngModelChange",function(){return r.applyFilters()}),d()(),u(10,"div",7)(11,"input",9),I("ngModelChange",function(o){return T(r.sportFilter,o)||(r.sportFilter=o),o}),A("ngModelChange",function(){return r.applyFilters()}),d()(),u(12,"div",7)(13,"input",10),I("ngModelChange",function(o){return T(r.clubFilter,o)||(r.clubFilter=o),o}),A("ngModelChange",function(){return r.applyFilters()}),d()(),u(14,"div",7)(15,"select",11),I("ngModelChange",function(o){return T(r.statusFilter,o)||(r.statusFilter=o),o}),A("ngModelChange",function(){return r.applyFilters()}),u(16,"option",12),p(17,"Estado (todos)"),d(),u(18,"option",13),p(19,"Programado"),d(),u(20,"option",14),p(21,"Pendiente"),d(),u(22,"option",15),p(23,"Finalizado"),d()()(),u(24,"div",7)(25,"input",16),I("ngModelChange",function(o){return T(r.dateFilter,o)||(r.dateFilter=o),o}),A("ngModelChange",function(){return r.applyFilters()}),d()(),u(26,"div",17)(27,"select",18),I("ngModelChange",function(o){return T(r.sortBy,o)||(r.sortBy=o),o}),A("ngModelChange",function(){return r.applyFilters()}),u(28,"option",19),p(29,"Ordenar por fecha"),d(),u(30,"option",20),p(31,"Ordenar por estado"),d()(),u(32,"select",21),I("ngModelChange",function(o){return T(r.sortDir,o)||(r.sortDir=o),o}),A("ngModelChange",function(){return r.applyFilters()}),u(33,"option",22),p(34,"Asc"),d(),u(35,"option",23),p(36,"Desc"),d()()()()(),u(37,"div",24),R(38,eP,1,1,"app-game-card",25),d(),R(39,tP,7,0,"div",26),d()),e&2&&(g(3),b("iconOnly",!0),g(6),x("ngModel",r.teamFilter),g(2),x("ngModel",r.sportFilter),g(2),x("ngModel",r.clubFilter),g(2),x("ngModel",r.statusFilter),g(10),x("ngModel",r.dateFilter),g(2),x("ngModel",r.sortBy),g(5),x("ngModel",r.sortDir),g(6),b("ngForOf",r.filteredGames),g(),b("ngIf",r.filteredGames.length===0))},dependencies:[q,be,te,Ie,on,dt,ft,Re,ut,Le,rn,Pe,Ht,Qo,je],styles:[".games-list-section[_ngcontent-%COMP%]   .games-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px}",".filters[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%}"]})};var $E=[{path:"",component:ld},{path:"user-profile",component:bd,data:{backTo:"/dashboard"}},{path:"dashboard",component:Dd},{path:"login",component:wd,data:{backTo:"/"}},{path:"sports-center",component:Sd,data:{backTo:"/dashboard"}},{path:"team",component:Md,data:{backTo:"/dashboard"}},{path:"team/join",component:Ad,data:{backTo:"/dashboard"}},{path:"competition",component:Td,data:{backTo:"/dashboard"}},{path:"competition/join",component:Nd,data:{backTo:"/dashboard"}},{path:"classification/:id",component:Od},{path:"notifications",component:kd,data:{backTo:"/dashboard"}},{path:"game",component:Pd},{path:"games",component:Fd,data:{backTo:"/dashboard"}},{path:"**",redirectTo:""}];Fh(od,{providers:[um($E,fm())]}).catch(t=>console.error(t));

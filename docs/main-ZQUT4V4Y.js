var VE=Object.create;var ts=Object.defineProperty,UE=Object.defineProperties,BE=Object.getOwnPropertyDescriptor,$E=Object.getOwnPropertyDescriptors,HE=Object.getOwnPropertyNames,Pg=Object.getOwnPropertySymbols,zE=Object.getPrototypeOf,Lg=Object.prototype.hasOwnProperty,WE=Object.prototype.propertyIsEnumerable;var Fg=(t,n,e)=>n in t?ts(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,S=(t,n)=>{for(var e in n||={})Lg.call(n,e)&&Fg(t,e,n[e]);if(Pg)for(var e of Pg(n))WE.call(n,e)&&Fg(t,e,n[e]);return t},ne=(t,n)=>UE(t,$E(n));var U=(t,n)=>()=>(t&&(n=t(t=0)),n);var mt=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),ns=(t,n)=>{for(var e in n)ts(t,e,{get:n[e],enumerable:!0})},jg=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of HE(n))!Lg.call(t,i)&&i!==e&&ts(t,i,{get:()=>n[i],enumerable:!(r=BE(n,i))||r.enumerable});return t};var qE=(t,n,e)=>(e=t!=null?VE(zE(t)):{},jg(n||!t||!t.__esModule?ts(e,"default",{value:t,enumerable:!0}):e,t)),Tt=t=>jg(ts({},"__esModule",{value:!0}),t);var g=(t,n,e)=>new Promise((r,i)=>{var o=l=>{try{a(e.next(l))}catch(c){i(c)}},s=l=>{try{a(e.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(t,n)).next())});var Lr={};ns(Lr,{__addDisposableResource:()=>wv,__assign:()=>Ka,__asyncDelegator:()=>hv,__asyncGenerator:()=>Qa,__asyncValues:()=>Xa,__await:()=>mn,__awaiter:()=>I,__classPrivateFieldGet:()=>vv,__classPrivateFieldIn:()=>_v,__classPrivateFieldSet:()=>yv,__createBinding:()=>Ya,__decorate:()=>tv,__disposeResources:()=>bv,__esDecorate:()=>rv,__exportStar:()=>cv,__extends:()=>ev,__generator:()=>lv,__importDefault:()=>gv,__importStar:()=>mv,__makeTemplateObject:()=>pv,__metadata:()=>av,__param:()=>nv,__propKey:()=>ov,__read:()=>lf,__rest:()=>jn,__rewriteRelativeImportExtension:()=>Cv,__runInitializers:()=>iv,__setFunctionName:()=>sv,__spread:()=>uv,__spreadArray:()=>fv,__spreadArrays:()=>dv,__values:()=>Ja,default:()=>lD});function ev(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");sf(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function jn(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function tv(t,n,e,r){var i=arguments.length,o=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(n,e,o):s(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o}function nv(t,n){return function(e,r){n(e,r,t)}}function rv(t,n,e,r,i,o){function s(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!n&&t?r.static?t:t.prototype:null,u=n||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),p,y=!1,h=e.length-1;h>=0;h--){var _={};for(var w in r)_[w]=w==="access"?{}:r[w];for(var w in r.access)_.access[w]=r.access[w];_.addInitializer=function(E){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(E||null))};var C=(0,e[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],_);if(a==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(p=s(C.get))&&(u.get=p),(p=s(C.set))&&(u.set=p),(p=s(C.init))&&i.unshift(p)}else(p=s(C))&&(a==="field"?i.unshift(p):u[l]=p)}c&&Object.defineProperty(c,r.name,u),y=!0}function iv(t,n,e){for(var r=arguments.length>2,i=0;i<n.length;i++)e=r?n[i].call(t,e):n[i].call(t);return r?e:void 0}function ov(t){return typeof t=="symbol"?t:"".concat(t)}function sv(t,n,e){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:e?"".concat(e," ",n):n})}function av(t,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,n)}function I(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function lv(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=n.call(t,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function cv(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&Ya(n,t,e)}function Ja(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function lf(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function uv(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(lf(arguments[n]));return t}function dv(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var o=arguments[n],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function fv(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))}function mn(t){return this instanceof mn?(this.v=t,this):new mn(t)}function Qa(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(_){return Promise.resolve(_).then(h,p)}}function a(h,_){r[h]&&(i[h]=function(w){return new Promise(function(C,E){o.push([h,w,C,E])>1||l(h,w)})},_&&(i[h]=_(i[h])))}function l(h,_){try{c(r[h](_))}catch(w){y(o[0][3],w)}}function c(h){h.value instanceof mn?Promise.resolve(h.value.v).then(u,p):y(o[0][2],h)}function u(h){l("next",h)}function p(h){l("throw",h)}function y(h,_){h(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function hv(t){var n,e;return n={},r("next"),r("throw",function(i){throw i}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(i,o){n[i]=t[i]?function(s){return(e=!e)?{value:mn(t[i](s)),done:!1}:o?o(s):s}:o}}function Xa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Ja=="function"?Ja(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function pv(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}function mv(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e=af(t),r=0;r<e.length;r++)e[r]!=="default"&&Ya(n,t,e[r]);return sD(n,t),n}function gv(t){return t&&t.__esModule?t:{default:t}}function vv(t,n,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?t!==n||!r:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(t):r?r.value:n.get(t)}function yv(t,n,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?t!==n||!i:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,e):i?i.value=e:n.set(t,e),e}function _v(t,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?n===t:t.has(n)}function wv(t,n,e){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],e&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:n,dispose:r,async:e})}else e&&t.stack.push({async:!0});return n}function bv(t){function n(o){t.error=t.hasError?new aD(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var e,r=0;function i(){for(;e=t.stack.pop();)try{if(!e.async&&r===1)return r=0,t.stack.push(e),Promise.resolve().then(i);if(e.dispose){var o=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(o).then(i,function(s){return n(s),i()})}else r|=1}catch(s){n(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Cv(t,n){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,i,o,s){return r?n?".jsx":".js":i&&(!o||!s)?e:i+o+"."+s.toLowerCase()+"js"}):t}var sf,Ka,Ya,sD,af,aD,lD,Ie=U(()=>{"use strict";sf=function(t,n){return sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},sf(t,n)};Ka=function(){return Ka=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ka.apply(this,arguments)};Ya=Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]};sD=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n},af=function(t){return af=Object.getOwnPropertyNames||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[e.length]=r);return e},af(t)};aD=typeof SuppressedError=="function"?SuppressedError:function(t,n,e){var r=new Error(e);return r.name="SuppressedError",r.error=t,r.suppressed=n,r};lD={__extends:ev,__assign:Ka,__rest:jn,__decorate:tv,__param:nv,__esDecorate:rv,__runInitializers:iv,__propKey:ov,__setFunctionName:sv,__metadata:av,__awaiter:I,__generator:lv,__createBinding:Ya,__exportStar:cv,__values:Ja,__read:lf,__spread:uv,__spreadArrays:dv,__spreadArray:fv,__await:mn,__asyncGenerator:Qa,__asyncDelegator:hv,__asyncValues:Xa,__makeTemplateObject:pv,__importStar:mv,__importDefault:gv,__classPrivateFieldGet:vv,__classPrivateFieldSet:yv,__classPrivateFieldIn:_v,__addDisposableResource:wv,__disposeResources:bv,__rewriteRelativeImportExtension:Cv}});var Eb,Db=U(()=>{"use strict";Eb=t=>t?(...n)=>t(...n):(...n)=>fetch(...n)});var li,wo,ci,ui,la,lm=U(()=>{"use strict";li=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},wo=class extends li{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},ci=class extends li{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},ui=class extends li{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},la=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(la||{})});var pu,Sb=U(()=>{"use strict";Ie();Db();lm();pu=class{constructor(n,{headers:e={},customFetch:r,region:i=la.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=Eb(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return I(this,arguments,void 0,function*(e,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:p}=r,y={},{region:h}=r;h||(h=this.region);let _=new URL(`${this.url}/${e}`);h&&h!=="any"&&(y["x-region"]=h,_.searchParams.set("forceFunctionRegion",h));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(y["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(y["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let C=u;p&&(s=new AbortController,o=setTimeout(()=>s.abort(),p),u?(C=s.signal,u.addEventListener("abort",()=>s.abort())):C=s.signal);let E=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),a),body:w,signal:C}).catch(he=>{throw new wo(he)}),ie=E.headers.get("x-relay-error");if(ie&&ie==="true")throw new ci(E);if(!E.ok)throw new ui(E);let N=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return N==="application/json"?k=yield E.json():N==="application/octet-stream"||N==="application/pdf"?k=yield E.blob():N==="text/event-stream"?k=E:N==="multipart/form-data"?k=yield E.formData():k=yield E.text(),{data:k,error:null,response:E}}catch(a){return{data:null,error:a,response:a instanceof ui||a instanceof ci?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var cm={};ns(cm,{FunctionRegion:()=>la,FunctionsClient:()=>pu,FunctionsError:()=>li,FunctionsFetchError:()=>wo,FunctionsHttpError:()=>ui,FunctionsRelayError:()=>ci});var um=U(()=>{"use strict";Sb();lm()});var hm=mt(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});var dm=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};fm.default=dm});var gm=mt(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});var hA=(Ie(),Tt(Lr)),pA=hA.__importDefault(hm()),pm=class{constructor(n){var e,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>g(this,null,function*(){var s,a,l,c;let u=null,p=null,y=null,h=o.status,_=o.statusText;if(o.ok){if(this.method!=="HEAD"){let ie=yield o.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?p=ie:p=JSON.parse(ie))}let C=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),E=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");C&&E&&E.length>1&&(y=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(u={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,h=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{let C=yield o.text();try{u=JSON.parse(C),Array.isArray(u)&&o.status===404&&(p=[],u=null,h=200,_="OK")}catch{o.status===404&&C===""?(h=204,_="No Content"):u={message:C}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,_="OK"),u&&this.shouldThrowOnError)throw new pA.default(u)}return{error:u,data:p,count:y,status:h,statusText:_}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,p;let y="",h=o?.cause;if(h){let _=(s=h?.message)!==null&&s!==void 0?s:"",w=(a=h?.code)!==null&&a!==void 0?a:"";y=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,y+=`

Caused by: ${(c=h?.name)!==null&&c!==void 0?c:"Error"}: ${_}`,w&&(y+=` (${w})`),h?.stack&&(y+=`
${h.stack}`)}else y=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(p=o?.name)!==null&&p!==void 0?p:"FetchError"}: ${o?.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}};mm.default=pm});var _m=mt(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});var mA=(Ie(),Tt(Lr)),gA=mA.__importDefault(gm()),vm=class extends gA.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};ym.default=vm});var mu=mt(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});var vA=(Ie(),Tt(Lr)),yA=vA.__importDefault(_m()),_A=new RegExp("[,()]"),wm=class extends yA.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&_A.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};bm.default=wm});var Dm=mt(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});var wA=(Ie(),Tt(Lr)),ca=wA.__importDefault(mu()),Cm=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(n,e){let{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET",s=!1,a=(n??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new ca.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:r=!0}={}){var i;let o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ca.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ca.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ca.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var e;let r="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new ca.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};Em.default=Cm});var Mb=mt(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});var Ib=(Ie(),Tt(Lr)),bA=Ib.__importDefault(Dm()),CA=Ib.__importDefault(mu()),Sm=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let e=new URL(`${this.url}/${n}`);return new bA.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${n}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{l.searchParams.append(p,y)})):(a="POST",c=e);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new CA.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Im.default=Sm});var Mm=mt(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;var bo=(Ie(),Tt(Lr)),xb=bo.__importDefault(Mb());pt.PostgrestClient=xb.default;var Tb=bo.__importDefault(Dm());pt.PostgrestQueryBuilder=Tb.default;var Ob=bo.__importDefault(mu());pt.PostgrestFilterBuilder=Ob.default;var Ab=bo.__importDefault(_m());pt.PostgrestTransformBuilder=Ab.default;var Rb=bo.__importDefault(gm());pt.PostgrestBuilder=Rb.default;var Nb=bo.__importDefault(hm());pt.PostgrestError=Nb.default;pt.default={PostgrestClient:xb.default,PostgrestQueryBuilder:Tb.default,PostgrestFilterBuilder:Ob.default,PostgrestTransformBuilder:Ab.default,PostgrestBuilder:Rb.default,PostgrestError:Nb.default}});var xm,gu,Tm=U(()=>{"use strict";xm=class{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let e=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(e+=`

Suggested solution: ${n.workaround}`),new Error(e)}static createWebSocket(n,e){let r=this.getWebSocketConstructor();return new r(n,e)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},gu=xm});var kb,Pb=U(()=>{"use strict";kb="2.87.1"});var Fb,Om,Lb,Am,ua,jb,Vb,di,Be,Jt,Rm,fi,vu=U(()=>{"use strict";Pb();Fb=`realtime-js/${kb}`,Om="1.0.0",Lb="2.0.0",Am=Om,ua=1e4,jb=1e3,Vb=100,di=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(di||{}),Be=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(Be||{}),Jt=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(Jt||{}),Rm=function(t){return t.websocket="websocket",t}(Rm||{}),fi=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(fi||{})});var yu,Ub=U(()=>{"use strict";yu=class{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,e){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return e(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var e;return this._isArrayBuffer((e=n.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var e,r;let i=(r=(e=n.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(n){var e,r;let i=(r=(e=n.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(n,e,r){var i,o;let s=n.topic,a=(i=n.ref)!==null&&i!==void 0?i:"",l=(o=n.join_ref)!==null&&o!==void 0?o:"",c=n.payload.event,u=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},p=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);let y=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+p.length,h=new ArrayBuffer(this.HEADER_LENGTH+y),_=new DataView(h),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,l.length),_.setUint8(w++,a.length),_.setUint8(w++,s.length),_.setUint8(w++,c.length),_.setUint8(w++,p.length),_.setUint8(w++,e),Array.from(l,E=>_.setUint8(w++,E.charCodeAt(0))),Array.from(a,E=>_.setUint8(w++,E.charCodeAt(0))),Array.from(s,E=>_.setUint8(w++,E.charCodeAt(0))),Array.from(c,E=>_.setUint8(w++,E.charCodeAt(0))),Array.from(p,E=>_.setUint8(w++,E.charCodeAt(0)));var C=new Uint8Array(h.byteLength+r.byteLength);return C.set(new Uint8Array(h),0),C.set(new Uint8Array(r),h.byteLength),C.buffer}decode(n,e){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return e(r)}if(typeof n=="string"){let r=JSON.parse(n),[i,o,s,a,l]=r;return e({join_ref:i,ref:o,topic:s,event:a,payload:l})}return e({})}_binaryDecode(n){let e=new DataView(n),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,e,i)}}_decodeUserBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(n.slice(l,l+i));l=l+i;let u=r.decode(n.slice(l,l+o));l=l+o;let p=r.decode(n.slice(l,l+s));l=l+s;let y=n.slice(l,n.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,_={type:this.BROADCAST_EVENT,event:u,payload:h};return s>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(n){var e;return n instanceof ArrayBuffer||((e=n?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}_pick(n,e){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>e.includes(r)))}}});var Co,Nm=U(()=>{"use strict";Co=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var Se,Pm,EA,Bb,km,DA,SA,IA,MA,xA,_u,wu=U(()=>{"use strict";Se=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(Se||{}),Pm=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=EA(s,t,n,i),o),{}):{}},EA=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?Bb(o,s):km(s)},Bb=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return MA(n,e)}switch(t){case Se.bool:return DA(n);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return SA(n);case Se.json:case Se.jsonb:return IA(n);case Se.timestamp:return xA(n);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return km(n);default:return km(n)}},km=t=>t,DA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},SA=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},IA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},MA=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Bb(n,a))}return t},xA=t=>typeof t=="string"?t.replace(" ","T"):t,_u=t=>{let n=new URL(t);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href}});var Eo,$b=U(()=>{"use strict";vu();Eo=class{constructor(n,e,r={},i=ua){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}});var Fm,Do,Lm=U(()=>{"use strict";Fm=function(t){return t.SYNC="sync",t.JOIN="join",t.LEAVE="leave",t}(Fm||{}),Do=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let p=o[c];if(p){let y=u.map(C=>C.presence_ref),h=p.map(C=>C.presence_ref),_=u.filter(C=>h.indexOf(C.presence_ref)<0),w=p.filter(C=>y.indexOf(C.presence_ref)<0);_.length>0&&(a[c]=_),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let p=n[a].map(h=>h.presence_ref),y=u.filter(h=>p.indexOf(h.presence_ref)<0);n[a].unshift(...y)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(p=>p.presence_ref);c=c.filter(p=>u.indexOf(p.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var jm,So,On,Hb,Io,Vm=U(()=>{"use strict";vu();$b();Nm();Lm();wu();wu();jm=function(t){return t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE",t}(jm||{}),So=function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t}(So||{}),On=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(On||{}),Hb=Be,Io=class t{constructor(n,e={config:{}},r){var i,o;if(this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new Co(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Do(this),this.broadcastEndpointURL=_u(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,e=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[So.PRESENCE]&&this.bindings[So.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},y={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(h=>n?.(On.CHANNEL_ERROR,h)),this._onClose(()=>n?.(On.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",_=>g(this,[_],function*({postgres_changes:h}){var w;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){n?.(On.SUBSCRIBED);return}else{let C=this.bindings.postgres_changes,E=(w=C?.length)!==null&&w!==void 0?w:0,ie=[];for(let N=0;N<E;N++){let k=C[N],{filter:{event:he,schema:pn,table:Ce,filter:He}}=k,rr=h&&h[N];if(rr&&rr.event===he&&t.isFilterValueEqual(rr.schema,pn)&&t.isFilterValueEqual(rr.table,Ce)&&t.isFilterValueEqual(rr.filter,He))ie.push(Object.assign(Object.assign({},k),{id:rr.id}));else{this.unsubscribe(),this.state=Be.errored,n?.(On.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ie,n&&n(On.SUBSCRIBED);return}})).receive("error",h=>{this.state=Be.errored,n?.(On.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{n?.(On.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return g(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return g(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this.state===Be.joined&&n===So.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>g(this,null,function*(){return yield this.subscribe()}))),this._on(n,e,r)}httpSend(i,o){return g(this,arguments,function*(n,e,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:e,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let p=yield c.json();u=p.error||p.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return g(this,arguments,function*(n,e={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Be.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Eo(this,Jt.leave,{},n),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}_fetchWithTimeout(n,e,r){return g(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Eo(this,n,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Vb){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Jt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,e,r);if(e&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var _,w,C;return((_=h.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(w=h.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(h=>h.callback(y,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var _,w,C,E,ie,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let k=h.id,he=(_=h.filter)===null||_===void 0?void 0:_.event;return k&&((w=e.ids)===null||w===void 0?void 0:w.includes(k))&&(he==="*"||he?.toLocaleLowerCase()===((C=e.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let k=(ie=(E=h?.filter)===null||E===void 0?void 0:E.event)===null||ie===void 0?void 0:ie.toLocaleLowerCase();return k==="*"||k===((N=e?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof y=="object"&&"ids"in y){let _=y.data,{schema:w,table:C,commit_timestamp:E,type:ie,errors:N}=_;y=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:E,eventType:ie,new:{},old:{},errors:N}),this._getPayloadRecords(_))}h.callback(y,r)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))})),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}static isFilterValueEqual(n,e){return(n??void 0)===(e??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Jt.close,{},n)}_onError(n){this._on(Jt.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=Pm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=Pm(n.columns,n.old_record)),e}}});var Um,bu,OA,AA,RA,Cu,zb=U(()=>{"use strict";Tm();vu();Ub();Nm();wu();Vm();Um=()=>{},bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OA=[1e3,2e3,5e3,1e4],AA=1e4,RA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Cu=class{constructor(n,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ua,this.transport=null,this.heartbeatIntervalMs=bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Um,this.ref=0,this.reconnectTimer=null,this.vsn=Am,this.logger=Um,this.conn=null,this.sendBuffer=[],this.serializer=new yu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${n}/${Rm.websocket}`,this.httpEndpoint=_u(n),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gu.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let e=n.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return g(this,null,function*(){let e=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return g(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case di.connecting:return fi.Connecting;case di.open:return fi.Open;case di.closing:return fi.Closing;default:return fi.Closed}}isConnected(){return this.connectionState()===fi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,e={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Io(`realtime:${n}`,e,this);return this.channels.push(o),o}}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return g(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return g(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(jb,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=e,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(n){var e;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===di.open||this.conn.readyState===di.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var e;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Jt.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([RA],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(n,e=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(n=null){return g(this,null,function*(){let e,r=!1;if(n)e=n,r=!0;else if(this.accessToken)try{e=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),e=this.accessTokenValue}else e=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(i=>{let o={access_token:e,version:Fb};e&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Jt.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return g(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(e=>{this.log("error",`Error setting auth in ${n}`,e)})}_triggerStateCallbacks(n,e){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Co(()=>g(this,null,function*(){setTimeout(()=>g(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),bu.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var e,r,i,o,s,a,l,c,u,p,y,h;switch(this.transport=(e=n?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:ua,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:bu.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:Um,this.vsn=(l=n?.vsn)!==null&&l!==void 0?l:Am,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=n?.reconnectAfterMs)!==null&&c!==void 0?c:_=>OA[_-1]||AA,this.vsn){case Om:this.encode=(u=n?.encode)!==null&&u!==void 0?u:(_,w)=>w(JSON.stringify(_)),this.decode=(p=n?.decode)!==null&&p!==void 0?p:(_,w)=>w(JSON.parse(_));break;case Lb:this.encode=(y=n?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(h=n?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}});var Bm={};ns(Bm,{REALTIME_CHANNEL_STATES:()=>Hb,REALTIME_LISTEN_TYPES:()=>So,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>jm,REALTIME_PRESENCE_LISTEN_EVENTS:()=>Fm,REALTIME_SUBSCRIBE_STATES:()=>On,RealtimeChannel:()=>Io,RealtimeClient:()=>Cu,RealtimePresence:()=>Do,WebSocketFactory:()=>gu});var $m=U(()=>{"use strict";zb();Vm();Lm();Tm()});function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var er,da,br,Cr=U(()=>{"use strict";er=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};da=class extends er{constructor(n,e,r){super(n),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},br=class extends er{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}}});var Mo,Wb,Eu,qb,Gb,fa=U(()=>{"use strict";Mo=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),Wb=()=>Response,Eu=t=>{if(Array.isArray(t))return t.map(e=>Eu(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=Eu(r)}),n},qb=t=>{if(typeof t!="object"||t===null)return!1;let n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gb=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t)});function ha(t,n,e,r,i,o){return I(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,kA(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>NA(l,a,r))})})}function Er(t,n,e,r){return I(this,void 0,void 0,function*(){return ha(t,"GET",n,e,r)})}function xt(t,n,e,r,i){return I(this,void 0,void 0,function*(){return ha(t,"POST",n,r,i,e)})}function pa(t,n,e,r,i){return I(this,void 0,void 0,function*(){return ha(t,"PUT",n,r,i,e)})}function Zb(t,n,e,r){return I(this,void 0,void 0,function*(){return ha(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function xo(t,n,e,r,i){return I(this,void 0,void 0,function*(){return ha(t,"DELETE",n,r,i,e)})}var Hm,NA,kA,Du=U(()=>{"use strict";Ie();Cr();fa();Hm=t=>{var n;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(n=t.error)===null||n===void 0?void 0:n.message)||JSON.stringify(t)},NA=(t,n,e)=>I(void 0,void 0,void 0,function*(){let r=yield Wb();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{let o=t.status||500,s=i?.statusCode||o+"";n(new da(Hm(i),o,s))}).catch(i=>{n(new br(Hm(i),i))}):n(new br(Hm(t),t))}),kA=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"||!r?i:(qb(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),e))}});var Su,Kb=U(()=>{"use strict";Ie();Cr();Su=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}}});var Jb,zm,Yb,Qb=U(()=>{"use strict";Ie();Cr();Kb();zm=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Jb]="BlobDownloadBuilder",this.promise=null}asStream(){return new Su(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}};Jb=Symbol.toStringTag;Yb=zm});var PA,Xb,Iu,eC=U(()=>{"use strict";Ie();Cr();Du();fa();Qb();PA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Iu=class{constructor(n,e={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=r,this.fetch=Mo(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,e,r,i){return I(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Xb),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),p=yield(n=="PUT"?pa:xt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(me(o))return{data:null,error:o};throw o}})}upload(n,e,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return I(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:Xb.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let p=yield pa(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,e){return I(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield xt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new er("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}update(n,e,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return I(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}copy(n,e,r){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield xt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return I(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield xt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return I(this,void 0,void 0,function*(){try{let i=yield xt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}download(n,e){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(n),l=()=>Er(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Yb(l,this.shouldThrowOnError)}info(n){return I(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield Er(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Eu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}exists(n){return I(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield Zb(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r)&&r instanceof br){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return I(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}list(n,e,r){return I(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},PA),e),{prefix:n||""});return{data:yield xt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}listV2(n,e){return I(this,void 0,void 0,function*(){try{let r=Object.assign({},n);return{data:yield xt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}}});var Mu,Wm=U(()=>{"use strict";Mu="2.87.1"});var xu,qm=U(()=>{"use strict";Wm();xu={"X-Client-Info":`storage-js/${Mu}`}});var Tu,tC=U(()=>{"use strict";Ie();qm();Cr();Du();fa();Tu=class{constructor(n,e={},r,i){this.shouldThrowOnError=!1;let o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xu),e),this.fetch=Mo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return I(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(n);return{data:yield Er(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}getBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}createBucket(n){return I(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield xt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}updateBucket(n,e){return I(this,void 0,void 0,function*(){try{return{data:yield pa(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}emptyBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}deleteBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(n){let e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}}});function FA(t,n,e){let r=new URL(n,t);if(e)for(let[i,o]of Object.entries(e))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function LA(t){return g(this,null,function*(){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?yield t.getHeaders():{}})}function jA(t){let n=t.fetchImpl??globalThis.fetch;return{request(l){return g(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=FA(t.baseUrl,i,o),u=yield LA(t.auth),p=yield n(c,{method:r,headers:S(S(S({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),y=yield p.text(),h=(p.headers.get("content-type")||"").includes("application/json"),_=h&&y?JSON.parse(y):y;if(!p.ok){let w=h?_:void 0,C=w?.error;throw new ma(C?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:C?.type,icebergCode:C?.code,details:w})}return{status:p.status,headers:p.headers,data:_}})}}}function Ou(t){return t.join("")}function To(t){return t.join("")}var ma,VA,UA,nC,rC=U(()=>{"use strict";ma=class extends Error{constructor(t,n){super(t),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};VA=class{constructor(t,n=""){this.client=t,this.prefix=n}listNamespaces(t){return g(this,null,function*(){let n=t?{parent:Ou(t.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(t,n){return g(this,null,function*(){let e={namespace:t.namespace,properties:n?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:e})).data})}dropNamespace(t){return g(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ou(t.namespace)}`})})}loadNamespaceMetadata(t){return g(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(t.namespace)}`})).data.properties}})}namespaceExists(t){return g(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ou(t.namespace)}`}),!0}catch(n){if(n instanceof ma&&n.status===404)return!1;throw n}})}createNamespaceIfNotExists(t,n){return g(this,null,function*(){try{return yield this.createNamespace(t,n)}catch(e){if(e instanceof ma&&e.status===409)return;throw e}})}};UA=class{constructor(t,n="",e){this.client=t,this.prefix=n,this.accessDelegation=e}listTables(t){return g(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(t.namespace)}/tables`})).data.identifiers})}createTable(t,n){return g(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${To(t.namespace)}/tables`,body:n,headers:e})).data.metadata})}updateTable(t,n){return g(this,null,function*(){let e=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${To(t.namespace)}/tables/${t.name}`,body:n});return{"metadata-location":e.data["metadata-location"],metadata:e.data.metadata}})}dropTable(t,n){return g(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${To(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(n?.purge??!1)}})})}loadTable(t){return g(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(t.namespace)}/tables/${t.name}`,headers:n})).data.metadata})}tableExists(t){return g(this,null,function*(){let n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${To(t.namespace)}/tables/${t.name}`,headers:n}),!0}catch(e){if(e instanceof ma&&e.status===404)return!1;throw e}})}createTableIfNotExists(t,n){return g(this,null,function*(){try{return yield this.createTable(t,n)}catch(e){if(e instanceof ma&&e.status===409)return yield this.loadTable({namespace:t.namespace,name:n.name});throw e}})}},nC=class{constructor(t){let n="v1";t.catalogName&&(n+=`/${t.catalogName}`);let e=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=jA({baseUrl:e,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new VA(this.client,n),this.tableOps=new UA(this.client,n,this.accessDelegation)}listNamespaces(t){return g(this,null,function*(){return this.namespaceOps.listNamespaces(t)})}createNamespace(t,n){return g(this,null,function*(){return this.namespaceOps.createNamespace(t,n)})}dropNamespace(t){return g(this,null,function*(){yield this.namespaceOps.dropNamespace(t)})}loadNamespaceMetadata(t){return g(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(t)})}listTables(t){return g(this,null,function*(){return this.tableOps.listTables(t)})}createTable(t,n){return g(this,null,function*(){return this.tableOps.createTable(t,n)})}updateTable(t,n){return g(this,null,function*(){return this.tableOps.updateTable(t,n)})}dropTable(t,n){return g(this,null,function*(){yield this.tableOps.dropTable(t,n)})}loadTable(t){return g(this,null,function*(){return this.tableOps.loadTable(t)})}namespaceExists(t){return g(this,null,function*(){return this.namespaceOps.namespaceExists(t)})}tableExists(t){return g(this,null,function*(){return this.tableOps.tableExists(t)})}createNamespaceIfNotExists(t,n){return g(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(t,n)})}createTableIfNotExists(t,n){return g(this,null,function*(){return this.tableOps.createTableIfNotExists(t,n)})}}});var Oo,Gm=U(()=>{"use strict";Ie();rC();qm();Cr();Du();fa();Oo=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xu),e),this.fetch=Mo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}listBuckets(n){return I(this,void 0,void 0,function*(){try{let e=new URLSearchParams;n?.limit!==void 0&&e.set("limit",n.limit.toString()),n?.offset!==void 0&&e.set("offset",n.offset.toString()),n?.sortColumn&&e.set("sortColumn",n.sortColumn),n?.sortOrder&&e.set("sortOrder",n.sortOrder),n?.search&&e.set("search",n.search);let r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Er(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}deleteBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}from(n){if(!Gb(n))throw new er("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let e=new nC({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>I(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(e,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>I(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var Ao,Au=U(()=>{"use strict";Wm();Ao={"X-Client-Info":`storage-js/${Mu}`,"Content-Type":"application/json"}});function Xe(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Ro,Dr,No,Zm,ko=U(()=>{"use strict";Ro=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};Dr=class extends Ro{constructor(n,e,r){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},No=class extends Ro{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}},Zm=function(t){return t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",t}(Zm||{})});var Sr,iC,Ru,oC,sC,Po=U(()=>{"use strict";Sr=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),iC=()=>Response,Ru=t=>{if(typeof t!="object"||t===null)return!1;let n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oC=t=>Array.from(new Float32Array(t)),sC=(t,n)=>{if(n!==void 0&&t.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${t.float32.length}`)}});function HA(t,n,e,r,i,o){return I(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,$A(n,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>BA(l,a,r))})})}function lt(t,n,e,r,i){return I(this,void 0,void 0,function*(){return HA(t,"POST",n,r,i,e)})}var aC,BA,$A,Nu=U(()=>{"use strict";Ie();ko();Po();aC=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),BA=(t,n,e)=>I(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!e?.noResolveJson){let i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";n(new Dr(aC(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new Dr(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new Dr(a,i,s))}}else n(new No(aC(t),t))}),$A=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"||!r?i:(Ru(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e))}});var Fo,Km=U(()=>{"use strict";Ie();Au();ko();Nu();Po();Fo=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ao),e),this.fetch=Sr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return I(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}getIndex(n,e){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}listIndexes(n){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}deleteIndex(n,e){return I(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}}});var Lo,Jm=U(()=>{"use strict";Ie();Au();ko();Nu();Po();Lo=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ao),e),this.fetch=Sr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return I(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield lt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}getVectors(n){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}listVectors(n){return I(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield lt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}queryVectors(n){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}deleteVectors(n){return I(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield lt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}});var jo,Ym=U(()=>{"use strict";Ie();Au();ko();Nu();Po();jo=class{constructor(n,e={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ao),e),this.fetch=Sr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return I(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}getBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}listBuckets(){return I(this,arguments,void 0,function*(n={}){try{return{data:yield lt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}deleteBucket(n){return I(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}})}}});var Vo,ga,va,lC=U(()=>{"use strict";Ie();Km();Jm();Ym();Vo=class extends jo{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new ga(this.url,this.headers,n,this.fetch)}createBucket(n){let e=Object.create(null,{createBucket:{get:()=>super.createBucket}});return I(this,void 0,void 0,function*(){return e.createBucket.call(this,n)})}getBucket(n){let e=Object.create(null,{getBucket:{get:()=>super.getBucket}});return I(this,void 0,void 0,function*(){return e.getBucket.call(this,n)})}listBuckets(){let n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return I(this,arguments,void 0,function*(e={}){return n.listBuckets.call(this,e)})}deleteBucket(n){let e=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return I(this,void 0,void 0,function*(){return e.deleteBucket.call(this,n)})}},ga=class extends Fo{constructor(n,e,r,i){super(n,e,i),this.vectorBucketName=r}createIndex(n){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(e={}){return n.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new va(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},va=class extends Lo{constructor(n,e,r,i,o){super(n,e,o),this.vectorBucketName=r,this.indexName=i}putVectors(n){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(e={}){return n.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var Qm=U(()=>{"use strict";lC();Ym();Km();Jm();ko();Po()});var ku,cC=U(()=>{"use strict";eC();tC();Gm();Qm();ku=class extends Tu{constructor(n,e={},r,i){super(n,e,r,i)}from(n){return new Iu(this.url,this.headers,n,this.fetch)}get vectors(){return new Vo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Oo(this.url+"/iceberg",this.headers,this.fetch)}}});var uC=U(()=>{"use strict"});var dC={};ns(dC,{StorageAnalyticsClient:()=>Oo,StorageApiError:()=>da,StorageClient:()=>ku,StorageError:()=>er,StorageUnknownError:()=>br,StorageVectorsApiError:()=>Dr,StorageVectorsClient:()=>Vo,StorageVectorsError:()=>Ro,StorageVectorsErrorCode:()=>Zm,StorageVectorsUnknownError:()=>No,VectorBucketApi:()=>jo,VectorBucketScope:()=>ga,VectorDataApi:()=>Lo,VectorIndexApi:()=>Fo,VectorIndexScope:()=>va,isPlainObject:()=>Ru,isStorageError:()=>me,isStorageVectorsError:()=>Xe,normalizeToFloat32:()=>oC,resolveFetch:()=>Sr,resolveResponse:()=>iC,validateVectorDimension:()=>sC});var fC=U(()=>{"use strict";cC();Gm();uC();Cr();Qm()});var hC=mt(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.version=void 0;Pu.version="2.87.1"});var pC=mt(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.DEFAULT_REALTIME_OPTIONS=Pt.DEFAULT_AUTH_OPTIONS=Pt.DEFAULT_DB_OPTIONS=Pt.DEFAULT_GLOBAL_OPTIONS=Pt.DEFAULT_HEADERS=void 0;var zA=hC(),ya="";typeof Deno<"u"?ya="deno":typeof document<"u"?ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ya="react-native":ya="node";Pt.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${ya}/${zA.version}`};Pt.DEFAULT_GLOBAL_OPTIONS={headers:Pt.DEFAULT_HEADERS};Pt.DEFAULT_DB_OPTIONS={schema:"public"};Pt.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};Pt.DEFAULT_REALTIME_OPTIONS={}});var mC=mt(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.fetchWithAuth=dn.resolveHeadersConstructor=dn.resolveFetch=void 0;var WA=t=>t?(...n)=>t(...n):(...n)=>fetch(...n);dn.resolveFetch=WA;var qA=()=>Headers;dn.resolveHeadersConstructor=qA;var GA=(t,n,e)=>{let r=(0,dn.resolveFetch)(e),i=(0,dn.resolveHeadersConstructor)();return(o,s)=>g(null,null,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:t,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};dn.fetchWithAuth=GA});var vC=mt(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.isBrowser=void 0;Ir.uuid=ZA;Ir.ensureTrailingSlash=gC;Ir.applySettingDefaults=JA;Ir.validateSupabaseUrl=YA;function ZA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,e=t=="x"?n:n&3|8;return e.toString(16)})}function gC(t){return t.endsWith("/")?t:t+"/"}var KA=()=>typeof window<"u";Ir.isBrowser=KA;function JA(t,n){var e,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:l,auth:c,realtime:u,global:p}=n,y={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(e=p?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>g(null,null,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function YA(t){let n=t?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gC(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var Fu,Xm=U(()=>{"use strict";Fu="2.87.1"});var hi,Lu,ju,yC,_C,wC,_a,eg,bC,CC,Vu=U(()=>{"use strict";Xm();hi=30*1e3,Lu=3,ju=Lu*hi,yC="http://localhost:9999",_C="supabase.auth.token",wC={"X-Client-Info":`gotrue-js/${Fu}`},_a="X-Supabase-Api-Version",eg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CC=10*60*1e3});function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}function tg(t){return F(t)&&t.name==="AuthApiError"}function ng(t){return F(t)&&t.name==="AuthSessionMissingError"}function rg(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}function ba(t){return F(t)&&t.name==="AuthRetryableFetchError"}function QA(t){return F(t)&&t.name==="AuthWeakPasswordError"}var tr,wa,Ft,fn,et,An,Mr,xr,Uo,pi,Bo,Tr,mi=U(()=>{"use strict";tr=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};wa=class extends tr{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};Ft=class extends tr{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},fn=class extends tr{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},et=class extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};An=class extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Mr=class extends fn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},xr=class extends fn{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};Uo=class extends fn{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},pi=class extends fn{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};Bo=class extends fn{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};Tr=class extends fn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}});function DC(t,n,e){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(Uu[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;e(Uu[r]),n.queuedBits-=6}}function SC(t,n,e){let r=XA[t];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)e(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ig(t){let n=[],e=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{nR(s,r,e)};for(let s=0;s<t.length;s+=1)SC(t.charCodeAt(s),i,o);return n.join("")}function eR(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tR(t,n){for(let e=0;e<t.length;e+=1){let r=t.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}eR(r,n)}}function nR(t,n,e){if(n.utf8seq===0){if(t<=127){e(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&e(n.codepoint)}}function Or(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<t.length;i+=1)SC(t.charCodeAt(i),e,r);return new Uint8Array(n)}function IC(t){let n=[];return tR(t,e=>n.push(e)),new Uint8Array(n)}function nr(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};return t.forEach(i=>DC(i,e,r)),DC(null,e,r),n.join("")}var Uu,EC,XA,Bu=U(()=>{"use strict";Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EC=` 	
\r=`.split(""),XA=(()=>{let t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<EC.length;n+=1)t[EC[n].charCodeAt(0)]=-2;for(let n=0;n<Uu.length;n+=1)t[Uu[n].charCodeAt(0)]=n;return t})()});function MC(t){return Math.round(Date.now()/1e3)+t}function xC(){return Symbol("auth-callback")}function TC(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}function zu(t){let n=t.split(".");if(n.length!==3)throw new Tr("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!bC.test(n[r]))throw new Tr("JWT not in base64url format");return{header:JSON.parse(ig(n[0])),payload:JSON.parse(ig(n[1])),signature:Or(n[2]),raw:{header:n[0],payload:n[1]}}}function AC(t){return g(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function RC(t,n){return new Promise((r,i)=>{g(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function rR(t){return("0"+t.toString(16)).substr(-2)}function iR(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,rR).join("")}function oR(t){return g(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function sR(t){return g(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield oR(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function yi(t,n,e=!1){return g(this,null,function*(){let r=iR(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield vi(t,`${n}-code-verifier`,i);let o=yield sR(r);return[o,r===o?"plain":"s256"]})}function NC(t){let n=t.headers.get(_a);if(!n||!n.match(aR))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function kC(t){if(!t)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function PC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function _i(t){if(!lR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wu(){let t={};return new Proxy(t,{get:(n,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function FC(t,n){return new Proxy(t,{get:(e,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,i)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(e,r,i)}})}function og(t){return JSON.parse(JSON.stringify(t))}var Ze,gi,$u,Hu,OC,vi,Ar,tt,Ca,aR,lR,$o=U(()=>{"use strict";Vu();mi();Bu();Ze=()=>typeof window<"u"&&typeof document<"u",gi={tested:!1,writable:!1},$u=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gi.tested)return gi.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gi.tested=!0,gi.writable=!0}catch{gi.tested=!0,gi.writable=!1}return gi.writable};Hu=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),OC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vi=(t,n,e)=>g(null,null,function*(){yield t.setItem(n,JSON.stringify(e))}),Ar=(t,n)=>g(null,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),tt=(t,n)=>g(null,null,function*(){yield t.removeItem(n)}),Ca=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Ca.promiseConstructor=Promise;aR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;lR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function LC(t){return g(this,null,function*(){var n;if(!OC(t))throw new pi(wi(t),0);if(cR.includes(t.status))throw new pi(wi(t),t.status);let e;try{e=yield t.json()}catch(o){throw new Ft(wi(o),o)}let r,i=NC(t);if(i&&i.getTime()>=eg["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Bo(wi(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new et}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Bo(wi(e),t.status,e.weak_password.reasons);throw new wa(wi(e),t.status||500,r)})}function z(t,n,e,r){return g(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[_a]||(o[_a]=eg["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield dR(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function dR(t,n,e,r,i,o){return g(this,null,function*(){let s=uR(n,r,i,o),a;try{a=yield t(e,Object.assign({},s))}catch(l){throw console.error(l),new pi(wi(l),0)}if(a.ok||(yield LC(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield LC(l)}})}function Yt(t){var n;let e=null;fR(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=MC(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function sg(t){let n=Yt(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function Rn(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function jC(t){return{data:t,error:null}}function VC(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=jn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function ag(t){return t}function fR(t){return t.access_token&&t.refresh_token&&t.expires_in}var wi,cR,uR,lg=U(()=>{"use strict";Ie();Vu();$o();mi();wi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cR=[502,503,504];uR=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))}});var Ea,cg=U(()=>{"use strict";Ea=["global","local","others"]});var Rr,qu=U(()=>{"use strict";Ie();lg();$o();cg();mi();Rr=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=Hu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return g(this,arguments,function*(n,e=Ea[0]){if(Ea.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ea.join(", ")}`);try{return yield z(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(F(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return g(this,arguments,function*(n,e={}){try{return yield z(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Rn})}catch(i){if(F(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return g(this,null,function*(){try{let{options:e}=n,r=jn(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:VC,redirectTo:e?.redirectTo})}catch(e){if(F(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return g(this,null,function*(){try{return yield z(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Rn})}catch(e){if(F(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return g(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:ag});if(u.error)throw u.error;let p=yield u.json(),y=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(_=>{let w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);c[`${C}Page`]=w}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return g(this,null,function*(){_i(n);try{return yield z(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Rn})}catch(e){if(F(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return g(this,null,function*(){_i(n);try{return yield z(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:Rn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return g(this,null,function*(){_i(n);try{return yield z(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:Rn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return g(this,null,function*(){_i(n.userId);try{let{data:e,error:r}=yield z(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(F(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return g(this,null,function*(){_i(n.userId),_i(n.id);try{return{data:yield z(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(F(e))return{data:null,error:e};throw e}})}_listOAuthClients(n){return g(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:ag});if(u.error)throw u.error;let p=yield u.json(),y=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(_=>{let w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);c[`${C}Page`]=w}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(F(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(n){return g(this,null,function*(){try{return yield z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(F(e))return{data:null,error:e};throw e}})}_getOAuthClient(n){return g(this,null,function*(){try{return yield z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(F(e))return{data:null,error:e};throw e}})}_updateOAuthClient(n,e){return g(this,null,function*(){try{return yield z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(n){return g(this,null,function*(){try{return yield z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(F(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(n){return g(this,null,function*(){try{return yield z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(F(e))return{data:null,error:e};throw e}})}}});function ug(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}var UC=U(()=>{"use strict"});function Gu(t,n,e){return g(this,null,function*(){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>g(null,null,function*(){if(i){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield e()}finally{Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Da(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function $C(t,n,e){return g(this,null,function*(){var r;let i=(r=BC[t])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),n>=0?new Promise((s,a)=>{setTimeout(()=>{a(new dg(`Acquring process lock with name "${t}" timed out`))},n)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>g(null,null,function*(){return yield e()}));return BC[t]=o.catch(s=>g(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var Nr,Ho,Da,dg,BC,fg=U(()=>{"use strict";$o();Nr={debug:!!(globalThis&&$u()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ho=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Da=class extends Ho{},dg=class extends Ho{};BC={}});function HC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var zC=U(()=>{"use strict"});function hg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function WC(t){return parseInt(t,16)}function qC(t){let n=new TextEncoder().encode(t);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function GC(t){var n;let{chainId:e,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:p,version:y}=t;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((n=t.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let h=hg(t.address),_=u?`${u}://${r}`:r,w=t.statement?`${t.statement}
`:"",C=`${_} wants you to sign in with your Ethereum account:
${h}

${w}`,E=`URI: ${p}
Version: ${y}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),a&&(E+=`
Not Before: ${a.toISOString()}`),l&&(E+=`
Request ID: ${l}`),c){let ie=`
Resources:`;for(let N of c){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);ie+=`
- ${N}`}E+=ie}return`${C}
${E}`}var ZC=U(()=>{"use strict"});function KC({error:t,options:n}){var e,r,i;let{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((e=o.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new Oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(n.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Oe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(pg(s)){if(o.rp.id!==s)return new Oe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function JC({error:t,options:n}){let{publicKey:e}=n;if(!e)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Oe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(pg(r)){if(e.rpId!==r)return new Oe({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Oe,bi,YC=U(()=>{"use strict";mg();Oe=class extends Error{constructor({message:n,code:e,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=e}},bi=class extends Oe{constructor(n,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:n}),this.name="WebAuthnUnknownError",this.originalError=e}}});function XC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:n,user:e,excludeCredentials:r}=t,i=jn(t,["challenge","user","excludeCredentials"]),o=Or(n).buffer,s=Object.assign(Object.assign({},e),{id:Or(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Or(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function eE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:n,allowCredentials:e}=t,r=jn(t,["challenge","allowCredentials"]),i=Or(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){o.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){let a=e[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Or(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function tE(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let e=t;return{id:t.id,rawId:t.id,response:{attestationObject:nr(new Uint8Array(t.response.attestationObject)),clientDataJSON:nr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(n=e.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function nE(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let e=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:nr(new Uint8Array(i.authenticatorData)),clientDataJSON:nr(new Uint8Array(i.clientDataJSON)),signature:nr(new Uint8Array(i.signature)),userHandle:i.userHandle?nr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=e.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function pg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function QC(){var t,n;return!!(Ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}function pR(t){return g(this,null,function*(){try{let n=yield navigator.credentials.create(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new bi("Browser returned unexpected credential type",n)}:{data:null,error:new bi("Empty credential response",n)}}catch(n){return{data:null,error:KC({error:n,options:t})}}})}function mR(t){return g(this,null,function*(){try{let n=yield navigator.credentials.get(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new bi("Browser returned unexpected credential type",n)}:{data:null,error:new bi("Empty credential response",n)}}catch(n){return{data:null,error:JC({error:n,options:t})}}})}function Zu(...t){let n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of t)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(e(s))r[o]=s;else if(n(s)){let a=r[o];n(a)?r[o]=Zu(a,s):r[o]=Zu(s)}else r[o]=s}return r}function yR(t,n){return Zu(gR,t,n||{})}function _R(t,n){return Zu(vR,t,n||{})}var gg,hR,gR,vR,Ku,mg=U(()=>{"use strict";Ie();Bu();mi();$o();YC();gg=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){let n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}},hR=new gg;gR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};Ku=class{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){return g(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})}_challenge(s,a){return g(this,arguments,function*({factorId:n,webauthn:e,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:n,webauthn:e});if(!l)return{data:null,error:c};let u=i??hR.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{let p=yR(l.webauthn.credential_options.publicKey,o?.create),{data:y,error:h}=yield pR({publicKey:p,signal:u});return y?{data:{factorId:n,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:h}}case"request":{let p=_R(l.webauthn.credential_options.publicKey,o?.request),{data:y,error:h}=yield mR(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:u}));return y?{data:{factorId:n,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:y}},error:null}:{data:null,error:h}}}}catch(l){return F(l)?{data:null,error:l}:{data:null,error:new Ft("Unexpected error in challenge",l)}}})}_verify(i){return g(this,arguments,function*({challengeId:n,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:n,webauthn:r})})}_authenticate(s,a){return g(this,arguments,function*({factorId:n,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new tr("rpId is required for WebAuthn authentication")};try{if(!QC())return{data:null,error:new Ft("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:n,webauthn:{rpId:e,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:n,challengeId:l.challengeId,webauthn:{type:u.type,rpId:e,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return F(l)?{data:null,error:l}:{data:null,error:new Ft("Unexpected error in authenticate",l)}}})}_register(s,a){return g(this,arguments,function*({friendlyName:n,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!e)return{data:null,error:new tr("rpId is required for WebAuthn registration")};try{if(!QC())return{data:null,error:new Ft("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:n});if(!l)return yield this.client.mfa.listFactors().then(y=>{var h;return(h=y.data)===null||h===void 0?void 0:h.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:c};let{data:u,error:p}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:e,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:p}}catch(l){return F(l)?{data:null,error:l}:{data:null,error:new Ft("Unexpected error in register",l)}}})}}});function rE(t,n,e){return g(this,null,function*(){return yield e()})}var wR,zo,bR,Ju,vg=U(()=>{"use strict";qu();Vu();mi();lg();$o();UC();fg();zC();Xm();Bu();ZC();mg();HC();wR={url:yC,storageKey:_C,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};zo={},bR=(()=>{class t{get jwks(){var e,r;return(r=(e=zo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=zo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},wR),e);if(this.storageKey=s.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ze()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rr({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hu(s.fetch),this.lock=s.lock||rE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Ze()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Gu:this.lock=rE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ku(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$u()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ug(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ug(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>g(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Fu}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return g(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=g(this,null,function*(){return yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return g(this,null,function*(){var e;try{let r={},i="none";if(Ze()&&(r=TC(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),Ze()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),rg(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>g(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?this._returnResult({error:r}):this._returnResult({error:new Ft("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return g(this,null,function*(){var r,i,o;try{let s=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Yt}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(e){return g(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:p,password:y,options:h}=e,_=null,w=null;this.flowType==="pkce"&&([_,w]=yield yi(this.storage,this.storageKey)),s=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:p,password:y,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:_,code_challenge_method:w},xform:Yt})}else if("phone"in e){let{phone:p,password:y,options:h}=e;s=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Yt})}else throw new Mr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield tt(this.storage,`${this.storageKey}-code-verifier`),F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(e){return g(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sg})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sg})}else throw new Mr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new An;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return g(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return g(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>g(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return g(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return g(this,null,function*(){var r,i,o,s,a,l,c,u,p,y,h;let _,w;if("message"in e)_=e.message,w=e.signature;else{let{chain:C,wallet:E,statement:ie,options:N}=e,k;if(Ze())if(typeof E=="object")k=E;else{let Fn=window;if("ethereum"in Fn&&typeof Fn.ethereum=="object"&&"request"in Fn.ethereum&&typeof Fn.ethereum.request=="function")k=Fn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=E}let he=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),pn=yield k.request({method:"eth_requestAccounts"}).then(Fn=>Fn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!pn||pn.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let Ce=hg(pn[0]),He=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!He){let Fn=yield k.request({method:"eth_chainId"});He=WC(Fn)}let rr={domain:he.host,address:Ce,statement:ie,uri:he.href,version:"1",chainId:He,nonce:(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=GC(rr),w=yield k.request({method:"personal_sign",params:[qC(_),Ce]})}try{let{data:C,error:E}=yield z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Yt});if(E)throw E;if(!C||!C.session||!C.user){let ie=new An;return this._returnResult({data:{user:null,session:null},error:ie})}return C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:E})}catch(C){if(F(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}})}signInWithSolana(e){return g(this,null,function*(){var r,i,o,s,a,l,c,u,p,y,h,_;let w,C;if("message"in e)w=e.message,C=e.signature;else{let{chain:E,wallet:ie,statement:N,options:k}=e,he;if(Ze())if(typeof ie=="object")he=ie;else{let Ce=window;if("solana"in Ce&&typeof Ce.solana=="object"&&("signIn"in Ce.solana&&typeof Ce.solana.signIn=="function"||"signMessage"in Ce.solana&&typeof Ce.solana.signMessage=="function"))he=Ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ie!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");he=ie}let pn=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in he&&he.signIn){let Ce=yield he.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:pn.host,uri:pn.href}),N?{statement:N}:null)),He;if(Array.isArray(Ce)&&Ce[0]&&typeof Ce[0]=="object")He=Ce[0];else if(Ce&&typeof Ce=="object"&&"signedMessage"in Ce&&"signature"in Ce)He=Ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in He&&"signature"in He&&(typeof He.signedMessage=="string"||He.signedMessage instanceof Uint8Array)&&He.signature instanceof Uint8Array)w=typeof He.signedMessage=="string"?He.signedMessage:new TextDecoder().decode(He.signedMessage),C=He.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in he)||typeof he.signMessage!="function"||!("publicKey"in he)||typeof he!="object"||!he.publicKey||!("toBase58"in he.publicKey)||typeof he.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${pn.host} wants you to sign in with your Solana account:`,he.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${pn.href}`,`Issued At: ${(o=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=k?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((y=(p=k?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...k.signInWithSolana.resources.map(He=>`- ${He}`)]:[]].join(`
`);let Ce=yield he.signMessage(new TextEncoder().encode(w),"utf8");if(!Ce||!(Ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Ce}}try{let{data:E,error:ie}=yield z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:nr(C)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Yt});if(ie)throw ie;if(!E||!E.session||!E.user){let N=new An;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(yield this._saveSession(E.session),yield this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:ie})}catch(E){if(F(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}})}_exchangeCodeForSession(e){return g(this,null,function*(){let r=yield Ar(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Yt});if(yield tt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new An;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield tt(this.storage,`${this.storageKey}-code-verifier`),F(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(e){return g(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Yt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let p=new An;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return g(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,p=null;this.flowType==="pkce"&&([u,p]=yield yi(this.storage,this.storageKey));let{error:y}=yield z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:p}=yield z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:p})}throw new Mr("You must provide either an email or phone number.")}catch(l){if(yield tt(this.storage,`${this.storageKey}-code-verifier`),F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(e){return g(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Yt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(F(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(e){return g(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield yi(this.storage,this.storageKey));let u=yield z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:jC});return!((s=u.data)===null||s===void 0)&&s.url&&Ze()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield tt(this.storage,`${this.storageKey}-code-verifier`),F(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return g(this,null,function*(){try{return yield this._useSession(e=>g(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new et;let{error:o}=yield z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(e){if(F(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return g(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield z(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield z(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Mr("You must provide either an email or phone number and a type")}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return this._useSession(r=>g(this,null,function*(){return r}))}))})}_acquireLock(e,r){return g(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=g(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(g(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>g(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(g(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return g(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return g(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield Ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<ju:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=yield Ar(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Wu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=FC(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return g(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(e){return g(this,null,function*(){try{return e?yield z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rn}):yield this._useSession(r=>g(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:yield z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Rn})}))}catch(r){if(F(r))return ng(r)&&(yield this._removeSession(),yield tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return g(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return g(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>g(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new et;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield yi(this.storage,this.storageKey));let{data:p,error:y}=yield z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Rn});if(y)throw y;return l.user=p.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield tt(this.storage,`${this.storageKey}-code-verifier`),F(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(e){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return g(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new et;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=zu(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new et;let{data:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return g(this,null,function*(){try{if(!Ze())throw new xr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Uo("No code detected.");let{data:N,error:k}=yield this._exchangeCodeForSession(e.code);if(k)throw k;let he=new URL(window.location.href);return he.searchParams.delete("code"),window.history.replaceState(window.history.state,"",he.toString()),{data:{session:N.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new xr("No session defined in URL");let p=Math.round(Date.now()/1e3),y=parseInt(l),h=p+y;c&&(h=parseInt(c));let _=h-p;_*1e3<=hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);let w=h-y;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,p);let{data:C,error:E}=yield this._getUser(s);if(E)throw E;let ie={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:y,expires_at:h,refresh_token:a,token_type:u,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:ie,redirectType:e.type},error:null})}catch(i){if(F(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return g(this,null,function*(){let r=yield Ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return g(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return g(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>g(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(tg(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(yield this._removeSession(),yield tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){let r=xC(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),g(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return g(this,null,function*(){return yield this._useSession(r=>g(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return g(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield yi(this.storage,this.storageKey,!0));try{return yield z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield tt(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return g(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return g(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return g(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>g(this,null,function*(){var a,l,c,u,p;let{data:y,error:h}=s;if(h)throw h;let _=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield z(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(u=y.session)===null||u===void 0?void 0:u.access_token)!==null&&p!==void 0?p:void 0})}));if(o)throw o;return Ze()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(F(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}})}linkIdentityIdToken(e){return g(this,null,function*(){return yield this._useSession(r=>g(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:p}=e,y=yield z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Yt}),{data:h,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new An}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:_}))}catch(o){if(yield tt(this.storage,`${this.storageKey}-code-verifier`),F(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(e){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return g(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield RC(o=>g(this,null,function*(){return o>0&&(yield AC(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&ba(s)&&Date.now()+a-i<hi})}catch(i){if(this._debug(r,"error",i),F(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return g(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Ze()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return g(this,null,function*(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Ar(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Ar(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield vi(this.userStorage,this.storageKey+"-user",a)),o.user=(e=a?.user)!==null&&e!==void 0?e:Wu()}else if(o&&!o.user&&!o.user){let a=yield Ar(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield tt(this.storage,this.storageKey+"-user"),yield vi(this.storage,this.storageKey,o)):o.user=Wu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ju;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${ju}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),ba(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return g(this,null,function*(){var r,i;if(!e)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ca;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new et;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),F(s)){let a={data:null,error:s};return ba(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return g(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>g(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return g(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield tt(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield vi(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=og(o);yield vi(this.storage,this.storageKey,s)}else{let o=og(r);yield vi(this.storage,this.storageKey,o)}})}_removeSession(){return g(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield tt(this.storage,this.storageKey),yield tt(this.storage,this.storageKey+"-code-verifier"),yield tt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield tt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return g(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),hi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>g(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return g(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return g(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return g(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return g(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>g(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>g(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${hi}ms, refresh threshold is ${Lu} ticks`),o<=Lu&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ho)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return g(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>g(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return g(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return g(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield yi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=yield z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return g(this,null,function*(){return this._acquireLock(-1,()=>g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?tE(e.webauthn.credential_response):nE(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=yield z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return g(this,null,function*(){return this._acquireLock(-1,()=>g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:XC(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:eE(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return g(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return g(this,null,function*(){var e;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return g(this,null,function*(){var e,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=zu(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(e){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield z(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new et})}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return g(this,null,function*(){try{return yield this._useSession(i=>g(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new et});let a=yield z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ze()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(e,r){return g(this,null,function*(){try{return yield this._useSession(i=>g(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new et});let a=yield z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ze()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return g(this,null,function*(){try{return yield this._useSession(e=>g(this,null,function*(){let{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?yield z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new et})}))}catch(e){if(F(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new et})}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return g(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(c=>c.kid===e);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===e),o&&this.jwks_cached_at+CC>s)return o;let{data:a,error:l}=yield z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===e),!o)?null:o})}getClaims(i){return g(this,arguments,function*(e,r={}){try{let o=e;if(!o){let{data:w,error:C}=yield this.getSession();if(C||!w.session)return this._returnResult({data:null,error:C});o=w.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=zu(o);r?.allowExpired||kC(a.exp);let p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){let{error:w}=yield this.getUser(o);if(w)throw w;return{data:{claims:a,header:s,signature:l},error:null}}let y=PC(s.alg),h=yield crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!(yield crypto.subtle.verify(y,h,l,IC(`${c}.${u}`))))throw new Tr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(F(o))return this._returnResult({data:null,error:o});throw o}})}}return t.nextInstanceID={},t})(),Ju=bR});var CR,iE,oE=U(()=>{"use strict";qu();CR=Rr,iE=CR});var ER,sE,aE=U(()=>{"use strict";vg();ER=Ju,sE=ER});var yg={};ns(yg,{AuthAdminApi:()=>iE,AuthApiError:()=>wa,AuthClient:()=>sE,AuthError:()=>tr,AuthImplicitGrantRedirectError:()=>xr,AuthInvalidCredentialsError:()=>Mr,AuthInvalidJwtError:()=>Tr,AuthInvalidTokenResponseError:()=>An,AuthPKCEGrantCodeExchangeError:()=>Uo,AuthRetryableFetchError:()=>pi,AuthSessionMissingError:()=>et,AuthUnknownError:()=>Ft,AuthWeakPasswordError:()=>Bo,CustomAuthError:()=>fn,GoTrueAdminApi:()=>Rr,GoTrueClient:()=>Ju,NavigatorLockAcquireTimeoutError:()=>Da,SIGN_OUT_SCOPES:()=>Ea,isAuthApiError:()=>tg,isAuthError:()=>F,isAuthImplicitGrantRedirectError:()=>rg,isAuthRetryableFetchError:()=>ba,isAuthSessionMissingError:()=>ng,isAuthWeakPasswordError:()=>QA,lockInternals:()=>Nr,navigatorLock:()=>Gu,processLock:()=>$C});var _g=U(()=>{"use strict";qu();vg();oE();aE();cg();mi();fg()});var lE=mt(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.SupabaseAuthClient=void 0;var DR=(_g(),Tt(yg)),wg=class extends DR.AuthClient{constructor(n){super(n)}};Yu.SupabaseAuthClient=wg});var Eg=mt(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});var SR=(um(),Tt(cm)),IR=Mm(),MR=($m(),Tt(Bm)),xR=(fC(),Tt(dC)),Qu=pC(),TR=mC(),cE=vC(),OR=lE(),bg=class{constructor(n,e,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=e;let a=(0,cE.validateSupabaseUrl)(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Qu.DEFAULT_DB_OPTIONS,realtime:Qu.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Qu.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Qu.DEFAULT_GLOBAL_OPTIONS},u=(0,cE.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,TR.fetchWithAuth)(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new IR.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new xR.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new SR.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return g(this,null,function*(){var n,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},p,y){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OR.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),p),storageKey:s,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new MR.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Cg.default=bg});var fE=mt(De=>{"use strict";var AR=De&&De.__createBinding||(Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]}),uE=De&&De.__exportStar||function(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&AR(n,t,e)},dE=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(De,"__esModule",{value:!0});De.createClient=De.SupabaseClient=De.FunctionRegion=De.FunctionsError=De.FunctionsRelayError=De.FunctionsFetchError=De.FunctionsHttpError=De.PostgrestError=void 0;var RR=dE(Eg());uE((_g(),Tt(yg)),De);var NR=Mm();Object.defineProperty(De,"PostgrestError",{enumerable:!0,get:function(){return NR.PostgrestError}});var Sa=(um(),Tt(cm));Object.defineProperty(De,"FunctionsHttpError",{enumerable:!0,get:function(){return Sa.FunctionsHttpError}});Object.defineProperty(De,"FunctionsFetchError",{enumerable:!0,get:function(){return Sa.FunctionsFetchError}});Object.defineProperty(De,"FunctionsRelayError",{enumerable:!0,get:function(){return Sa.FunctionsRelayError}});Object.defineProperty(De,"FunctionsError",{enumerable:!0,get:function(){return Sa.FunctionsError}});Object.defineProperty(De,"FunctionRegion",{enumerable:!0,get:function(){return Sa.FunctionRegion}});uE(($m(),Tt(Bm)),De);var kR=Eg();Object.defineProperty(De,"SupabaseClient",{enumerable:!0,get:function(){return dE(kR).default}});var PR=(t,n,e)=>new RR.default(t,n,e);De.createClient=PR;function FR(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}FR()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function Pd(t,n){return Object.is(t,n)}var ze=null,Fa=!1,Fd=1,Lt=Symbol("SIGNAL");function oe(t){let n=ze;return ze=t,n}function Ld(){return ze}var is={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function os(t){if(Fa)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(t);let n=ze.nextProducerIndex++;if(Ua(ze),n<ze.producerNode.length&&ze.producerNode[n]!==t&&rs(ze)){let e=ze.producerNode[n];Va(e,ze.producerIndexOfThis[n])}ze.producerNode[n]!==t&&(ze.producerNode[n]=t,ze.producerIndexOfThis[n]=rs(ze)?Ug(t,ze,n):0),ze.producerLastReadVersion[n]=t.version}function Vg(){Fd++}function jd(t){if(!(rs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Fd)){if(!t.producerMustRecompute(t)&&!$d(t)){kd(t);return}t.producerRecomputeValue(t),kd(t)}}function Vd(t){if(t.liveConsumerNode===void 0)return;let n=Fa;Fa=!0;try{for(let e of t.liveConsumerNode)e.dirty||GE(e)}finally{Fa=n}}function Ud(){return ze?.consumerAllowSignalWrites!==!1}function GE(t){t.dirty=!0,Vd(t),t.consumerMarkedDirty?.(t)}function kd(t){t.dirty=!1,t.lastCleanEpoch=Fd}function ja(t){return t&&(t.nextProducerIndex=0),oe(t)}function Bd(t,n){if(oe(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(rs(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Va(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function $d(t){Ua(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(jd(e),r!==e.version))return!0}return!1}function Hd(t){if(Ua(t),rs(t))for(let n=0;n<t.producerNode.length;n++)Va(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ug(t,n,e){if(Bg(t),t.liveConsumerNode.length===0&&$g(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ug(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Va(t,n){if(Bg(t),t.liveConsumerNode.length===1&&$g(t))for(let r=0;r<t.producerNode.length;r++)Va(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];Ua(i),i.producerIndexOfThis[r]=n}}function rs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ua(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Bg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $g(t){return t.producerNode!==void 0}function zd(t,n){let e=Object.create(ZE);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(jd(e),os(e),e.value===La)throw e.error;return e.value};return r[Lt]=e,r}var Rd=Symbol("UNSET"),Nd=Symbol("COMPUTING"),La=Symbol("ERRORED"),ZE=ne(S({},is),{value:Rd,dirty:!0,error:null,equal:Pd,kind:"computed",producerMustRecompute(t){return t.value===Rd||t.value===Nd},producerRecomputeValue(t){if(t.value===Nd)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Nd;let e=ja(t),r,i=!1;try{r=t.computation(),oe(null),i=n!==Rd&&n!==La&&r!==La&&t.equal(n,r)}catch(o){r=La,t.error=o}finally{Bd(t,e)}if(i){t.value=n;return}t.value=r,t.version++}});function KE(){throw new Error}var Hg=KE;function zg(t){Hg(t)}function Wd(t){Hg=t}var JE=null;function qd(t,n){let e=Object.create(Ba);e.value=t,n!==void 0&&(e.equal=n);let r=()=>(os(e),e.value);return r[Lt]=e,r}function ss(t,n){Ud()||zg(t),t.equal(t.value,n)||(t.value=n,YE(t))}function Gd(t,n){Ud()||zg(t),ss(t,n(t.value))}var Ba=ne(S({},is),{equal:Pd,value:void 0,kind:"signal"});function YE(t){t.version++,Vg(),Vd(t),JE?.()}function Zd(t){let n=oe(null);try{return t()}finally{oe(n)}}var Kd;function as(){return Kd}function Ln(t){let n=Kd;return Kd=t,n}var $a=Symbol("NotFound");function K(t){return typeof t=="function"}function Ei(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ha=Ei(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function ls(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Fe=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){n=o instanceof Ha?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Wg(o)}catch(s){n=n??[],s instanceof Ha?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ha(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Wg(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ls(e,n)}remove(n){let{_finalizers:e}=this;e&&ls(e,n),n instanceof t&&n._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var Jd=Fe.EMPTY;function za(t){return t instanceof Fe||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function Wg(t){K(t)?t():t.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Di={setTimeout(t,n,...e){let{delegate:r}=Di;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Di;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Wa(t){Di.setTimeout(()=>{let{onUnhandledError:n}=tn;if(n)n(t);else throw t})}function cs(){}var qg=Yd("C",void 0,void 0);function Gg(t){return Yd("E",void 0,t)}function Zg(t){return Yd("N",t,void 0)}function Yd(t,n,e){return{kind:t,value:n,error:e}}var Pr=null;function Si(t){if(tn.useDeprecatedSynchronousErrorHandling){let n=!Pr;if(n&&(Pr={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=Pr;if(Pr=null,e)throw r}}else t()}function Kg(t){tn.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=t)}var Fr=class extends Fe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,za(n)&&n.add(this)):this.destination=rD}static create(n,e,r){return new Ii(n,e,r)}next(n){this.isStopped?Xd(Zg(n),this):this._next(n)}error(n){this.isStopped?Xd(Gg(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Xd(qg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tD=Function.prototype.bind;function Qd(t,n){return tD.call(t,n)}var ef=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){qa(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){qa(r)}else qa(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){qa(e)}}},Ii=class extends Fr{constructor(n,e,r){super();let i;if(K(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Qd(n.next,o),error:n.error&&Qd(n.error,o),complete:n.complete&&Qd(n.complete,o)}):i=n}this.destination=new ef(i)}};function qa(t){tn.useDeprecatedSynchronousErrorHandling?Kg(t):Wa(t)}function nD(t){throw t}function Xd(t,n){let{onStoppedNotification:e}=tn;e&&Di.setTimeout(()=>e(t,n))}var rD={closed:!0,next:cs,error:nD,complete:cs};var Mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function tf(...t){return nf(t)}function nf(t){return t.length===0?Ot:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var pe=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=oD(e)?e:new Ii(e,r,i);return Si(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Jg(r),new r((i,o)=>{let s=new Ii({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Mi](){return this}pipe(...e){return nf(e)(this)}toPromise(e){return e=Jg(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function Jg(t){var n;return(n=t??tn.Promise)!==null&&n!==void 0?n:Promise}function iD(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function oD(t){return t&&t instanceof Fr||iD(t)&&za(t)}function rf(t){return K(t?.lift)}function le(t){return n=>{if(rf(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,n,e,r,i){return new of(t,n,e,r,i)}var of=class extends Fr{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function xi(){return le((t,n)=>{let e=null;t._refCount++;let r=se(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var Ti=class extends pe{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,rf(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Fe;let e=this.getSubject();n.add(this.source.subscribe(se(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Fe.EMPTY)}return n}refCount(){return xi()(this)}};var Yg=Ei(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Ga(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Yg}next(e){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jd:(this.currentObservers=null,o.push(e),new Fe(()=>{this.currentObservers=null,ls(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new pe;return e.source=this,e}}return t.create=(n,e)=>new Ga(n,e),t})(),Ga=class extends Le{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:Jd}};var We=class extends Le{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var gt=new pe(t=>t.complete());function Qg(t){return t&&K(t.schedule)}function Xg(t){return t[t.length-1]}function Za(t){return K(Xg(t))?t.pop():void 0}function ir(t){return Qg(Xg(t))?t.pop():void 0}Ie();var el=t=>t&&typeof t.length=="number"&&typeof t!="function";function tl(t){return K(t?.then)}function nl(t){return K(t[Mi])}function rl(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function il(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ol=cD();function sl(t){return K(t?.[ol])}Ie();function al(t){return Qa(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield mn(e.read());if(i)return yield mn(void 0);yield yield mn(r)}}finally{e.releaseLock()}})}function ll(t){return K(t?.getReader)}function je(t){if(t instanceof pe)return t;if(t!=null){if(nl(t))return uD(t);if(el(t))return dD(t);if(tl(t))return fD(t);if(rl(t))return Ev(t);if(sl(t))return hD(t);if(ll(t))return pD(t)}throw il(t)}function uD(t){return new pe(n=>{let e=t[Mi]();if(K(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dD(t){return new pe(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function fD(t){return new pe(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Wa)})}function hD(t){return new pe(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Ev(t){return new pe(n=>{mD(t,n).catch(e=>n.error(e))})}function pD(t){return Ev(al(t))}function mD(t,n){var e,r,i,o;return I(this,void 0,void 0,function*(){try{for(e=Xa(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function vt(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cl(t,n=0){return le((e,r)=>{e.subscribe(se(r,i=>vt(r,t,()=>r.next(i),n),()=>vt(r,t,()=>r.complete(),n),i=>vt(r,t,()=>r.error(i),n)))})}function ul(t,n=0){return le((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Dv(t,n){return je(t).pipe(ul(n),cl(n))}function Sv(t,n){return je(t).pipe(ul(n),cl(n))}function Iv(t,n){return new pe(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function Mv(t,n){return new pe(e=>{let r;return vt(e,n,()=>{r=t[ol](),vt(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function dl(t,n){if(!t)throw new Error("Iterable cannot be null");return new pe(e=>{vt(e,n,()=>{let r=t[Symbol.asyncIterator]();vt(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function xv(t,n){return dl(al(t),n)}function Tv(t,n){if(t!=null){if(nl(t))return Dv(t,n);if(el(t))return Iv(t,n);if(tl(t))return Sv(t,n);if(rl(t))return dl(t,n);if(sl(t))return Mv(t,n);if(ll(t))return xv(t,n)}throw il(t)}function Me(t,n){return n?Tv(t,n):je(t)}function W(...t){let n=ir(t);return Me(t,n)}function Oi(t,n){let e=K(t)?t:()=>t,r=i=>i.error(e());return new pe(n?i=>n.schedule(r,0,i):r)}function cf(t){return!!t&&(t instanceof pe||K(t.lift)&&K(t.subscribe))}var Vn=Ei(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,n){return le((e,r)=>{let i=0;e.subscribe(se(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:gD}=Array;function vD(t,n){return gD(n)?t(...n):t(n)}function fl(t){return re(n=>vD(t,n))}var{isArray:yD}=Array,{getPrototypeOf:_D,prototype:wD,keys:bD}=Object;function hl(t){if(t.length===1){let n=t[0];if(yD(n))return{args:n,keys:null};if(CD(n)){let e=bD(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function CD(t){return t&&typeof t=="object"&&_D(t)===wD}function pl(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function us(...t){let n=ir(t),e=Za(t),{args:r,keys:i}=hl(t);if(r.length===0)return Me([],n);let o=new pe(ED(r,n,i?s=>pl(i,s):Ot));return e?o.pipe(fl(e)):o}function ED(t,n,e=Ot){return r=>{Ov(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Ov(n,()=>{let c=Me(t[l],n),u=!1;c.subscribe(se(r,p=>{o[l]=p,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ov(t,n,e){t?vt(e,t,n):n()}function Av(t,n,e,r,i,o,s,a){let l=[],c=0,u=0,p=!1,y=()=>{p&&!l.length&&!c&&n.complete()},h=w=>c<r?_(w):l.push(w),_=w=>{o&&n.next(w),c++;let C=!1;je(e(w,u++)).subscribe(se(n,E=>{i?.(E),o?h(E):n.next(E)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let E=l.shift();s?vt(n,s,()=>_(E)):_(E)}y()}catch(E){n.error(E)}}))};return t.subscribe(se(n,h,()=>{p=!0,y()})),()=>{a?.()}}function Ne(t,n,e=1/0){return K(n)?Ne((r,i)=>re((o,s)=>n(r,o,i,s))(je(t(r,i))),e):(typeof n=="number"&&(e=n),le((r,i)=>Av(r,i,t,e)))}function Ai(t=1/0){return Ne(Ot,t)}function Rv(){return Ai(1)}function Ri(...t){return Rv()(Me(t,ir(t)))}function ml(t){return new pe(n=>{je(t()).subscribe(n)})}function uf(...t){let n=Za(t),{args:e,keys:r}=hl(t),i=new pe(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let p=!1;je(e[u]).subscribe(se(o,y=>{p||(p=!0,c--),a[u]=y},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(r?pl(r,a):a),o.complete())}))}});return n?i.pipe(fl(n)):i}function ut(t,n){return le((e,r)=>{let i=0;e.subscribe(se(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Un(t){return le((n,e)=>{let r=null,i=!1,o;r=n.subscribe(se(e,void 0,void 0,s=>{o=je(t(s,Un(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Nv(t,n,e,r,i){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(se(s,u=>{let p=c++;l=a?t(l,u,p):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function or(t,n){return K(n)?Ne(t,n,1):Ne(t,1)}function sr(t){return le((n,e)=>{let r=!1;n.subscribe(se(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Bn(t){return t<=0?()=>gt:le((n,e)=>{let r=0;n.subscribe(se(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function gl(t=DD){return le((n,e)=>{let r=!1;n.subscribe(se(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function DD(){return new Vn}function ds(t){return le((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function $n(t,n){let e=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):Ot,Bn(1),e?sr(n):gl(()=>new Vn))}function Ni(t){return t<=0?()=>gt:le((n,e)=>{let r=[];n.subscribe(se(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function df(t,n){let e=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):Ot,Ni(1),e?sr(n):gl(()=>new Vn))}function ff(t,n){return le(Nv(t,n,arguments.length>=2,!0))}function hf(...t){let n=ir(t);return le((e,r)=>{(n?Ri(t,e,n):Ri(t,e)).subscribe(r)})}function jt(t,n){return le((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(se(r,l=>{i?.unsubscribe();let c=0,u=o++;je(t(l,u)).subscribe(i=se(r,p=>r.next(n?n(l,p,u,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pf(t){return le((n,e)=>{je(t).subscribe(se(e,()=>e.complete(),cs)),!e.closed&&n.subscribe(e)})}function it(t,n,e){let r=K(t)||n||e?{next:t,error:n,complete:e}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ot}var Cy="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(n,e){super(Ey(n,e)),this.code=n}};function SD(t){return`NG0${Math.abs(t)}`}function Ey(t,n){return`${SD(t)}${n?": "+n:""}`}var Dy=Symbol("InputSignalNode#UNSET"),ID=ne(S({},Ba),{transformFn:void 0,applyValueToInputSignal(t,n){ss(t,n)}});function Sy(t,n){let e=Object.create(ID);e.value=t,e.transformFn=n?.transform;function r(){if(os(e),e.value===Dy){let i=null;throw new P(-950,i)}return e.value}return r[Lt]=e,r}function bs(t){return{toString:t}.toString()}var vl="__parameters__";function MD(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function Iy(t,n,e){return bs(()=>{let r=MD(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let p=l.hasOwnProperty(vl)?l[vl]:Object.defineProperty(l,vl,{value:[]})[vl];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vr=globalThis;function we(t){for(let n in t)if(t[n]===we)return n;throw Error("Could not find renamed property on target object.")}function xD(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function _t(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(_t).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function kv(t,n){return t?n?`${t} ${n}`:t:n||""}var TD=we({__forward_ref__:we});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return _t(this())},t}function dt(t){return My(t)?t():t}function My(t){return typeof t=="function"&&t.hasOwnProperty(TD)&&t.__forward_ref__===Et}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yl(t){return Pv(t,Ty)||Pv(t,Oy)}function xy(t){return Yl(t)!==null}function Pv(t,n){return t.hasOwnProperty(n)?t[n]:null}function OD(t){let n=t&&(t[Ty]||t[Oy]);return n||null}function Fv(t){return t&&(t.hasOwnProperty(Lv)||t.hasOwnProperty(AD))?t[Lv]:null}var Ty=we({\u0275prov:we}),Lv=we({\u0275inj:we}),Oy=we({ngInjectableDef:we}),AD=we({ngInjectorDef:we}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=R({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ay(t){return t&&!!t.\u0275providers}var RD=we({\u0275cmp:we}),ND=we({\u0275dir:we}),kD=we({\u0275pipe:we}),PD=we({\u0275mod:we}),Sl=we({\u0275fac:we}),ms=we({__NG_ELEMENT_ID__:we}),jv=we({__NG_ENV_ID__:we});function Hn(t){return typeof t=="string"?t:t==null?"":String(t)}function FD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Hn(t)}function Ry(t,n){throw new P(-200,t)}function vh(t,n){throw new P(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),Tf;function Ny(){return Tf}function yt(t){let n=Tf;return Tf=t,n}function ky(t,n,e){let r=Yl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&X.Optional)return null;if(n!==void 0)return n;vh(t,"Injector")}var LD={},Ur=LD,Of="__NG_DI_FLAG__",Il=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=e;return this.injector.get(n,r.optional?$a:Ur,r)}},Ml="ngTempTokenPath",jD="ngTokenPath",VD=/\n/gm,UD="\u0275",Vv="__source";function BD(t,n=X.Default){if(as()===void 0)throw new P(-203,!1);if(as()===null)return ky(t,void 0,n);{let e=as(),r;return e instanceof Il?r=e.injector:r=e,r.get(t,n&X.Optional?null:void 0,n)}}function $(t,n=X.Default){return(Ny()||BD)(dt(t),n)}function D(t,n=X.Default){return $(t,Ql(n))}function Ql(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Af(t){let n=[];for(let e=0;e<t.length;e++){let r=dt(t[e]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){let a=r[s],l=$D(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push($(i,o))}else n.push($(r))}return n}function Py(t,n){return t[Of]=n,t.prototype[Of]=n,t}function $D(t){return t[Of]}function HD(t,n,e,r){let i=t[Ml];throw n[Vv]&&i.unshift(n[Vv]),t.message=zD(`
`+t.message,i,e,r),t[jD]=i,t[Ml]=null,t}function zD(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UD?t.slice(2):t;let i=_t(n);if(Array.isArray(n))i=n.map(_t).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):_t(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(VD,`
  `)}`}var WD=Py(Iy("Optional"),8);var qD=Py(Iy("SkipSelf"),4);function $r(t,n){let e=t.hasOwnProperty(Sl);return e?t[Sl]:null}function yh(t,n){t.forEach(e=>Array.isArray(e)?yh(e,n):n(e))}function Fy(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function xl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function GD(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function ZD(t,n,e){let r=Cs(t,n);return r>=0?t[r|1]=e:(r=~r,GD(t,r,n,e)),r}function mf(t,n){let e=Cs(t,n);if(e>=0)return t[e|1]}function Cs(t,n){return KD(t,n,1)}function KD(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var Hr={},Vt=[],gs=new j(""),Ly=new j("",-1),jy=new j(""),Tl=class{get(n,e=Ur){if(e===Ur){let r=new Error(`NullInjectorError: No provider for ${_t(n)}!`);throw r.name="NullInjectorError",r}return e}};function Vy(t,n){let e=t[PD]||null;if(!e&&n===!0)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return e}function zr(t){return t[RD]||null}function JD(t){return t[ND]||null}function YD(t){return t[kD]||null}function _h(t){return{\u0275providers:t}}function QD(...t){return{\u0275providers:Uy(!0,t),\u0275fromNgModule:!0}}function Uy(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return yh(n,s=>{let a=s;Rf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&By(i,o),e}function By(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];wh(i,o=>{n(o,r)})}}function Rf(t,n,e,r){if(t=dt(t),!t)return!1;let i=null,o=Fv(t),s=!o&&zr(t);if(!o&&!s){let l=t.ngModule;if(o=Fv(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Rf(c,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{yh(o.imports,u=>{Rf(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&By(c,n)}if(!a){let c=$r(i)||(()=>new i);n({provide:i,useFactory:c,deps:Vt},i),n({provide:jy,useValue:i,multi:!0},i),n({provide:gs,useValue:()=>$(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;wh(l,u=>{n(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function wh(t,n){for(let e of t)Ay(e)&&(e=e.\u0275providers),Array.isArray(e)?wh(e,n):n(e)}var XD=we({provide:String,useValue:we});function $y(t){return t!==null&&typeof t=="object"&&XD in t}function eS(t){return!!(t&&t.useExisting)}function tS(t){return!!(t&&t.useFactory)}function Ui(t){return typeof t=="function"}function nS(t){return!!t.useClass}var Xl=new j(""),wl={},Uv={},gf;function bh(){return gf===void 0&&(gf=new Tl),gf}var wt=class{},vs=class extends wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,kf(n,s=>this.processProvider(s)),this.records.set(Ly,ki(void 0,this)),i.has("environment")&&this.records.set(wt,ki(void 0,this));let o=this.records.get(Xl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jy,Vt,X.Self))}retrieve(n,e){let r=e;return this.get(n,r.optional?$a:Ur,r)}destroy(){hs(this),this._destroyed=!0;let n=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(n)}}onDestroy(n){return hs(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){hs(this);let e=Ln(this),r=yt(void 0),i;try{return n()}finally{Ln(e),yt(r)}}get(n,e=Ur,r=X.Default){if(hs(this),n.hasOwnProperty(jv))return n[jv](this);r=Ql(r);let i,o=Ln(this),s=yt(void 0);try{if(!(r&X.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=aS(n)&&Yl(n);c&&this.injectableDefInScope(c)?l=ki(Nf(n),wl):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,r)}let a=r&X.Self?bh():this.parent;return e=r&X.Optional&&e===Ur?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Ml]=a[Ml]||[]).unshift(_t(n)),o)throw a;return HD(a,n,"R3InjectorError",this.source)}else throw a}finally{yt(s),Ln(o)}}resolveInjectorInitializers(){let n=oe(null),e=Ln(this),r=yt(void 0),i;try{let o=this.get(gs,Vt,X.Self);for(let s of o)s()}finally{Ln(e),yt(r),oe(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(_t(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=dt(n);let e=Ui(n)?n:dt(n&&n.provide),r=iS(n);if(!Ui(n)&&n.multi===!0){let i=this.records.get(e);i||(i=ki(void 0,wl,!0),i.factory=()=>Af(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let i=oe(null);try{return e.value===Uv?Ry(_t(n)):e.value===wl&&(e.value=Uv,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&sS(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{oe(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=dt(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Nf(t){let n=Yl(t),e=n!==null?n.factory:$r(t);if(e!==null)return e;if(t instanceof j)throw new P(204,!1);if(t instanceof Function)return rS(t);throw new P(204,!1)}function rS(t){if(t.length>0)throw new P(204,!1);let e=OD(t);return e!==null?()=>e.factory(t):()=>new t}function iS(t){if($y(t))return ki(void 0,t.useValue);{let n=Hy(t);return ki(n,wl)}}function Hy(t,n,e){let r;if(Ui(t)){let i=dt(t);return $r(i)||Nf(i)}else if($y(t))r=()=>dt(t.useValue);else if(tS(t))r=()=>t.useFactory(...Af(t.deps||[]));else if(eS(t))r=(i,o)=>$(dt(t.useExisting),o!==void 0&&o&X.Optional?X.Optional:void 0);else{let i=dt(t&&(t.useClass||t.provide));if(oS(t))r=()=>new i(...Af(t.deps));else return $r(i)||Nf(i)}return r}function hs(t){if(t.destroyed)throw new P(205,!1)}function ki(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function oS(t){return!!t.deps}function sS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function aS(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function kf(t,n){for(let e of t)Array.isArray(e)?kf(e,n):e&&Ay(e)?kf(e.\u0275providers,n):n(e)}function Ht(t,n){let e;t instanceof vs?(hs(t),e=t):e=new Il(t);let r,i=Ln(e),o=yt(void 0);try{return n()}finally{Ln(i),yt(o)}}function zy(){return Ny()!==void 0||as()!=null}function lS(t){if(!zy())throw new P(-203,!1)}function cS(t){return typeof t=="function"}var Zn=0,ae=1,J=2,ft=3,rn=4,on=5,Ol=6,Al=7,bt=8,Bi=9,zn=10,ke=11,ys=12,Bv=13,Yi=14,vn=15,$i=16,Pi=17,Hi=18,ec=19,Wy=20,ar=21,vf=22,Rl=23,Ut=24,ji=25,Ct=26,qy=1;var Wr=7,Nl=8,kl=9,Bt=10;function lr(t){return Array.isArray(t)&&typeof t[qy]=="object"}function Kn(t){return Array.isArray(t)&&t[qy]===!0}function Ch(t){return(t.flags&4)!==0}function Qi(t){return t.componentOffset>-1}function tc(t){return(t.flags&1)===1}function yn(t){return!!t.template}function Pl(t){return(t[J]&512)!==0}function Xi(t){return(t[J]&256)===256}var Pf=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Gy(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var cr=(()=>{let t=()=>Zy;return t.ngInherit=!0,t})();function Zy(t){return t.type.prototype.ngOnChanges&&(t.setInput=dS),uS}function uS(){let t=Jy(this),n=t?.current;if(n){let e=t.previous;if(e===Hr)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function dS(t,n,e,r,i){let o=this.declaredInputs[r],s=Jy(t)||fS(t,{previous:Hr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Pf(c&&c.currentValue,e,l===Hr),Gy(t,n,i,e)}var Ky="__ngSimpleChanges__";function Jy(t){return t[Ky]||null}function fS(t,n){return t[Ky]=n}var $v=null;var ge=function(t,n=null,e){$v?.(t,n,e)},Yy="svg",hS="math";function _n(t){for(;Array.isArray(t);)t=t[Zn];return t}function Qy(t,n){return _n(n[t])}function En(t,n){return _n(n[t.index])}function Xy(t,n){return t.data[n]}function Eh(t,n){return t[n]}function pS(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function wn(t,n){let e=n[t];return lr(e)?e:e[Zn]}function Dh(t){return(t[J]&128)===128}function mS(t){return Kn(t[ft])}function zi(t,n){return n==null?null:t[n]}function e0(t){t[Pi]=0}function t0(t){t[J]&1024||(t[J]|=1024,Dh(t)&&Es(t))}function gS(t,n){for(;t>0;)n=n[Yi],t--;return n}function nc(t){return!!(t[J]&9216||t[Ut]?.dirty)}function Ff(t){t[zn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),nc(t)&&Es(t)}function Es(t){t[zn].changeDetectionScheduler?.notify(0);let n=qr(t);for(;n!==null&&!(n[J]&8192||(n[J]|=8192,!Dh(n)));)n=qr(n)}function n0(t,n){if(Xi(t))throw new P(911,!1);t[ar]===null&&(t[ar]=[]),t[ar].push(n)}function vS(t,n){if(t[ar]===null)return;let e=t[ar].indexOf(n);e!==-1&&t[ar].splice(e,1)}function qr(t){let n=t[ft];return Kn(n)?n[ft]:n}function r0(t){return t[Al]??=[]}function i0(t){return t.cleanup??=[]}var ee={lFrame:f0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Lf=!1;function yS(){return ee.lFrame.elementDepthCount}function _S(){ee.lFrame.elementDepthCount++}function wS(){ee.lFrame.elementDepthCount--}function Sh(){return ee.bindingsEnabled}function bS(){return ee.skipHydrationRootTNode!==null}function CS(t){return ee.skipHydrationRootTNode===t}function ES(){ee.skipHydrationRootTNode=null}function ue(){return ee.lFrame.lView}function ot(){return ee.lFrame.tView}function q(t){return ee.lFrame.contextLView=t,t[bt]}function G(t){return ee.lFrame.contextLView=null,t}function ht(){let t=o0();for(;t!==null&&t.type===64;)t=t.parent;return t}function o0(){return ee.lFrame.currentTNode}function DS(){let t=ee.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Yr(t,n){let e=ee.lFrame;e.currentTNode=t,e.isParent=n}function Ih(){return ee.lFrame.isParent}function s0(){ee.lFrame.isParent=!1}function SS(){return ee.lFrame.contextLView}function a0(){return Lf}function Hv(t){let n=Lf;return Lf=t,n}function Mh(){let t=ee.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function l0(){return ee.lFrame.bindingIndex}function IS(t){return ee.lFrame.bindingIndex=t}function rc(){return ee.lFrame.bindingIndex++}function xh(t){let n=ee.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function MS(){return ee.lFrame.inI18n}function xS(t,n){let e=ee.lFrame;e.bindingIndex=e.bindingRootIndex=t,jf(n)}function TS(){return ee.lFrame.currentDirectiveIndex}function jf(t){ee.lFrame.currentDirectiveIndex=t}function OS(t){let n=ee.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function c0(t){ee.lFrame.currentQueryIndex=t}function AS(t){let n=t[ae];return n.type===2?n.declTNode:n.type===1?t[on]:null}function u0(t,n,e){if(e&X.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&X.Host);)if(i=AS(o),i===null||(o=o[Yi],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=ee.lFrame=d0();return r.currentTNode=n,r.lView=t,!0}function Th(t){let n=d0(),e=t[ae];ee.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function d0(){let t=ee.lFrame,n=t===null?null:t.child;return n===null?f0(t):n}function f0(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function h0(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var p0=h0;function Oh(){let t=h0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function RS(t){return(ee.lFrame.contextLView=gS(t,ee.lFrame.contextLView))[bt]}function ur(){return ee.lFrame.selectedIndex}function Gr(t){ee.lFrame.selectedIndex=t}function ic(){let t=ee.lFrame;return Xy(t.tView,t.selectedIndex)}function m0(){ee.lFrame.currentNamespace=Yy}function NS(){return ee.lFrame.currentNamespace}var g0=!0;function oc(){return g0}function sc(t){g0=t}function kS(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Zy(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function Ah(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function bl(t,n,e){v0(t,n,3,e)}function Cl(t,n,e,r){(t[J]&3)===e&&v0(t,n,e,r)}function yf(t,n){let e=t[J];(e&3)===n&&(e&=16383,e+=1,t[J]=e)}function v0(t,n,e,r){let i=r!==void 0?t[Pi]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Pi]+=65536),(a<o||o==-1)&&(PS(t,e,n,l),t[Pi]=(t[Pi]&4294901760)+l+2),l++}function zv(t,n){ge(4,t,n);let e=oe(null);try{n.call(t)}finally{oe(e),ge(5,t,n)}}function PS(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[J]>>14<t[Pi]>>16&&(t[J]&3)===n&&(t[J]+=16384,zv(a,o)):zv(a,o)}var Vi=-1,Zr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function FS(t){return(t.flags&8)!==0}function LS(t){return(t.flags&16)!==0}function jS(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];VS(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function y0(t){return t===3||t===4||t===6}function VS(t){return t.charCodeAt(0)===64}function Wi(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?Wv(t,e,i,null,n[++r]):Wv(t,e,i,null,null))}}return t}function Wv(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i)}function _0(t){return t!==Vi}function Fl(t){return t&32767}function US(t){return t>>16}function Ll(t,n){let e=US(t),r=n;for(;e>0;)r=r[Yi],e--;return r}var Vf=!0;function jl(t){let n=Vf;return Vf=t,n}var BS=256,w0=BS-1,b0=5,$S=0,gn={};function HS(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(ms)&&(r=e[ms]),r==null&&(r=e[ms]=$S++);let i=r&w0,o=1<<i;n.data[t+(i>>b0)]|=o}function Vl(t,n){let e=C0(t,n);if(e!==-1)return e;let r=n[ae];r.firstCreatePass&&(t.injectorIndex=n.length,_f(r.data,t),_f(n,null),_f(r.blueprint,null));let i=Rh(t,n),o=t.injectorIndex;if(_0(i)){let s=Fl(i),a=Ll(i,n),l=a[ae].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function _f(t,n){t.push(0,0,0,0,0,0,0,0,n)}function C0(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Rh(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=M0(i),r===null)return Vi;if(e++,i=i[Yi],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Vi}function Uf(t,n,e){HS(t,n,e)}function zS(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(y0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function E0(t,n,e){if(e&X.Optional||t!==void 0)return t;vh(n,"NodeInjector")}function D0(t,n,e,r){if(e&X.Optional&&r===void 0&&(r=null),(e&(X.Self|X.Host))===0){let i=t[Bi],o=yt(void 0);try{return i?i.get(n,r,e&X.Optional):ky(n,r,e&X.Optional)}finally{yt(o)}}return E0(r,n,e)}function S0(t,n,e,r=X.Default,i){if(t!==null){if(n[J]&2048&&!(r&X.Self)){let s=KS(t,n,e,r,gn);if(s!==gn)return s}let o=I0(t,n,e,r,gn);if(o!==gn)return o}return D0(n,e,r,i)}function I0(t,n,e,r,i){let o=GS(e);if(typeof o=="function"){if(!u0(n,t,r))return r&X.Host?E0(i,e,r):D0(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&X.Optional))vh(e);else return s}finally{p0()}}else if(typeof o=="number"){let s=null,a=C0(t,n),l=Vi,c=r&X.Host?n[vn][on]:null;for((a===-1||r&X.SkipSelf)&&(l=a===-1?Rh(t,n):n[a+8],l===Vi||!Gv(r,!1)?a=-1:(s=n[ae],a=Fl(l),n=Ll(l,n)));a!==-1;){let u=n[ae];if(qv(o,a,u.data)){let p=WS(a,n,e,s,r,c);if(p!==gn)return p}l=n[a+8],l!==Vi&&Gv(r,n[ae].data[a+8]===c)&&qv(o,a,n)?(s=u,a=Fl(l),n=Ll(l,n)):a=-1}}return i}function WS(t,n,e,r,i,o){let s=n[ae],a=s.data[t+8],l=r==null?Qi(a)&&Vf:r!=s&&(a.type&3)!==0,c=i&X.Host&&o===a,u=qS(a,s,e,l,c);return u!==null?Ul(n,s,u,a,i):gn}function qS(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,p=r?a:a+u,y=i?a+u:c;for(let h=p;h<y;h++){let _=s[h];if(h<l&&e===_||h>=l&&_.type===e)return h}if(i){let h=s[l];if(h&&yn(h)&&h.type===e)return l}return null}function Ul(t,n,e,r,i){let o=t[e],s=n.data;if(o instanceof Zr){let a=o;a.resolving&&Ry(FD(s[e]));let l=jl(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?yt(a.injectImpl):null,p=u0(t,r,X.Default);try{o=t[e]=a.factory(void 0,i,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&kS(e,s[e],n)}finally{u!==null&&yt(u),jl(l),a.resolving=!1,p0()}}return o}function GS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(ms)?t[ms]:void 0;return typeof n=="number"?n>=0?n&w0:ZS:n}function qv(t,n,e){let r=1<<t;return!!(e[n+(t>>b0)]&r)}function Gv(t,n){return!(t&X.Self)&&!(t&X.Host&&n)}var Br=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return S0(this._tNode,this._lView,n,Ql(r),e)}};function ZS(){return new Br(ht(),ue())}function At(t){return bs(()=>{let n=t.prototype.constructor,e=n[Sl]||Bf(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Sl]||Bf(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Bf(t){return My(t)?()=>{let n=Bf(dt(t));return n&&n()}:$r(t)}function KS(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[J]&2048&&!Pl(s);){let a=I0(o,s,e,r|X.Self,gn);if(a!==gn)return a;let l=o.parent;if(!l){let c=s[Wy];if(c){let u=c.get(e,gn,r);if(u!==gn)return u}l=M0(s),s=s[Yi]}o=l}return i}function M0(t){let n=t[ae],e=n.type;return e===2?n.declTNode:e===1?t[on]:null}function Nh(t){return zS(ht(),t)}function Zv(t,n=null,e=null,r){let i=x0(t,n,e,r);return i.resolveInjectorInitializers(),i}function x0(t,n=null,e=null,r,i=new Set){let o=[e||Vt,QD(t)];return r=r||(typeof t=="object"?void 0:_t(t)),new vs(o,n||bh(),r||null,i)}var $t=class t{static THROW_IF_NOT_FOUND=Ur;static NULL=new Tl;static create(n,e){if(Array.isArray(n))return Zv({name:""},e,n,"");{let r=n.name??"";return Zv({name:r},n.parent,n.providers,r)}}static \u0275prov=R({token:t,providedIn:"any",factory:()=>$(Ly)});static __NG_ELEMENT_ID__=-1};var JS=new j("");JS.__NG_ELEMENT_ID__=t=>{let n=ht();if(n===null)throw new P(204,!1);if(n.type&2)return n.value;if(t&X.Optional)return null;throw new P(204,!1)};var T0=!1,Ds=(()=>{class t{static __NG_ELEMENT_ID__=YS;static __NG_ENV_ID__=e=>e}return t})(),$f=class extends Ds{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let e=this._lView;return Xi(e)?(n(),()=>{}):(n0(e,n),()=>vS(e,n))}};function YS(){return new $f(ue())}var qi=class{},O0=new j("",{providedIn:"root",factory:()=>!1});var A0=new j(""),R0=new j(""),eo=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new We(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=R({token:t,providedIn:"root",factory:()=>new t})}return t})();var Hf=class extends Le{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,zy()&&(this.destroyRef=D(Ds,{optional:!0})??void 0,this.pendingTasks=D(eo,{optional:!0})??void 0)}emit(n){let e=oe(null);try{super.next(n)}finally{oe(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Fe&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_e=Hf;function Bl(...t){}function N0(t){let n,e;function r(){t=Bl;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Kv(t){return queueMicrotask(()=>t()),()=>{t=Bl}}var kh="isAngularZone",$l=kh+"_ID",QS=0,Ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _e(!1);onMicrotaskEmpty=new _e(!1);onStable=new _e(!1);onError=new _e(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=T0}=n;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,XS,Bl,Bl);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},XS={};function Ph(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eI(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){N0(()=>{t.callbackScheduled=!1,zf(t),t.isCheckStableRunning=!0,Ph(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),zf(t)}function tI(t){let n=()=>{eI(t)},e=QS++;t._inner=t._inner.fork({name:"angular",properties:{[kh]:!0,[$l]:e,[$l+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(nI(l))return r.invokeTask(o,s,a,l);try{return Jv(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Yv(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Jv(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rI(l)&&n(),Yv(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zf(t),Ph(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Jv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yv(t){t._nesting--,Ph(t)}var Wf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _e;onMicrotaskEmpty=new _e;onStable=new _e;onError=new _e;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function nI(t){return k0(t,"__ignore_ng_zone__")}function rI(t){return k0(t,"__scheduler_tick__")}function k0(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var bn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},iI=new j("",{providedIn:"root",factory:()=>{let t=D(Ve),n=D(bn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function Qv(t,n){return Sy(t,n)}function oI(t){return Sy(Dy,t)}var P0=(Qv.required=oI,Qv);function sI(){return ac(ht(),ue())}function ac(t,n){return new sn(En(t,n))}var sn=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=sI}return t})();function aI(t){return typeof t=="function"&&t[Lt]!==void 0}function Ss(t,n){let e=qd(t,n?.equal),r=e[Lt];return e.set=i=>ss(r,i),e.update=i=>Gd(r,i),e.asReadonly=lI.bind(e),e}function lI(){let t=this[Lt];if(t.readonlyFn===void 0){let n=()=>this();n[Lt]=t,t.readonlyFn=n}return t.readonlyFn}function F0(t){return aI(t)&&typeof t.set=="function"}function L0(t){return(t.flags&128)===128}var j0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(j0||{}),V0=new Map,cI=0;function uI(){return cI++}function dI(t){V0.set(t[ec],t)}function qf(t){V0.delete(t[ec])}var Xv="__ngContext__";function to(t,n){lr(n)?(t[Xv]=n[ec],dI(n)):t[Xv]=n}function U0(t){return $0(t[ys])}function B0(t){return $0(t[rn])}function $0(t){for(;t!==null&&!Kn(t);)t=t[rn];return t}var Gf;function H0(t){Gf=t}function fI(){if(Gf!==void 0)return Gf;if(typeof document<"u")return document;throw new P(210,!1)}var Fh=new j("",{providedIn:"root",factory:()=>hI}),hI="ng",Lh=new j(""),no=new j("",{providedIn:"platform",factory:()=>"unknown"});var jh=new j("",{providedIn:"root",factory:()=>fI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pI="h",mI="b";var z0=!1,gI=new j("",{providedIn:"root",factory:()=>z0});var Vh=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Vh||{}),ro=new j(""),ey=new Set;function Is(t){ey.has(t)||(ey.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var W0=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=vI}return t})();function vI(){return new W0(ue(),ht())}var Fi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Fi||{}),q0=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=R({token:t,providedIn:"root",factory:()=>new t})}return t})(),yI=[Fi.EarlyRead,Fi.Write,Fi.MixedReadWrite,Fi.Read],_I=(()=>{class t{ngZone=D(Ve);scheduler=D(qi);errorHandler=D(bn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(ro,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ge(16),this.executing=!0;for(let r of yI)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ge(17)}register(e){let{view:r}=e;r!==void 0?((r[ji]??=[]).push(e),Es(r),r[J]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Vh.AFTER_NEXT_RENDER,e):e()}static \u0275prov=R({token:t,providedIn:"root",factory:()=>new t})}return t})(),Zf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o,s=null){this.impl=n,this.hooks=e,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[ji];n&&(this.view[ji]=n.filter(e=>e!==this))}};function Uh(t,n){!n?.injector&&lS(Uh);let e=n?.injector??D($t);return Is("NgAfterNextRender"),bI(t,e,n,!0)}function wI(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function bI(t,n,e,r){let i=n.get(q0);i.impl??=n.get(_I);let o=n.get(ro,null,{optional:!0}),s=e?.phase??Fi.MixedReadWrite,a=e?.manualCleanup!==!0?n.get(Ds):null,l=n.get(W0,null,{optional:!0}),c=new Zf(i.impl,wI(t,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var CI=(t,n,e,r)=>{};function EI(t,n,e,r){CI(t,n,e,r)}var DI=()=>null;function G0(t,n,e=!1){return DI(t,n,e)}function Z0(t,n){let e=t.contentQueries;if(e!==null){let r=oe(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];c0(o),a.contentQueries(2,n[s],s)}}}finally{oe(r)}}}function Kf(t,n,e){c0(0);let r=oe(null);try{n(t,e)}finally{oe(r)}}function Bh(t,n,e){if(Ch(n)){let r=oe(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{oe(r)}}}var Cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cn||{});var yl;function SI(){if(yl===void 0&&(yl=null,Vr.trustedTypes))try{yl=Vr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yl}function ty(t){return SI()?.createScriptURL(t)||t}var Hl=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cy})`}};function lc(t){return t instanceof Hl?t.changingThisBreaksApplicationSecurity:t}function K0(t,n){let e=II(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Cy})`)}return e===n}function II(t){return t instanceof Hl&&t.getTypeName()||null}var MI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xI(t){return t=String(t),t.match(MI)?t:"unsafe:"+t}var TI=/^>|^->|<!--|-->|--!>|<!-$/g,OI=/(<|>)/g,AI="\u200B$1\u200B";function RI(t){return t.replace(TI,n=>n.replace(OI,AI))}function NI(t,n){return t.createText(n)}function kI(t,n,e){t.setValue(n,e)}function PI(t,n){return t.createComment(RI(n))}function J0(t,n,e){return t.createElement(n,e)}function zl(t,n,e,r,i){t.insertBefore(n,e,r,i)}function Y0(t,n,e){t.appendChild(n,e)}function ny(t,n,e,r,i){r!==null?zl(t,n,e,r,i):Y0(t,n,e)}function FI(t,n,e){t.removeChild(null,n,e)}function LI(t,n,e){t.setAttribute(n,"style",e)}function jI(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Q0(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&jS(t,n,r),i!==null&&jI(t,n,i),o!==null&&LI(t,n,o)}var $h=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($h||{});function Je(t){let n=e_();return n?n.sanitize($h.URL,t)||"":K0(t,"URL")?lc(t):xI(Hn(t))}function VI(t){let n=e_();if(n)return ty(n.sanitize($h.RESOURCE_URL,t)||"");if(K0(t,"ResourceURL"))return ty(lc(t));throw new P(904,!1)}function UI(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?VI:Je}function X0(t,n,e){return UI(n,e)(t)}function e_(){let t=ue();return t&&t[zn].sanitizer}function t_(t){return t instanceof Function?t():t}function BI(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var n_="ng-template";function $I(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&BI(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Hh(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Hh(t){return t.type===4&&t.value!==n_}function HI(t,n,e){let r=t.type===4&&!e?n_:t.value;return n===r}function zI(t,n,e){let r=4,i=t.attrs,o=i!==null?GI(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!nn(r)&&!nn(l))return!1;if(s&&nn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!HI(t,l,e)||l===""&&n.length===1){if(nn(r))return!1;s=!0}}else if(r&8){if(i===null||!$I(t,i,l,e)){if(nn(r))return!1;s=!0}}else{let c=n[++a],u=WI(l,i,Hh(t),e);if(u===-1){if(nn(r))return!1;s=!0;continue}if(c!==""){let p;if(u>o?p="":p=i[u+1].toLowerCase(),r&2&&c!==p){if(nn(r))return!1;s=!0}}}}return nn(r)||s}function nn(t){return(t&1)===0}function WI(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ZI(n,t)}function qI(t,n,e=!1){for(let r=0;r<n.length;r++)if(zI(t,n[r],e))return!0;return!1}function GI(t){for(let n=0;n<t.length;n++){let e=t[n];if(y0(e))return n}return t.length}function ZI(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function ry(t,n){return t?":not("+n.trim()+")":n}function KI(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!nn(s)&&(n+=ry(o,i),i=""),r=s,o=o||!nn(r);e++}return i!==""&&(n+=ry(o,i)),n}function JI(t){return t.map(KI).join(",")}function YI(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!nn(i))break;i=o}r++}return e.length&&n.push(1,...e),n}var Rt={};function zh(t,n,e,r,i,o,s,a,l,c,u){let p=Ct+r,y=p+i,h=QI(p,y),_=typeof c=="function"?c():c;return h[ae]={type:t,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function QI(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:Rt);return e}function XI(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=zh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Wh(t,n,e,r,i,o,s,a,l,c,u){let p=n.blueprint.slice();return p[Zn]=i,p[J]=r|4|128|8|64|1024,(c!==null||t&&t[J]&2048)&&(p[J]|=2048),e0(p),p[ft]=p[Yi]=t,p[bt]=e,p[zn]=s||t&&t[zn],p[ke]=a||t&&t[ke],p[Bi]=l||t&&t[Bi]||null,p[on]=o,p[ec]=uI(),p[Ol]=u,p[Wy]=c,p[vn]=n.type==2?t[vn]:p,p}function eM(t,n,e){let r=En(n,t),i=XI(e),o=t[zn].rendererFactory,s=qh(t,Wh(t,i,null,r_(e),r,n,null,o.createRenderer(r,e),null,null,null));return t[n.index]=s}function r_(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function i_(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function qh(t,n){return t[ys]?t[Bv][rn]=n:t[ys]=n,t[Bv]=n,n}function v(t=1){o_(ot(),ue(),ur()+t,!1)}function o_(t,n,e,r){if(!r)if((n[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&bl(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Cl(n,o,0,e)}Gr(e)}var cc=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(cc||{});function Jf(t,n,e,r){let i=oe(null);try{let[o,s,a]=t.inputs[e],l=null;(s&cc.SignalBased)!==0&&(l=n[o][Lt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),t.setInput!==null?t.setInput(n,l,r,e,o):Gy(n,l,o,r)}finally{oe(i)}}function s_(t,n,e,r,i){let o=ur(),s=r&2;try{Gr(-1),s&&n.length>Ct&&o_(t,n,Ct,!1),ge(s?2:0,i),e(r,i)}finally{Gr(o),ge(s?3:1,i)}}function uc(t,n,e){sM(t,n,e),(e.flags&64)===64&&aM(t,n,e)}function Gh(t,n,e=En){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function tM(t,n,e,r){let o=r.get(gI,z0)||e===Cn.ShadowDom,s=t.selectRootElement(n,o);return nM(s),s}function nM(t){rM(t)}var rM=()=>null;function iM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Zh(t,n,e,r,i,o,s,a){if(!a&&Jh(n,t,e,r,i)){Qi(n)&&oM(e,n.index);return}if(n.type&3){let l=En(n,e);r=iM(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)}else n.type&12}function oM(t,n){let e=wn(n,t);e[J]&16||(e[J]|=64)}function sM(t,n,e){let r=e.directiveStart,i=e.directiveEnd;Qi(e)&&eM(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Vl(e,n);let o=e.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=Ul(n,t,s,e);if(to(l,n),o!==null&&dM(n,s-r,l,a,e,o),yn(a)){let c=wn(e.index,n);c[bt]=Ul(n,t,s,e)}}}function aM(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=TS();try{Gr(o);for(let a=r;a<i;a++){let l=t.data[a],c=n[a];jf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&lM(l,c)}}finally{Gr(-1),jf(s)}}function lM(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function Kh(t,n){let e=t.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];qI(n,o.selectors,!1)&&(r??=[],yn(o)?r.unshift(o):r.push(o))}return r}function cM(t,n,e,r,i,o){let s=En(t,n);uM(n[ke],s,o,t.value,e,r,i)}function uM(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?Hn(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function dM(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Jf(r,e,l,c)}}function fM(t,n){let e=t[Bi],r=e?e.get(bn,null):null;r&&r.handleError(n)}function Jh(t,n,e,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],p=n.data[c];Jf(p,e[c],u,i),a=!0}if(o)for(let l of o){let c=e[l],u=n.data[l];Jf(u,c,r,i),a=!0}return a}function hM(t,n){let e=wn(n,t),r=e[ae];pM(r,e);let i=e[Zn];i!==null&&e[Ol]===null&&(e[Ol]=G0(i,e[Bi])),ge(18),Yh(r,e,e[bt]),ge(19,e[bt])}function pM(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Yh(t,n,e){Th(n);try{let r=t.viewQuery;r!==null&&Kf(1,r,e);let i=t.template;i!==null&&s_(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Hi]?.finishViewCreation(t),t.staticContentQueries&&Z0(t,n),t.staticViewQueries&&Kf(2,t.viewQuery,e);let o=t.components;o!==null&&mM(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[J]&=-5,Oh()}}function mM(t,n){for(let e=0;e<n.length;e++)hM(t,n[e])}function gM(t,n,e,r){let i=oe(null);try{let o=n.tView,a=t[J]&4096?4096:16,l=Wh(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[$i]=c;let u=t[Hi];return u!==null&&(l[Hi]=u.createEmbeddedView(o)),Yh(o,l,e),l}finally{oe(i)}}function iy(t,n){return!n||n.firstChild===null||L0(t)}var vM;function Qh(t,n){return vM(t,n)}var Wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wn||{});function a_(t){return(t.flags&32)===32}function Li(t,n,e,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:lr(r)&&(s=!0,r=r[Zn]);let a=_n(r);t===0&&e!==null?i==null?Y0(n,e,a):zl(n,e,a,i||null,!0):t===1&&e!==null?zl(n,e,a,i||null,!0):t===2?FI(n,a,s):t===3&&n.destroyNode(a),o!=null&&TM(n,t,o,e,i)}}function yM(t,n){l_(t,n),n[Zn]=null,n[on]=null}function _M(t,n,e,r,i,o){r[Zn]=i,r[on]=n,fc(t,r,e,1,i,o)}function l_(t,n){n[zn].changeDetectionScheduler?.notify(9),fc(t,n,n[ke],2,null,null)}function wM(t){let n=t[ys];if(!n)return wf(t[ae],t);for(;n;){let e=null;if(lr(n))e=n[ys];else{let r=n[Bt];r&&(e=r)}if(!e){for(;n&&!n[rn]&&n!==t;)lr(n)&&wf(n[ae],n),n=n[ft];n===null&&(n=t),lr(n)&&wf(n[ae],n),e=n&&n[rn]}n=e}}function Xh(t,n){let e=t[kl],r=e.indexOf(n);e.splice(r,1)}function c_(t,n){if(Xi(n))return;let e=n[ke];e.destroyNode&&fc(t,n,e,3,null,null),wM(n)}function wf(t,n){if(Xi(n))return;let e=oe(null);try{n[J]&=-129,n[J]|=256,n[Ut]&&Hd(n[Ut]),CM(t,n),bM(t,n),n[ae].type===1&&n[ke].destroy();let r=n[$i];if(r!==null&&Kn(n[ft])){r!==n[ft]&&Xh(r,n);let i=n[Hi];i!==null&&i.detachView(t)}qf(n)}finally{oe(e)}}function bM(t,n){let e=t.cleanup,r=n[Al];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[Al]=null);let i=n[ar];if(i!==null){n[ar]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Rl];if(o!==null){n[Rl]=null;for(let s of o)s.destroy()}}function CM(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof Zr)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ge(4,a,l);try{l.call(a)}finally{ge(5,a,l)}}else{ge(4,i,o);try{o.call(i)}finally{ge(5,i,o)}}}}}function EM(t,n,e){return DM(t,n.parent,e)}function DM(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[Zn];if(Qi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Cn.None||i===Cn.Emulated)return null}return En(r,e)}function SM(t,n,e){return MM(t,n,e)}function IM(t,n,e){return t.type&40?En(t,e):null}var MM=IM,oy;function dc(t,n,e,r){let i=EM(t,r,n),o=n[ke],s=r.parent||n[on],a=SM(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)ny(o,i,e[l],a,!1);else ny(o,i,e,a,!1);oy!==void 0&&oy(o,r,n,e,i)}function ps(t,n){if(n!==null){let e=n.type;if(e&3)return En(n,t);if(e&4)return Yf(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return ps(t,r);{let i=t[n.index];return Kn(i)?Yf(-1,i):_n(i)}}else{if(e&128)return ps(t,n.next);if(e&32)return Qh(n,t)()||_n(t[n.index]);{let r=u_(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=qr(t[vn]);return ps(i,r)}else return ps(t,n.next)}}}return null}function u_(t,n){if(n!==null){let r=t[vn][on],i=n.projection;return r.projection[i]}return null}function Yf(t,n){let e=Bt+t+1;if(e<n.length){let r=n[e],i=r[ae].firstChild;if(i!==null)return ps(r,i)}return n[Wr]}function ep(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&to(_n(a),r),e.flags|=2),!a_(e))if(l&8)ep(t,n,e.child,r,i,o,!1),Li(n,t,i,a,o);else if(l&32){let c=Qh(e,r),u;for(;u=c();)Li(n,t,i,u,o);Li(n,t,i,a,o)}else l&16?xM(t,n,r,e,i,o):Li(n,t,i,a,o);e=s?e.projectionNext:e.next}}function fc(t,n,e,r,i,o){ep(e,r,t.firstChild,n,i,o,!1)}function xM(t,n,e,r,i,o){let s=e[vn],l=s[on].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Li(n,t,i,u,o)}else{let c=l,u=s[ft];L0(r)&&(c.flags|=128),ep(t,n,c,u,i,o,!0)}}function TM(t,n,e,r,i){let o=e[Wr],s=_n(e);o!==s&&Li(n,t,r,o,i);for(let a=Bt;a<e.length;a++){let l=e[a];fc(l[ae],l,t,n,r,o)}}function OM(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),t.setStyle(e,r,i,o))}}function Wl(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(_n(o)),Kn(o)&&AM(o,r);let s=e.type;if(s&8)Wl(t,n,e.child,r);else if(s&32){let a=Qh(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=u_(n,e);if(Array.isArray(a))r.push(...a);else{let l=qr(n[vn]);Wl(l[ae],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function AM(t,n){for(let e=Bt;e<t.length;e++){let r=t[e],i=r[ae].firstChild;i!==null&&Wl(r[ae],r,i,n)}t[Wr]!==t[Zn]&&n.push(t[Wr])}function d_(t){if(t[ji]!==null){for(let n of t[ji])n.impl.addSequence(n);t[ji].length=0}}var f_=[];function RM(t){return t[Ut]??NM(t)}function NM(t){let n=f_.pop()??Object.create(PM);return n.lView=t,n}function kM(t){t.lView[Ut]!==t&&(t.lView=null,f_.push(t))}var PM=ne(S({},is),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Es(t.lView)},consumerOnSignalRead(){this.lView[Ut]=this}});function FM(t){let n=t[Ut]??Object.create(LM);return n.lView=t,n}var LM=ne(S({},is),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=qr(t.lView);for(;n&&!h_(n[ae]);)n=qr(n);n&&t0(n)},consumerOnSignalRead(){this.lView[Ut]=this}});function h_(t){return t.type!==2}function p_(t){if(t[Rl]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Rl])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[J]&8192)}}var jM=100;function m_(t,n=!0,e=0){let i=t[zn].rendererFactory,o=!1;o||i.begin?.();try{VM(t,e)}catch(s){throw n&&fM(t,s),s}finally{o||i.end?.()}}function VM(t,n){let e=a0();try{Hv(!0),Qf(t,n);let r=0;for(;nc(t);){if(r===jM)throw new P(103,!1);r++,Qf(t,1)}}finally{Hv(e)}}function UM(t,n,e,r){if(Xi(n))return;let i=n[J],o=!1,s=!1;Th(n);let a=!0,l=null,c=null;o||(h_(t)?(c=RM(n),l=ja(c)):Ld()===null?(a=!1,c=FM(n),l=ja(c)):n[Ut]&&(Hd(n[Ut]),n[Ut]=null));try{e0(n),IS(t.bindingStartIndex),e!==null&&s_(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&bl(n,h,null)}else{let h=t.preOrderHooks;h!==null&&Cl(n,h,0,null),yf(n,0)}if(s||BM(n),p_(n),g_(n,0),t.contentQueries!==null&&Z0(t,n),!o)if(u){let h=t.contentCheckHooks;h!==null&&bl(n,h)}else{let h=t.contentHooks;h!==null&&Cl(n,h,1),yf(n,1)}HM(t,n);let p=t.components;p!==null&&y_(n,p,0);let y=t.viewQuery;if(y!==null&&Kf(2,y,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&bl(n,h)}else{let h=t.viewHooks;h!==null&&Cl(n,h,2),yf(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[vf]){for(let h of n[vf])h();n[vf]=null}o||(d_(n),n[J]&=-73)}catch(u){throw o||Es(n),u}finally{c!==null&&(Bd(c,l),a&&kM(c)),Oh()}}function g_(t,n){for(let e=U0(t);e!==null;e=B0(e))for(let r=Bt;r<e.length;r++){let i=e[r];v_(i,n)}}function BM(t){for(let n=U0(t);n!==null;n=B0(n)){if(!(n[J]&2))continue;let e=n[kl];for(let r=0;r<e.length;r++){let i=e[r];t0(i)}}}function $M(t,n,e){ge(18);let r=wn(n,t);v_(r,e),ge(19,r[bt])}function v_(t,n){Dh(t)&&Qf(t,n)}function Qf(t,n){let r=t[ae],i=t[J],o=t[Ut],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&$d(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)UM(r,t,r.template,t[bt]);else if(i&8192){p_(t),g_(t,1);let a=r.components;a!==null&&y_(t,a,1),d_(t)}}function y_(t,n,e){for(let r=0;r<n.length;r++)$M(t,n[r],e)}function HM(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Gr(~i);else{let o=i,s=e[++r],a=e[++r];xS(s,o);let l=n[o];ge(24,l),a(2,l),ge(25,l)}}}finally{Gr(-1)}}function tp(t,n){let e=a0()?64:1088;for(t[zn].changeDetectionScheduler?.notify(n);t;){t[J]|=e;let r=qr(t);if(Pl(t)&&!r)return t;t=r}return null}function __(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function zM(t,n,e,r=!0){let i=n[ae];if(WM(i,n,t,e),r){let s=Yf(e,t),a=n[ke],l=a.parentNode(t[Wr]);l!==null&&_M(i,t[on],a,n,l,s)}let o=n[Ol];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Xf(t,n){if(t.length<=Bt)return;let e=Bt+n,r=t[e];if(r){let i=r[$i];i!==null&&i!==t&&Xh(i,r),n>0&&(t[e-1][rn]=r[rn]);let o=xl(t,Bt+n);yM(r[ae],r);let s=o[Hi];s!==null&&s.detachView(o[ae]),r[ft]=null,r[rn]=null,r[J]&=-129}return r}function WM(t,n,e,r){let i=Bt+r,o=e.length;r>0&&(e[i-1][rn]=n),r<o-Bt?(n[rn]=e[i],Fy(e,Bt+r,n)):(e.push(n),n[rn]=null),n[ft]=e;let s=n[$i];s!==null&&e!==s&&w_(s,n);let a=n[Hi];a!==null&&a.insertView(t),Ff(n),n[J]|=128}function w_(t,n){let e=t[kl],r=n[ft];if(lr(r))t[J]|=2;else{let i=r[ft][vn];n[vn]!==i&&(t[J]|=2)}e===null?t[kl]=[n]:e.push(n)}var _s=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[ae];return Wl(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[bt]}set context(n){this._lView[bt]=n}get destroyed(){return Xi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ft];if(Kn(n)){let e=n[Nl],r=e?e.indexOf(this):-1;r>-1&&(Xf(n,r),xl(e,r))}this._attachedToViewContainer=!1}c_(this._lView[ae],this._lView)}onDestroy(n){n0(this._lView,n)}markForCheck(){tp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Ff(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,m_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Pl(this._lView),e=this._lView[$i];e!==null&&!n&&Xh(e,this._lView),l_(this._lView[ae],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=n;let e=Pl(this._lView),r=this._lView[$i];r!==null&&!e&&w_(r,this._lView),Ff(this._lView)}};var hc=(()=>{class t{static __NG_ELEMENT_ID__=ZM}return t})(),qM=hc,GM=class extends qM{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=gM(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new _s(i)}};function ZM(){return b_(ht(),ue())}function b_(t,n){return t.type&4?new GM(n,t,ac(t,n)):null}function pc(t,n,e,r,i){let o=t.data[n];if(o===null)o=KM(t,n,e,r,i),MS()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=DS();o.injectorIndex=s===null?-1:s.injectorIndex}return Yr(o,!0),o}function KM(t,n,e,r,i){let o=o0(),s=Ih(),a=s?o:o&&o.parent,l=t.data[n]=YM(t,a,e,n,r,i);return JM(t,l,o,s),l}function JM(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function YM(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return bS()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var DV=new RegExp(`^(\\d+)*(${mI}|${pI})*(.*)`);var QM=()=>null;function sy(t,n){return QM(t,n)}var XM=class{},C_=class{},eh=class{resolveComponentFactory(n){throw Error(`No component factory found for ${_t(n)}.`)}},mc=class{static NULL=new eh},Gi=class{},Dn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>ex()}return t})();function ex(){let t=ue(),n=ht(),e=wn(n.index,t);return(lr(e)?e:t)[ke]}var tx=(()=>{class t{static \u0275prov=R({token:t,providedIn:"root",factory:()=>null})}return t})();var bf={},th=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=Ql(r);let i=this.injector.get(n,bf,r);return i!==bf||e===bf?i:this.parentInjector.get(n,e,r)}};function nh(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=kv(i,a);else if(o==2){let l=a,c=n[++s];r=kv(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function A(t,n=X.Default){let e=ue();if(e===null)return $(t,n);let r=ht();return S0(r,e,dt(t),n)}function E_(){let t="invalid";throw new Error(t)}function np(t,n,e,r,i){let o=r===null?null:{"":-1},s=i(t,e);if(s!==null){let a,l=null,c=null,u=rx(s);u===null?a=s:[a,l,c]=u,sx(t,n,e,a,o,l,c)}o!==null&&r!==null&&nx(e,r,o)}function nx(t,n,e){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new P(-301,!1);r.push(n[i],o)}}function rx(t){let n=null,e=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&yn(a)&&(n=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,ix(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?t:t.slice(1)),[r,i,o]):null}function ix(t,n,e,r){let i=n.length;t.findHostDirectiveDefs(t,n,r),e.set(t,[i,n.length-1])}function ox(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function sx(t,n,e,r,i,o,s){let a=r.length,l=!1;for(let y=0;y<a;y++){let h=r[y];!l&&yn(h)&&(l=!0,ox(t,e,y)),Uf(Vl(e,n),t,h.type)}fx(e,t.data.length,a);for(let y=0;y<a;y++){let h=r[y];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,p=i_(t,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let y=0;y<a;y++){let h=r[y];if(e.mergedAttrs=Wi(e.mergedAttrs,h.hostAttrs),lx(t,e,n,p,h),dx(p,h,i),s!==null&&s.has(h)){let[w,C]=s.get(h);e.directiveToIndex.set(h.type,[p,w+e.directiveStart,C+e.directiveStart])}else(o===null||!o.has(h))&&e.directiveToIndex.set(h.type,p);h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let _=h.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!u&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),p++}ax(t,e,o)}function ax(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=t.data[r];if(e===null||!e.has(i))ay(0,n,i,r),ay(1,n,i,r),cy(n,r,!1);else{let o=e.get(i);ly(0,n,o,r),ly(1,n,o,r),cy(n,r,!0)}}}function ay(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),D_(n,o)}}function ly(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),D_(n,s)}}function D_(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function cy(t,n,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!e&&i===null||e&&o===null||Hh(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function lx(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=$r(i.type,!0)),s=new Zr(o,yn(i),A);t.blueprint[r]=s,e[r]=s,cx(t,n,r,i_(t,e,i.hostVars,Rt),i)}function cx(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;ux(s)!=a&&s.push(a),s.push(e,r,o)}}function ux(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function dx(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;yn(n)&&(e[""]=t)}}function fx(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function S_(t,n,e,r,i,o,s,a){let l=n.consts,c=zi(l,s),u=pc(n,t,2,r,c);return o&&np(n,e,u,zi(l,a),i),u.mergedAttrs=Wi(u.mergedAttrs,u.attrs),u.attrs!==null&&nh(u,u.attrs,!1),u.mergedAttrs!==null&&nh(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function I_(t,n){Ah(t,n),Ch(n)&&t.queries.elementEnd(n)}var ql=class extends mc{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=zr(n);return new Zi(e,this.ngModule)}};function hx(t){return Object.keys(t).map(n=>{let[e,r,i]=t[n],o={propName:e,templateName:n,isSignal:(r&cc.SignalBased)!==0};return i&&(o.transform=i),o})}function px(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function mx(t,n,e){let r=n instanceof wt?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new th(e,r):e}function gx(t){let n=t.get(Gi,null);if(n===null)throw new P(407,!1);let e=t.get(tx,null),r=t.get(qi,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r}}function vx(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return J0(n,e,e==="svg"?Yy:e==="math"?hS:null)}var Zi=class extends C_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=hx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=px(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=JI(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,i){ge(22);let o=oe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:YI(this.componentDef.selectors[0]),l=zh(0,null,null,1,0,null,null,null,null,[a],null),c=mx(s,i||this.ngModule,n),u=gx(c),p=u.rendererFactory.createRenderer(null,s),y=r?tM(p,r,s.encapsulation,c):vx(s,p),h=Wh(null,l,null,512|r_(s),null,null,u,p,c,null,G0(y,c,!0));h[Ct]=y,Th(h);let _=null;try{let w=S_(Ct,l,h,"#host",()=>[this.componentDef],!0,0);y&&(Q0(p,y,w),to(y,h)),uc(l,h,w),Bh(l,w,h),I_(l,w),e!==void 0&&yx(w,this.ngContentSelectors,e),_=wn(w.index,h),h[bt]=_[bt],Yh(l,h,null)}catch(w){throw _!==null&&qf(_),qf(h),w}finally{ge(23),Oh()}return new rh(this.componentType,h)}finally{oe(o)}}},rh=class extends XM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e){super(),this._rootLView=e,this._tNode=Xy(e[ae],Ct),this.location=ac(this._tNode,e),this.instance=wn(this._tNode.index,e)[bt],this.hostView=this.changeDetectorRef=new _s(e,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let i=this._rootLView,o=Jh(r,i[ae],i,n,e);this.previousInputValues.set(n,e);let s=wn(r.index,i);tp(s,1)}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function yx(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var io=(()=>{class t{static __NG_ELEMENT_ID__=_x}return t})();function _x(){let t=ht();return bx(t,ue())}var wx=io,M_=class extends wx{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return ac(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){let n=Rh(this._hostTNode,this._hostLView);if(_0(n)){let e=Ll(n,this._hostLView),r=Fl(n),i=e[ae].data[r+8];return new Br(i,e)}else return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=uy(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=sy(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,iy(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!cS(n),a;if(s)a=e;else{let _=e||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?n:new Zi(zr(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?c:this.parentInjector).get(wt,null);w&&(o=w)}let u=zr(l.componentType??{}),p=sy(this._lContainer,u?.id??null),y=p?.firstChild??null,h=l.create(c,i,y,o);return this.insertImpl(h.hostView,a,iy(this._hostTNode,p)),h}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(mS(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[ft],c=new M_(l,l[on],l[ft]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return zM(s,i,o,r),n.attachToViewContainerRef(),Fy(Cf(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=uy(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=Xf(this._lContainer,e);r&&(xl(Cf(this._lContainer),e),c_(r[ae],r))}detach(n){let e=this._adjustIndex(n,-1),r=Xf(this._lContainer,e);return r&&xl(Cf(this._lContainer),e)!=null?new _s(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function uy(t){return t[Nl]}function Cf(t){return t[Nl]||(t[Nl]=[])}function bx(t,n){let e,r=n[t.index];return Kn(r)?e=r:(e=__(r,n,null,t),n[t.index]=e,qh(n,e)),Ex(e,n,t,r),new M_(e,t,n)}function Cx(t,n){let e=t[ke],r=e.createComment(""),i=En(n,t),o=e.parentNode(i);return zl(e,o,r,e.nextSibling(i),!1),r}var Ex=Ix,Dx=()=>!1;function Sx(t,n,e){return Dx(t,n,e)}function Ix(t,n,e,r){if(t[Wr])return;let i;e.type&8?i=_n(r):i=Cx(n,e),t[Wr]=i}var Ki=class{},rp=class{};var ih=class extends Ki{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ql(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=Vy(n);this._bootstrapComponents=t_(o.bootstrap),this._r3Injector=x0(n,e,[{provide:Ki,useValue:this},{provide:mc,useValue:this.componentFactoryResolver},...r],_t(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},oh=class extends rp{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ih(this.moduleType,n,[])}};var Gl=class extends Ki{injector;componentFactoryResolver=new ql(this);instance=null;constructor(n){super();let e=new vs([...n.providers,{provide:Ki,useValue:this},{provide:mc,useValue:this.componentFactoryResolver}],n.parent||bh(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ms(t,n,e=null){return new Gl({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var Mx=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Uy(!1,e.type),i=r.length>0?Ms([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=R({token:t,providedIn:"environment",factory:()=>new t($(wt))})}return t})();function H(t){return bs(()=>{let n=x_(t),e=ne(S({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===j0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(Mx).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Cn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Is("NgStandalone"),T_(e);let r=t.dependencies;return e.directiveDefs=dy(r,!1),e.pipeDefs=dy(r,!0),e.id=Rx(e),e})}function xx(t){return zr(t)||JD(t)}function Tx(t){return t!==null}function Jn(t){return bs(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ox(t,n){if(t==null)return Hr;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=cc.None,l=null),e[o]=[r,a,l],n[o]=s}return e}function Ax(t){if(t==null)return Hr;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function ve(t){return bs(()=>{let n=x_(t);return T_(n),n})}function ip(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function x_(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||Hr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ox(t.inputs,n),outputs:Ax(t.outputs),debugInfo:null}}function T_(t){t.features?.forEach(n=>n(t))}function dy(t,n){if(!t)return null;let e=n?YD:xx;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(Tx)}function Rx(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Nx(t){return Object.getPrototypeOf(t.prototype).constructor}function st(t){let n=Nx(t.type),e=!0,r=[t];for(;n;){let i;if(yn(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new P(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=Ef(t.inputs),s.declaredInputs=Ef(t.declaredInputs),s.outputs=Ef(t.outputs);let a=i.hostBindings;a&&jx(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Fx(t,l),c&&Lx(t,c),kx(t,i),xD(t.outputs,i.outputs),yn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===st&&(e=!1)}}n=Object.getPrototypeOf(n)}Px(r)}function kx(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function Px(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Wi(i.hostAttrs,e=Wi(e,i.hostAttrs))}}function Ef(t){return t===Hr?{}:t===Vt?[]:t}function Fx(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function Lx(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function jx(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function O_(t){return Ux(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Vx(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function Ux(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function op(t,n,e){return t[n]=e}function Bx(t,n){return t[n]}function qn(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function sp(t,n,e,r){let i=qn(t,n,e);return qn(t,n+1,r)||i}function $x(t,n,e,r,i){let o=sp(t,n,e,r);return qn(t,n+2,i)||o}function Hx(t,n,e,r,i,o,s,a,l){let c=n.consts,u=pc(n,t,4,s||null,a||null);Sh()&&np(n,e,u,zi(c,l),Kh),u.mergedAttrs=Wi(u.mergedAttrs,u.attrs),Ah(n,u);let p=u.tView=zh(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),p.queries=n.queries.embeddedTView(u)),u}function zx(t,n,e,r,i,o,s,a,l,c){let u=e+Ct,p=n.firstCreatePass?Hx(u,n,t,r,i,o,s,a,l):n.data[u];Yr(p,!1);let y=Wx(n,t,p,e);oc()&&dc(n,t,y,p),to(y,t);let h=__(y,t,y,p);return t[u]=h,qh(t,h),Sx(h,p,t),tc(p)&&uc(n,t,p),l!=null&&Gh(t,p,c),p}function L(t,n,e,r,i,o,s,a){let l=ue(),c=ot(),u=zi(c.consts,o);return zx(l,c,t,n,e,r,i,u,s,a),L}var Wx=qx;function qx(t,n,e,r){return sc(!0),n[ke].createComment("")}var A_=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var R_=new j("");var Gx=(()=>{class t{static \u0275prov=R({token:t,providedIn:"root",factory:()=>new sh})}return t})(),sh=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}};function dr(t){return!!t&&typeof t.then=="function"}function ap(t){return!!t&&typeof t.subscribe=="function"}var N_=new j("");function lp(t){return _h([{provide:N_,multi:!0,useValue:t}])}var k_=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=D(N_,{optional:!0})??[];injector=D($t);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Ht(this.injector,i);if(dr(o))e.push(o);else if(ap(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gc=new j("");function Zx(){Wd(()=>{throw new P(600,!1)})}function Kx(t){return t.isBoundToModule}var Jx=10;var Kr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(iI);afterRenderManager=D(q0);zonelessEnabled=D(O0);rootEffectScheduler=D(Gx);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Le;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=D(eo).hasPendingTasks.pipe(re(e=>!e));constructor(){D(ro,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=D(wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=$t.NULL){ge(10);let o=e instanceof C_;if(!this._injector.get(k_).done){let h="";throw new P(405,h)}let a;o?a=e:a=this._injector.get(mc).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let l=Kx(a)?void 0:this._injector.get(Ki),c=r||a.selector,u=a.create(i,[],c,l),p=u.location.nativeElement,y=u.injector.get(R_,null);return y?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),El(this.components,u),y?.unregisterApplication(p)}),this._loadComponent(u),ge(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Vh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let e=oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(e),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Gi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<Jx;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Yx(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>nc(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;El(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(gc,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>El(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new P(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function El(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Yx(t,n,e,r){if(!e&&!nc(t))return;m_(t,n,e&&!r?0:1)}function Ye(t,n,e,r){let i=ue(),o=rc();if(qn(i,o,n)){let s=ot(),a=ic();cM(a,i,t,n,e,r)}return Ye}function P_(t,n,e,r){return qn(t,rc(),e)?n+Hn(e)+r:Rt}function Qx(t,n,e,r,i,o){let s=l0(),a=sp(t,s,e,i);return xh(2),a?n+Hn(e)+r+Hn(i)+o:Rt}function Xx(t,n,e,r,i,o,s,a){let l=l0(),c=$x(t,l,e,i,s);return xh(3),c?n+Hn(e)+r+Hn(i)+o+Hn(s)+a:Rt}function _l(t,n){return t<<17|n<<2}function Jr(t){return t>>17&32767}function eT(t){return(t&2)==2}function tT(t,n){return t&131071|n<<17}function ah(t){return t|2}function Ji(t){return(t&131068)>>2}function Df(t,n){return t&-131069|n<<2}function nT(t){return(t&1)===1}function lh(t){return t|1}function rT(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Jr(s),l=Ji(s);t[r]=e;let c=!1,u;if(Array.isArray(e)){let p=e;u=p[1],(u===null||Cs(p,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let y=Jr(t[a+1]);t[r+1]=_l(y,a),y!==0&&(t[y+1]=Df(t[y+1],r)),t[a+1]=tT(t[a+1],r)}else t[r+1]=_l(a,0),a!==0&&(t[a+1]=Df(t[a+1],r)),a=r;else t[r+1]=_l(l,0),a===0?a=r:t[l+1]=Df(t[l+1],r),l=r;c&&(t[r+1]=ah(t[r+1])),fy(t,u,r,!0),fy(t,u,r,!1),iT(n,u,t,r,o),s=_l(a,l),o?n.classBindings=s:n.styleBindings=s}function iT(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Cs(o,n)>=0&&(e[r+1]=lh(e[r+1]))}function fy(t,n,e,r){let i=t[e+1],o=n===null,s=r?Jr(i):Ji(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];oT(l,n)&&(a=!0,t[s+1]=r?lh(c):ah(c)),s=r?Jr(c):Ji(c)}a&&(t[e+1]=r?ah(i):lh(i))}function oT(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Cs(t,n)>=0:!1}function b(t,n,e){let r=ue(),i=rc();if(qn(r,i,n)){let o=ot(),s=ic();Zh(o,s,r,t,n,r[ke],e,!1)}return b}function hy(t,n,e,r,i){Jh(n,t,e,i?"class":"style",r)}function xs(t,n,e){return F_(t,n,e,!1),xs}function fr(t,n){return F_(t,n,null,!0),fr}function F_(t,n,e,r){let i=ue(),o=ot(),s=xh(2);if(o.firstUpdatePass&&aT(o,t,s,r),n!==Rt&&qn(i,s,n)){let a=o.data[ur()];fT(o,a,i,i[ke],t,i[s+1]=hT(n,e),r,s)}}function sT(t,n){return n>=t.expandoStartIndex}function aT(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[ur()],s=sT(t,e);pT(o,r)&&n===null&&!s&&(n=!1),n=lT(i,o,n,r),rT(i,o,n,e,s,r)}}function lT(t,n,e,r){let i=OS(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=Sf(null,t,n,e,r),e=ws(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=Sf(i,t,n,e,r),o===null){let l=cT(t,n,r);l!==void 0&&Array.isArray(l)&&(l=Sf(null,t,n,l[1],r),l=ws(l,n.attrs,r),uT(t,n,r,l))}else o=dT(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function cT(t,n,e){let r=e?n.classBindings:n.styleBindings;if(Ji(r)!==0)return t[Jr(r)]}function uT(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Jr(i)]=r}function dT(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ws(r,s,e)}return ws(r,n.attrs,e)}function Sf(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=ws(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function ws(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZD(t,s,e?!0:n[++o]))}return t===void 0?null:t}function fT(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=nT(c)?py(l,n,e,i,Ji(c),s):void 0;if(!Zl(u)){Zl(o)||eT(c)&&(o=py(l,null,e,i,a,s));let p=Qy(ur(),e);OM(r,s,p,i,o)}}function py(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,p=u===null,y=e[i+1];y===Rt&&(y=p?Vt:void 0);let h=p?mf(y,r):u===r?y:void 0;if(c&&!Zl(h)&&(h=mf(l,r)),Zl(h)&&(a=h,s))return a;let _=t[i+1];i=s?Jr(_):Ji(_)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=mf(l,r))}return a}function Zl(t){return t!==void 0}function hT(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=_t(lc(t)))),t}function pT(t,n){return(t.flags&(n?8:16))!==0}function d(t,n,e,r){let i=ue(),o=ot(),s=Ct+t,a=i[ke],l=o.firstCreatePass?S_(s,o,i,n,Kh,Sh(),e,r):o.data[s],c=mT(o,i,l,a,n,t);i[s]=c;let u=tc(l);return Yr(l,!0),Q0(a,c,l),!a_(l)&&oc()&&dc(o,i,c,l),(yS()===0||u)&&to(c,i),_S(),u&&(uc(o,i,l),Bh(o,l,i)),r!==null&&Gh(i,l),d}function f(){let t=ht();Ih()?s0():(t=t.parent,Yr(t,!1));let n=t;CS(n)&&ES(),wS();let e=ot();return e.firstCreatePass&&I_(e,n),n.classesWithoutHost!=null&&FS(n)&&hy(e,n,ue(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&LS(n)&&hy(e,n,ue(),n.stylesWithoutHost,!1),f}function M(t,n,e,r){return d(t,n,e,r),f(),M}var mT=(t,n,e,r,i,o)=>(sc(!0),J0(r,i,NS()));function gT(t,n,e,r,i){let o=n.consts,s=zi(o,r),a=pc(n,t,8,"ng-container",s);s!==null&&nh(a,s,!0);let l=zi(o,i);return Sh()&&np(n,e,a,l,Kh),a.mergedAttrs=Wi(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function Qr(t,n,e){let r=ue(),i=ot(),o=t+Ct,s=i.firstCreatePass?gT(o,i,r,n,e):i.data[o];Yr(s,!0);let a=vT(i,r,s,t);return r[o]=a,oc()&&dc(i,r,a,s),to(a,r),tc(s)&&(uc(i,r,s),Bh(i,s,r)),e!=null&&Gh(r,s),Qr}function Xr(){let t=ht(),n=ot();return Ih()?s0():(t=t.parent,Yr(t,!1)),n.firstCreatePass&&(Ah(n,t),Ch(t)&&n.queries.elementEnd(t)),Xr}var vT=(t,n,e,r)=>(sc(!0),PI(n[ke],""));function be(){return ue()}var jr=void 0;function yT(t){let n=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&e===0?1:5}var _T=["en",[["a","p"],["AM","PM"],jr],[["AM","PM"],jr,jr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jr,"{1} 'at' {0}",jr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yT],If={};function zt(t){let n=wT(t),e=my(n);if(e)return e;let r=n.split("-")[0];if(e=my(r),e)return e;if(r==="en")return _T;throw new P(701,!1)}function my(t){return t in If||(If[t]=Vr.ng&&Vr.ng.common&&Vr.ng.common.locales&&Vr.ng.common.locales[t]),If[t]}var Pe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pe||{});function wT(t){return t.toLowerCase().replace(/_/g,"-")}var Kl="en-US";var bT=Kl;function CT(t){typeof t=="string"&&(bT=t.toLowerCase().replace(/_/g,"-"))}function gy(t,n,e){return function r(i){if(i===Function)return e;let o=Qi(t)?wn(t.index,n):n;tp(o,5);let s=n[bt],a=vy(n,s,e,i),l=r.__ngNextListenerFn__;for(;l;)a=vy(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function vy(t,n,e,r){let i=oe(null);try{return ge(6,n,e),e(r)!==!1}catch(o){return ET(t,o),!1}finally{ge(7,n,e),oe(i)}}function ET(t,n){let e=t[Bi],r=e?e.get(bn,null):null;r&&r.handleError(n)}function yy(t,n,e,r,i,o){let s=n[e],a=n[ae],c=a.data[e].outputs[r],u=s[c],p=a.firstCreatePass?i0(a):null,y=r0(n),h=u.subscribe(o),_=y.length;y.push(o,h),p&&p.push(i,t.index,_,-(_+1))}function V(t,n,e,r){let i=ue(),o=ot(),s=ht();return L_(o,i,i[ke],s,t,n,r),V}function DT(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[Al],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function L_(t,n,e,r,i,o,s){let a=tc(r),c=t.firstCreatePass?i0(t):null,u=r0(n),p=!0;if(r.type&3||s){let y=En(r,n),h=s?s(y):y,_=u.length,w=s?E=>s(_n(E[r.index])):r.index,C=null;if(!s&&a&&(C=DT(t,n,i,r.index)),C!==null){let E=C.__ngLastListenerFn__||C;E.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,p=!1}else{o=gy(r,n,o),EI(n,h,i,o);let E=e.listen(h,i,o);u.push(o,E),c&&c.push(i,w,_,_+1)}}else o=gy(r,n,o);if(p){let y=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let _=0;_<h.length;_+=2){let w=h[_],C=h[_+1];yy(r,n,w,C,i,o)}if(y&&y.length)for(let _ of y)yy(r,n,_,i,i,o)}}function B(t=1){return RS(t)}function Ts(t,n,e){return vc(t,"",n,"",e),Ts}function vc(t,n,e,r,i){let o=ue(),s=P_(o,n,e,r);if(s!==Rt){let a=ot(),l=ic();Zh(a,l,o,t,s,o[ke],i,!1)}return vc}function hr(t){let n=SS();return Eh(n,Ct+t)}function m(t,n=""){let e=ue(),r=ot(),i=t+Ct,o=r.firstCreatePass?pc(r,i,1,n,null):r.data[i],s=ST(r,e,o,n,t);e[i]=s,oc()&&dc(r,e,s,o),Yr(o,!1)}var ST=(t,n,e,r,i)=>(sc(!0),NI(n[ke],r));function Y(t){return qe("",t,""),Y}function qe(t,n,e){let r=ue(),i=P_(r,t,n,e);return i!==Rt&&up(r,ur(),i),qe}function Os(t,n,e,r,i){let o=ue(),s=Qx(o,t,n,e,r,i);return s!==Rt&&up(o,ur(),s),Os}function cp(t,n,e,r,i,o,s){let a=ue(),l=Xx(a,t,n,e,r,i,o,s);return l!==Rt&&up(a,ur(),l),cp}function up(t,n,e){let r=Qy(n,t);kI(t[ke],r,e)}function x(t,n,e){F0(n)&&(n=n());let r=ue(),i=rc();if(qn(r,i,n)){let o=ot(),s=ic();Zh(o,s,r,t,n,r[ke],e,!1)}return x}function O(t,n){let e=F0(t);return e&&t.set(n),e}function T(t,n){let e=ue(),r=ot(),i=ht();return L_(r,e,e[ke],i,t,n),T}function IT(t,n,e){let r=ot();if(r.firstCreatePass){let i=yn(t);ch(e,r.data,r.blueprint,i,!0),ch(n,r.data,r.blueprint,i,!1)}}function ch(t,n,e,r,i){if(t=dt(t),Array.isArray(t))for(let o=0;o<t.length;o++)ch(t[o],n,e,r,i);else{let o=ot(),s=ue(),a=ht(),l=Ui(t)?t:dt(t.provide),c=Hy(t),u=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Ui(t)||!t.multi){let h=new Zr(c,i,A),_=xf(l,n,i?u:u+y,p);_===-1?(Uf(Vl(a,s),o,l),Mf(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(h),s.push(h)):(e[_]=h,s[_]=h)}else{let h=xf(l,n,u+y,p),_=xf(l,n,u,u+y),w=h>=0&&e[h],C=_>=0&&e[_];if(i&&!C||!i&&!w){Uf(Vl(a,s),o,l);let E=TT(i?xT:MT,e.length,i,r,c);!i&&C&&(e[_].providerFactory=E),Mf(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(E),s.push(E)}else{let E=j_(e[i?_:h],c,!i&&r);Mf(o,t,h>-1?h:_,E)}!i&&r&&C&&e[_].componentProviders++}}}function Mf(t,n,e,r){let i=Ui(n),o=nS(n);if(i||o){let l=(o?dt(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function j_(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function xf(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function MT(t,n,e,r,i){return uh(this.multi,[])}function xT(t,n,e,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ul(r,r[ae],this.providerFactory.index,i);s=l.slice(0,a),uh(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],uh(o,s);return s}function uh(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function TT(t,n,e,r,i){let o=new Zr(t,e,A);return o.multi=[],o.index=n,o.componentProviders=0,j_(o,i,r&&!e),o}function Wt(t,n=[]){return e=>{e.providersResolver=(r,i)=>IT(r,i?i(t):t,n)}}function yc(t,n,e){let r=Mh()+t,i=ue();return i[r]===Rt?op(i,r,e?n.call(e):n()):Bx(i,r)}function V_(t,n){let e=t[n];return e===Rt?void 0:e}function OT(t,n,e,r,i,o){let s=n+e;return qn(t,s,i)?op(t,s+1,o?r.call(o,i):r(i)):V_(t,s+1)}function AT(t,n,e,r,i,o,s){let a=n+e;return sp(t,a,i,o)?op(t,a+2,s?r.call(s,i,o):r(i,o)):V_(t,a+2)}function oo(t,n){let e=ot(),r,i=t+Ct;e.firstCreatePass?(r=RT(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=$r(r.type,!0)),s,a=yt(A);try{let l=jl(!1),c=o();return jl(l),pS(e,ue(),i,c),c}finally{yt(a)}}function RT(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function U_(t,n,e){let r=t+Ct,i=ue(),o=Eh(i,r);return B_(i,r)?OT(i,Mh(),n,o.transform,e,o):o.transform(e)}function _c(t,n,e,r){let i=t+Ct,o=ue(),s=Eh(o,i);return B_(o,i)?AT(o,Mh(),n,s.transform,e,r,s):s.transform(e,r)}function B_(t,n){return t[ae].data[n].pure}function wc(t,n){return b_(t,n)}var dh=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},$_=(()=>{class t{compileModuleSync(e){return new oh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Vy(e),o=t_(i.declarations).reduce((s,a)=>{let l=zr(a);return l&&s.push(new Zi(l)),s},[]);return new dh(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var NT=(()=>{class t{zone=D(Ve);changeDetectionScheduler=D(qi);applicationRef=D(Kr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kT({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Ve(ne(S({},PT()),{scheduleInRootZone:e})),[{provide:Ve,useFactory:t},{provide:gs,multi:!0,useFactory:()=>{let r=D(NT,{optional:!0});return()=>r.initialize()}},{provide:gs,multi:!0,useFactory:()=>{let r=D(FT);return()=>{r.initialize()}}},n===!0?{provide:A0,useValue:!0}:[],{provide:R0,useValue:e??T0}]}function PT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FT=(()=>{class t{subscription=new Fe;initialized=!1;zone=D(Ve);pendingTasks=D(eo);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var LT=(()=>{class t{appRef=D(Kr);taskService=D(eo);ngZone=D(Ve);zonelessEnabled=D(O0);tracing=D(ro,{optional:!0});disableScheduling=D(A0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($l):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(R0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Wf||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Kv:N0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($l+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jT(){return typeof $localize<"u"&&$localize.locale||Kl}var bc=new j("",{providedIn:"root",factory:()=>D(bc,X.Optional|X.SkipSelf)||jT()});var fh=new j(""),VT=new j("");function fs(t){return!t.moduleRef}function UT(t){let n=fs(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Ve);return e.run(()=>{fs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(bn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),fs(t)){let o=()=>n.destroy(),s=t.platformInjector.get(fh);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(fh);s.add(o),t.moduleRef.onDestroy(()=>{El(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return $T(r,e,()=>{let o=n.get(k_);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(bc,Kl);if(CT(s||Kl),!n.get(VT,!0))return fs(t)?n.get(Kr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(fs(t)){let l=n.get(Kr);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return BT(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function BT(t,n){let e=t.injector.get(Kr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new P(-403,!1);n.push(t)}function $T(t,n,e){try{let r=e();return dr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var Dl=null;function HT(t=[],n){return $t.create({name:n,providers:[{provide:Xl,useValue:"platform"},{provide:fh,useValue:new Set([()=>Dl=null])},...t]})}function zT(t=[]){if(Dl)return Dl;let n=HT(t);return Dl=n,Zx(),WT(n),n}function WT(t){let n=t.get(Lh,null);Ht(t,()=>{n?.forEach(e=>e())})}var pr=(()=>{class t{static __NG_ELEMENT_ID__=qT}return t})();function qT(t){return GT(ht(),ue(),(t&16)===16)}function GT(t,n,e){if(Qi(t)&&!e){let r=wn(t.index,n);return new _s(r,r)}else if(t.type&175){let r=n[vn];return new _s(r,n)}return null}var hh=class{constructor(){}supports(n){return O_(n)}create(n){return new ph(n)}},ZT=(t,n)=>n,ph=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||ZT}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<_y(r,i,o)?e:r,a=_y(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let y=0;y<c;y++){let h=y<o.length?o[y]:o[y]=0,_=h+y;u<=_&&_<c&&(o[y]=h+1)}let p=s.previousIndex;o[p]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!O_(n))throw new P(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,Vx(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new mh(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Jl),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Jl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},mh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},gh=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Jl=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new gh,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function _y(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function wy(){return new dp([new hh])}var dp=(()=>{class t{factories;static \u0275prov=R({token:t,providedIn:"root",factory:wy});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||wy()),deps:[[t,new qD,new WD]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new P(901,!1)}}return t})();function H_(t){let{rootComponent:n,appProviders:e,platformProviders:r,platformRef:i}=t;ge(8);try{let o=i?.injector??zT(r),s=[kT({}),{provide:qi,useExisting:LT},...e||[]],a=new Gl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return UT({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{ge(9)}}function mr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function an(t){return Zd(t)}function As(t,n){return zd(t,n?.equal)}var by=class{[Lt];constructor(n){this[Lt]=n}destroy(){this[Lt].destroy()}};function z_(t){let n=zr(t);if(!n)return null;let e=new Zi(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Qe=new j("");var G_=null;function qt(){return G_}function fp(t){G_??=t}var Rs=class{},Ns=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:()=>D(Z_),providedIn:"platform"})}return t})(),hp=new j(""),Z_=(()=>{class t extends Ns{_location;_history;_doc=D(Qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qt().getBaseHref(this._doc)}onPopState(e){let r=qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Cc(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function W_(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function ln(t){return t&&t[0]!=="?"?`?${t}`:t}var Gt=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:()=>D(Dc),providedIn:"root"})}return t})(),Ec=new j(""),Dc=(()=>{class t extends Gt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Cc(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)($(Ns),$(Ec,8))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sn=(()=>{class t{_subject=new Le;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=YT(W_(q_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ln(r))}normalize(e){return t.stripTrailingSlash(JT(this._basePath,q_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ln(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ln;static joinWithSlash=Cc;static stripTrailingSlash=W_;static \u0275fac=function(r){return new(r||t)($(Gt))};static \u0275prov=R({token:t,factory:()=>KT(),providedIn:"root"})}return t})();function KT(){return new Sn($(Gt))}function JT(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function q_(t){return t.replace(/\/index.html$/,"")}function YT(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Nc=(()=>{class t extends Gt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Cc(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+ln(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+ln(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)($(Ns),$(Ec,8))};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})();var at=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(at||{}),ye=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ye||{}),Dt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Dt||{}),Qn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function X_(t){return zt(t)[Pe.LocaleId]}function ew(t,n,e){let r=zt(t),i=[r[Pe.DayPeriodsFormat],r[Pe.DayPeriodsStandalone]],o=Zt(i,n);return Zt(o,e)}function tw(t,n,e){let r=zt(t),i=[r[Pe.DaysFormat],r[Pe.DaysStandalone]],o=Zt(i,n);return Zt(o,e)}function nw(t,n,e){let r=zt(t),i=[r[Pe.MonthsFormat],r[Pe.MonthsStandalone]],o=Zt(i,n);return Zt(o,e)}function rw(t,n){let r=zt(t)[Pe.Eras];return Zt(r,n)}function ks(t,n){let e=zt(t);return Zt(e[Pe.DateFormat],n)}function Ps(t,n){let e=zt(t);return Zt(e[Pe.TimeFormat],n)}function Fs(t,n){let r=zt(t)[Pe.DateTimeFormat];return Zt(r,n)}function Ls(t,n){let e=zt(t),r=e[Pe.NumberSymbols][n];if(typeof r>"u"){if(n===Qn.CurrencyDecimal)return e[Pe.NumberSymbols][Qn.Decimal];if(n===Qn.CurrencyGroup)return e[Pe.NumberSymbols][Qn.Group]}return r}function iw(t){if(!t[Pe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Pe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ow(t){let n=zt(t);return iw(n),(n[Pe.ExtraData][2]||[]).map(r=>typeof r=="string"?pp(r):[pp(r[0]),pp(r[1])])}function sw(t,n,e){let r=zt(t);iw(r);let i=[r[Pe.ExtraData][0],r[Pe.ExtraData][1]],o=Zt(i,n)||[];return Zt(o,e)||[]}function Zt(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function pp(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var QT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sc={},XT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function aw(t,n,e,r){let i=l1(t);n=Yn(e,n)||n;let s=[],a;for(;n;)if(a=XT.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=cw(r,l),i=a1(i,r));let c="";return s.forEach(u=>{let p=o1(u);c+=p?p(i,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Oc(t,n,e){let r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function Yn(t,n){let e=X_(t);if(Sc[e]??={},Sc[e][n])return Sc[e][n];let r="";switch(n){case"shortDate":r=ks(t,Dt.Short);break;case"mediumDate":r=ks(t,Dt.Medium);break;case"longDate":r=ks(t,Dt.Long);break;case"fullDate":r=ks(t,Dt.Full);break;case"shortTime":r=Ps(t,Dt.Short);break;case"mediumTime":r=Ps(t,Dt.Medium);break;case"longTime":r=Ps(t,Dt.Long);break;case"fullTime":r=Ps(t,Dt.Full);break;case"short":let i=Yn(t,"shortTime"),o=Yn(t,"shortDate");r=Ic(Fs(t,Dt.Short),[i,o]);break;case"medium":let s=Yn(t,"mediumTime"),a=Yn(t,"mediumDate");r=Ic(Fs(t,Dt.Medium),[s,a]);break;case"long":let l=Yn(t,"longTime"),c=Yn(t,"longDate");r=Ic(Fs(t,Dt.Long),[l,c]);break;case"full":let u=Yn(t,"fullTime"),p=Yn(t,"fullDate");r=Ic(Fs(t,Dt.Full),[u,p]);break}return r&&(Sc[e][n]=r),r}function Ic(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return n!=null&&r in n?n[r]:e})),t}function cn(t,n,e="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function e1(t,n){return cn(t,3).substring(0,n)}function Ue(t,n,e=0,r=!1,i=!1){return function(o,s){let a=t1(t,o);if((e>0||a>-e)&&(a+=e),t===3)a===0&&e===-12&&(a=12);else if(t===6)return e1(a,n);let l=Ls(s,Qn.MinusSign);return cn(a,n,l,r,i)}}function t1(t,n){switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ee(t,n,e=at.Format,r=!1){return function(i,o){return n1(i,o,t,n,e,r)}}function n1(t,n,e,r,i,o){switch(e){case 2:return nw(n,i,r)[t.getMonth()];case 1:return tw(n,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let c=ow(n),u=sw(n,i,r),p=c.findIndex(y=>{if(Array.isArray(y)){let[h,_]=y,w=s>=h.hours&&a>=h.minutes,C=s<_.hours||s===_.hours&&a<_.minutes;if(h.hours<_.hours){if(w&&C)return!0}else if(w||C)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(p!==-1)return u[p]}return ew(n,i,r)[s<12?0:1];case 3:return rw(n,r)[t.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function Mc(t){return function(n,e,r){let i=-1*r,o=Ls(e,Qn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+cn(s,2,o)+cn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+cn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+cn(s,2,o)+":"+cn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+cn(s,2,o)+":"+cn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var r1=0,Tc=4;function i1(t){let n=Oc(t,r1,1).getDay();return Oc(t,0,1+(n<=Tc?Tc:Tc+7)-n)}function lw(t){let n=t.getDay(),e=n===0?-3:Tc-n;return Oc(t.getFullYear(),t.getMonth(),t.getDate()+e)}function mp(t,n=!1){return function(e,r){let i;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=lw(e),s=i1(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return cn(i,t,Ls(r,Qn.MinusSign))}}function xc(t,n=!1){return function(e,r){let o=lw(e).getFullYear();return cn(o,t,Ls(r,Qn.MinusSign),n)}}var gp={};function o1(t){if(gp[t])return gp[t];let n;switch(t){case"G":case"GG":case"GGG":n=Ee(3,ye.Abbreviated);break;case"GGGG":n=Ee(3,ye.Wide);break;case"GGGGG":n=Ee(3,ye.Narrow);break;case"y":n=Ue(0,1,0,!1,!0);break;case"yy":n=Ue(0,2,0,!0,!0);break;case"yyy":n=Ue(0,3,0,!1,!0);break;case"yyyy":n=Ue(0,4,0,!1,!0);break;case"Y":n=xc(1);break;case"YY":n=xc(2,!0);break;case"YYY":n=xc(3);break;case"YYYY":n=xc(4);break;case"M":case"L":n=Ue(1,1,1);break;case"MM":case"LL":n=Ue(1,2,1);break;case"MMM":n=Ee(2,ye.Abbreviated);break;case"MMMM":n=Ee(2,ye.Wide);break;case"MMMMM":n=Ee(2,ye.Narrow);break;case"LLL":n=Ee(2,ye.Abbreviated,at.Standalone);break;case"LLLL":n=Ee(2,ye.Wide,at.Standalone);break;case"LLLLL":n=Ee(2,ye.Narrow,at.Standalone);break;case"w":n=mp(1);break;case"ww":n=mp(2);break;case"W":n=mp(1,!0);break;case"d":n=Ue(2,1);break;case"dd":n=Ue(2,2);break;case"c":case"cc":n=Ue(7,1);break;case"ccc":n=Ee(1,ye.Abbreviated,at.Standalone);break;case"cccc":n=Ee(1,ye.Wide,at.Standalone);break;case"ccccc":n=Ee(1,ye.Narrow,at.Standalone);break;case"cccccc":n=Ee(1,ye.Short,at.Standalone);break;case"E":case"EE":case"EEE":n=Ee(1,ye.Abbreviated);break;case"EEEE":n=Ee(1,ye.Wide);break;case"EEEEE":n=Ee(1,ye.Narrow);break;case"EEEEEE":n=Ee(1,ye.Short);break;case"a":case"aa":case"aaa":n=Ee(0,ye.Abbreviated);break;case"aaaa":n=Ee(0,ye.Wide);break;case"aaaaa":n=Ee(0,ye.Narrow);break;case"b":case"bb":case"bbb":n=Ee(0,ye.Abbreviated,at.Standalone,!0);break;case"bbbb":n=Ee(0,ye.Wide,at.Standalone,!0);break;case"bbbbb":n=Ee(0,ye.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ee(0,ye.Abbreviated,at.Format,!0);break;case"BBBB":n=Ee(0,ye.Wide,at.Format,!0);break;case"BBBBB":n=Ee(0,ye.Narrow,at.Format,!0);break;case"h":n=Ue(3,1,-12);break;case"hh":n=Ue(3,2,-12);break;case"H":n=Ue(3,1);break;case"HH":n=Ue(3,2);break;case"m":n=Ue(4,1);break;case"mm":n=Ue(4,2);break;case"s":n=Ue(5,1);break;case"ss":n=Ue(5,2);break;case"S":n=Ue(6,1);break;case"SS":n=Ue(6,2);break;case"SSS":n=Ue(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Mc(0);break;case"ZZZZZ":n=Mc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Mc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Mc(2);break;default:return null}return gp[t]=n,n}function cw(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function s1(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function a1(t,n,e){let i=t.getTimezoneOffset(),o=cw(n,i);return s1(t,-1*(o-i))}function l1(t){if(K_(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Oc(i,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(QT))return c1(r)}let n=new Date(t);if(!K_(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function c1(t){let n=new Date(0),e=0,r=0,i=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,l,c),n}function K_(t){return t instanceof Date&&!isNaN(t.valueOf())}var vp=/\s+/,J_=[],ei=(()=>{class t{_ngEl;_renderer;initialClasses=J_;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(vp):J_}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(vp):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(vp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(A(sn),A(Dn))};static \u0275dir=ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Ac=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xe=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ac(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Y_(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Y_(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(A(io),A(hc),A(dp))};static \u0275dir=ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Y_(t,n){t.context.$implicit=n.item}var de=(()=>{class t{_viewContainer;_context=new Rc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Q_(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Q_(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(A(io),A(hc))};static \u0275dir=ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Rc=class{$implicit=null;ngIf=null};function Q_(t,n){if(t&&!t.createEmbeddedView)throw new P(2020,!1)}function uw(t,n){return new P(2100,!1)}var yp=class{createSubscription(n,e){return an(()=>n.subscribe({next:e,error:r=>{throw r}}))}dispose(n){an(()=>n.unsubscribe())}},_p=class{createSubscription(n,e){return n.then(r=>e?.(r),r=>{throw r}),{unsubscribe:()=>{e=null}}}dispose(n){n.unsubscribe()}},u1=new _p,d1=new yp,wp=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(dr(e))return u1;if(ap(e))return d1;throw uw(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(A(pr,16))};static \u0275pipe=ip({name:"async",type:t,pure:!1})}return t})();var f1="mediumDate",dw=new j(""),fw=new j(""),js=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??f1,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return aw(e,s,o||this.locale,a)}catch(s){throw uw(t,s.message)}}static \u0275fac=function(r){return new(r||t)(A(bc,16),A(dw,24),A(fw,24))};static \u0275pipe=ip({name:"date",type:t,pure:!0})}return t})();var Z=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=Gn({})}return t})();function bp(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Cp="browser",hw="server";function kc(t){return t===hw}var Vs=class{};var pw=(()=>{class t{static \u0275prov=R({token:t,providedIn:"root",factory:()=>new Ep(D(Qe),window)})}return t})(),Ep=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=p1(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function p1(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Lc=new j(""),Mp=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)($(Lc),$(Ve))};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})(),Us=class{_doc;constructor(n){this._doc=n}manager},Pc="ng-app-id";function mw(t){for(let n of t)n.remove()}function gw(t,n){let e=n.createElement("style");return e.textContent=t,e}function m1(t,n,e,r){let i=t.head?.querySelectorAll(`style[${Pc}="${n}"],link[${Pc}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Pc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Sp(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var xp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=kc(o),m1(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,gw);r?.forEach(i=>this.addUsage(i,this.external,Sp))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(mw(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])mw(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,gw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Sp(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Pc,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)($(Qe),$(Fh),$(jh,8),$(no))};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})(),Dp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Tp=/%COMP%/g;var yw="%COMP%",g1=`_nghost-${yw}`,v1=`_ngcontent-${yw}`,y1=!0,_1=new j("",{providedIn:"root",factory:()=>y1});function w1(t){return v1.replace(Tp,t)}function b1(t){return g1.replace(Tp,t)}function _w(t,n){return n.map(e=>e.replace(Tp,t))}var Op=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=kc(a),this.defaultRenderer=new Bs(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Cn.ShadowDom&&(r=ne(S({},r),{encapsulation:Cn.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Fc?i.applyToHost(e):i instanceof $s&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Cn.Emulated:o=new Fc(l,c,r,this.appId,u,s,a,p,y);break;case Cn.ShadowDom:return new Ip(l,c,e,r,s,a,this.nonce,p,y);default:o=new $s(l,c,r,u,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)($(Mp),$(xp),$(Fh),$(_1),$(Qe),$(no),$(Ve),$(jh),$(ro,8))};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})(),Bs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Dp[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(vw(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(vw(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new P(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=Dp[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=Dp[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Wn.DashCase|Wn.Important)?n.style.setProperty(e,r,i&Wn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Wn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=qt().getGlobalEventTarget(this.doc,n),!n))throw new P(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function vw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ip=class extends Bs{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=_w(i.id,u);for(let y of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=y,this.shadowRoot.appendChild(h)}let p=i.getExternalStyles?.();if(p)for(let y of p){let h=Sp(y,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$s=class extends Bs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?_w(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Fc=class extends $s{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,e,r,o,s,a,l,c,u),this.contentAttr=w1(u),this.hostAttr=b1(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var jc=class t extends Rs{supportsDOMEvents=!0;static makeCurrent(){fp(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=C1();return e==null?null:E1(e)}resetBaseElement(){Hs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return bp(document.cookie,n)}},Hs=null;function C1(){return Hs=Hs||document.head.querySelector("base"),Hs?Hs.getAttribute("href"):null}function E1(t){return new URL(t,document.baseURI).pathname}var D1=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})(),bw=(()=>{class t extends Us{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)($(Qe))};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})(),ww=["alt","control","meta","shift"],S1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Cw=(()=>{class t extends Us{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qt().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ww.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=S1[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ww.forEach(s=>{if(s!==i){let a=I1[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)($(Qe))};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})();function Ap(t,n,e){return H_(S({rootComponent:t,platformRef:e?.platformRef},M1(n)))}function M1(t){return{appProviders:[...R1,...t?.providers??[]],platformProviders:A1}}function x1(){jc.makeCurrent()}function T1(){return new bn}function O1(){return H0(document),document}var A1=[{provide:no,useValue:Cp},{provide:Lh,useValue:x1,multi:!0},{provide:Qe,useFactory:O1}];var R1=[{provide:Xl,useValue:"root"},{provide:bn,useFactory:T1},{provide:Lc,useClass:bw,multi:!0,deps:[Qe]},{provide:Lc,useClass:Cw,multi:!0,deps:[Qe]},Op,xp,Mp,{provide:Gi,useExisting:Op},{provide:Vs,useClass:D1},[]];var Ew=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)($(Qe))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Q="primary",na=Symbol("RouteTitle"),Fp=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ri(t){return new Fp(t)}function Aw(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function k1(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!In(t[e],n[e]))return!1;return!0}function In(t,n){let e=t?Lp(t):void 0,r=n?Lp(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Rw(t[i],n[i]))return!1;return!0}function Lp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Rw(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function Nw(t){return t.length>0?t[t.length-1]:null}function wr(t){return cf(t)?t:dr(t)?Me(Promise.resolve(t)):W(t)}var P1={exact:Pw,subset:Fw},kw={exact:F1,subset:L1,ignored:()=>!0};function Dw(t,n,e){return P1[e.paths](t.root,n.root,e.matrixParams)&&kw[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function F1(t,n){return In(t,n)}function Pw(t,n,e){if(!ti(t.segments,n.segments)||!Bc(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!Pw(t.children[r],n.children[r],e))return!1;return!0}function L1(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Rw(t[e],n[e]))}function Fw(t,n,e){return Lw(t,n,n.segments,e)}function Lw(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!ti(i,e)||n.hasChildren()||!Bc(i,e,r))}else if(t.segments.length===e.length){if(!ti(t.segments,e)||!Bc(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!Fw(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!ti(t.segments,i)||!Bc(t.segments,i,r)||!t.children[Q]?!1:Lw(t.children[Q],n,o,r)}}function Bc(t,n,e){return n.every((r,i)=>kw[e](t[i].parameters,r.parameters))}var xn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new fe([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){return U1.serialize(this)}},fe=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $c(this)}},gr=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=ri(this.parameters),this._parameterMap}toString(){return Vw(this)}};function j1(t,n){return ti(t,n)&&t.every((e,r)=>In(e.parameters,n[r].parameters))}function ti(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function V1(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===Q&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Q&&(e=e.concat(n(i,r)))}),e}var ii=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:()=>new vr,providedIn:"root"})}return t})(),vr=class{parse(n){let e=new Vp(n);return new xn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${zs(n.root,!0)}`,r=H1(n.queryParams),i=typeof n.fragment=="string"?`#${B1(n.fragment)}`:"";return`${e}${r}${i}`}},U1=new vr;function $c(t){return t.segments.map(n=>Vw(n)).join("/")}function zs(t,n){if(!t.hasChildren())return $c(t);if(n){let e=t.children[Q]?zs(t.children[Q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${zs(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=V1(t,(r,i)=>i===Q?[zs(t.children[Q],!1)]:[`${i}:${zs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Q]!=null?`${$c(t)}/${e[0]}`:`${$c(t)}/(${e.join("//")})`}}function jw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(t){return jw(t).replace(/%3B/gi,";")}function B1(t){return encodeURI(t)}function jp(t){return jw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hc(t){return decodeURIComponent(t)}function Sw(t){return Hc(t.replace(/\+/g,"%20"))}function Vw(t){return`${jp(t.path)}${$1(t.parameters)}`}function $1(t){return Object.entries(t).map(([n,e])=>`;${jp(n)}=${jp(e)}`).join("")}function H1(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Vc(e)}=${Vc(i)}`).join("&"):`${Vc(e)}=${Vc(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var z1=/^[^\/()?;#]+/;function Rp(t){let n=t.match(z1);return n?n[0]:""}var W1=/^[^\/()?;=#]+/;function q1(t){let n=t.match(W1);return n?n[0]:""}var G1=/^[^=?&#]+/;function Z1(t){let n=t.match(G1);return n?n[0]:""}var K1=/^[^&#]+/;function J1(t){let n=t.match(K1);return n?n[0]:""}var Vp=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Q]=new fe(n,e)),r}parseSegment(){let n=Rp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(n),new gr(Hc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=q1(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Rp(this.remaining);i&&(r=i,this.capture(r))}n[Hc(e)]=Hc(r)}parseQueryParam(n){let e=Z1(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=J1(this.remaining);s&&(r=s,this.capture(r))}let i=Sw(e),o=Sw(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Q);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Q]:new fe([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new P(4011,!1)}};function Uw(t){return t.segments.length>0?new fe([],{[Q]:t}):t}function Bw(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=Bw(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new fe(t.segments,n);return Y1(e)}function Y1(t){if(t.numberOfChildren===1&&t.children[Q]){let n=t.children[Q];return new fe(t.segments.concat(n.segments),n.children)}return t}function yr(t){return t instanceof xn}function $w(t,n,e=null,r=null){let i=Hw(t);return zw(i,n,e,r)}function Hw(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new fe(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=Uw(r);return n??i}function zw(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return Np(i,i,i,e,r);let o=Q1(n);if(o.toRoot())return Np(i,i,new fe([],{}),e,r);let s=X1(o,i,t),a=s.processChildren?qs(s.segmentGroup,s.index,o.commands):qw(s.segmentGroup,s.index,o.commands);return Np(i,s.segmentGroup,a,e,r)}function Wc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zs(t){return typeof t=="object"&&t!=null&&t.outlets}function Np(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=Ww(t,n,e);let a=Uw(Bw(s));return new xn(a,o,i)}function Ww(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=Ww(o,n,e)}),new fe(t.segments,r)}var qc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Wc(r[0]))throw new P(4003,!1);let i=r.find(Zs);if(i&&i!==Nw(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Q1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qc(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new qc(e,n,r)}var lo=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function X1(t,n,e){if(t.isAbsolute)return new lo(n,!0,0);if(!e)return new lo(n,!1,NaN);if(e.parent===null)return new lo(e,!0,0);let r=Wc(t.commands[0])?0:1,i=e.segments.length-1+r;return eO(e,i,t.numberOfDoubleDots)}function eO(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new lo(r,!1,i-o)}function tO(t){return Zs(t[0])?t[0].outlets:{[Q]:t}}function qw(t,n,e){if(t??=new fe([],{}),t.segments.length===0&&t.hasChildren())return qs(t,n,e);let r=nO(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new fe(t.segments.slice(0,r.pathIndex),{});return o.children[Q]=new fe(t.segments.slice(r.pathIndex),t.children),qs(o,0,i)}else return r.match&&i.length===0?new fe(t.segments,{}):r.match&&!t.hasChildren()?Up(t,n,e):r.match?qs(t,0,i):Up(t,n,e)}function qs(t,n,e){if(e.length===0)return new fe(t.segments,{});{let r=tO(e),i={};if(Object.keys(r).some(o=>o!==Q)&&t.children[Q]&&t.numberOfChildren===1&&t.children[Q].segments.length===0){let o=qs(t.children[Q],n,e);return new fe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qw(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(t.segments,i)}}function nO(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(Zs(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Mw(l,c,s))return o;r+=2}else{if(!Mw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Up(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(Zs(o)){let l=rO(o.outlets);return new fe(r,l)}if(i===0&&Wc(e[0])){let l=t.segments[n];r.push(new gr(l.path,Iw(e[0]))),i++;continue}let s=Zs(o)?o.outlets[Q]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Wc(a)?(r.push(new gr(s,Iw(a))),i+=2):(r.push(new gr(s,{})),i++)}return new fe(r,{})}function rO(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=Up(new fe([],{}),0,r))}),n}function Iw(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function Mw(t,n,e){return t==e.path&&In(n,e.parameters)}var zc="imperative",Ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ge||{}),kt=class{id;url;constructor(n,e){this.id=n,this.url=e}},_r=class extends kt{type=Ge.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},It=class extends kt{urlAfterRedirects;type=Ge.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),uo=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(uo||{}),Mn=class extends kt{reason;code;type=Ge.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Tn=class extends kt{reason;code;type=Ge.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},fo=class extends kt{error;target;type=Ge.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ks=class extends kt{urlAfterRedirects;state;type=Ge.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gc=class extends kt{urlAfterRedirects;state;type=Ge.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zc=class extends kt{urlAfterRedirects;state;shouldActivate;type=Ge.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kc=class extends kt{urlAfterRedirects;state;type=Ge.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jc=class extends kt{urlAfterRedirects;state;type=Ge.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yc=class{route;type=Ge.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qc=class{route;type=Ge.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xc=class{snapshot;type=Ge.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eu=class{snapshot;type=Ge.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tu=class{snapshot;type=Ge.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nu=class{snapshot;type=Ge.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ho=class{routerEvent;position;anchor;type=Ge.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Js=class{},po=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function iO(t,n){return t.providers&&!t._injector&&(t._injector=Ms(t.providers,n,`Route: ${t.path}`)),t._injector??n}function un(t){return t.outlet||Q}function oO(t,n){let e=t.filter(r=>un(r)===n);return e.push(...t.filter(r=>un(r)!==n)),e}function ra(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var ru=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ra(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new oi(this.rootInjector)}},oi=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new ru(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)($(wt))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iu=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Bp(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=Bp(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=$p(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return $p(n,this._root).map(e=>e.value)}};function Bp(t,n){if(t===n.value)return n;for(let e of n.children){let r=Bp(t,e);if(r)return r}return null}function $p(t,n){if(t===n.value)return[n];for(let e of n.children){let r=$p(t,e);if(r.length)return r.unshift(n),r}return[]}var Nt=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function ao(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Ys=class extends iu{snapshot;constructor(n,e){super(n),this.snapshot=e,Jp(this,n)}toString(){return this.snapshot.toString()}};function Gw(t){let n=sO(t),e=new We([new gr("",{})]),r=new We({}),i=new We({}),o=new We({}),s=new We(""),a=new Mt(e,r,o,s,i,Q,t,n.root);return a.snapshot=n.root,new Ys(new Nt(a,[]),n)}function sO(t){let n={},e={},r={},i="",o=new ni([],n,r,i,e,Q,t,null,{});return new Qs("",new Nt(o,[]))}var Mt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(re(c=>c[na]))??W(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(n=>ri(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(n=>ri(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ou(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:S(S({},n.params),t.params),data:S(S({},n.data),t.data),resolve:S(S(S(S({},t.data),n.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&Kw(i)&&(r.resolve[na]=i.title),r}var ni=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[na]}constructor(n,e,r,i,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ri(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Qs=class extends iu{url;constructor(n,e){super(e),this.url=n,Jp(this,e)}toString(){return Zw(this._root)}};function Jp(t,n){n.value._routerState=t,n.children.forEach(e=>Jp(t,e))}function Zw(t){let n=t.children.length>0?` { ${t.children.map(Zw).join(", ")} } `:"";return`${t.value}${n}`}function kp(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,In(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),In(n.params,e.params)||t.paramsSubject.next(e.params),k1(n.url,e.url)||t.urlSubject.next(e.url),In(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Hp(t,n){let e=In(t.params,n.params)&&j1(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Hp(t.parent,n.parent))}function Kw(t){return typeof t.title=="string"||t.title===null}var Jw=new j(""),ia=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new _e;deactivateEvents=new _e;attachEvents=new _e;detachEvents=new _e;routerOutletData=P0(void 0);parentContexts=D(oi);location=D(io);changeDetector=D(pr);inputBinder=D(oa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new zp(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[cr]})}return t})(),zp=class{route;childContexts;parent;outletData;constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===Mt?this.route:n===oi?this.childContexts:n===Jw?this.outletData:this.parent.get(n,e)}},oa=new j(""),Yp=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=us([r.queryParams,r.params,r.data]).pipe(jt(([o,s,a],l)=>(a=S(S(S({},o),s),a),l===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=z_(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})(),Qp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=H({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&M(0,"router-outlet")},dependencies:[ia],encapsulation:2})}return t})();function Xp(t){let n=t.children&&t.children.map(Xp),e=n?ne(S({},t),{children:n}):S({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Q&&(e.component=Qp),e}function aO(t,n,e){let r=Xs(t,n._root,e?e._root:void 0);return new Ys(r,n)}function Xs(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=lO(t,n,e);return new Nt(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Xs(t,a)),s}}let r=cO(n.value),i=n.children.map(o=>Xs(t,o));return new Nt(r,i)}}function lO(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xs(t,r,i);return Xs(t,r)})}function cO(t){return new Mt(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var mo=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},Yw="ngNavigationCancelingError";function su(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=yr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Qw(!1,St.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Qw(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Yw]=!0,e.cancellationCode=n,e}function uO(t){return Xw(t)&&yr(t.url)}function Xw(t){return!!t&&t[Yw]}var dO=(t,n,e,r)=>re(i=>(new Wp(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),Wp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),kp(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=ao(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=ao(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=ao(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=ao(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nu(o.value.snapshot))}),n.children.length&&this.forwardEvent(new eu(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(kp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kp(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},au=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},co=class{component;route;constructor(n,e){this.component=n,this.route=e}};function fO(t,n,e){let r=t._root,i=n?n._root:null;return Ws(r,i,e,[r.value])}function hO(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function vo(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!xy(t)?t:n.get(t):r}function Ws(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ao(n);return t.children.forEach(s=>{pO(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Gs(a,e.getContext(s),i)),i}function pO(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=mO(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new au(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ws(t,n,a?a.children:null,r,i):Ws(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new co(a.outlet.component,s))}else s&&Gs(n,a,i),i.canActivateChecks.push(new au(r)),o.component?Ws(t,null,a?a.children:null,r,i):Ws(t,null,e,r,i);return i}function mO(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!ti(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ti(t.url,n.url)||!In(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hp(t,n)||!In(t.queryParams,n.queryParams);case"paramsChange":default:return!Hp(t,n)}}function Gs(t,n,e){let r=ao(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Gs(s,n.children.getContext(o),e):Gs(s,null,e):Gs(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new co(n.outlet.component,i)):e.canDeactivateChecks.push(new co(null,i)):e.canDeactivateChecks.push(new co(null,i))}function sa(t){return typeof t=="function"}function gO(t){return typeof t=="boolean"}function vO(t){return t&&sa(t.canLoad)}function yO(t){return t&&sa(t.canActivate)}function _O(t){return t&&sa(t.canActivateChild)}function wO(t){return t&&sa(t.canDeactivate)}function bO(t){return t&&sa(t.canMatch)}function eb(t){return t instanceof Vn||t?.name==="EmptyError"}var Uc=Symbol("INITIAL_VALUE");function go(){return jt(t=>us(t.map(n=>n.pipe(Bn(1),hf(Uc)))).pipe(re(n=>{for(let e of n)if(e!==!0){if(e===Uc)return Uc;if(e===!1||CO(e))return e}return!0}),ut(n=>n!==Uc),Bn(1)))}function CO(t){return yr(t)||t instanceof mo}function EO(t,n){return Ne(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?W(ne(S({},e),{guardsResult:!0})):DO(s,r,i,t).pipe(Ne(a=>a&&gO(a)?SO(r,o,t,n):W(a)),re(a=>ne(S({},e),{guardsResult:a})))})}function DO(t,n,e,r){return Me(t).pipe(Ne(i=>OO(i.component,i.route,e,n,r)),$n(i=>i!==!0,!0))}function SO(t,n,e,r){return Me(n).pipe(or(i=>Ri(MO(i.route.parent,r),IO(i.route,r),TO(t,i.path,e),xO(t,i.route,e))),$n(i=>i!==!0,!0))}function IO(t,n){return t!==null&&n&&n(new tu(t)),W(!0)}function MO(t,n){return t!==null&&n&&n(new Xc(t)),W(!0)}function xO(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>ml(()=>{let s=ra(n)??e,a=vo(o,s),l=yO(a)?a.canActivate(n,t):Ht(s,()=>a(n,t));return wr(l).pipe($n())}));return W(i).pipe(go())}function TO(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>hO(s)).filter(s=>s!==null).map(s=>ml(()=>{let a=s.guards.map(l=>{let c=ra(s.node)??e,u=vo(l,c),p=_O(u)?u.canActivateChild(r,t):Ht(c,()=>u(r,t));return wr(p).pipe($n())});return W(a).pipe(go())}));return W(o).pipe(go())}function OO(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let l=ra(n)??i,c=vo(a,l),u=wO(c)?c.canDeactivate(t,n,e,r):Ht(l,()=>c(t,n,e,r));return wr(u).pipe($n())});return W(s).pipe(go())}function AO(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=vo(s,t),l=vO(a)?a.canLoad(n,e):Ht(t,()=>a(n,e));return wr(l)});return W(o).pipe(go(),tb(r))}function tb(t){return tf(it(n=>{if(typeof n!="boolean")throw su(t,n)}),re(n=>n===!0))}function RO(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=vo(s,t),l=bO(a)?a.canMatch(n,e):Ht(t,()=>a(n,e));return wr(l)});return W(o).pipe(go(),tb(r))}var ea=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},ta=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function so(t){return Oi(new ea(t))}function NO(t){return Oi(new P(4e3,!1))}function kO(t){return Oi(Qw(!1,St.GuardRejected))}var qp=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[Q])return NO(`${n.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:p,outlet:y,params:h,data:_,title:w}=i,C=Ht(o,()=>a({params:h,data:_,queryParams:l,fragment:c,routeConfig:u,url:p,outlet:y,title:w}));if(C instanceof xn)throw new ta(C);e=C}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new ta(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new xn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new fe(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},Gp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PO(t,n,e,r,i){let o=nb(t,n,e);return o.matched?(r=iO(n,r),RO(r,n,e,i).pipe(re(s=>s===!0?o:S({},Gp)))):W(o)}function nb(t,n,e){if(n.path==="**")return FO(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?S({},Gp):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||Aw)(e,t,n);if(!i)return S({},Gp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function FO(t){return{matched:!0,parameters:t.length>0?Nw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xw(t,n,e,r){return e.length>0&&VO(t,e,r)?{segmentGroup:new fe(n,jO(r,new fe(e,t.children))),slicedSegments:[]}:e.length===0&&UO(t,e,r)?{segmentGroup:new fe(t.segments,LO(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new fe(t.segments,t.children),slicedSegments:e}}function LO(t,n,e,r){let i={};for(let o of e)if(cu(t,n,o)&&!r[un(o)]){let s=new fe([],{});i[un(o)]=s}return S(S({},r),i)}function jO(t,n){let e={};e[Q]=n;for(let r of t)if(r.path===""&&un(r)!==Q){let i=new fe([],{});e[un(r)]=i}return e}function VO(t,n,e){return e.some(r=>cu(t,n,r)&&un(r)!==Q)}function UO(t,n,e){return e.some(r=>cu(t,n,r))}function cu(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function BO(t,n,e){return n.length===0&&!t.children[e]}var Zp=class{};function $O(t,n,e,r,i,o,s="emptyOnly"){return new Kp(t,n,e,r,i,s,o).recognize()}var HO=31,Kp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new qp(this.urlSerializer,this.urlTree)}noMatchError(n){return new P(4002,`'${n.segmentGroup}'`)}recognize(){let n=xw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(re(({children:e,rootSnapshot:r})=>{let i=new Nt(r,e),o=new Qs("",i),s=$w(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new ni([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Q,e).pipe(re(r=>({children:r,rootSnapshot:e})),Un(r=>{if(r instanceof ta)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ea?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(re(s=>s instanceof Nt?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Me(o).pipe(or(s=>{let a=r.children[s],l=oO(e,s);return this.processSegmentGroup(n,l,a,s,i)}),ff((s,a)=>(s.push(...a),s)),sr(null),df(),Ne(s=>{if(s===null)return so(r);let a=rb(s);return zO(a),W(a)}))}processSegment(n,e,r,i,o,s,a){return Me(e).pipe(or(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(Un(c=>{if(c instanceof ea)return W(null);throw c}))),$n(l=>!!l),Un(l=>{if(eb(l))return BO(r,i,o)?W(new Zp):so(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return un(r)!==s&&(s===Q||!cu(i,o,r))?so(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):so(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:p,remainingSegments:y}=nb(e,i,o);if(!l)return so(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HO&&(this.allowRedirects=!1));let h=new ni(o,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Tw(i),un(i),i.component??i._loadedComponent??null,i,Ow(i)),_=ou(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(_.params),h.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,p,h,n);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ne(C=>this.processSegment(n,r,e,C.concat(y),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=PO(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(jt(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(jt(({routes:c})=>{let u=r._loadedInjector??n,{parameters:p,consumedSegments:y,remainingSegments:h}=l,_=new ni(y,p,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Tw(r),un(r),r.component??r._loadedComponent??null,r,Ow(r)),w=ou(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:C,slicedSegments:E}=xw(e,y,h,c);if(E.length===0&&C.hasChildren())return this.processChildren(u,c,C,_).pipe(re(N=>new Nt(_,N)));if(c.length===0&&E.length===0)return W(new Nt(_,[]));let ie=un(r)===o;return this.processSegment(u,c,C,E,ie?Q:o,!0,_).pipe(re(N=>new Nt(_,N instanceof Nt?[N]:[])))}))):so(e)))}getChildConfig(n,e,r){return e.children?W({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?W({routes:e._loadedRoutes,injector:e._loadedInjector}):AO(n,e,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(n,e).pipe(it(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):kO(e))):W({routes:[],injector:n})}};function zO(t){t.sort((n,e)=>n.value.outlet===Q?-1:e.value.outlet===Q?1:n.value.outlet.localeCompare(e.value.outlet))}function WO(t){let n=t.value.routeConfig;return n&&n.path===""}function rb(t){let n=[],e=new Set;for(let r of t){if(!WO(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=rb(r.children);n.push(new Nt(r.value,i))}return n.filter(r=>!e.has(r))}function Tw(t){return t.data||{}}function Ow(t){return t.resolve||{}}function qO(t,n,e,r,i,o){return Ne(s=>$O(t,n,e,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:l})=>ne(S({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function GO(t,n){return Ne(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return W(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of ib(l))s.add(c);let a=0;return Me(s).pipe(or(l=>o.has(l)?ZO(l,r,t,n):(l.data=ou(l,l.parent,t).resolve,W(void 0))),it(()=>a++),Ni(1),Ne(l=>a===s.size?W(e):gt))})}function ib(t){let n=t.children.map(e=>ib(e)).flat();return[t,...n]}function ZO(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Kw(i)&&(o[na]=i.title),KO(o,t,n,r).pipe(re(s=>(t._resolvedData=s,t.data=ou(t,t.parent,e).resolve,null)))}function KO(t,n,e,r){let i=Lp(t);if(i.length===0)return W({});let o={};return Me(i).pipe(Ne(s=>JO(t[s],n,e,r).pipe($n(),it(a=>{if(a instanceof mo)throw su(new vr,a);o[s]=a}))),Ni(1),re(()=>o),Un(s=>eb(s)?gt:Oi(s)))}function JO(t,n,e,r){let i=ra(n)??r,o=vo(t,i),s=o.resolve?o.resolve(n,e):Ht(i,()=>o(n,e));return wr(s)}function Pp(t){return jt(n=>{let e=t(n);return e?Me(e).pipe(re(()=>n)):W(n)})}var em=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(e){return e.data[na]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:()=>D(ob),providedIn:"root"})}return t})(),ob=(()=>{class t extends em{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)($(Ew))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),si=new j("",{providedIn:"root",factory:()=>({})}),ai=new j(""),uu=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D($_);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return W(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=wr(e.loadComponent()).pipe(re(ab),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ds(()=>{this.componentLoaders.delete(e)})),i=new Ti(r,()=>new Le).pipe(xi());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=sb(r,this.compiler,e,this.onLoadEndListener).pipe(ds(()=>{this.childrenLoaders.delete(r)})),s=new Ti(o,()=>new Le).pipe(xi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sb(t,n,e,r){return wr(t.loadChildren()).pipe(re(ab),Ne(i=>i instanceof rp||Array.isArray(i)?W(i):Me(n.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(ai,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xp),injector:o}}))}function YO(t){return t&&typeof t=="object"&&"default"in t}function ab(t){return YO(t)?t.default:t}var du=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:()=>D(QO),providedIn:"root"})}return t})(),QO=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tm=new j(""),nm=new j("");function lb(t,n,e){let r=t.get(nm),i=t.get(Qe);return t.get(Ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),XO(t))),{onViewTransitionCreated:l}=r;return l&&Ht(t,()=>l({transition:a,from:n,to:e})),s})}function XO(t){return new Promise(n=>{Uh({read:()=>setTimeout(n)},{injector:t})})}var rm=new j(""),fu=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Le;transitionAbortSubject=new Le;configLoader=D(uu);environmentInjector=D(wt);destroyRef=D(Ds);urlSerializer=D(ii);rootContexts=D(oi);location=D(Sn);inputBindingEnabled=D(oa,{optional:!0})!==null;titleStrategy=D(em);options=D(si,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(du);createViewTransition=D(tm,{optional:!0});navigationErrorHandler=D(rm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Yc(i)),r=i=>this.events.next(new Qc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(ne(S({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(e){return this.transitions=new We(null),this.transitions.pipe(ut(r=>r!==null),jt(r=>{let i=!1,o=!1;return W(r).pipe(jt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),gt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ne(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Tn(s.id,this.urlSerializer.serialize(s.rawUrl),c,uo.IgnoredSameUrlNavigation)),s.resolve(!1),gt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(jt(c=>(this.events.next(new _r(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?gt:Promise.resolve(c))),qO(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),it(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ne(S({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Ks(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:p,restoredState:y,extras:h}=s,_=new _r(c,this.urlSerializer.serialize(u),p,y);this.events.next(_);let w=Gw(this.rootComponentType).snapshot;return this.currentTransition=r=ne(S({},s),{targetSnapshot:w,urlAfterRedirects:u,extras:ne(S({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,W(r)}else{let c="";return this.events.next(new Tn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,uo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),gt}}),it(s=>{let a=new Gc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),re(s=>(this.currentTransition=r=ne(S({},s),{guards:fO(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),EO(this.environmentInjector,s=>this.events.next(s)),it(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw su(this.urlSerializer,s.guardsResult);let a=new Zc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ut(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",St.GuardRejected),!1)),Pp(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(it(a=>{let l=new Kc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),jt(a=>{let l=!1;return W(a).pipe(GO(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",St.NoDataFromResolver)}}))}),it(a=>{let l=new Jc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Pp(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(it(u=>{l.component=u}),re(()=>{})));for(let u of l.children)c.push(...a(u));return c};return us(a(s.targetSnapshot.root)).pipe(sr(null),Bn(1))}),Pp(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Me(l).pipe(re(()=>r)):W(r)}),re(s=>{let a=aO(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ne(S({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),it(()=>{this.events.next(new Js)}),dO(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Bn(1),it({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new It(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),pf(this.transitionAbortSubject.pipe(it(s=>{throw s}))),ds(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Un(s=>{if(this.destroyed)return r.resolve(!1),gt;if(o=!0,Xw(s))this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),uO(s)?this.events.next(new po(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new fo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Ht(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof mo){let{message:c,cancellationCode:u}=su(this.urlSerializer,l);this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new po(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return gt}))}))}cancelNavigationTransition(e,r,i){let o=new Mn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eA(t){return t!==zc}var cb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:()=>D(tA),providedIn:"root"})}return t})(),lu=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},tA=(()=>{class t extends lu{static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ub=(()=>{class t{urlSerializer=D(ii);options=D(si,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=D(Sn);urlHandlingStrategy=D(du);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=i??o;return s instanceof xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=Gw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:()=>D(nA),providedIn:"root"})}return t})(),nA=(()=>{class t extends ub{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof _r?this.updateStateMemento():e instanceof Tn?this.commitTransition(r):e instanceof Ks?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Js?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Mn&&(e.code===St.GuardRejected||e.code===St.NoDataFromResolver)?this.restoreHistory(r):e instanceof fo?this.restoreHistory(r,!0):e instanceof It&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=S(S({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",l)}else{let a=S(S({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hu(t,n){t.events.pipe(ut(e=>e instanceof It||e instanceof Mn||e instanceof fo||e instanceof Tn),re(e=>e instanceof It||e instanceof Tn?0:(e instanceof Mn?e.code===St.Redirect||e.code===St.SupersededByNewNavigation:!1)?2:1),ut(e=>e!==2),Bn(1)).subscribe(()=>{n()})}var rA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ce=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(A_);stateManager=D(ub);options=D(si,{optional:!0})||{};pendingTasks=D(eo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(fu);urlSerializer=D(ii);location=D(Sn);urlHandlingStrategy=D(du);_events=new Le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(cb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(ai,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(oa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mn&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof It)this.navigated=!0;else if(r instanceof po){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eA(i.source)},s);this.scheduleNavigation(a,zc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=S({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Xp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=Hw(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return zw(p,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=yr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zc,null,r)}navigate(e,r={skipLocationChange:!1}){return oA(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=S({},rA):r===!1?i=S({},iA):i=r,yr(e))return Dw(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Dw(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,y)=>{a=p,l=y});let u=this.pendingTasks.add();return hu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oA(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new P(4008,!1)}function sA(t){return!(t instanceof Js)&&!(t instanceof po)}var yo=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Le;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof It&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(yr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:X0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:yr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(A(ce),A(Mt),Nh("tabindex"),A(Dn),A(sn),A(Gt))};static \u0275dir=ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&V("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ye("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mr],replaceUrl:[2,"replaceUrl","replaceUrl",mr],routerLink:"routerLink"},features:[cr]})}return t})();var aa=class{};var db=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ut(e=>e instanceof It),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ms(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(Ai())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=W(null);let o=i.pipe(Ne(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Me([o,s]).pipe(Ai())}else return o})}static \u0275fac=function(r){return new(r||t)($(ce),$(wt),$(aa),$(uu))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fb=new j(""),aA=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof It?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Tn&&e.code===uo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ho&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ho(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){E_()};static \u0275prov=R({token:t,factory:t.\u0275fac})}return t})();function om(t,...n){return _h([{provide:ai,multi:!0,useValue:t},[],{provide:Mt,useFactory:hb,deps:[ce]},{provide:gc,multi:!0,useFactory:pb},n.map(e=>e.\u0275providers)])}function hb(t){return t.routerState.root}function _o(t,n){return{\u0275kind:t,\u0275providers:n}}function pb(){let t=D($t);return n=>{let e=t.get(Kr);if(n!==e.components[0])return;let r=t.get(ce),i=t.get(mb);t.get(sm)===1&&r.initialNavigation(),t.get(yb,null,X.Optional)?.setUpPreloading(),t.get(fb,null,X.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mb=new j("",{factory:()=>new Le}),sm=new j("",{providedIn:"root",factory:()=>1});function gb(){let t=[{provide:sm,useValue:0},lp(()=>{let n=D($t);return n.get(hp,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(ce),o=n.get(mb);hu(i,()=>{r(!0)}),n.get(fu).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return _o(2,t)}function vb(){let t=[lp(()=>{D(ce).setUpLocationChangeListener()}),{provide:sm,useValue:2}];return _o(3,t)}var yb=new j("");function _b(t){return _o(0,[{provide:yb,useExisting:db},{provide:aa,useExisting:t}])}function am(){return _o(6,[{provide:Gt,useClass:Nc}])}function wb(){return _o(8,[Yp,{provide:oa,useExisting:Yp}])}function bb(t){Is("NgRouterViewTransitions");let n=[{provide:tm,useValue:lb},{provide:nm,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return _o(9,n)}var Cb=[Sn,{provide:ii,useClass:vr},ce,oi,{provide:Mt,useFactory:hb,deps:[ce]},uu,[]],Xn=(()=>{class t{constructor(){}static forRoot(e,r){return{ngModule:t,providers:[Cb,[],{provide:ai,multi:!0,useValue:e},[],r?.errorHandler?{provide:rm,useValue:r.errorHandler}:[],{provide:si,useValue:r||{}},r?.useHash?cA():uA(),lA(),r?.preloadingStrategy?_b(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?dA(r):[],r?.bindToComponentInputs?wb().\u0275providers:[],r?.enableViewTransitions?bb().\u0275providers:[],fA()]}}static forChild(e){return{ngModule:t,providers:[{provide:ai,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=Gn({})}return t})();function lA(){return{provide:fb,useFactory:()=>{let t=D(pw),n=D(Ve),e=D(si),r=D(fu),i=D(ii);return e.scrollOffset&&t.setOffset(e.scrollOffset),new aA(i,r,t,n,e)}}}function cA(){return{provide:Gt,useClass:Nc}}function uA(){return{provide:Gt,useClass:Dc}}function dA(t){return[t.initialNavigation==="disabled"?vb().\u0275providers:[],t.initialNavigation==="enabledBlocking"?gb().\u0275providers:[]]}var im=new j("");function fA(){return[{provide:im,useFactory:pb},{provide:gc,multi:!0,useExisting:im}]}var Dg=qE(fE(),1),{PostgrestError:v8,FunctionsHttpError:y8,FunctionsFetchError:_8,FunctionsRelayError:w8,FunctionsError:b8,FunctionRegion:C8,SupabaseClient:E8,createClient:hE,GoTrueAdminApi:D8,GoTrueClient:S8,AuthAdminApi:I8,AuthClient:M8,navigatorLock:x8,NavigatorLockAcquireTimeoutError:T8,lockInternals:O8,processLock:A8,SIGN_OUT_SCOPES:R8,AuthError:N8,AuthApiError:k8,AuthUnknownError:P8,CustomAuthError:F8,AuthSessionMissingError:L8,AuthInvalidTokenResponseError:j8,AuthInvalidCredentialsError:V8,AuthImplicitGrantRedirectError:U8,AuthPKCEGrantCodeExchangeError:B8,AuthRetryableFetchError:$8,AuthWeakPasswordError:H8,AuthInvalidJwtError:z8,isAuthError:W8,isAuthApiError:q8,isAuthSessionMissingError:G8,isAuthImplicitGrantRedirectError:Z8,isAuthRetryableFetchError:K8,isAuthWeakPasswordError:J8,RealtimePresence:Y8,RealtimeChannel:Q8,RealtimeClient:X8,REALTIME_LISTEN_TYPES:e5,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:t5,REALTIME_PRESENCE_LISTEN_EVENTS:n5,REALTIME_SUBSCRIBE_STATES:r5,REALTIME_CHANNEL_STATES:i5}=Dg.default||Dg;var ct=class t{supabase;constructor(){this.supabase=hE("https://xnhkyqflvfqjbmcbzzct.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuaGt5cWZsdmZxamJtY2J6emN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MDE5NDUsImV4cCI6MjA4MDk3Nzk0NX0.0Wjj_6kClOznswEo2hijdOf9XQ75WwfhkeWXRfEw9jI")}signInWithEmail(n,e){return this.supabase.auth.signInWithPassword({email:n,password:e})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/sportscenterchampionships/"}})}get client(){return this.supabase}getUser(){return this.supabase.auth.getUser().then(n=>n.data.user)}signUp(n,e){return this.supabase.auth.signUp({email:n,password:e,options:{emailRedirectTo:window.location.origin+"/sportscenterchampionships/"}})}signIn(n,e){return this.supabase.auth.signInWithPassword({email:n,password:e})}signOut(){return this.supabase.auth.signOut()}getPublicAvatarUrl(n){return this.supabase.storage.from("avatars").getPublicUrl(n).data.publicUrl}uploadAvatar(n){return g(this,null,function*(){let e=yield this.getUser();if(!e)throw new Error("User not authenticated");let r=`avatars/${e.id}.jpg`,{error:i}=yield this.supabase.storage.from("avatars").upload(r,n,{upsert:!0});if(i)throw i;let{data:o}=this.supabase.storage.from("avatars").getPublicUrl(r);return o.publicUrl})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})};var ed=class t{constructor(n){this.supabase=n}ngOnInit(){}static \u0275fac=function(e){return new(e||t)(A(ct))};static \u0275cmp=H({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){e&1&&M(0,"router-outlet")},dependencies:[ia],encapsulation:2})};var td=class t{constructor(n,e){this.sb=n;this.router=e;this.sb.supabase.auth.getSession().then(({data:r})=>{this._user$.next(r.session?.user??null)}),this.sb.supabase.auth.onAuthStateChange((r,i)=>g(this,null,function*(){if(this._user$.next(i?.user??null),console.log(i?.user),i?.user){let{data:o}=yield this.sb.supabase.from("users").select("mail").eq("mail",this._user$.value.email).single();o?this.router.navigate(["/user-dashboard"]):this.router.navigate(["/user-onboarding"])}}))}_user$=new We(null);user$=this._user$.asObservable();logout(){return g(this,null,function*(){yield this.sb.supabase.auth.signOut()})}static \u0275fac=function(e){return new(e||t)($(ct),$(ce))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})};function jR(t,n){if(t&1){let e=be();Qr(0),d(1,"button",9),V("click",function(){q(e);let i=B();return G(i.logout())}),m(2," Logout "),f(),M(3,"img",10),Xr()}if(t&2){let e=n.ngIf;v(3),b("src",(e.user_metadata==null?null:e.user_metadata.avatar_url)||"assets/images/default-avatar.png",Je)}}function VR(t,n){if(t&1){let e=be();d(0,"button",9),V("click",function(){q(e);let i=B();return G(i.login())}),m(1," Login "),f()}}var nd=class t{constructor(n,e,r){this.authService=n;this.supabase=e;this.router=r;this.user$=this.authService.user$}user$;login(){this.router.navigateByUrl("/login")}logout(){this.authService.logout()}loginWithGoogle(){this.supabase.signInWithGoogle()}static \u0275fac=function(e){return new(e||t)(A(td),A(ct),A(ce))};static \u0275cmp=H({type:t,selectors:[["app-header"]],decls:12,vars:4,consts:[["showLogin",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","main-navbar"],[1,"container-fluid","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler","d-lg-none","me-2"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand","fw-bold","d-none","d-lg-block"],[1,"flex-grow-1"],[1,"d-lg-none","d-flex","align-items-center","gap-2"],[4,"ngIf","ngIfElse"],[1,"btn","btn-light","btn-sm","rounded-pill","fw-bold",3,"click"],["alt","avatar",1,"user-avatar",3,"src"]],template:function(e,r){if(e&1&&(d(0,"nav",1)(1,"div",2)(2,"button",3),M(3,"span",4),f(),d(4,"a",5),m(5," Sports Championships "),f(),M(6,"div",6),d(7,"div",7),L(8,jR,4,1,"ng-container",8),oo(9,"async"),L(10,VR,2,0,"ng-template",null,0,wc),f()()()),e&2){let i=hr(11);v(8),b("ngIf",U_(9,2,r.user$))("ngIfElse",i)}},dependencies:[Z,de,wp],styles:[".main-navbar[_ngcontent-%COMP%]{background:transparent;padding:.75rem 1rem;z-index:3}.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.7);transition:all .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3}.btn-light[_ngcontent-%COMP%]{color:#333;transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border:2px solid #fff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px;border-radius:.5rem}.navbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.35rem 1rem;font-size:.875rem}.main-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 6px #00000040}.navbar-collapse[_ngcontent-%COMP%]{background-color:#0f172af2;margin-top:.5rem}"]})};var Wo=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"app-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-links"],["href","#"],[1,"footer-bottom"]],template:function(e,r){e&1&&(d(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),m(4,"Sports Championships"),f(),d(5,"p"),m(6,"Organiza, compite y disfruta de tu deporte favorito"),f()(),d(7,"div",3)(8,"a",4),m(9,"Aviso legal"),f(),d(10,"a",4),m(11,"Privacidad"),f()()(),d(12,"div",5),m(13," \xA9 2025 Sports Center Championships \xB7 Todos los derechos reservados "),f()())},styles:[".app-footer[_ngcontent-%COMP%]{background:#0f172a;color:#cbd5e1;padding:1rem;margin-top:4rem}.footer-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:2rem;text-align:center}.footer-brand[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#fff}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;font-size:.9rem;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.8rem;color:#94a3b8}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;text-align:left}.footer-links[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};function UR(t,n){if(t&1&&(d(0,"div",1),M(1,"img",2),d(2,"div",3)(3,"div",4)(4,"small",5),m(5),f(),d(6,"div",6),m(7),f(),d(8,"small",7),m(9),oo(10,"date"),f(),M(11,"br"),d(12,"small",7),m(13),f()()()()),t&2){let e=B();v(),b("src",e.getGameImage(e.game.sport_name||""),Je),v(4),qe(" ",e.game.type," "),v(2),Os(" ",e.game.team1==null?null:e.game.team1.name," vs ",e.game.team2==null?null:e.game.team2.name," "),v(2),qe(" ",_c(10,6,e.game.date,"dd MMM \xB7 HH:mm")," "),v(4),qe(" \u{1F4CD} ",e.game.location," ")}}var rd=class t{game=null;getGameImage(n){switch(n){case"tennis":return"assets/images/sports/tennis/tennis-field-1.jpeg";case"padel":return"assets/images/sports/padel/padel-field-1.jpeg";default:return"assets/images/default-field.jpeg"}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-game-card"]],inputs:{game:"game"},decls:1,vars:1,consts:[["class","next-game-card",4,"ngIf"],[1,"next-game-card"],["alt","Campo de juego",1,"next-game-img",3,"src"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"badge","bg-dark","text-uppercase","mb-1"],[1,"fw-semibold","small"],[1,"text-white-50"]],template:function(e,r){e&1&&L(0,UR,14,9,"div",0),e&2&&b("ngIf",r.game)},dependencies:[Z,de,js],styles:[".next-game-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}"]})};function BR(t,n){if(t&1&&M(0,"app-game-card",5),t&2){let e=n.$implicit;b("game",e)}}var qo=class t{games;ngOnInit(){if(!this.games){let n=[{id:1,competition_id:1,date:"2025-01-22T18:30:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:3,team1:{id:101,name:"Ace Masters",sport_id:1,sport_name:"1",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:102,name:"Clay Warriors",sport_id:1,sport_name:"1",image:"assets/images/team-default.png",gender:"mixed"}},{id:2,competition_id:2,date:"2025-01-25T19:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,team1:{id:201,name:"Padel Smash",sport_id:2,sport_name:"2",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:202,name:"Golden Racket",sport_id:2,sport_name:"2",image:"assets/images/team-default.png",gender:"mixed"}},{id:3,competition_id:1,date:"2025-01-24T20:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:3,team1:{id:103,name:"Topspin United",sport_id:1,sport_name:"1",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:104,name:"Baseline Kings",sport_id:1,sport_name:"1",image:"assets/images/team-default.png",gender:"mixed"}},{id:4,competition_id:2,date:"2025-01-27T21:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,team1:{id:203,name:"Red Net Padel",sport_id:2,sport_name:"2",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:204,name:"Vibora Team",sport_id:2,sport_name:"2",image:"assets/images/team-default.png",gender:"mixed"}},{id:5,competition_id:3,date:"2025-01-29T18:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:4,team1:{id:105,name:"Match Point",sport_id:1,sport_name:"pdael",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:106,name:"Deuce Squad",sport_id:1,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"}}];this.games=n}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-my-games"]],inputs:{games:"games"},decls:6,vars:1,consts:[[1,"my-games-section"],[1,"container"],[1,"fw-bold","mb-3"],[1,"my-games-scroll"],[3,"game",4,"ngFor","ngForOf"],[3,"game"]],template:function(e,r){e&1&&(d(0,"section",0)(1,"div",1)(2,"h2",2),m(3,"Pr\xF3ximos partidos"),f(),d(4,"div",3),L(5,BR,1,1,"app-game-card",4),f()()()),e&2&&(v(5),b("ngForOf",r.games))},dependencies:[Z,xe,rd],styles:[".my-games-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-games-scroll[_ngcontent-%COMP%]   app-game-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.my-games-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.my-games-scroll[_ngcontent-%COMP%]   app-game-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem);scroll-snap-align:unset}}"]})};function $R(t,n){if(t&1&&(d(0,"div",17)(1,"div",18),M(2,"div",19),d(3,"div",20)(4,"h5",21),m(5),f(),d(6,"small",22),m(7),f()()()()),t&2){let e=n.$implicit;v(2),xs("background-image","url("+e.image+")"),v(),b("ngClass",e.color),v(2),Y(e.name),v(2),Y(e.nextEvent)}}var id=class t{sports=[{id:4,name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",nextEvent:"28 Sep \xB7 21:00"},{id:3,name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",nextEvent:"25 Sep \xB7 10:00"},{id:2,name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",nextEvent:"22 Sep \xB7 19:30"},{id:1,name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",nextEvent:"20 Sep \xB7 18:00"}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-home"]],decls:43,vars:1,consts:[[1,"hero-header"],[1,"hero-overlay"],[1,"container","hero-content"],[1,"display-5","fw-bold","text-white"],[1,"text-white-50","mt-2"],[1,"sports-section"],[1,"container"],[1,"fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"features-section"],[1,"row","g-4","text-center"],[1,"col-12","col-md-4"],[1,"feature-item"],[1,"feature-icon","icon-league"],[1,"feature-icon","icon-notify"],[1,"feature-icon","icon-free"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"sport-card","shadow-sm","h-100"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],[1,"text-white","fw-bold","mb-1"],[1,"text-white-50"]],template:function(e,r){e&1&&(d(0,"section",0),M(1,"app-header")(2,"div",1),d(3,"div",2)(4,"h1",3),m(5," App organizador de eventos deportivos "),f(),d(6,"p",4),m(7," Crea, gestiona y compite en ligas de tu deporte favorito "),f()()(),M(8,"app-my-games"),d(9,"section",5)(10,"div",6)(11,"h2",7),m(12,"Deportes"),f(),d(13,"div",8),L(14,$R,8,5,"div",9),f()()(),d(15,"section",10)(16,"div",6)(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14),m(21,"\u{1F3C6}"),f(),d(22,"h5"),m(23,"Crea y compite"),f(),d(24,"p"),m(25,"Crea y ap\xFAntate a ligas de tu deporte favorito"),f()()(),d(26,"div",12)(27,"div",13)(28,"div",15),m(29,"\u{1F514}"),f(),d(30,"h5"),m(31,"Notificaciones"),f(),d(32,"p"),m(33,"Recibe avisos de partidos, resultados y cambios"),f()()(),d(34,"div",12)(35,"div",13)(36,"div",16),m(37,"\u{1F389}"),f(),d(38,"h5"),m(39,"100% gratis"),f(),d(40,"p"),m(41,"Sin costes ocultos, ahora y siempre"),f()()()()()(),M(42,"app-footer")),e&2&&(v(14),b("ngForOf",r.sports))},dependencies:[Z,ei,xe,nd,Wo,qo],styles:[".hero-header[_ngcontent-%COMP%]{position:relative;min-height:45vh;background-image:url(/sportscenterchampionships/assets/images/homeHeader.jpeg);background-size:cover;background-position:center;display:flex;flex-direction:column}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0000,#00000080);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:auto;padding-bottom:3rem;max-width:720px}@media (max-width: 768px){.hero-header[_ngcontent-%COMP%]{min-height:23vh}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.title-section[_ngcontent-%COMP%]{position:relative;height:40vh;overflow:hidden;display:flex;align-items:center}.title-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}.title-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:720px}.sports-section[_ngcontent-%COMP%]{margin-top:.5rem}.sport-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.sport-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 25px #0003}.sport-image[_ngcontent-%COMP%]{height:180px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:16px}.features-section[_ngcontent-%COMP%]{padding:3rem 0;background-color:#f8f9fa}.feature-item[_ngcontent-%COMP%]{padding:1.75rem 1.25rem;border-radius:16px;background:#fff;height:100%;transition:transform .25s ease,box-shadow .25s ease}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014}.feature-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto .75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff}.feature-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.35rem;color:#222}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;line-height:1.4}@media (max-width: 576px){.feature-item[_ngcontent-%COMP%]{padding:1.25rem}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.icon-league[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7fa9c4,#6c96b1)}.icon-notify[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fbf9f,#7eaf90)}.icon-free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f2b36d,#c97a5a)}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:.5rem;font-weight:600;color:#222}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.5;margin:0}@media (min-width: 768px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.title-section[_ngcontent-%COMP%]{margin-top:3.4rem;height:10vh}.title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.sport-image[_ngcontent-%COMP%]{height:110px}@media (max-width: 576px){.sports-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.sport-body[_ngcontent-%COMP%]{padding:12px}.sport-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.95rem}.sport-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 768px){.sport-image[_ngcontent-%COMP%]{height:180px}}"]})};var CE=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(A(Dn),A(sn))};static \u0275dir=ve({type:t})}return t})(),Ra=(()=>{class t extends CE{static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,features:[st]})}return t})(),Jo=new j(""),HR={provide:Jo,useExisting:Et(()=>Ci),multi:!0},Ci=(()=>{class t extends Ra{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Wt([HR]),st]})}return t})(),zR={provide:Jo,useExisting:Et(()=>$e),multi:!0};function WR(){let t=qt()?qt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qR=new j(""),$e=(()=>{class t extends CE{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!WR())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(A(Dn),A(sn),A(qR,8))};static \u0275dir=ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Wt([zR]),st]})}return t})();function EE(t){return t==null||DE(t)===0}function DE(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Yo=new j(""),SE=new j("");function GR(t){return n=>{if(n.value==null||t==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function ZR(t){return EE(t.value)?{required:!0}:null}function KR(t){return n=>{let e=n.value?.length??DE(n.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function JR(t){if(!t)return Sg;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(EE(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Sg(t){return null}function IE(t){return t!=null}function ME(t){return dr(t)?Me(t):t}function xE(t){let n={};return t.forEach(e=>{n=e!=null?S(S({},n),e):n}),Object.keys(n).length===0?null:n}function TE(t,n){return n.map(e=>e(t))}function YR(t){return!t.validate}function OE(t){return t.map(n=>YR(n)?n:e=>n.validate(e))}function QR(t){if(!t)return null;let n=t.filter(IE);return n.length==0?null:function(e){return xE(TE(e,n))}}function Tg(t){return t!=null?QR(OE(t)):null}function XR(t){if(!t)return null;let n=t.filter(IE);return n.length==0?null:function(e){let r=TE(e,n).map(ME);return uf(r).pipe(re(xE))}}function Og(t){return t!=null?XR(OE(t)):null}function pE(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function eN(t){return t._rawValidators}function tN(t){return t._rawAsyncValidators}function Ig(t){return t?Array.isArray(t)?t:[t]:[]}function sd(t,n){return Array.isArray(t)?t.includes(n):t===n}function mE(t,n){let e=Ig(n);return Ig(t).forEach(i=>{sd(e,i)||e.push(i)}),e}function gE(t,n){return Ig(n).filter(e=>!sd(t,e))}var ad=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Tg(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Og(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Ko=class extends ad{name;get formDirective(){return null}get path(){return null}},Aa=class extends ad{_parent=null;name=null;valueAccessor=null},ld=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$5=ne(S({},nN),{"[class.ng-submitted]":"isSubmitted"}),nt=(()=>{class t extends ld{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(A(Aa,2))};static \u0275dir=ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&fr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[st]})}return t})(),Nn=(()=>{class t extends ld{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(A(Ko,10))};static \u0275dir=ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&fr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[st]})}return t})();var Ia="VALID",od="INVALID",Go="PENDING",Ma="DISABLED",kr=class{},cd=class extends kr{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Ta=class extends kr{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Oa=class extends kr{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},Zo=class extends kr{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Mg=class extends kr{source;constructor(n){super(),this.source=n}},xg=class extends kr{source;constructor(n){super(),this.source=n}};function AE(t){return(fd(t)?t.validators:t)||null}function rN(t){return Array.isArray(t)?Tg(t):t||null}function RE(t,n){return(fd(n)?n.asyncValidators:t)||null}function iN(t){return Array.isArray(t)?Og(t):t||null}function fd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function oN(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new P(1e3,"");if(!r[e])throw new P(1001,"")}function sN(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new P(1002,"")})}var ud=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return an(this.statusReactive)}set status(n){an(()=>this.statusReactive.set(n))}_status=As(()=>this.statusReactive());statusReactive=Ss(void 0);get valid(){return this.status===Ia}get invalid(){return this.status===od}get pending(){return this.status==Go}get disabled(){return this.status===Ma}get enabled(){return this.status!==Ma}errors;get pristine(){return an(this.pristineReactive)}set pristine(n){an(()=>this.pristineReactive.set(n))}_pristine=As(()=>this.pristineReactive());pristineReactive=Ss(!0);get dirty(){return!this.pristine}get touched(){return an(this.touchedReactive)}set touched(n){an(()=>this.touchedReactive.set(n))}_touched=As(()=>this.touchedReactive());touchedReactive=Ss(!1);get untouched(){return!this.touched}_events=new Le;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(mE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(mE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(gE(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(gE(n,this._rawAsyncValidators))}hasValidator(n){return sd(this._rawValidators,n)}hasAsyncValidator(n){return sd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(ne(S({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Oa(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Oa(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(ne(S({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Ta(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new Ta(!0,r))}markAsPending(n={}){this.status=Go;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Zo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(ne(S({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ma,this.errors=null,this._forEachChild(i=>{i.disable(ne(S({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new cd(this.value,r)),this._events.next(new Zo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(S({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ia,this._forEachChild(r=>{r.enable(ne(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(ne(S({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ia||this.status===Go)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new cd(this.value,e)),this._events.next(new Zo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(ne(S({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ma:Ia}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Go,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=ME(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Zo(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new _e,this.statusChanges=new _e}_calculateStatus(){return this._allControlsDisabled()?Ma:this.errors?od:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Go)?Go:this._anyControlsHaveStatus(od)?od:Ia}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new Ta(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Oa(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){fd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=rN(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=iN(this._rawAsyncValidators)}},dd=class extends ud{constructor(n,e,r){super(AE(e),RE(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){sN(this,!0,n),Object.keys(n).forEach(r=>{oN(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Ag=new j("",{providedIn:"root",factory:()=>Rg}),Rg="always";function aN(t,n){return[...n.path,t]}function NE(t,n,e=Rg){kE(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),cN(t,n),dN(t,n),uN(t,n),lN(t,n)}function vE(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function lN(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function kE(t,n){let e=eN(t);n.validator!==null?t.setValidators(pE(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=tN(t);n.asyncValidator!==null?t.setAsyncValidators(pE(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();vE(n._rawValidators,i),vE(n._rawAsyncValidators,i)}function cN(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&PE(t,n)})}function uN(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&PE(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function PE(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dN(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function fN(t,n){t==null,kE(t,n)}function hN(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function pN(t){return Object.getPrototypeOf(t.constructor)===Ra}function mN(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function gN(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===$e?e=o:pN(o)?r=o:i=o}),i||r||e||null}var vN={provide:Ko,useExisting:Et(()=>hn)},xa=Promise.resolve(),hn=(()=>{class t extends Ko{callSetDisabledState;get submitted(){return an(this.submittedReactive)}_submitted=As(()=>this.submittedReactive());submittedReactive=Ss(!1);_directives=new Set;form;ngSubmit=new _e;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new dd({},Tg(e),Og(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){xa.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),NE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){xa.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){xa.then(()=>{let r=this._findContainer(e.path),i=new dd({});fN(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){xa.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){xa.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),mN(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Mg(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new xg(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(A(Yo,10),A(SE,10),A(Ag,8))};static \u0275dir=ve({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&V("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Wt([vN]),st]})}return t})();function yE(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function _E(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yN=class extends ud{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(AE(e),RE(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(_E(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){yE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){yE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){_E(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var _N={provide:Aa,useExisting:Et(()=>Ke)},wE=Promise.resolve(),Ke=(()=>{class t extends Aa{_changeDetectorRef;callSetDisabledState;control=new yN;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _e;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gN(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),hN(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){NE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){wE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&mr(r);wE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?aN(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(A(Ko,9),A(Yo,10),A(SE,10),A(Jo,10),A(pr,8),A(Ag,8))};static \u0275dir=ve({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Wt([_N]),st,cr]})}return t})();var kn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),wN={provide:Jo,useExisting:Et(()=>Ng),multi:!0},Ng=(()=>{class t extends Ra{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Wt([wN]),st]})}return t})();var bN={provide:Jo,useExisting:Et(()=>Qt),multi:!0};function FE(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function CN(t){return t.split(":")[0]}var Qt=(()=>{class t extends Ra{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=FE(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=CN(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Wt([bN]),st]})}return t})(),Xt=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(FE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(A(sn),A(Dn),A(Qt,9))};static \u0275dir=ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),EN={provide:Jo,useExisting:Et(()=>LE),multi:!0};function bE(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function DN(t){return t.split(":")[0]}var LE=(()=>{class t extends Ra{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=DN(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Wt([EN]),st]})}return t})(),en=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(bE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(bE(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(A(sn),A(Dn),A(LE,9))};static \u0275dir=ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function SN(t){return typeof t=="number"?t:parseInt(t,10)}function IN(t){return typeof t=="number"?t:parseFloat(t)}var hd=(()=>{class t{_validator=Sg;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Sg,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ve({type:t,features:[cr]})}return t})();var MN={provide:Yo,useExisting:Et(()=>kg),multi:!0},kg=(()=>{class t extends hd{min;inputName="min";normalizeInput=e=>IN(e);createValidator=e=>GR(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Wt([MN]),st]})}return t})(),xN={provide:Yo,useExisting:Et(()=>Na),multi:!0};var Na=(()=>{class t extends hd{required;inputName="required";normalizeInput=mr;createValidator=e=>ZR;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Wt([xN]),st]})}return t})();var TN={provide:Yo,useExisting:Et(()=>ka),multi:!0},ka=(()=>{class t extends hd{maxlength;inputName="maxlength";normalizeInput=e=>SN(e);createValidator=e=>KR(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Wt([TN]),st]})}return t})(),ON={provide:Yo,useExisting:Et(()=>Pa),multi:!0},Pa=(()=>{class t extends hd{pattern;inputName="pattern";normalizeInput=e=>e;createValidator=e=>JR(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=At(t)))(i||t)}})();static \u0275dir=ve({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ye("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Wt([ON]),st]})}return t})();var AN=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=Gn({})}return t})();var Re=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ag,useValue:e.callSetDisabledState??Rg}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jn({type:t});static \u0275inj=Gn({imports:[AN]})}return t})();var pd=class t{sb=D(ct);constructor(){}createUser(n){return g(this,null,function*(){let e=yield this.sb.getUser();if(!e)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").insert(S({id:e.id},n));if(r)throw r})}updateUser(n){return g(this,null,function*(){let e=yield this.sb.getUser();if(!e)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").update(n).eq("id",e.id);if(r)throw r})}deleteUserProfile(){return g(this,null,function*(){let n=yield this.sb.getUser();if(!n)throw new Error("User not authenticated");let{error:e}=yield this.sb.supabase.from("users").delete().eq("id",n.id);if(e)throw e})}getUserTeams(n){return g(this,null,function*(){return this.sb.supabase.from("teams").select("id, name, image, gender").eq("active",!0)})}getUpcomingGames(){return g(this,null,function*(){return this.sb.supabase.from("games").select(`
        id,
        date,
        type,
        team1:team1_id ( id, name, image ),
        team2:team2_id ( id, name, image )
      `).order("date",{ascending:!0})})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})};function RN(t,n){if(t&1){let e=be();d(0,"input",7),T("ngModelChange",function(i){q(e);let o=B().$implicit;return O(o.level,i)||(o.level=i),G(i)}),f()}if(t&2){let e=B().$implicit;vc("name","level-",e.key,""),x("ngModel",e.level)}}function NN(t,n){if(t&1){let e=be();d(0,"div",2)(1,"div",3),V("click",function(){let i=q(e).$implicit,o=B();return G(o.toggleSport(i))}),M(2,"div",4),d(3,"div",5)(4,"span"),m(5),f()()(),L(6,RN,1,3,"input",6),f()}if(t&2){let e=n.$implicit,r=B();v(),fr("selected",e.selected)("disabled",e.disabled),v(),xs("background-image","url("+e.image+")"),v(),b("ngClass",e.color),v(2),Y(e.name),v(),b("ngIf",e.selected&&r.showLevel)}}var md=class t{initialSports=null;showLevel=!1;sportsSelected=new _e;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];ngOnInit(){if(this.initialSports&&this.initialSports.length){let n=new Map(this.initialSports.map(e=>[e.key,e]));this.sports=this.sports.map(e=>{let r=n.get(e.key);return r?S(S({},e),r):e}),this.emitSelected()}}toggleSport(n){n.disabled||(n.selected=!n.selected,n.selected||(n.level=""),this.emitSelected())}emitSelected(){let n=this.sports.filter(e=>e.selected);this.sportsSelected.emit(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-sports-selector"]],inputs:{initialSports:"initialSports",showLevel:"showLevel"},outputs:{sportsSelected:"sportsSelected"},decls:2,vars:1,consts:[[1,"row","g-3","mb-4"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-3"],[1,"sport-card",3,"click"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],["type","text","class","form-control mt-2","placeholder","Nivel",3,"ngModel","name","ngModelChange",4,"ngIf"],["type","text","placeholder","Nivel",1,"form-control","mt-2",3,"ngModelChange","ngModel","name"]],template:function(e,r){e&1&&(d(0,"div",0),L(1,NN,7,9,"div",1),f()),e&2&&(v(),b("ngForOf",r.sports))},dependencies:[Z,ei,xe,de,Re,$e,nt,Ke],styles:[".sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s,box-shadow .2s;background:#fff;border:1px solid #e5e7eb}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb33,0 10px 20px #00000014}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center;font-weight:600}"]})};var gd=class t{constructor(n,e){this.router=n;this.location=e;this.router.events.pipe(ut(r=>r instanceof It)).subscribe(r=>{let i=r.urlAfterRedirects;this.stack[this.stack.length-1]!==i&&(this.stack.push(i),this.stack.length>this.max&&this.stack.shift())})}stack=[];max=50;canGoBack(){return this.stack.length>1}getPreviousUrl(){return this.stack.length>1?this.stack[this.stack.length-2]:null}goBack(n){this.canGoBack()?this.location.back():n?this.router.navigateByUrl(n):this.router.navigateByUrl("/")}getRouteFallback(n){return n.snapshot.data?.backTo}static \u0275fac=function(e){return new(e||t)($(ce),$(Sn))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})};function PN(t,n){if(t&1&&(d(0,"span",5),m(1),f()),t&2){let e=B();v(),Y(e.label)}}var rt=class t{constructor(n,e,r){this.nav=n;this.route=e;this.router=r}label="Volver";iconOnly=!1;fallbackUrl;ariaLabel="Volver";onBack(){let n=this.fallbackUrl??this.nav.getRouteFallback(this.route)??"/";this.nav.goBack(n)}static \u0275fac=function(e){return new(e||t)(A(gd),A(Mt),A(ce))};static \u0275cmp=H({type:t,selectors:[["app-back-button"]],inputs:{label:"label",iconOnly:"iconOnly",fallbackUrl:"fallbackUrl",ariaLabel:"ariaLabel"},decls:5,vars:2,consts:[["type","button",1,"back-btn",3,"click"],["aria-hidden","true",1,"icon"],["viewBox","0 0 24 24","width","20","height","20","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","15 18 9 12 15 6"],["class","label",4,"ngIf"],[1,"label"]],template:function(e,r){e&1&&(d(0,"button",0),V("click",function(){return r.onBack()}),d(1,"span",1),m0(),d(2,"svg",2),M(3,"polyline",3),f()(),L(4,PN,2,1,"span",4),f()),e&2&&(Ye("aria-label",r.ariaLabel),v(4),b("ngIf",!r.iconOnly))},dependencies:[Z,de],styles:[".back-btn[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid rgba(0,0,0,.08);border-radius:9999px;background:linear-gradient(180deg,#fff,#f6f7fb);color:#1f2937;box-shadow:0 2px 6px #00000014,inset 0 -1px #0000000a;cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .1s ease,box-shadow .15s ease,background .15s ease}.back-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #0000001a,inset 0 -1px #0000000a}.back-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.back-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center}.label[_ngcontent-%COMP%]{font-weight:600;font-size:14px}@media (prefers-color-scheme: dark){.back-btn[_ngcontent-%COMP%]{background:linear-gradient(180deg,#262b36,#1f2430);color:#e5e7eb;border-color:#ffffff14;box-shadow:0 2px 6px #00000080,inset 0 -1px #ffffff08}}"]})};function FN(t,n){t&1&&(d(0,"span"),m(1,"Crear cuenta"),f())}function LN(t,n){t&1&&M(0,"span",42)}function jN(t,n){t&1&&(d(0,"span"),m(1,"Siguiente TEST"),f())}var vd=class t{profile={name:"",email:"",password:"",phone:"",language:"es",avatar_url:"",zone:"",city:"",position:"",birthdate:"",gender:"",notifications:!0};loading=!1;avatarFile=null;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];selectedSports=[];supabase=D(ct);userService=D(pd);router=D(ce);constructor(){}onAvatarSelected(n){return g(this,null,function*(){let e=n.target.files[0];if(!e)return;let r=yield this.supabase.uploadAvatar(e);r&&(this.profile.avatar_url=r)})}onSportsSelected(n){this.selectedSports=n}saveProfile(){return g(this,null,function*(){try{this.loading=!0;let{data:n,error:e}=yield this.supabase.signUp(this.profile.email,this.profile.password);if(e)throw e;this.avatarFile&&(this.profile.avatar_url=yield this.supabase.uploadAvatar(this.avatarFile)),yield this.userService.createUser({name:this.profile.name,email:this.profile.email,avatar_url:this.profile.avatar_url,language:this.profile.language,birth_date:this.profile.birthdate,gender:this.profile.gender,position:this.profile.position,notifications:this.profile.notifications,city:this.profile.city,zone:this.profile.zone});let{data:r,error:i}=yield this.supabase.signInWithEmail(this.profile.email,this.profile.password);if(i)throw i;console.log("Login after sign up:",r)}catch(n){console.error(n)}finally{this.loading=!1,this.router.navigate(["/user_onboarding"])}})}goToNextTest(){this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-user-profile"]],decls:66,vars:17,consts:[["form","ngForm"],[1,"onboarding-hero"],[1,"overlay"],["label","Volver"],[1,"onboarding-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"avatar-upload"],["alt","Avatar",1,"avatar-preview",3,"src"],[1,"upload-btn"],["type","file","hidden","","accept","image/*",3,"change"],["placeholder","Nombre","name","name","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["placeholder","Email","name","email","required","",1,"form-control","mb-3",3,"ngModelChange","value","ngModel"],["type","password","placeholder","Contrase\xF1a","name","password","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","language",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","es"],["value","en"],["value","ca"],["type","date","name","birthdate","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","gender","required","",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","male"],["value","female"],["value","other"],["name","position",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","drive"],["value","reves"],["value","indiferente"],["type","text","placeholder","Poblaci\xF3n","name","city","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","zone","required","",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","north"],["value","center"],["value","south"],[1,"form-check","form-switch","mb-4"],["type","checkbox","id","notifications","name","notifications",1,"form-check-input",3,"ngModelChange","ngModel"],["for","notifications",1,"form-check-label"],[1,"section-title"],[3,"sportsSelected","showLevel"],["type","submit",1,"mobile-submit",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["type","submit",1,"mobile-submit",3,"click"],[1,"spinner"]],template:function(e,r){if(e&1){let i=be();d(0,"div",1),M(1,"div",2)(2,"app-back-button",3),d(3,"div",4)(4,"h2"),m(5,"Bienvenido \u{1F44B}"),f(),d(6,"p",5),m(7,"Crea tu perfil y empieza a competir"),f(),d(8,"form",6,0),V("ngSubmit",function(){return q(i),G(r.saveProfile())}),d(10,"div",7),M(11,"img",8),d(12,"label",9),m(13," Cambiar foto "),d(14,"input",10),V("change",function(s){return q(i),G(r.onAvatarSelected(s))}),f()()(),d(15,"input",11),T("ngModelChange",function(s){return q(i),O(r.profile.name,s)||(r.profile.name=s),G(s)}),f(),d(16,"input",12),T("ngModelChange",function(s){return q(i),O(r.profile.email,s)||(r.profile.email=s),G(s)}),f(),d(17,"input",13),T("ngModelChange",function(s){return q(i),O(r.profile.password,s)||(r.profile.password=s),G(s)}),f(),d(18,"select",14),T("ngModelChange",function(s){return q(i),O(r.profile.language,s)||(r.profile.language=s),G(s)}),d(19,"option",15),m(20,"\u{1F1EA}\u{1F1F8} Espa\xF1ol"),f(),d(21,"option",16),m(22,"\u{1F1EC}\u{1F1E7} English"),f(),d(23,"option",17),m(24," Valenci\xE0"),f()(),d(25,"input",18),T("ngModelChange",function(s){return q(i),O(r.profile.birthdate,s)||(r.profile.birthdate=s),G(s)}),f(),d(26,"select",19),T("ngModelChange",function(s){return q(i),O(r.profile.gender,s)||(r.profile.gender=s),G(s)}),d(27,"option",20),m(28,"Sexo"),f(),d(29,"option",21),m(30,"Hombre"),f(),d(31,"option",22),m(32,"Mujer"),f(),d(33,"option",23),m(34,"Otro"),f()(),d(35,"select",24),T("ngModelChange",function(s){return q(i),O(r.profile.position,s)||(r.profile.position=s),G(s)}),d(36,"option",20),m(37,"Posici\xF3n"),f(),d(38,"option",25),m(39,"Drive"),f(),d(40,"option",26),m(41,"Rev\xE9s"),f(),d(42,"option",27),m(43,"Indiferente"),f()(),d(44,"input",28),T("ngModelChange",function(s){return q(i),O(r.profile.city,s)||(r.profile.city=s),G(s)}),f(),d(45,"select",29),T("ngModelChange",function(s){return q(i),O(r.profile.zone,s)||(r.profile.zone=s),G(s)}),d(46,"option",20),m(47,"Zona de preferencia"),f(),d(48,"option",30),m(49,"Zona Norte"),f(),d(50,"option",31),m(51,"Zona Centro"),f(),d(52,"option",32),m(53,"Zona Sur"),f()(),d(54,"div",33)(55,"input",34),T("ngModelChange",function(s){return q(i),O(r.profile.notifications,s)||(r.profile.notifications=s),G(s)}),f(),d(56,"label",35),m(57," Recibir notificaciones "),f()(),d(58,"h4",36),m(59,"Deportes que practicas"),f(),d(60,"app-sports-selector",37),V("sportsSelected",function(s){return q(i),G(r.onSportsSelected(s))}),f(),d(61,"button",38),L(62,FN,2,0,"span",39)(63,LN,1,0,"span",40),f(),d(64,"button",41),V("click",function(){return q(i),G(r.goToNextTest())}),L(65,jN,2,0,"span",39),f()()()()}if(e&2){let i=hr(9);v(11),b("src",r.profile.avatar_url||"assets/images/default-avatar.jpg",Je),v(4),x("ngModel",r.profile.name),v(),b("value",r.profile.email),x("ngModel",r.profile.email),v(),x("ngModel",r.profile.password),v(),x("ngModel",r.profile.language),v(7),x("ngModel",r.profile.birthdate),v(),x("ngModel",r.profile.gender),v(9),x("ngModel",r.profile.position),v(9),x("ngModel",r.profile.city),v(),x("ngModel",r.profile.zone),v(10),x("ngModel",r.profile.notifications),v(5),b("showLevel",!0),v(),b("disabled",r.loading||!i.valid),v(),b("ngIf",!r.loading),v(),b("ngIf",r.loading),v(2),b("ngIf",!r.loading)}},dependencies:[Z,de,Re,kn,Xt,en,$e,Ci,Qt,nt,Nn,Na,Ke,hn,md,rt],styles:[".onboarding-hero[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/images/homeHeader.jpeg) center / cover;display:flex;justify-content:center;align-items:center}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000008c}.onboarding-card[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:1rem;width:100%;max-width:520px;z-index:2}.avatar-upload[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.avatar-preview[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;object-fit:cover}.upload-btn[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#2563eb;cursor:pointer}.sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.mobile-submit[_ngcontent-%COMP%]{position:inherit;bottom:1rem;width:100%;padding:1rem;border-radius:999px;background:linear-gradient(135deg,#2563eb,#1e40af);color:#fff;font-size:1.05rem;font-weight:600;border:none;box-shadow:0 10px 25px #2563eb59;transition:transform .15s ease,box-shadow .15s ease,opacity .15s;z-index:5}.mobile-submit[_ngcontent-%COMP%]:active{transform:scale(.97);box-shadow:0 6px 16px #2563eb40}.mobile-submit[_ngcontent-%COMP%]:disabled{opacity:.5;box-shadow:none}.spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:3px solid rgba(255,255,255,.4);border-top-color:#fff;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function VN(t,n){if(t&1&&(d(0,"div",14),m(1),f()),t&2){let e=B();v(),qe(" ",e.error," ")}}var yd=class t{constructor(n,e){this.supabase=n;this.router=e}email="";password="";loading=!1;error=null;loginWithEmail(){return g(this,null,function*(){this.loading=!0,this.error=null;let{data:n,error:e}=yield this.supabase.signInWithEmail(this.email,this.password);this.loading=!1,e?this.error=e.message:n?.user&&this.router.navigate(["/dashboard"])})}loginWithGoogle(){return g(this,null,function*(){let{data:n,error:e}=yield this.supabase.signInWithGoogle();e?this.error=e.message:n?.url&&this.router.navigate(["/dashboard"])})}goToOnboarding(){this.router.navigate(["/user-profile"])}static \u0275fac=function(e){return new(e||t)(A(ct),A(ce))};static \u0275cmp=H({type:t,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"login-container"],[1,"login-card","shadow"],[1,"mb-4","text-center"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","tu@email.com",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"separator"],[1,"btn","btn-outline-dark","w-100","mb-3","d-flex","align-items-center","justify-content-center","gap-2",3,"click"],["src","assets/icons/google-icon.svg","width","18"],[1,"text-center","mt-3"],[1,"register-link",3,"click"],[1,"alert","alert-danger"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h2",2),m(3,"Iniciar sesi\xF3n"),f(),L(4,VN,2,1,"div",3),d(5,"div",4)(6,"label",5),m(7,"Email"),f(),d(8,"input",6),T("ngModelChange",function(o){return O(r.email,o)||(r.email=o),o}),f()(),d(9,"div",4)(10,"label",5),m(11,"Contrase\xF1a"),f(),d(12,"input",7),T("ngModelChange",function(o){return O(r.password,o)||(r.password=o),o}),f()(),d(13,"button",8),V("click",function(){return r.loginWithEmail()}),m(14," Entrar "),f(),d(15,"div",9),m(16,"o"),f(),d(17,"button",10),V("click",function(){return r.loginWithGoogle()}),M(18,"img",11),m(19," Entrar con Google "),f(),d(20,"p",12),m(21," \xBFNo tienes cuenta? "),d(22,"a",13),V("click",function(){return r.goToOnboarding()}),m(23," Darse de alta "),f()()()()),e&2&&(v(4),b("ngIf",r.error),v(4),x("ngModel",r.email),v(4),x("ngModel",r.password),v(),b("disabled",r.loading))},dependencies:[Z,de,Re,$e,nt,Ke],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#1e3c72,#2a5298)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;width:100%;max-width:400px;border-radius:12px}.separator[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;color:#888}.register-link[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;text-decoration:underline}"]})};var UN=()=>["/team"];function BN(t,n){if(t&1&&(Qr(0),d(1,"div",1)(2,"div",2),M(3,"img",3),d(4,"div",4)(5,"div",5)(6,"div",6),m(7),f()()()()(),Xr()),t&2){let e=B();v(),b("routerLink",yc(5,UN)),Ye("aria-label","Editar equipo "+e.team.name),v(2),Ts("alt",e.team.name),b("src",e.team.image||"assets/images/team-default.png",Je),v(4),Y(e.team.name)}}var Qo=class t{team;isAdd=!1;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-team-card"]],inputs:{team:"team",isAdd:"isAdd"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"team-card",3,"routerLink"],[1,"image-wrap"],[3,"src","alt"],[1,"my-game-overlay"],[1,"my-game-info"],[1,"name"]],template:function(e,r){e&1&&L(0,BN,8,6,"ng-container",0),e&2&&b("ngIf",r.team)},dependencies:[Z,de,Xn,yo],styles:[".team-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026;display:flex;flex-direction:column;gap:0}.image-wrap[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:0;overflow:hidden;box-shadow:none;background:linear-gradient(135deg,#f0f4ff,#e8f0fe);transform:translateZ(0)}.image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.team-card[_ngcontent-%COMP%]:hover   .image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#fff;text-align:left;padding:.75rem;text-shadow:1px 0 0 #000,-1px 0 0 #000,0 1px 0 #000,0 -1px 0 #000,1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000}.my-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.my-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.team-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}}"]})};function $N(t,n){if(t&1&&M(0,"app-team-card",11),t&2){let e=n.$implicit;b("team",e)}}var _d=class t{constructor(n){this.router=n}teams;ngOnInit(){this.teams||(this.teams=[{id:1,name:"Equipo ejemplo",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"}])}onCreateTeam(){this.router.navigate(["/team"])}onJoinTeam(){this.router.navigate(["/team/join"])}static \u0275fac=function(e){return new(e||t)(A(ce))};static \u0275cmp=H({type:t,selectors:[["app-my-teams"]],inputs:{teams:"teams"},decls:12,vars:1,consts:[[1,"my-games-section"],[1,"container"],[1,"section-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-0"],[1,"d-flex","align-items-center","gap-2"],["title","Crear equipo",1,"action-btn",3,"click"],["src","assets/icons/team-new.png","alt","Nuevo equipo",1,"button-icon"],["title","Unirse a equipo",1,"action-btn",3,"click"],["src","assets/icons/team-add.png","alt","Unirse a equipo",1,"button-icon"],[1,"my-games-scroll"],[3,"team",4,"ngFor","ngForOf"],[3,"team"]],template:function(e,r){e&1&&(d(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),m(4,"Mis equipos"),f(),d(5,"div",4)(6,"button",5),V("click",function(){return r.onCreateTeam()}),M(7,"img",6),f(),d(8,"button",7),V("click",function(){return r.onJoinTeam()}),M(9,"img",8),f()()(),d(10,"div",9),L(11,$N,1,1,"app-team-card",10),f()()()),e&2&&(v(11),b("ngForOf",r.teams))},dependencies:[Z,xe,Qo],styles:[".my-games-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-games-scroll[_ngcontent-%COMP%]   app-team-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.button-icon[_ngcontent-%COMP%]{width:24px;height:24px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.4rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;box-shadow:0 1px 2px #0000000f;cursor:pointer;transition:background .2s ease,box-shadow .2s ease,transform .06s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7;box-shadow:0 2px 6px #0000001f}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}"]})};function HN(t,n){if(t&1){let e=be();d(0,"button",8),V("click",function(i){q(e);let o=B(2);return G(o.editCompetition(i))}),m(1," \u270F\uFE0F "),f()}}function zN(t,n){if(t&1){let e=be();Qr(0),d(1,"div",1),V("click",function(){q(e);let i=B();return G(i.goToClassification())}),L(2,HN,2,0,"button",2),d(3,"div",3),M(4,"img",4),d(5,"div",5)(6,"div",6)(7,"div",7),m(8),f()()()()(),Xr()}if(t&2){let e=B();v(),Ye("aria-label","Editar equipo desde campeonato "+e.competition.name),v(),b("ngIf",e.isCreator),v(2),Ts("alt",e.competition.name),b("src",e.competition.image||"assets/images/sports-center.jpeg",Je),v(4),Y(e.competition.name)}}var Xo=class t{constructor(n){this.router=n}competition;isAdd=!1;isCreator=!1;editCompetition(n){n.stopPropagation(),this.competition&&this.router.navigate(["/competition"],{state:{competition:this.competition}})}goToClassification(){this.competition&&this.router.navigate(["/classification",this.competition.id])}static \u0275fac=function(e){return new(e||t)(A(ce))};static \u0275cmp=H({type:t,selectors:[["app-competition-card"]],inputs:{competition:"competition",isAdd:"isAdd",isCreator:"isCreator"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"competition-card",3,"click"],["type","button","class","edit-btn","aria-label","Editar competici\xF3n",3,"click",4,"ngIf"],[1,"image-wrap"],[3,"src","alt"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"name"],["type","button","aria-label","Editar competici\xF3n",1,"edit-btn",3,"click"]],template:function(e,r){e&1&&L(0,zN,9,5,"ng-container",0),e&2&&b("ngIf",r.competition)},dependencies:[Z,de,Xn],styles:[".competition-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026;display:grid;grid-template-rows:auto 1fr;gap:0;padding:0;background:#fff}.competition-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0000001f}.image-wrap[_ngcontent-%COMP%]{position:relative;width:100%;height:160px;padding-top:0;overflow:hidden;border-radius:0;background:#f3f4f6}.image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}.name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#fff;text-align:left;padding:.75rem;text-shadow:1px 0 0 #000,-1px 0 0 #000,0 1px 0 #000,0 -1px 0 #000,1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.competition-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}.name[_ngcontent-%COMP%]{font-size:1.05rem}}"]})};function WN(t,n){if(t&1&&M(0,"app-competition-card",11),t&2){let e=n.$implicit;b("competition",e)}}var wd=class t{constructor(n){this.router=n}competitions;accessCode="";ngOnInit(){this.competitions||(this.competitions=[{id:1,name:"Campeonato ejemplo",sport_id:1,sport_name:"tennis",image:"assets/images/sample-league-tennis.jpeg",is_open:!0}])}onCreateCompetition(){this.router.navigate(["/competition"])}onJoinCompetition(){let n=String(this.accessCode||"").trim();if(n&&!/^\d{6}$/.test(n)){alert("Introduce un c\xF3digo de acceso de 6 cifras");return}let e=n?{queryParams:{code:n}}:void 0;this.router.navigate(["/competition/join"],e)}static \u0275fac=function(e){return new(e||t)(A(ce))};static \u0275cmp=H({type:t,selectors:[["app-my-competitions"]],inputs:{competitions:"competitions"},decls:12,vars:1,consts:[[1,"my-competition-section"],[1,"container"],[1,"section-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-0"],[1,"d-flex","align-items-center","gap-2"],["title","Nuevo campeonato",1,"action-btn",3,"click"],["src","assets/icons/championship-new.png","alt","Nuevo",1,"button-icon"],["title","Unirse a campeonato",1,"action-btn",3,"click"],["src","assets/icons/championship-add.png","alt","Unirse",1,"button-icon"],[1,"my-competition-scroll"],[3,"competition",4,"ngFor","ngForOf"],[3,"competition"]],template:function(e,r){e&1&&(d(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),m(4,"Mis campeonatos"),f(),d(5,"div",4)(6,"button",5),V("click",function(){return r.onCreateCompetition()}),M(7,"img",6),f(),d(8,"button",7),V("click",function(){return r.onJoinCompetition()}),M(9,"img",8),f()()(),d(10,"div",9),L(11,WN,1,1,"app-competition-card",10),f()()()),e&2&&(v(11),b("ngForOf",r.competitions))},dependencies:[Z,xe,Re,Xo],styles:[".my-competition-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-competition-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-competition-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-competition-scroll[_ngcontent-%COMP%]   app-competition-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.button-icon[_ngcontent-%COMP%]{width:24px;height:24px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.4rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;box-shadow:0 1px 2px #0000000f;cursor:pointer;transition:background .2s ease,box-shadow .2s ease,transform .06s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7;box-shadow:0 2px 6px #0000001f}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}"]})};var bd=class t{constructor(n){this.router=n}user={name:"Albert",avatar:"assets/images/default-avatar.jpg"};teams=[{id:1,name:"Ace Masters",sport_id:1,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},{id:2,name:"Baseline Kings",sport_id:1,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"}];competitions=[{id:1,name:"Liga Club Tenis",image:null,sport_id:1,sport_name:"padel",type:"league",level:3,start_date:"2025-01-15",location:"Club Deportivo Central",is_open:!0},{id:2,name:"Torneo de Invierno",image:null,sport_id:1,sport_name:"padel",type:"tournament",level:3,start_date:"2025-02-01",location:"Real Club de Tenis",is_open:!1}];games=[{id:101,competition_id:1,date:"2025-01-22T18:30:00",type:"league",sport_id:"tennis",sport_name:"tennis",location:"Club Deportivo Central",level:3,team1:this.teams[0],team2:this.teams[1]},{id:102,competition_id:1,date:"2025-01-29T19:00:00",type:"league",sport_id:"tennis",sport_name:"tennis",location:"Club Deportivo Central",level:3,team1:this.teams[1],team2:this.teams[0]},{id:201,competition_id:2,date:"2025-02-05T20:00:00",type:"tournament",sport_id:"tennis",sport_name:"tennis",location:"Real Club de Tenis",level:3,team1:this.teams[0],team2:this.teams[1]},{id:202,competition_id:2,date:"2025-02-12T20:30:00",type:"tournament",sport_id:"tennis",sport_name:"tennis",location:"Real Club de Tenis",level:3,team1:this.teams[1],team2:this.teams[0]}];goToNotifications(){this.router.navigate(["/notifications"])}static \u0275fac=function(e){return new(e||t)(A(ce))};static \u0275cmp=H({type:t,selectors:[["app-user-dashboard"]],decls:18,vars:5,consts:[[1,"dashboard-header"],[1,"user-info"],[1,"avatar",3,"src"],[1,"subtitle"],["title","Notificaciones",1,"notif-btn",3,"click"],[1,"badge"],[1,"section"],[3,"games"],[3,"teams"],[3,"competitions"]],template:function(e,r){e&1&&(d(0,"header",0)(1,"div",1),M(2,"img",2),d(3,"div")(4,"h3"),m(5),f(),d(6,"span",3),m(7,"Bienvenido de nuevo"),f()()(),d(8,"button",4),V("click",function(){return r.goToNotifications()}),m(9," \u{1F514} "),M(10,"span",5),f()(),d(11,"section",6),M(12,"app-my-games",7),f(),d(13,"section",6),M(14,"app-my-teams",8),f(),d(15,"section",6),M(16,"app-my-competitions",9),f(),M(17,"app-footer")),e&2&&(v(2),b("src",r.user.avatar,Je),v(3),qe("Hola, ",r.user.name,""),v(7),b("games",r.games),v(2),b("teams",r.teams),v(2),b("competitions",r.competitions))},dependencies:[Z,_d,wd,qo,Wo],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.user-info[_ngcontent-%COMP%]{display:flex;gap:.8rem}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%}.notif-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.3rem;position:relative}.badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:8px;height:8px;background:red;border-radius:50%}.section[_ngcontent-%COMP%]{padding:1rem}.section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .6rem;font-size:1rem;font-weight:700;color:#0f172a}.horizontal-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem}.carousel[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;overflow-x:auto;padding:.25rem .25rem .75rem;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}.carousel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.snap[_ngcontent-%COMP%]{scroll-snap-align:start}.card[_ngcontent-%COMP%]{min-width:160px;background:#fff;border-radius:1rem;padding:1rem;box-shadow:0 6px 20px #00000014}.add-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:2rem;color:#2563eb}.empty-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:.8rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.stat[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.8rem;padding:1rem;text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.dashboard-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;display:flex;justify-content:space-around;padding:.8rem;background:#fff;border-top:1px solid #eee}.add-card[_ngcontent-%COMP%]{min-width:60px;height:45px;border-radius:16px;border:2px dashed #93c5fd;background:#eff6ff;color:#2563eb;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.25rem;box-shadow:0 6px 20px #2563eb1f}.plus[_ngcontent-%COMP%]{font-size:2rem;line-height:1}.label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600}.button-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]})};var Cd=class t{center={name:"",google_maps_url:"",address:"",city:"",phone:"",website:""};submit(){console.log("Centro deportivo:",this.center)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-sports-center-form"]],decls:43,vars:7,consts:[["form","ngForm"],[1,"center-page"],[1,"container","py-5"],["label","Volver"],[1,"row","justify-content-center"],[1,"col-12","col-md-9","col-lg-6"],[1,"card","shadow-lg","center-card"],[1,"card-image"],["src","assets/images/sports-center.jpeg","alt","Centro deportivo"],[1,"card-body","p-4"],[1,"fw-bold","text-center","mb-2"],[1,"text-muted","text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","name","name","required","","placeholder","Ej. Centro Deportivo Municipal",1,"form-control",3,"ngModelChange","ngModel"],["type","url","name","google_maps_url","placeholder","https://maps.google.com/...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],["type","text","name","address","placeholder","Calle, n\xFAmero",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","city","placeholder","Ciudad",1,"form-control",3,"ngModelChange","ngModel"],["type","tel","name","phone","placeholder","+34 600 000 000",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["type","url","name","website","placeholder","https://...",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"]],template:function(e,r){if(e&1){let i=be();d(0,"div",1)(1,"div",2),M(2,"app-back-button",3),d(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),M(7,"img",8),f(),d(8,"div",9)(9,"h2",10),m(10," A\xF1adir centro deportivo "),f(),d(11,"p",11),m(12," Introduce los datos b\xE1sicos o pega el enlace de Google Maps "),f(),d(13,"form",12,0),V("ngSubmit",function(){return q(i),G(r.submit())}),d(15,"div",13)(16,"label",14),m(17,"Nombre del centro *"),f(),d(18,"input",15),T("ngModelChange",function(s){return q(i),O(r.center.name,s)||(r.center.name=s),G(s)}),f()(),d(19,"div",13)(20,"label",14),m(21," Enlace de Google Maps "),f(),d(22,"input",16),T("ngModelChange",function(s){return q(i),O(r.center.google_maps_url,s)||(r.center.google_maps_url=s),G(s)}),f(),d(23,"small",17),m(24," Puedes copiarlo directamente desde Google Maps "),f()(),d(25,"div",13)(26,"label",14),m(27,"Direcci\xF3n"),f(),d(28,"input",18),T("ngModelChange",function(s){return q(i),O(r.center.address,s)||(r.center.address=s),G(s)}),f()(),d(29,"div",13)(30,"label",14),m(31,"Ciudad"),f(),d(32,"input",19),T("ngModelChange",function(s){return q(i),O(r.center.city,s)||(r.center.city=s),G(s)}),f()(),d(33,"div",13)(34,"label",14),m(35,"Tel\xE9fono"),f(),d(36,"input",20),T("ngModelChange",function(s){return q(i),O(r.center.phone,s)||(r.center.phone=s),G(s)}),f()(),d(37,"div",21)(38,"label",14),m(39,"P\xE1gina web"),f(),d(40,"input",22),T("ngModelChange",function(s){return q(i),O(r.center.website,s)||(r.center.website=s),G(s)}),f()(),d(41,"button",23),m(42," Guardar centro deportivo "),f()()()()()()()()}if(e&2){let i=hr(14);v(18),x("ngModel",r.center.name),v(4),x("ngModel",r.center.google_maps_url),v(6),x("ngModel",r.center.address),v(4),x("ngModel",r.center.city),v(4),x("ngModel",r.center.phone),v(4),x("ngModel",r.center.website),v(),b("disabled",!i.valid)}},dependencies:[Z,Re,kn,$e,nt,Nn,Na,Ke,hn,rt],styles:[".center-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e4ecf7)}.center-card[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden;border:none}.card-image[_ngcontent-%COMP%]{height:180px;overflow:hidden}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.form-control[_ngcontent-%COMP%]{border-radius:12px;padding:12px}.btn-primary[_ngcontent-%COMP%]{border-radius:14px;background:linear-gradient(135deg,#0d6efd,#0a58ca);border:none}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6}@media (max-width: 576px){.card-image[_ngcontent-%COMP%]{height:140px}}"]})};function qN(t,n){if(t&1){let e=be();d(0,"div",9)(1,"div",10)(2,"span",11),m(3,"Ma\xF1ana"),f(),d(4,"div",12)(5,"input",13),T("ngModelChange",function(i){q(e);let o=B().$implicit;return O(o.morning.start,i)||(o.morning.start=i),G(i)}),f(),d(6,"span"),m(7,"\u2013"),f(),d(8,"input",13),T("ngModelChange",function(i){q(e);let o=B().$implicit;return O(o.morning.end,i)||(o.morning.end=i),G(i)}),f()()(),d(9,"div",10)(10,"span",11),m(11,"Tarde"),f(),d(12,"div",12)(13,"input",13),T("ngModelChange",function(i){q(e);let o=B().$implicit;return O(o.afternoon.start,i)||(o.afternoon.start=i),G(i)}),f(),d(14,"span"),m(15,"\u2013"),f(),d(16,"input",13),T("ngModelChange",function(i){q(e);let o=B().$implicit;return O(o.afternoon.end,i)||(o.afternoon.end=i),G(i)}),f()()()()}if(t&2){let e=B().$implicit;v(5),x("ngModel",e.morning.start),v(3),x("ngModel",e.morning.end),v(5),x("ngModel",e.afternoon.start),v(3),x("ngModel",e.afternoon.end)}}function GN(t,n){if(t&1){let e=be();d(0,"div",2)(1,"div",3)(2,"span",4),m(3),f(),d(4,"label",5)(5,"input",6),T("ngModelChange",function(i){let o=q(e).$implicit;return O(o.enabled,i)||(o.enabled=i),G(i)}),f(),M(6,"span",7),f()(),L(7,qN,17,4,"div",8),f()}if(t&2){let e=n.$implicit;v(3),Y(e.label),v(2),x("ngModel",e.enabled),v(2),b("ngIf",e.enabled)}}var Ed=class t{days=[{key:"mon",label:"Lunes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"tue",label:"Martes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"wed",label:"Mi\xE9rcoles",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"thu",label:"Jueves",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"fri",label:"Viernes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"sat",label:"S\xE1bado",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"sun",label:"Domingo",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-team-availability"]],decls:4,vars:1,consts:[[1,"availability-card"],["class","day-card",4,"ngFor","ngForOf"],[1,"day-card"],[1,"day-header"],[1,"day-name"],[1,"switch"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"slider"],["class","day-times",4,"ngIf"],[1,"day-times"],[1,"time-block"],[1,"block-label"],[1,"time-row"],["type","time",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h5"),m(2,"Disponibilidad horaria"),f(),L(3,GN,8,3,"div",1),f()),e&2&&(v(3),b("ngForOf",r.days))},dependencies:[Z,xe,de,Re,$e,Ci,nt,Ke],styles:['.availability-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:20px;box-shadow:inset 0 0 0 1px #e9ecef}.availability-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:16px}.day-card[_ngcontent-%COMP%]{border-radius:16px;background:#f8f9fa;padding:14px;margin-bottom:12px}.day-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.day-name[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem}.day-times[_ngcontent-%COMP%]{margin-top:12px;display:grid;gap:12px}.time-block[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:10px}.block-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;display:block;margin-bottom:6px}.time-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.time-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border-radius:10px;border:1px solid #ced4da;padding:6px;font-size:.75rem}.switch[_ngcontent-%COMP%]{position:relative;width:44px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ced4da;border-radius:999px;transition:.2s}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background:#fff;border-radius:50%;transition:.2s}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#1e88e5}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}@media (min-width: 768px){.day-times[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}']})};var ZN=[{id:1,name:"Sports Center Norte",google_maps_url:"https://maps.google.com/?q=Sports+Center+Norte",address:"Av. del Deporte 1",city:"Madrid",phone:"+34 600 111 111",website:"https://norte.example.com"},{id:2,name:"Polideportivo Central",google_maps_url:"https://maps.google.com/?q=Polideportivo+Central",address:"C/ Mayor 22",city:"Madrid",phone:"+34 600 222 222",website:"https://central.example.com"},{id:3,name:"Club Deportivo Costa",google_maps_url:"https://maps.google.com/?q=Club+Deportivo+Costa",address:"Paseo Mar\xEDtimo s/n",city:"Valencia",phone:"+34 600 333 333",website:"https://costa.example.com"}],KN=[{id:11,sport_center_id:1,name:"Pista 1",type:"exterior"},{id:12,sport_center_id:1,name:"Pista 2",type:"cubierta"},{id:21,sport_center_id:2,name:"Pabell\xF3n A",type:"cubierta"},{id:22,sport_center_id:2,name:"Campo F11",type:"exterior"},{id:31,sport_center_id:3,name:"Pista Central",type:"exterior"}],Dd=class t{getCenters(n){return W(ZN).pipe(re(e=>{if(!n)return e;let r=(n.q||"").toLowerCase().trim(),i=(n.city||"").toLowerCase().trim();return e.filter(o=>{let s=!r||o.name.toLowerCase().includes(r)||o.address.toLowerCase().includes(r),a=!i||o.city.toLowerCase().includes(i);return s&&a})}))}getZonesByCenter(n){return W(KN.filter(e=>e.sport_center_id===n))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})};var YN=()=>["/sports-center"];function QN(t,n){t&1&&(d(0,"div",23),m(1,"Cargando centros..."),f())}function XN(t,n){if(t&1&&(d(0,"option",16),m(1),f()),t&2){let e=n.$implicit;b("ngValue",e.id),v(),Os("",e.name," (",e.city,")")}}function ek(t,n){if(t&1&&(d(0,"small",24)(1,"a",25),m(2,"Ver en Google Maps"),f()()),t&2){let e=B();v(),b("href",e.selectedCenter==null?null:e.selectedCenter.google_maps_url,Je)}}function tk(t,n){t&1&&(d(0,"div",28),m(1,"Cargando zonas..."),f())}function nk(t,n){if(t&1&&(d(0,"span"),m(1),f()),t&2){let e=B().$implicit;v(),qe(" (",e.type,")")}}function rk(t,n){if(t&1&&(d(0,"option",16),m(1),L(2,nk,2,1,"span",29),f()),t&2){let e=n.$implicit;b("ngValue",e.id),v(),Y(e.name),v(),b("ngIf",e.type)}}function ik(t,n){if(t&1){let e=be();d(0,"div",13)(1,"label",14),m(2,"Zonas"),f(),L(3,tk,2,0,"div",26),d(4,"select",27),T("ngModelChange",function(i){q(e);let o=B();return O(o.selectedZoneId,i)||(o.selectedZoneId=i),G(i)}),V("ngModelChange",function(i){q(e);let o=B();return G(o.onZoneChange(i))}),d(5,"option",16),m(6,"-- Selecciona una zona --"),f(),L(7,rk,3,3,"option",17),f()()}if(t&2){let e=B();v(3),b("ngIf",e.loadingZones),v(),x("ngModel",e.selectedZoneId),b("disabled",!e.selectedCenterId||e.loadingZones),v(),b("ngValue",void 0),v(2),b("ngForOf",e.zones)}}var es=class t{constructor(n,e){this.svc=n;this.router=e}showZone=!0;initialCenterId;initialZoneId;centerSelected=new _e;zoneSelected=new _e;selected=new _e;centers=[];zones=[];filter={q:"",city:""};selectedCenterId;selectedZoneId;loadingCenters=!1;loadingZones=!1;get selectedCenter(){return this.centers.find(n=>n.id===this.selectedCenterId)}ngOnInit(){this.loadCenters()}loadCenters(){this.loadingCenters=!0,this.svc.getCenters(this.filter).subscribe({next:n=>{this.centers=n,this.initialCenterId&&n.some(e=>e.id===this.initialCenterId)&&(this.selectedCenterId=this.initialCenterId,this.onCenterChange(this.selectedCenterId))},complete:()=>this.loadingCenters=!1})}onSearch(){this.loadCenters()}onCenterChange(n){if(!n){this.zones=[],this.selectedZoneId=void 0,this.zoneSelected.emit(null);return}let e=this.centers.find(r=>r.id===n);e&&this.centerSelected.emit(e),this.showZone&&(this.loadingZones=!0,this.svc.getZonesByCenter(n).subscribe({next:r=>{this.zones=r,this.initialZoneId&&r.some(i=>i.id===this.initialZoneId)&&(this.selectedZoneId=this.initialZoneId,this.onZoneChange(this.selectedZoneId))},complete:()=>this.loadingZones=!1}))}onZoneChange(n){if(n==null){this.zoneSelected.emit(null);return}let e=this.zones.find(r=>r.id===n)||null;this.zoneSelected.emit(e)}confirmSelection(){let n=this.centers.find(r=>r.id===this.selectedCenterId),e=this.showZone&&this.zones.find(r=>r.id===this.selectedZoneId)||null;n&&this.selected.emit({center:n,zone:e})}goToCreateCenter(){this.router.navigateByUrl("/sports-center")}static \u0275fac=function(e){return new(e||t)(A(Dd),A(ce))};static \u0275cmp=H({type:t,selectors:[["app-sport-center"]],inputs:{showZone:"showZone",initialCenterId:"initialCenterId",initialZoneId:"initialZoneId"},outputs:{centerSelected:"centerSelected",zoneSelected:"zoneSelected",selected:"selected"},decls:30,vars:12,consts:[[1,"sport-center-selector","container","py-2"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"m-0"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"row","g-2","mb-3",3,"ngSubmit"],[1,"col-12","col-md-6"],["type","search","name","q","placeholder","Buscar por nombre o direcci\xF3n",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-8","col-md-4"],["type","text","name","city","placeholder","Ciudad",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-4","col-md-2","d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-info",4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","mb-3"],[1,"form-label"],["name","center",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-muted d-block mt-1",4,"ngIf"],["class","col-12 col-md-6 mb-3",4,"ngIf"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"routerLink"],[1,"alert","alert-info"],[1,"text-muted","d-block","mt-1"],["target","_blank","rel","noopener",3,"href"],["class","alert alert-info py-1",4,"ngIf"],["name","zone",1,"form-select",3,"ngModelChange","ngModel","disabled"],[1,"alert","alert-info","py-1"],[4,"ngIf"]],template:function(e,r){e&1&&(d(0,"section",0)(1,"div",1)(2,"h3",2),m(3,"Seleccionar centro"),f(),d(4,"button",3),V("click",function(){return r.goToCreateCenter()}),m(5," + Crear centro "),f()(),d(6,"form",4),V("ngSubmit",function(){return r.onSearch()}),d(7,"div",5)(8,"input",6),T("ngModelChange",function(o){return O(r.filter.q,o)||(r.filter.q=o),o}),f()(),d(9,"div",7)(10,"input",8),T("ngModelChange",function(o){return O(r.filter.city,o)||(r.filter.city=o),o}),f()(),d(11,"div",9)(12,"button",10),m(13,"Buscar"),f()()(),L(14,QN,2,0,"div",11),d(15,"div",12)(16,"div",13)(17,"label",14),m(18,"Centros"),f(),d(19,"select",15),T("ngModelChange",function(o){return O(r.selectedCenterId,o)||(r.selectedCenterId=o),o}),V("ngModelChange",function(o){return r.onCenterChange(o)}),d(20,"option",16),m(21,"-- Selecciona un centro --"),f(),L(22,XN,2,3,"option",17),f(),L(23,ek,3,1,"small",18),f(),L(24,ik,8,5,"div",19),f(),d(25,"div",20)(26,"button",21),V("click",function(){return r.confirmSelection()}),m(27," Confirmar selecci\xF3n "),f(),d(28,"a",22),m(29,"Crear centro"),f()()()),e&2&&(v(8),x("ngModel",r.filter.q),v(2),x("ngModel",r.filter.city),v(2),b("disabled",r.loadingCenters),v(2),b("ngIf",r.loadingCenters),v(5),x("ngModel",r.selectedCenterId),v(),b("ngValue",void 0),v(2),b("ngForOf",r.centers),v(),b("ngIf",r.selectedCenterId),v(),b("ngIf",r.showZone),v(2),b("disabled",!r.selectedCenterId),v(2),b("routerLink",yc(11,YN)))},dependencies:[Z,xe,de,Re,kn,Xt,en,$e,Qt,nt,Nn,Ke,hn,Xn,yo],encapsulation:2})};var Sd=class t{team={name:"",gender:"mixed",level:"",category:"",sport_id:null,max_players:null,image:""};submit(){console.log("Equipo:",this.team)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-team-form"]],decls:81,vars:1,consts:[[1,"team-page"],[1,"container","py-4"],["label","Volver","ariaLabel","Volver atr\xE1s"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-7"],[1,"card","team-card","shadow-lg"],[1,"team-header"],[1,"card-body","p-4"],[1,"form-section","text-center"],[1,"team-avatar-wrapper"],["src","assets/images/team-default.png","alt","Equipo",1,"team-avatar"],[1,"edit-avatar-btn"],[1,"text-muted","d-block","mt-2"],[1,"form-section"],["placeholder","Nombre del equipo",1,"form-control","mb-3"],[1,"form-select"],["value",""],[1,"level-selector"],[1,"level-pill","active"],[1,"level-pill"],[1,"form-select","mb-3"],[3,"showZone"],["placeholder","Buscar jugador por nombre...",1,"form-control"],[1,"search-results","mt-2"],[1,"search-item"],[1,"players-list","mt-3"],[1,"player-chip"],[1,"btn","btn-primary","w-100","py-2","mt-4"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1),M(2,"app-back-button",2),d(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),m(8,"Equipo"),f(),d(9,"p"),m(10,"Alta y edici\xF3n de equipo"),f()(),d(11,"div",7)(12,"section",8)(13,"div",9),M(14,"img",10),d(15,"button",11),m(16," \u270E "),f()(),d(17,"small",12),m(18," Cambiar imagen del equipo "),f()(),d(19,"section",13)(20,"h5"),m(21,"Datos del equipo"),f(),M(22,"input",14),d(23,"select",15)(24,"option",16),m(25,"G\xE9nero"),f(),d(26,"option"),m(27,"Mixto"),f(),d(28,"option"),m(29,"Masculino"),f(),d(30,"option"),m(31,"Femenino"),f()()(),d(32,"section",13)(33,"h5"),m(34,"Nivel del equipo"),f(),d(35,"div",17)(36,"button",18),m(37,"Principiante"),f(),d(38,"button",19),m(39,"Intermedio"),f(),d(40,"button",19),m(41,"Avanzado"),f(),d(42,"button",19),m(43,"Competici\xF3n"),f()()(),d(44,"section",13)(45,"h5"),m(46,"Deporte y centro"),f(),d(47,"select",20)(48,"option",16),m(49,"Deporte"),f(),d(50,"option"),m(51,"P\xE1del"),f(),d(52,"option"),m(53,"Tenis"),f(),d(54,"option"),m(55,"F\xFAtbol"),f()(),M(56,"app-sport-center",21),f(),d(57,"section",13)(58,"h5"),m(59,"Jugadores"),f(),M(60,"input",22),d(61,"div",23)(62,"div",24),m(63,"Juan P\xE9rez"),f(),d(64,"div",24),m(65,"Mar\xEDa L\xF3pez"),f()(),d(66,"div",25)(67,"div",26),m(68," Juan P\xE9rez "),d(69,"span"),m(70,"\u2715"),f()(),d(71,"div",26),m(72," Mar\xEDa L\xF3pez "),d(73,"span"),m(74,"\u2715"),f()()()(),d(75,"section",13),M(76,"app-team-availability"),f(),d(77,"button",27),m(78," Guardar "),f(),d(79,"button",27),m(80," Cancelar "),f()()()()()()()),e&2&&(v(56),b("showZone",!1))},dependencies:[Z,Re,Xt,en,Ed,rt,es],styles:[".team-page[_ngcontent-%COMP%]{background:#f5f7fa;min-height:100vh}.team-card[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;border:none}.team-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e88e5,#42a5f5);color:#fff;padding:24px}.team-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.team-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:12px}.team-avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}.team-avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:4px solid #fff;box-shadow:0 8px 20px #00000026}.edit-avatar-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background:#1e88e5;border:none;width:36px;height:36px;border-radius:50%;color:#fff;font-size:.9rem;box-shadow:0 4px 10px #00000040}.level-selector[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.level-pill[_ngcontent-%COMP%]{border:1px solid #ced4da;background:#fff;border-radius:999px;padding:8px 14px;font-size:.8rem;font-weight:600}.level-pill.active[_ngcontent-%COMP%]{background:#1e88e5;color:#fff;border-color:#1e88e5}.players-list[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.player-chip[_ngcontent-%COMP%]{background:#e9ecef;border-radius:999px;padding:6px 12px;font-size:.75rem;display:flex;align-items:center;gap:6px}.player-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.search-results[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;overflow:hidden}.search-item[_ngcontent-%COMP%]{padding:10px 14px;font-size:.85rem;border-bottom:1px solid #f1f1f1}.search-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.team-card[_ngcontent-%COMP%]{border-radius:20px}}"]})};function ok(t,n){if(t&1){let e=be();d(0,"div",15)(1,"input",63),T("ngModelChange",function(i){q(e);let o=B();return O(o.competition.access_code,i)||(o.competition.access_code=i),G(i)}),f(),d(2,"small",64),m(3,"Introduce exactamente 6 cifras."),f()()}if(t&2){let e=B();v(),x("ngModel",e.competition.access_code)}}function sk(t,n){if(t&1&&(d(0,"span"),m(1),f()),t&2){let e=B(2);v(),qe(" - ",e.selectedZone.name,"")}}function ak(t,n){if(t&1&&(d(0,"div",65)(1,"small",64),m(2),L(3,sk,2,1,"span",66),f()()),t&2){let e=B();v(2),qe("Seleccionado: ",e.selectedCenter.name,""),v(),b("ngIf",e.selectedZone)}}function lk(t,n){if(t&1&&(d(0,"div",67),m(1),f()),t&2){let e=B();v(),Y(e.error)}}function ck(t,n){t&1&&(d(0,"div",68),m(1,"Guardado correctamente"),f())}var Id=class t{supabase=D(ct);router=D(ce);competition={sport_id:null,name:"",type:null,level:null,min_teams:null,max_teams:null,min_players_per_team:null,max_players_per_team:null,start_date:null,end_date:null,location:null,timezone:"Europe/Madrid",organizer_name:"",organizer_email:"",organizer_phone:"",is_open:!0,status:"en_espera",back_to_back:!1,allow_draws:!0,points_win:3,points_draw:1,points_loss:0,fee_amount:null,fee_currency:"EUR",description:"",rules_url:"",prizes:"",banner_url:"",is_public:!0,is_private:!1,access_code:null};saving=!1;error=null;success=!1;selectedCenter;selectedZone;ngOnInit(){let e=this.router.getCurrentNavigation()?.extras?.state?.competition;e&&(this.competition=ne(S({},this.competition),{id:e.id,sport_id:e.sport_id??null,name:e.name??"",type:e.type??null,level:e.level??null,start_date:e.start_date??null,location:e.location??null,is_open:e.is_open??!0,is_private:e.is_private??!1}))}onCenterZoneSelected(n){this.selectedCenter=n.center,this.selectedZone=n.zone,this.competition.location=n.zone?.id??n.center.id??null}save(){return g(this,null,function*(){this.error=null,this.success=!1,this.saving=!0;try{let n=this.supabase.client,e=S({},this.competition);if(e.is_private||(e.access_code=null),e.is_private){let r=String(e.access_code??"").trim();if(!/^\d{6}$/.test(r))throw new Error("Introduce un c\xF3digo de acceso de 6 cifras");e.access_code=r}if(Object.keys(e).forEach(r=>{e[r]===""&&(e[r]=null)}),this.competition.id){let{error:r}=yield n.from("competitions").update(e).eq("id",this.competition.id);if(r)throw r}else{let{data:r,error:i}=yield n.from("competitions").insert(e).select().single();if(i)throw i;this.competition.id=r.id}this.success=!0}catch(n){this.error=n?.message||"Error al guardar"}finally{this.saving=!1}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-competition-form"]],decls:162,vars:45,consts:[[1,"competition-page"],[1,"container","py-4"],["label","Volver"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-8"],[1,"card","competition-card","shadow-lg"],[1,"competition-header"],[1,"card-body","p-4"],[1,"form-section","text-center"],[1,"banner-wrapper"],["src","assets/images/sports-center.jpeg","alt","Banner",1,"banner-img"],["title","Cambiar banner",1,"edit-banner-btn"],[1,"text-muted","d-block","mt-2"],[1,"form-section"],[1,"row","g-3"],[1,"col-12"],["placeholder","Nombre de la competici\xF3n","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["name","sport_id",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],["name","type",1,"form-select",3,"ngModelChange","ngModel"],["name","level",1,"form-select",3,"ngModelChange","ngModel"],["name","status",1,"form-select",3,"ngModelChange","ngModel"],["value","en_espera"],["value","iniciada"],["value","finalizada"],[1,"col-12","d-flex","gap-3","flex-wrap","mt-1"],[1,"form-check","form-switch","m-0"],["type","checkbox","name","is_open",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"ms-2"],["type","checkbox","name","back_to_back",1,"form-check-input",3,"ngModelChange","ngModel"],["type","checkbox","name","is_private",1,"form-check-input",3,"ngModelChange","ngModel"],["class","col-12",4,"ngIf"],[1,"col-6"],["type","number","min","2","placeholder","M\xEDn. equipos","name","min_teams",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","2","placeholder","M\xE1x. equipos","name","max_teams",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","M\xEDn. jugadores por equipo","name","min_players_per_team",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","M\xE1x. jugadores por equipo","name","max_players_per_team",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label"],["type","date","name","start_date",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","end_date",1,"form-control",3,"ngModelChange","ngModel"],[3,"selected"],[1,"row","g-3","mt-2"],["name","timezone",1,"form-select",3,"ngModelChange","ngModel"],["value","Europe/Madrid"],["value","Atlantic/Canary"],["class","mt-2",4,"ngIf"],["placeholder","Organizador","name","organizer_name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-3"],["type","email","placeholder","Email","name","organizer_email",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Tel\xE9fono","name","organizer_phone",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","placeholder","Descripci\xF3n / reglas","name","description",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Enlace a bases/reglamento (opcional)","name","rules_url",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Premios (opcional)","name","prizes",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","d-flex","gap-3","flex-wrap"],["type","checkbox","name","allow_draws",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"points-grid"],["type","number","name","points_win",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","points_draw",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","points_loss",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-2","style","color:#c62828;",4,"ngIf"],["class","mt-2","style","color:#2e7d32;",4,"ngIf"],[1,"btn","btn-primary","w-100","py-2","mt-2",3,"click","disabled"],["placeholder","C\xF3digo de acceso (6 cifras)","name","access_code","maxlength","6","inputmode","numeric","pattern","\\\\d{6}",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],[1,"mt-2"],[4,"ngIf"],[1,"mt-2",2,"color","#c62828"],[1,"mt-2",2,"color","#2e7d32"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1),M(2,"app-back-button",2),d(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),m(8,"Competici\xF3n"),f(),d(9,"p"),m(10,"Alta y edici\xF3n de competici\xF3n"),f()(),d(11,"div",7)(12,"section",8)(13,"div",9),M(14,"img",10),d(15,"button",11),m(16,"\u270E"),f()(),d(17,"small",12),m(18,"Cambiar imagen/banner"),f()(),d(19,"section",13)(20,"h5"),m(21,"Datos b\xE1sicos"),f(),d(22,"div",14)(23,"div",15)(24,"input",16),T("ngModelChange",function(o){return O(r.competition.name,o)||(r.competition.name=o),o}),f()(),d(25,"div",17)(26,"select",18),T("ngModelChange",function(o){return O(r.competition.sport_id,o)||(r.competition.sport_id=o),o}),d(27,"option",19),m(28,"Deporte"),f(),d(29,"option",19),m(30,"P\xE1del"),f(),d(31,"option",19),m(32,"Tenis"),f(),d(33,"option",19),m(34,"F\xFAtbol"),f(),d(35,"option",19),m(36,"Basket"),f()()(),d(37,"div",17)(38,"select",20),T("ngModelChange",function(o){return O(r.competition.type,o)||(r.competition.type=o),o}),d(39,"option",19),m(40,"Tipo"),f(),d(41,"option",19),m(42,"Liga"),f(),d(43,"option",19),m(44,"Torneo"),f()()(),d(45,"div",17)(46,"select",21),T("ngModelChange",function(o){return O(r.competition.level,o)||(r.competition.level=o),o}),d(47,"option",19),m(48,"Nivel"),f(),d(49,"option",19),m(50,"Principiante"),f(),d(51,"option",19),m(52,"Intermedio"),f(),d(53,"option",19),m(54,"Avanzado"),f(),d(55,"option",19),m(56,"Competici\xF3n"),f()()(),d(57,"div",17)(58,"select",22),T("ngModelChange",function(o){return O(r.competition.status,o)||(r.competition.status=o),o}),d(59,"option",23),m(60,"En espera"),f(),d(61,"option",24),m(62,"Iniciada"),f(),d(63,"option",25),m(64,"Finalizada"),f()()(),d(65,"div",26)(66,"label",27)(67,"input",28),T("ngModelChange",function(o){return O(r.competition.is_open,o)||(r.competition.is_open=o),o}),f(),d(68,"span",29),m(69,"Inscripci\xF3n abierta (p\xFAblica)"),f()(),d(70,"label",27)(71,"input",30),T("ngModelChange",function(o){return O(r.competition.back_to_back,o)||(r.competition.back_to_back=o),o}),f(),d(72,"span",29),m(73,"Ida y vuelta"),f()(),d(74,"label",27)(75,"input",31),T("ngModelChange",function(o){return O(r.competition.is_private,o)||(r.competition.is_private=o),o}),f(),d(76,"span",29),m(77,"Competici\xF3n privada (requiere c\xF3digo)"),f()()(),L(78,ok,4,1,"div",32),f()(),d(79,"section",13)(80,"h5"),m(81,"Equipos"),f(),d(82,"div",14)(83,"div",33)(84,"input",34),T("ngModelChange",function(o){return O(r.competition.min_teams,o)||(r.competition.min_teams=o),o}),f()(),d(85,"div",33)(86,"input",35),T("ngModelChange",function(o){return O(r.competition.max_teams,o)||(r.competition.max_teams=o),o}),f()(),d(87,"div",33)(88,"input",36),T("ngModelChange",function(o){return O(r.competition.min_players_per_team,o)||(r.competition.min_players_per_team=o),o}),f()(),d(89,"div",33)(90,"input",37),T("ngModelChange",function(o){return O(r.competition.max_players_per_team,o)||(r.competition.max_players_per_team=o),o}),f()()()(),d(91,"section",13)(92,"h5"),m(93,"Fechas"),f(),d(94,"div",14)(95,"div",17)(96,"label",38),m(97,"Inicio"),f(),d(98,"input",39),T("ngModelChange",function(o){return O(r.competition.start_date,o)||(r.competition.start_date=o),o}),f()(),d(99,"div",17)(100,"label",38),m(101,"Fin"),f(),d(102,"input",40),T("ngModelChange",function(o){return O(r.competition.end_date,o)||(r.competition.end_date=o),o}),f()()()(),d(103,"section",13)(104,"h5"),m(105,"Localizaci\xF3n"),f(),d(106,"app-sport-center",41),V("selected",function(o){return r.onCenterZoneSelected(o)}),f(),d(107,"div",42)(108,"div",17)(109,"label",38),m(110,"Zona horaria"),f(),d(111,"select",43),T("ngModelChange",function(o){return O(r.competition.timezone,o)||(r.competition.timezone=o),o}),d(112,"option",19),m(113,"Zona horaria"),f(),d(114,"option",44),m(115,"Europe/Madrid"),f(),d(116,"option",45),m(117,"Atlantic/Canary"),f()()()(),L(118,ak,4,2,"div",46),f(),d(119,"section",13)(120,"h5"),m(121,"Organizaci\xF3n"),f(),d(122,"div",14)(123,"div",17)(124,"input",47),T("ngModelChange",function(o){return O(r.competition.organizer_name,o)||(r.competition.organizer_name=o),o}),f()(),d(125,"div",48)(126,"input",49),T("ngModelChange",function(o){return O(r.competition.organizer_email,o)||(r.competition.organizer_email=o),o}),f()(),d(127,"div",48)(128,"input",50),T("ngModelChange",function(o){return O(r.competition.organizer_phone,o)||(r.competition.organizer_phone=o),o}),f()()()(),d(129,"section",13)(130,"h5"),m(131,"Reglas y puntuaci\xF3n"),f(),d(132,"div",14)(133,"div",15)(134,"textarea",51),T("ngModelChange",function(o){return O(r.competition.description,o)||(r.competition.description=o),o}),f()(),d(135,"div",17)(136,"input",52),T("ngModelChange",function(o){return O(r.competition.rules_url,o)||(r.competition.rules_url=o),o}),f()(),d(137,"div",17)(138,"input",53),T("ngModelChange",function(o){return O(r.competition.prizes,o)||(r.competition.prizes=o),o}),f()(),d(139,"div",54)(140,"label",27)(141,"input",55),T("ngModelChange",function(o){return O(r.competition.allow_draws,o)||(r.competition.allow_draws=o),o}),f(),d(142,"span",29),m(143,"Permitir empates"),f()()(),d(144,"div",15)(145,"div",56)(146,"div")(147,"label",38),m(148,"Puntos por victoria"),f(),d(149,"input",57),T("ngModelChange",function(o){return O(r.competition.points_win,o)||(r.competition.points_win=o),o}),f()(),d(150,"div")(151,"label",38),m(152,"Puntos por empate"),f(),d(153,"input",58),T("ngModelChange",function(o){return O(r.competition.points_draw,o)||(r.competition.points_draw=o),o}),f()(),d(154,"div")(155,"label",38),m(156,"Puntos por derrota"),f(),d(157,"input",59),T("ngModelChange",function(o){return O(r.competition.points_loss,o)||(r.competition.points_loss=o),o}),f()()()()()(),L(158,lk,2,1,"div",60)(159,ck,2,0,"div",61),d(160,"button",62),V("click",function(){return r.save()}),m(161),f()()()()()()()),e&2&&(v(24),x("ngModel",r.competition.name),v(2),x("ngModel",r.competition.sport_id),v(),b("ngValue",null),v(2),b("ngValue",1),v(2),b("ngValue",2),v(2),b("ngValue",3),v(2),b("ngValue",4),v(3),x("ngModel",r.competition.type),v(),b("ngValue",null),v(2),b("ngValue",1),v(2),b("ngValue",2),v(3),x("ngModel",r.competition.level),v(),b("ngValue",null),v(2),b("ngValue",1),v(2),b("ngValue",2),v(2),b("ngValue",3),v(2),b("ngValue",4),v(3),x("ngModel",r.competition.status),v(9),x("ngModel",r.competition.is_open),v(4),x("ngModel",r.competition.back_to_back),v(4),x("ngModel",r.competition.is_private),v(3),b("ngIf",r.competition.is_private),v(6),x("ngModel",r.competition.min_teams),v(2),x("ngModel",r.competition.max_teams),v(2),x("ngModel",r.competition.min_players_per_team),v(2),x("ngModel",r.competition.max_players_per_team),v(8),x("ngModel",r.competition.start_date),v(4),x("ngModel",r.competition.end_date),v(9),x("ngModel",r.competition.timezone),v(),b("ngValue",null),v(6),b("ngIf",r.selectedCenter),v(6),x("ngModel",r.competition.organizer_name),v(2),x("ngModel",r.competition.organizer_email),v(2),x("ngModel",r.competition.organizer_phone),v(6),x("ngModel",r.competition.description),v(2),x("ngModel",r.competition.rules_url),v(2),x("ngModel",r.competition.prizes),v(3),x("ngModel",r.competition.allow_draws),v(8),x("ngModel",r.competition.points_win),v(4),x("ngModel",r.competition.points_draw),v(4),x("ngModel",r.competition.points_loss),v(),b("ngIf",r.error),v(),b("ngIf",r.success),v(),b("disabled",r.saving),v(),Y(r.saving?"Guardando...":"Guardar competici\xF3n"))},dependencies:[Z,de,Re,Xt,en,$e,Ng,Ci,Qt,nt,ka,Pa,kg,Ke,rt,es],styles:[".competition-page[_ngcontent-%COMP%]{background:#f5f7fa;min-height:100vh}.competition-card[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;border:none}.competition-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e88e5,#42a5f5);color:#fff;padding:24px}.competition-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.competition-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:12px}.banner-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:220px;border-radius:16px;overflow:hidden;box-shadow:0 8px 20px #00000026}.banner-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.edit-banner-btn[_ngcontent-%COMP%]{position:absolute;bottom:12px;right:12px;background:#1e88e5;border:none;width:40px;height:40px;border-radius:50%;color:#fff;font-size:.95rem;box-shadow:0 4px 10px #00000040}.points-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:12px}@media (max-width: 768px){.competition-card[_ngcontent-%COMP%]{border-radius:20px}.banner-wrapper[_ngcontent-%COMP%]{height:160px}.points-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function uk(t,n){t&1&&(d(0,"div",7),m(1,"L"),f())}function dk(t,n){if(t&1&&(d(0,"div",7),m(1),f()),t&2){let e=B().$implicit;v(),Y(e.lost)}}function fk(t,n){if(t&1&&(d(0,"div",12)(1,"div",5)(2,"div",13),M(3,"img",14),d(4,"span",15),m(5),f()(),d(6,"span",16),m(7),f()(),d(8,"div",6),m(9),f(),d(10,"div",7),m(11),f(),d(12,"div",7),m(13),f(),L(14,dk,2,1,"div",8),d(15,"div",9),m(16),f()()),t&2){let e=n.$implicit,r=n.index,i=B();fr("leader",r===0),b("ngClass",i.hasLoses?"cols-6":"cols-5"),v(3),b("src","/assets/images/team-default.png",Je)("alt","Escudo "+e.team),v(),Ye("aria-label","Posici\xF3n "+e.position),v(),Y(e.position),v(),b("title",e.team),v(),Y(e.team),v(2),Y(e.played),v(2),Y(e.won),v(2),Y(e.draw),v(),b("ngIf",i.hasLoses),v(2),Y(e.points)}}function hk(t,n){if(t&1&&(d(0,"a",25),m(1,"Ver reglas"),f()),t&2){let e=B(2);b("href",e.competition.rules_url,Je)}}function pk(t,n){t&1&&(d(0,"span"),m(1,"\u2014"),f())}function mk(t,n){if(t&1&&(d(0,"section",17)(1,"h2"),m(2,"Detalles de la competici\xF3n"),f(),d(3,"div",18)(4,"div",19)(5,"span",20),m(6,"Nivel:"),f(),d(7,"span",21),m(8),f()(),d(9,"div",19)(10,"span",20),m(11,"Estado:"),f(),d(12,"span",21),m(13),f()(),d(14,"div",19)(15,"span",20),m(16,"Ida y vuelta:"),f(),d(17,"span",21),m(18),f()(),d(19,"div",19)(20,"span",20),m(21,"P\xFAblica:"),f(),d(22,"span",21),m(23),f()(),d(24,"div",19)(25,"span",20),m(26,"Inscripci\xF3n abierta:"),f(),d(27,"span",21),m(28),f()(),d(29,"div",19)(30,"span",20),m(31,"Inicio:"),f(),d(32,"span",21),m(33),f()(),d(34,"div",19)(35,"span",20),m(36,"Fin:"),f(),d(37,"span",21),m(38),f()(),d(39,"div",19)(40,"span",20),m(41,"Localizaci\xF3n:"),f(),d(42,"span",21),m(43),f()(),d(44,"div",19)(45,"span",20),m(46,"Zona horaria:"),f(),d(47,"span",21),m(48),f()(),d(49,"div",19)(50,"span",20),m(51,"Organizador:"),f(),d(52,"span",21),m(53),f()(),d(54,"div",19)(55,"span",20),m(56,"Contacto:"),f(),d(57,"span",21),m(58),f()(),d(59,"div",19)(60,"span",20),m(61,"Reglas:"),f(),d(62,"span",21),L(63,hk,2,1,"a",22)(64,pk,2,0,"span",23),f()(),d(65,"div",19)(66,"span",20),m(67,"Puntuaci\xF3n:"),f(),d(68,"span",21),m(69),f()(),d(70,"div",24)(71,"span",20),m(72,"Descripci\xF3n:"),f(),d(73,"span",21),m(74),f()()()()),t&2){let e,r,i,o,s,a,l=B();v(8),Y((e=l.competition.level)!==null&&e!==void 0?e:"\u2014"),v(5),Y(l.competition.status),v(5),Y(l.competition.back_to_back?"S\xED":"No"),v(5),Y(l.competition.is_public?"S\xED":"No"),v(5),Y(l.competition.is_open?"S\xED":"No"),v(5),Y((r=l.competition.start_date)!==null&&r!==void 0?r:"\u2014"),v(5),Y((i=l.competition.end_date)!==null&&i!==void 0?i:"\u2014"),v(5),Y((o=l.competition.location)!==null&&o!==void 0?o:"\u2014"),v(5),Y((s=l.competition.timezone)!==null&&s!==void 0?s:"\u2014"),v(5),Y((a=l.competition.organizer_name)!==null&&a!==void 0?a:"\u2014"),v(5),Y(l.competition.organizer_email||l.competition.organizer_phone||"\u2014"),v(5),b("ngIf",l.competition.rules_url),v(),b("ngIf",!l.competition.rules_url),v(5),cp("",l.competition.points_win," / ",l.competition.points_draw," / ",l.competition.points_loss," (W/D/L)"),v(5),Y(l.competition.description||"\u2014")}}var Md=class t{constructor(n){this.route=n}competitionId;hasLoses=!0;rows=[];competition;ngOnInit(){let n=this.route.snapshot.paramMap.get("id");this.competitionId=n?Number(n):0,this.rows=[{position:1,team:"Equipo A",played:10,won:8,draw:1,lost:1,points:25},{position:2,team:"Equipo B",played:10,won:7,draw:2,lost:1,points:23},{position:3,team:"Equipo C",played:10,won:5,draw:3,lost:2,points:18}],this.competition={id:this.competitionId,sport_id:2,name:"Liga Municipal Invierno",type:1,level:2,min_teams:6,max_teams:12,min_players_per_team:5,max_players_per_team:12,start_date:"2025-01-15",end_date:"2025-03-30",location:1,timezone:"Europe/Madrid",organizer_name:"Ayuntamiento",organizer_email:"deportes@ciudad.es",organizer_phone:"+34 600 000 000",is_open:!0,status:"iniciada",back_to_back:!0,allow_draws:!0,points_win:3,points_draw:1,points_loss:0,fee_amount:null,fee_currency:null,description:"Liga local de tenis nivel intermedio.",rules_url:"https://example.com/reglas",prizes:"Trofeos y material deportivo",banner_url:null,is_public:!0}}getWinPct(n){let e=n.won+n.lost+n.draw;return e?Math.round(n.won/e*100):0}static \u0275fac=function(e){return new(e||t)(A(Mt))};static \u0275cmp=H({type:t,selectors:[["app-classification"]],decls:22,vars:5,consts:[[1,"classification"],["label","Volver"],[1,"subtitle"],["aria-label","Tabla de clasificaci\xF3n",1,"standings"],[1,"row","header",3,"ngClass"],[1,"cell","team"],[1,"cell","pj"],[1,"cell","num"],["class","cell num",4,"ngIf"],[1,"cell","pts"],["class","row",3,"leader","ngClass",4,"ngFor","ngForOf"],["class","competition-details",4,"ngIf"],[1,"row",3,"ngClass"],[1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"pos"],[1,"name",3,"title"],[1,"competition-details"],[1,"details-grid"],[1,"detail"],[1,"label"],[1,"value"],["target","_blank","rel","noopener",3,"href",4,"ngIf"],[4,"ngIf"],[1,"detail","full"],["target","_blank","rel","noopener",3,"href"]],template:function(e,r){e&1&&(d(0,"section",0),M(1,"app-back-button",1),d(2,"header")(3,"h1"),m(4,"Clasificaci\xF3n"),f(),d(5,"p",2),m(6),f()(),d(7,"div",3)(8,"div",4)(9,"div",5),m(10,"Equipo"),f(),d(11,"div",6),m(12,"PJ"),f(),d(13,"div",7),m(14,"W"),f(),d(15,"div",7),m(16,"D"),f(),L(17,uk,2,0,"div",8),d(18,"div",9),m(19,"PTOS"),f()(),L(20,fk,17,14,"div",10),f(),L(21,mk,75,17,"section",11),f()),e&2&&(v(6),qe("Competici\xF3n: ",r.competitionId,""),v(2),b("ngClass",r.hasLoses?"cols-6":"cols-5"),v(9),b("ngIf",r.hasLoses),v(3),b("ngForOf",r.rows),v(),b("ngIf",r.competition))},dependencies:[Z,ei,xe,de,Xn,rt],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.classification[_ngcontent-%COMP%]{padding:8px}.standings[_ngcontent-%COMP%]{width:100%;max-width:960px;margin:0 auto;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;background:#fff;padding:.5rem}.row[_ngcontent-%COMP%]{display:grid;gap:4px;align-items:center;padding:4px 6px;font-size:.8rem}.row.header[_ngcontent-%COMP%]{background:#f8fafc;color:#475569;font-weight:600;font-size:.7rem}.row[_ngcontent-%COMP%] + .row[_ngcontent-%COMP%]{border-top:1px solid #f1f5f9}.row.cols-6[_ngcontent-%COMP%]{grid-template-columns:29.13% 13.59% 13.59% 13.59% 13.59% 16.51%}.row.cols-5[_ngcontent-%COMP%]{grid-template-columns:33.71% 15.73% 15.73% 15.73% 19.1%}.cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.cell.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;min-width:0}.cell.pj[_ngcontent-%COMP%], .cell.num[_ngcontent-%COMP%], .cell.pts[_ngcontent-%COMP%]{text-align:center;font-variant-numeric:tabular-nums}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:65px;height:65px;display:inline-block}.avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:block;width:65px;height:65px}.avatar-wrapper[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{position:absolute;top:4px;left:50%;transform:translate(-50%);z-index:1;font-weight:800;font-size:.9rem;line-height:1;color:#000;-webkit-text-stroke:1px #fff;text-shadow:0 1px 0 #fff,1px 0 0 #fff,0 -1px 0 #fff,-1px 0 0 #fff}.pos[_ngcontent-%COMP%]{min-width:30px;text-align:center;font-weight:600;color:#334155}.avatar[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:4px;object-fit:cover;border:1px solid #e5e7eb}.name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.row.leader[_ngcontent-%COMP%]   .cell.pts[_ngcontent-%COMP%]{color:#4f46e5;font-weight:700}"]})};function gk(t,n){if(t&1){let e=be();d(0,"li"),M(1,"app-team-card",19),d(2,"button",20),V("click",function(){let i=q(e).$implicit,o=B(2);return G(o.requestJoin(i))}),m(3,"Solicitar unirme"),f()()}if(t&2){let e=n.$implicit;v(),b("team",e)}}function vk(t,n){if(t&1&&(d(0,"div",17)(1,"h2"),m(2,"Resultados"),f(),d(3,"ul"),L(4,gk,4,1,"li",18),f()()),t&2){let e=B();v(4),b("ngForOf",e.results)}}function yk(t,n){t&1&&(d(0,"p",21),m(1,"Usa los filtros para encontrar un equipo."),f())}var xd=class t{filters={name:"",gender:"",level:"",sport:"",center:""};results=[];search(){this.results=[{id:1,name:"Los P\xE1delistas",sport_id:3,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},{id:2,name:"Futboleros",sport_id:2,sport_name:"football",image:"assets/images/team-default.png",gender:"male"},{id:3,name:"Volley Queens",sport_id:4,sport_name:"tennis",image:"assets/images/team-default.png",gender:"female"}]}requestJoin(n){console.log("Solicitar uni\xF3n al equipo",n),alert(`Solicitud enviada a "${n.name}"`)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-team-join"]],decls:31,vars:6,consts:[[1,"team-join"],[1,"filters",3,"ngSubmit"],["type","text","placeholder","Nombre del equipo","name","name",3,"ngModelChange","ngModel"],["name","sport",3,"ngModelChange","ngModel"],["value",""],["value","football"],["value","basket"],["value","tennis"],["value","padel"],["name","level",3,"ngModelChange","ngModel"],["value","beginner"],["value","intermediate"],["value","advanced"],["type","text","placeholder","Centro deportivo","name","center",3,"ngModelChange","ngModel"],["type","submit"],["class","results",4,"ngIf"],["class","empty",4,"ngIf"],[1,"results"],[4,"ngFor","ngForOf"],[3,"team"],[3,"click"],[1,"empty"]],template:function(e,r){e&1&&(d(0,"section",0),M(1,"app-back-button"),d(2,"h1"),m(3,"Unirse a un equipo"),f(),d(4,"form",1),V("ngSubmit",function(){return r.search()}),d(5,"input",2),T("ngModelChange",function(o){return O(r.filters.name,o)||(r.filters.name=o),o}),f(),d(6,"select",3),T("ngModelChange",function(o){return O(r.filters.sport,o)||(r.filters.sport=o),o}),d(7,"option",4),m(8,"Deporte"),f(),d(9,"option",5),m(10,"F\xFAtbol"),f(),d(11,"option",6),m(12,"Baloncesto"),f(),d(13,"option",7),m(14,"Tenis"),f(),d(15,"option",8),m(16,"P\xE1del"),f()(),d(17,"select",9),T("ngModelChange",function(o){return O(r.filters.level,o)||(r.filters.level=o),o}),d(18,"option",4),m(19,"Nivel"),f(),d(20,"option",10),m(21,"Iniciaci\xF3n"),f(),d(22,"option",11),m(23,"Intermedio"),f(),d(24,"option",12),m(25,"Avanzado"),f()(),d(26,"input",13),T("ngModelChange",function(o){return O(r.filters.center,o)||(r.filters.center=o),o}),f(),d(27,"button",14),m(28,"Buscar"),f()(),L(29,vk,5,1,"div",15)(30,yk,2,0,"p",16),f()),e&2&&(v(5),x("ngModel",r.filters.name),v(),x("ngModel",r.filters.sport),v(11),x("ngModel",r.filters.level),v(9),x("ngModel",r.filters.center),v(3),b("ngIf",r.results.length),v(),b("ngIf",!r.results.length))},dependencies:[Z,xe,de,Re,kn,Xt,en,$e,Qt,nt,Nn,Ke,hn,rt,Qo],styles:['[_ngcontent-%COMP%]:root{--bg: #0b0c10;--card-bg: #111318;--text: #e8eaf0;--muted: #9aa3af;--primary: #4f46e5;--primary-press: #4338ca;--border: #1f2330;--shadow: 0 6px 16px rgba(0, 0, 0, .25)}@media (prefers-color-scheme: light){[_ngcontent-%COMP%]:root{--bg: #f7f8fb;--card-bg: #ffffff;--text: #111318;--muted: #5b6574;--primary: #4f46e5;--primary-press: #4338ca;--border: #e5e7eb;--shadow: 0 6px 18px rgba(17, 19, 24, .07)}}.team-join[_ngcontent-%COMP%]{background:var(--bg);color:var(--text);min-height:100dvh;padding:calc(16px + env(safe-area-inset-top)) 16px calc(24px + env(safe-area-inset-bottom));display:block;max-width:720px;margin:0 auto}.team-join[_ngcontent-%COMP%]   app-back-button[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.team-join[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.2;font-weight:700;letter-spacing:-.01em;margin:4px 2px 16px}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;background:var(--card-bg);padding:12px;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;width:100%;padding:12px 14px;background:transparent;color:var(--text);border:1px solid var(--border);border-radius:12px;font-size:.95rem;outline:none;transition:border-color .2s ease,box-shadow .2s ease}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--muted)}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:color-mix(in oklab,var(--primary) 65%,var(--border));box-shadow:0 0 0 4px color-mix(in oklab,var(--primary) 18%,transparent)}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:4px;height:46px;border:0;border-radius:12px;background:var(--primary);color:#fff;font-weight:700;font-size:1rem;letter-spacing:.2px;box-shadow:0 8px 18px color-mix(in oklab,var(--primary) 28%,transparent);transition:transform .06s ease,background .15s ease,box-shadow .15s ease}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(1px);background:var(--primary-press);box-shadow:0 6px 14px color-mix(in oklab,var(--primary) 22%,transparent)}.results[_ngcontent-%COMP%]{margin-top:18px}.results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 4px 10px;color:var(--muted)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:10px}.team[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px;background:var(--card-bg);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);animation:_ngcontent-%COMP%_fadeUp .24s ease both}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.info[_ngcontent-%COMP%]{min-width:0;flex:1 1 auto}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:2px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:flex;gap:6px;flex-wrap:wrap;align-items:center}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;font-size:.78rem;font-weight:600;border-radius:999px;color:color-mix(in oklab,var(--primary) 86%,#ffffff);background:color-mix(in oklab,var(--primary) 15%,transparent);border:1px solid color-mix(in oklab,var(--primary) 28%,var(--border))}.center[_ngcontent-%COMP%]{color:var(--muted);font-size:.82rem}.center[_ngcontent-%COMP%]:before{content:"\\1f4cd";margin-right:4px}.team[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{white-space:nowrap;padding:10px 12px;min-height:38px;border-radius:10px;border:1px solid color-mix(in oklab,var(--primary) 50%,var(--border));background:color-mix(in oklab,var(--primary) 10%,transparent);color:color-mix(in oklab,var(--primary) 90%,#ffffff);font-weight:700;font-size:.92rem;transition:transform .06s ease,background .15s ease,border-color .15s ease}.team[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{transform:translateY(1px);background:color-mix(in oklab,var(--primary) 18%,transparent)}.empty[_ngcontent-%COMP%]{margin:18px 8px 0;color:var(--muted);text-align:center}@media (min-width: 420px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.filters[_ngcontent-%COMP%]   input[name=name][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{grid-column:1 / -1}}@media (prefers-reduced-motion: reduce){.team[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{transition:none!important;animation:none!important}}']})};function _k(t,n){if(t&1){let e=be();d(0,"input",27),T("ngModelChange",function(i){q(e);let o=B().$implicit,s=B(2);return O(s.accessCodes[o.id],i)||(s.accessCodes[o.id]=i),G(i)}),f()}if(t&2){let e=B().$implicit,r=B(2);x("ngModel",r.accessCodes[e.id]),Ye("name","code-"+e.id)}}function wk(t,n){if(t&1){let e=be();d(0,"li")(1,"div",22),M(2,"app-competition-card",23),d(3,"div",24),L(4,_k,1,2,"input",25),d(5,"button",26),V("click",function(){let i=q(e).$implicit,o=B(2);return G(o.requestJoin(i))}),m(6),f()()()()}if(t&2){let e=n.$implicit;v(2),b("competition",e),v(2),b("ngIf",e.is_private),v(),b("disabled",!e.is_open),v(),qe(" ",e.is_open?e.is_private?"Solicitar con c\xF3digo":"Solicitar inscripci\xF3n":"Inscripci\xF3n cerrada"," ")}}function bk(t,n){if(t&1&&(d(0,"div",20)(1,"h2"),m(2,"Resultados"),f(),d(3,"ul"),L(4,wk,7,4,"li",21),f()()),t&2){let e=B();v(4),b("ngForOf",e.results)}}function Ck(t,n){t&1&&(d(0,"p",28),m(1,"Usa los filtros para encontrar un campeonato."),f())}var Td=class t{filters={name:"",sport:"",type:"",level:"",center:""};results=[];accessCodes={};isValidCode(n){return/^\d{6}$/.test(String(n??"").trim())}search(){this.results=[{id:101,name:"Liga Municipal",image:"assets/images/sample-league-tennis.jpeg",sport_id:2,sport_name:"2",type:"league",level:2,start_date:"2025-02-10",location:"Polideportivo Sur",is_open:!0,is_private:!1},{id:202,name:"Open Padel Invierno",image:"assets/images/sample-league-padel.jpeg",sport_id:1,sport_name:"1",type:"tournament",level:3,start_date:"2025-01-20",location:"Real Club de Tenis",is_open:!0,is_private:!0}]}requestJoin(n){if(n.is_open){if(n.is_private){let e=this.accessCodes[n.id];if(!this.isValidCode(e)){alert("Introduce un c\xF3digo de acceso de 6 cifras");return}console.log("Solicitar inscripci\xF3n privada",n,"code:",e),alert(`Solicitud de inscripci\xF3n enviada a "${n.name}" con c\xF3digo ${e}`);return}console.log("Solicitar inscripci\xF3n a la competici\xF3n",n),alert(`Solicitud de inscripci\xF3n enviada a "${n.name}"`)}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-competition-join"]],decls:38,vars:7,consts:[[1,"competition-join"],[1,"filters",3,"ngSubmit"],["type","text","placeholder","Nombre del campeonato","name","name",3,"ngModelChange","ngModel"],["name","sport",3,"ngModelChange","ngModel"],["value",""],["value","football"],["value","basket"],["value","tennis"],["value","padel"],["name","type",3,"ngModelChange","ngModel"],["value","league"],["value","tournament"],["name","level",3,"ngModelChange","ngModel"],["value","beginner"],["value","intermediate"],["value","advanced"],["type","text","placeholder","Centro deportivo","name","center",3,"ngModelChange","ngModel"],["type","submit"],["class","results",4,"ngIf"],["class","empty",4,"ngIf"],[1,"results"],[4,"ngFor","ngForOf"],[1,"competition"],[3,"competition"],[1,"actions"],["class","code-input","maxlength","6","inputmode","numeric","pattern","\\\\d{6}","placeholder","C\xF3digo (6)",3,"ngModel","ngModelChange",4,"ngIf"],[1,"",3,"click","disabled"],["maxlength","6","inputmode","numeric","pattern","\\\\d{6}","placeholder","C\xF3digo (6)",1,"code-input",3,"ngModelChange","ngModel"],[1,"empty"]],template:function(e,r){e&1&&(d(0,"section",0),M(1,"app-back-button"),d(2,"h1"),m(3,"Unirse a un campeonato"),f(),d(4,"form",1),V("ngSubmit",function(){return r.search()}),d(5,"input",2),T("ngModelChange",function(o){return O(r.filters.name,o)||(r.filters.name=o),o}),f(),d(6,"select",3),T("ngModelChange",function(o){return O(r.filters.sport,o)||(r.filters.sport=o),o}),d(7,"option",4),m(8,"Deporte"),f(),d(9,"option",5),m(10,"F\xFAtbol"),f(),d(11,"option",6),m(12,"Baloncesto"),f(),d(13,"option",7),m(14,"Tenis"),f(),d(15,"option",8),m(16,"P\xE1del"),f()(),d(17,"select",9),T("ngModelChange",function(o){return O(r.filters.type,o)||(r.filters.type=o),o}),d(18,"option",4),m(19,"Tipo"),f(),d(20,"option",10),m(21,"Liga"),f(),d(22,"option",11),m(23,"Torneo"),f()(),d(24,"select",12),T("ngModelChange",function(o){return O(r.filters.level,o)||(r.filters.level=o),o}),d(25,"option",4),m(26,"Nivel"),f(),d(27,"option",13),m(28,"Iniciaci\xF3n"),f(),d(29,"option",14),m(30,"Intermedio"),f(),d(31,"option",15),m(32,"Avanzado"),f()(),d(33,"input",16),T("ngModelChange",function(o){return O(r.filters.center,o)||(r.filters.center=o),o}),f(),d(34,"button",17),m(35,"Buscar"),f()(),L(36,bk,5,1,"div",18)(37,Ck,2,0,"p",19),f()),e&2&&(v(5),x("ngModel",r.filters.name),v(),x("ngModel",r.filters.sport),v(11),x("ngModel",r.filters.type),v(7),x("ngModel",r.filters.level),v(9),x("ngModel",r.filters.center),v(3),b("ngIf",r.results.length),v(),b("ngIf",!r.results.length))},dependencies:[Z,xe,de,Re,kn,Xt,en,$e,Qt,nt,Nn,ka,Pa,Ke,hn,rt,Xo],styles:['[_ngcontent-%COMP%]:root{--bg: #0b0c10;--card-bg: #111318;--text: #e8eaf0;--muted: #9aa3af;--primary: #2563eb;--primary-press: #1d4ed8;--border: #1f2330;--shadow: 0 6px 16px rgba(0, 0, 0, .25)}@media (prefers-color-scheme: light){[_ngcontent-%COMP%]:root{--bg: #f7f8fb;--card-bg: #ffffff;--text: #111318;--muted: #5b6574;--primary: #2563eb;--primary-press: #1d4ed8;--border: #e5e7eb;--shadow: 0 6px 18px rgba(17, 19, 24, .07)}}.competition-join[_ngcontent-%COMP%]{background:var(--bg);color:var(--text);min-height:100dvh;padding:calc(16px + env(safe-area-inset-top)) 16px calc(24px + env(safe-area-inset-bottom));display:block;max-width:720px;margin:0 auto}.competition-join[_ngcontent-%COMP%]   app-back-button[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.competition-join[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.2;font-weight:700;letter-spacing:-.01em;margin:4px 2px 16px}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;background:var(--card-bg);padding:12px;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;width:100%;padding:12px 14px;background:transparent;color:var(--text);border:1px solid var(--border);border-radius:12px;font-size:.95rem;outline:none;transition:border-color .2s ease,box-shadow .2s ease}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--muted)}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:color-mix(in oklab,var(--primary) 65%,var(--border));box-shadow:0 0 0 4px color-mix(in oklab,var(--primary) 18%,transparent)}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:4px;height:46px;border:0;border-radius:12px;background:var(--primary);color:#fff;font-weight:700;font-size:1rem;letter-spacing:.2px;box-shadow:0 8px 18px color-mix(in oklab,var(--primary) 28%,transparent);transition:transform .06s ease,background .15s ease,box-shadow .15s ease}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(1px);background:var(--primary-press);box-shadow:0 6px 14px color-mix(in oklab,var(--primary) 22%,transparent)}.results[_ngcontent-%COMP%]{margin-top:18px}.results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 4px 10px;color:var(--muted)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:10px}.competition[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px;background:var(--card-bg);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);animation:_ngcontent-%COMP%_fadeUp .24s ease both}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.info[_ngcontent-%COMP%]{min-width:0;flex:1 1 auto}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:2px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:flex;gap:6px;flex-wrap:wrap;align-items:center}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;font-size:.78rem;font-weight:600;border-radius:999px;color:color-mix(in oklab,var(--primary) 86%,#ffffff);background:color-mix(in oklab,var(--primary) 15%,transparent);border:1px solid color-mix(in oklab,var(--primary) 28%,var(--border))}.center[_ngcontent-%COMP%]{color:var(--muted);font-size:.82rem}.center[_ngcontent-%COMP%]:before{content:"\\1f4cd";margin-right:4px}.competition[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{white-space:normal;padding:10px 12px;min-height:38px;border-radius:10px;border:1px solid color-mix(in oklab,var(--primary) 50%,var(--border));background:color-mix(in oklab,var(--primary) 10%,transparent);color:color-mix(in oklab,var(--primary) 90%,#ffffff);font-weight:700;font-size:.92rem;transition:transform .06s ease,background .15s ease,border-color .15s ease;width:140px;max-width:45%;text-align:center;line-height:1.15;overflow-wrap:anywhere}.competition[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{transform:translateY(1px);background:color-mix(in oklab,var(--primary) 18%,transparent)}.empty[_ngcontent-%COMP%]{margin:18px 8px 0;color:var(--muted);text-align:center}@media (min-width: 420px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.filters[_ngcontent-%COMP%]   input[name=name][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{grid-column:1 / -1}}@media (prefers-reduced-motion: reduce){.competition[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{transition:none!important;animation:none!important}}']})};var Od=class t{notification;delete=new _e;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-notification"]],inputs:{notification:"notification"},outputs:{delete:"delete"},decls:12,vars:6,consts:[[1,"notification-item","d-flex","align-items-start","justify-content-between","p-3","border","rounded","mb-2"],[1,"me-3","flex-grow-1"],[1,"d-flex","align-items-center","gap-2"],[1,"text-muted"],[1,"text-body-secondary"],["title","Borrar",1,"btn","btn-light","btn-sm",3,"click"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong"),m(4),f(),d(5,"small",3),m(6),oo(7,"date"),f()(),d(8,"div",4),m(9),f()(),d(10,"button",5),V("click",function(){return r.delete.emit(r.notification.id)}),m(11," \u{1F5D1}\uFE0F "),f()()),e&2&&(v(4),Y(r.notification.title),v(2),Y(_c(7,3,r.notification.createdAt,"short")),v(3),Y(r.notification.description))},dependencies:[Z,js],styles:[".notification-item[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]{display:block}"]})};function Ek(t,n){if(t&1){let e=be();d(0,"app-notification",7),V("delete",function(i){q(e);let o=B(2);return G(o.onDelete(i))}),f()}if(t&2){let e=n.$implicit;b("notification",e)}}function Dk(t,n){if(t&1&&(d(0,"div"),L(1,Ek,1,1,"app-notification",6),f()),t&2){let e=B();v(),b("ngForOf",e.notifications)("ngForTrackBy",e.trackById)}}function Sk(t,n){t&1&&(d(0,"div",8),m(1,"No tienes notificaciones"),f())}var Ad=class t{notifications=[{id:1,title:"Partido programado",description:"Tienes un partido el 28 de enero a las 19:00",createdAt:new Date().toISOString(),type:"info"},{id:2,title:"Nuevo mensaje",description:"Tu capit\xE1n ha actualizado la alineaci\xF3n",createdAt:new Date(Date.now()-36e5).toISOString(),type:"success"},{id:3,title:"Resultado pendiente",description:"Recuerda reportar el resultado del \xFAltimo partido",createdAt:new Date(Date.now()-864e5).toISOString(),type:"warning"}];onDelete(n){this.notifications=this.notifications.filter(e=>e.id!==n)}trackById=(n,e)=>e.id;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=H({type:t,selectors:[["app-notifications"]],decls:8,vars:2,consts:[["empty",""],[1,"notifications-container","container","py-3"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"m-0"],["ariaLabel","Volver","label","Volver"],[4,"ngIf","ngIfElse"],[3,"notification","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","notification"],["role","status",1,"alert","alert-info"]],template:function(e,r){if(e&1&&(d(0,"section",1)(1,"div",2)(2,"h2",3),m(3,"Notificaciones"),f(),M(4,"app-back-button",4),f(),L(5,Dk,2,2,"div",5)(6,Sk,2,0,"ng-template",null,0,wc),f()),e&2){let i=hr(7);v(5),b("ngIf",r.notifications.length)("ngIfElse",i)}},dependencies:[Z,xe,de,Od,rt],styles:[".notifications-container[_ngcontent-%COMP%]{max-width:720px}"]})};var jE=[{path:"",component:id},{path:"user-profile",component:vd,data:{backTo:"/dashboard"}},{path:"dashboard",component:bd},{path:"login",component:yd,data:{backTo:"/"}},{path:"sports-center",component:Cd,data:{backTo:"/dashboard"}},{path:"team",component:Sd,data:{backTo:"/dashboard"}},{path:"team/join",component:xd,data:{backTo:"/dashboard"}},{path:"competition",component:Id,data:{backTo:"/dashboard"}},{path:"competition/join",component:Td,data:{backTo:"/dashboard"}},{path:"classification/:id",component:Md},{path:"notifications",component:Ad,data:{backTo:"/dashboard"}},{path:"**",redirectTo:""}];Ap(ed,{providers:[om(jE,am())]}).catch(t=>console.error(t));

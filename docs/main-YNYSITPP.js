var fD=Object.create;var oo=Object.defineProperty,hD=Object.defineProperties,pD=Object.getOwnPropertyDescriptor,gD=Object.getOwnPropertyDescriptors,mD=Object.getOwnPropertyNames,mg=Object.getOwnPropertySymbols,vD=Object.getPrototypeOf,yg=Object.prototype.hasOwnProperty,yD=Object.prototype.propertyIsEnumerable;var vg=(e,t,n)=>t in e?oo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||={})yg.call(t,n)&&vg(e,n,t[n]);if(mg)for(var n of mg(t))yD.call(t,n)&&vg(e,n,t[n]);return e},z=(e,t)=>hD(e,gD(t));var M=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ve=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),so=(e,t)=>{for(var n in t)oo(e,n,{get:t[n],enumerable:!0})},_g=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mD(t))!yg.call(e,i)&&i!==n&&oo(e,i,{get:()=>t[i],enumerable:!(r=pD(t,i))||r.enumerable});return e};var _D=(e,t,n)=>(n=e!=null?fD(vD(e)):{},_g(t||!e||!e.__esModule?oo(n,"default",{value:e,enumerable:!0}):n,e)),Je=e=>_g(oo({},"__esModule",{value:!0}),e);var h=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});var Jn={};so(Jn,{__addDisposableResource:()=>tm,__assign:()=>Ys,__asyncDelegator:()=>Kg,__asyncGenerator:()=>Xs,__asyncValues:()=>ea,__await:()=>Nt,__awaiter:()=>_,__classPrivateFieldGet:()=>Qg,__classPrivateFieldIn:()=>em,__classPrivateFieldSet:()=>Xg,__createBinding:()=>Qs,__decorate:()=>Fg,__disposeResources:()=>nm,__esDecorate:()=>jg,__exportStar:()=>zg,__extends:()=>Pg,__generator:()=>Hg,__importDefault:()=>Jg,__importStar:()=>Yg,__makeTemplateObject:()=>Zg,__metadata:()=>Bg,__param:()=>Lg,__propKey:()=>$g,__read:()=>Wu,__rest:()=>Qt,__rewriteRelativeImportExtension:()=>rm,__runInitializers:()=>Vg,__setFunctionName:()=>Ug,__spread:()=>qg,__spreadArray:()=>Wg,__spreadArrays:()=>Gg,__values:()=>Js,default:()=>PD});function Pg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Qt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Fg(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function Lg(e,t){return function(n,r){t(n,r,e)}}function jg(e,t,n,r,i,o){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,p=!1,d=n.length-1;d>=0;d--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(y||null))};var v=(0,n[d])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(u.get=f),(f=s(v.set))&&(u.set=f),(f=s(v.init))&&i.unshift(f)}else(f=s(v))&&(a==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,r.name,u),p=!0}function Vg(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function $g(e){return typeof e=="symbol"?e:"".concat(e)}function Ug(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Bg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Hg(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zg(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Qs(t,e,n)}function Js(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wu(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function qg(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wu(arguments[t]));return e}function Gg(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Wg(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Nt(e){return this instanceof Nt?(this.v=e,this):new Nt(e)}function Xs(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(d){return function(g){return Promise.resolve(g).then(d,f)}}function a(d,g){r[d]&&(i[d]=function(m){return new Promise(function(v,y){o.push([d,m,v,y])>1||l(d,m)})},g&&(i[d]=g(i[d])))}function l(d,g){try{c(r[d](g))}catch(m){p(o[0][3],m)}}function c(d){d.value instanceof Nt?Promise.resolve(d.value.v).then(u,f):p(o[0][2],d)}function u(d){l("next",d)}function f(d){l("throw",d)}function p(d,g){d(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Kg(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:Nt(e[i](s)),done:!1}:o?o(s):s}:o}}function ea(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Js=="function"?Js(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function Zg(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Yg(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Gu(e),r=0;r<n.length;r++)n[r]!=="default"&&Qs(t,e,n[r]);return ND(t,e),t}function Jg(e){return e&&e.__esModule?e:{default:e}}function Qg(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Xg(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function em(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function tm(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}function nm(e){function t(o){e.error=e.hasError?new kD(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function rm(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,s){return r?t?".jsx":".js":i&&(!o||!s)?n:i+o+"."+s.toLowerCase()+"js"}):e}var qu,Ys,Qs,ND,Gu,kD,PD,ae=M(()=>{"use strict";qu=function(e,t){return qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},qu(e,t)};Ys=function(){return Ys=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ys.apply(this,arguments)};Qs=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};ND=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Gu=function(e){return Gu=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Gu(e)};kD=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};PD={__extends:Pg,__assign:Ys,__rest:Qt,__decorate:Fg,__param:Lg,__esDecorate:jg,__runInitializers:Vg,__propKey:$g,__setFunctionName:Ug,__metadata:Bg,__awaiter:_,__generator:Hg,__createBinding:Qs,__exportStar:zg,__values:Js,__read:Wu,__spread:qg,__spreadArrays:Gg,__spreadArray:Wg,__await:Nt,__asyncGenerator:Xs,__asyncDelegator:Kg,__asyncValues:ea,__makeTemplateObject:Zg,__importStar:Yg,__importDefault:Jg,__classPrivateFieldGet:Qg,__classPrivateFieldSet:Xg,__classPrivateFieldIn:em,__addDisposableResource:tm,__disposeResources:nm,__rewriteRelativeImportExtension:rm}});var qw,Gw=M(()=>{"use strict";qw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t)});var Er,Ri,Dr,Cr,fs,$h=M(()=>{"use strict";Er=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Ri=class extends Er{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Dr=class extends Er{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Cr=class extends Er{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},fs=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(fs||{})});var gc,Ww=M(()=>{"use strict";ae();Gw();$h();gc=class{constructor(t,{headers:n={},customFetch:r,region:i=fs.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=qw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:f}=r,p={},{region:d}=r;d||(d=this.region);let g=new URL(`${this.url}/${n}`);d&&d!=="any"&&(p["x-region"]=d,g.searchParams.set("forceFunctionRegion",d));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let v=u;f&&(s=new AbortController,o=setTimeout(()=>s.abort(),f),u?(v=s.signal,u.addEventListener("abort",()=>s.abort())):v=s.signal);let y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:v}).catch(Z=>{throw new Ri(Z)}),U=y.headers.get("x-relay-error");if(U&&U==="true")throw new Dr(y);if(!y.ok)throw new Cr(y);let C=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return C==="application/json"?I=yield y.json():C==="application/octet-stream"||C==="application/pdf"?I=yield y.blob():C==="text/event-stream"?I=y:C==="multipart/form-data"?I=yield y.formData():I=yield y.text(),{data:I,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Cr||a instanceof Dr?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var Uh={};so(Uh,{FunctionRegion:()=>fs,FunctionsClient:()=>gc,FunctionsError:()=>Er,FunctionsFetchError:()=>Ri,FunctionsHttpError:()=>Cr,FunctionsRelayError:()=>Dr});var Bh=M(()=>{"use strict";Ww();$h()});var qh=Ve(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});var Hh=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zh.default=Hh});var Kh=Ve(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});var jA=(ae(),Je(Jn)),VA=jA.__importDefault(qh()),Gh=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l,c;let u=null,f=null,p=null,d=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let U=yield o.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}let v=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,d=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{let v=yield o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(f=[],u=null,d=200,g="OK")}catch{o.status===404&&v===""?(d=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new VA.default(u)}return{error:u,data:f,count:p,status:d,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,f;let p="",d=o?.cause;if(d){let g=(s=d?.message)!==null&&s!==void 0?s:"",m=(a=d?.code)!==null&&a!==void 0?a:"";p=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,p+=`

Caused by: ${(c=d?.name)!==null&&c!==void 0?c:"Error"}: ${g}`,m&&(p+=` (${m})`),d?.stack&&(p+=`
${d.stack}`)}else p=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Wh.default=Gh});var Jh=Ve(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});var $A=(ae(),Je(Jn)),UA=$A.__importDefault(Kh()),Zh=class extends UA.default{select(t){let n=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Yh.default=Zh});var mc=Ve(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});var BA=(ae(),Je(Jn)),HA=BA.__importDefault(Jh()),zA=new RegExp("[,()]"),Qh=class extends HA.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}regexMatch(t,n){return this.url.searchParams.append(t,`match.${n}`),this}regexIMatch(t,n){return this.url.searchParams.append(t,`imatch.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}isDistinct(t,n){return this.url.searchParams.append(t,`isdistinct.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&zA.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Xh.default=Qh});var np=Ve(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});var qA=(ae(),Je(Jn)),hs=qA.__importDefault(mc()),ep=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){let{head:r=!1,count:i}=n??{},o=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;let o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new hs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};tp.default=ep});var Zw=Ve(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var Kw=(ae(),Je(Jn)),GA=Kw.__importDefault(np()),WA=Kw.__importDefault(mc()),rp=class e{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let n=new URL(`${this.url}/${t}`);return new GA.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${t}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",c=n);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new WA.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};ip.default=rp});var op=Ve(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;var Oi=(ae(),Je(Jn)),Yw=Oi.__importDefault(Zw());je.PostgrestClient=Yw.default;var Jw=Oi.__importDefault(np());je.PostgrestQueryBuilder=Jw.default;var Qw=Oi.__importDefault(mc());je.PostgrestFilterBuilder=Qw.default;var Xw=Oi.__importDefault(Jh());je.PostgrestTransformBuilder=Xw.default;var eb=Oi.__importDefault(Kh());je.PostgrestBuilder=eb.default;var tb=Oi.__importDefault(qh());je.PostgrestError=tb.default;je.default={PostgrestClient:Yw.default,PostgrestQueryBuilder:Jw.default,PostgrestFilterBuilder:Qw.default,PostgrestTransformBuilder:Xw.default,PostgrestBuilder:eb.default,PostgrestError:tb.default}});var sp,vc,ap=M(()=>{"use strict";sp=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},vc=sp});var nb,rb=M(()=>{"use strict";nb="2.87.1"});var ib,lp,ob,cp,ps,sb,ab,Ir,me,vt,up,Sr,yc=M(()=>{"use strict";rb();ib=`realtime-js/${nb}`,lp="1.0.0",ob="2.0.0",cp=lp,ps=1e4,sb=1e3,ab=100,Ir=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Ir||{}),me=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(me||{}),vt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(vt||{}),up=function(e){return e.websocket="websocket",e}(up||{}),Sr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Sr||{})});var _c,lb=M(()=>{"use strict";_c=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+f.length,d=new ArrayBuffer(this.HEADER_LENGTH+p),g=new DataView(d),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,a.length),g.setUint8(m++,s.length),g.setUint8(m++,c.length),g.setUint8(m++,f.length),g.setUint8(m++,n),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(d.byteLength+r.byteLength);return v.set(new Uint8Array(d),0),v.set(new Uint8Array(r),d.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,l]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:l})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(t.slice(l,l+i));l=l+i;let u=r.decode(t.slice(l,l+o));l=l+o;let f=r.decode(t.slice(l,l+s));l=l+s;let p=t.slice(l,t.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:u,payload:d};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}});var Ni,dp=M(()=>{"use strict";Ni=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var se,hp,KA,cb,fp,ZA,YA,JA,QA,XA,wc,bc=M(()=>{"use strict";se=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(se||{}),hp=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=KA(s,e,t,i),o),{}):{}},KA=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?cb(o,s):fp(s)},cb=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return QA(t,n)}switch(e){case se.bool:return ZA(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return YA(t);case se.json:case se.jsonb:return JA(t);case se.timestamp:return XA(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return fp(t);default:return fp(t)}},fp=e=>e,ZA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},YA=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},JA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QA=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>cb(t,a))}return e},XA=e=>typeof e=="string"?e.replace(" ","T"):e,wc=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href}});var ki,ub=M(()=>{"use strict";yc();ki=class{constructor(t,n,r={},i=ps){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}});var pp,Pi,gp=M(()=>{"use strict";pp=function(e){return e.SYNC="sync",e.JOIN="join",e.LEAVE="leave",e}(pp||{}),Pi=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let f=o[c];if(f){let p=u.map(v=>v.presence_ref),d=f.map(v=>v.presence_ref),g=u.filter(v=>d.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){let f=t[a].map(d=>d.presence_ref),p=u.filter(d=>f.indexOf(d.presence_ref)<0);t[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;let u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var mp,Fi,Wt,db,Li,vp=M(()=>{"use strict";yc();ub();dp();gp();bc();bc();mp=function(e){return e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE",e}(mp||{}),Fi=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(Fi||{}),Wt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Wt||{}),db=me,Li=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ki(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Ni(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Pi(this),this.broadcastEndpointURL=wc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Fi.PRESENCE]&&this.bindings[Fi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>t?.(Wt.CHANNEL_ERROR,d)),this._onClose(()=>t?.(Wt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:d}){var m;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){t?.(Wt.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,y=(m=v?.length)!==null&&m!==void 0?m:0,U=[];for(let C=0;C<y;C++){let I=v[C],{filter:{event:Z,schema:Ot,table:ne,filter:ve}}=I,yn=d&&d[C];if(yn&&yn.event===Z&&e.isFilterValueEqual(yn.schema,Ot)&&e.isFilterValueEqual(yn.table,ne)&&e.isFilterValueEqual(yn.filter,ve))U.push(Object.assign(Object.assign({},I),{id:yn.id}));else{this.unsubscribe(),this.state=me.errored,t?.(Wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,t&&t(Wt.SUBSCRIBED);return}})).receive("error",d=>{this.state=me.errored,t?.(Wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(Wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===me.joined&&t===Fi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>h(this,null,function*(){return yield this.subscribe()}))),this._on(t,n,r)}httpSend(i,o){return h(this,arguments,function*(t,n,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let f=yield c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=me.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ki(this,vt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ki(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ab){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=vt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,m,v;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=d.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(d=>d.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(d=>{var g,m,v,y,U,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){let I=d.id,Z=(g=d.filter)===null||g===void 0?void 0:g.event;return I&&((m=n.ids)===null||m===void 0?void 0:m.includes(I))&&(Z==="*"||Z?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let I=(U=(y=d?.filter)===null||y===void 0?void 0:y.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return I==="*"||I===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:y,type:U,errors:C}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:U,new:{},old:{},errors:C}),this._getPayloadRecords(g))}d.callback(p,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vt.close,{},t)}_onError(t){this._on(vt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=hp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=hp(t.columns,t.old_record)),n}}});var yp,Ec,tR,nR,rR,Dc,fb=M(()=>{"use strict";ap();yc();lb();dp();bc();vp();yp=()=>{},Ec={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tR=[1e3,2e3,5e3,1e4],nR=1e4,rR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Dc=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ps,this.transport=null,this.heartbeatIntervalMs=Ec.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yp,this.ref=0,this.reconnectTimer=null,this.vsn=cp,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new _c,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${up.websocket}`,this.httpEndpoint=wc(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vc.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return Sr.Connecting;case Ir.open:return Sr.Open;case Ir.closing:return Sr.Closing;default:return Sr.Closed}}isConnected(){return this.connectionState()===Sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Li(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return h(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sb,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ec.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ir.open||this.conn.readyState===Ir.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([rR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return h(this,null,function*(){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:ib};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(vt.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ni(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Ec.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,l,c,u,f,p,d;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ps,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ec.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:yp,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:cp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:g=>tR[g-1]||nR,this.vsn){case lp:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t?.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case ob:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}});var _p={};so(_p,{REALTIME_CHANNEL_STATES:()=>db,REALTIME_LISTEN_TYPES:()=>Fi,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>mp,REALTIME_PRESENCE_LISTEN_EVENTS:()=>pp,REALTIME_SUBSCRIBE_STATES:()=>Wt,RealtimeChannel:()=>Li,RealtimeClient:()=>Dc,RealtimePresence:()=>Pi,WebSocketFactory:()=>vc});var wp=M(()=>{"use strict";fb();vp();gp();ap()});function Q(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var gn,gs,kn,Pn=M(()=>{"use strict";gn=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};gs=class extends gn{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kn=class extends gn{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}});var ji,hb,Cc,pb,gb,ms=M(()=>{"use strict";ji=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hb=()=>Response,Cc=e=>{if(Array.isArray(e))return e.map(n=>Cc(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Cc(r)}),t},pb=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)});function vs(e,t,n,r,i,o){return _(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,oR(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>iR(l,a,r))})})}function Fn(e,t,n,r){return _(this,void 0,void 0,function*(){return vs(e,"GET",t,n,r)})}function Ye(e,t,n,r,i){return _(this,void 0,void 0,function*(){return vs(e,"POST",t,r,i,n)})}function ys(e,t,n,r,i){return _(this,void 0,void 0,function*(){return vs(e,"PUT",t,r,i,n)})}function mb(e,t,n,r){return _(this,void 0,void 0,function*(){return vs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Vi(e,t,n,r,i){return _(this,void 0,void 0,function*(){return vs(e,"DELETE",t,r,i,n)})}var bp,iR,oR,Ic=M(()=>{"use strict";ae();Pn();ms();bp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},iR=(e,t,n)=>_(void 0,void 0,void 0,function*(){let r=yield hb();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{let o=e.status||500,s=i?.statusCode||o+"";t(new gs(bp(i),o,s))}).catch(i=>{t(new kn(bp(i),i))}):t(new kn(bp(e),e))}),oR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(pb(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))}});var Sc,vb=M(()=>{"use strict";ae();Pn();Sc=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return _(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Q(t))return{data:null,error:t};throw t}})}}});var yb,Ep,_b,wb=M(()=>{"use strict";ae();Pn();vb();Ep=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[yb]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sc(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Q(t))return{data:null,error:t};throw t}})}};yb=Symbol.toStringTag;_b=Ep});var sR,bb,Tc,Eb=M(()=>{"use strict";ae();Pn();Ic();ms();wb();sR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Tc=class{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=ji(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return _(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},bb),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield(t=="PUT"?ys:Ye)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Q(o))return{data:null,error:o};throw o}})}upload(t,n,r){return _(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return _(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l,c=Object.assign({upsert:bb.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let f=yield ys(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Q(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return _(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield Ye(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new gn("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}})}update(t,n,r){return _(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Q(i))return{data:null,error:i};throw i}})}copy(t,n,r){return _(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Q(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return _(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Ye(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Q(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return _(this,void 0,void 0,function*(){try{let i=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Q(i))return{data:null,error:i};throw i}})}download(t,n){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>Fn(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new _b(l,this.shouldThrowOnError)}info(t){return _(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield Fn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}})}exists(t){return _(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield mb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r)&&r instanceof kn){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return _(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}list(t,n,r){return _(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},sR),n),{prefix:t||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Q(i))return{data:null,error:i};throw i}})}listV2(t,n){return _(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Ye(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}});var Mc,Dp=M(()=>{"use strict";Mc="2.87.1"});var xc,Cp=M(()=>{"use strict";Dp();xc={"X-Client-Info":`storage-js/${Mc}`}});var Ac,Db=M(()=>{"use strict";ae();Cp();Pn();Ic();ms();Ac=class{constructor(t,n={},r,i){this.shouldThrowOnError=!1;let o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xc),n),this.fetch=ji(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return _(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(t);return{data:yield Fn(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}getBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}createBucket(t){return _(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Q(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return _(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}})}emptyBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){let n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}});function aR(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function lR(e){return h(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function cR(e){let t=e.fetchImpl??globalThis.fetch;return{request(l){return h(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=aR(e.baseUrl,i,o),u=yield lR(e.auth),f=yield t(c,{method:r,headers:w(w(w({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield f.text(),d=(f.headers.get("content-type")||"").includes("application/json"),g=d&&p?JSON.parse(p):p;if(!f.ok){let m=d?g:void 0,v=m?.error;throw new _s(v?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:v?.type,icebergCode:v?.code,details:m})}return{status:f.status,headers:f.headers,data:g}})}}}function Rc(e){return e.join("")}function $i(e){return e.join("")}var _s,uR,dR,Cb,Ib=M(()=>{"use strict";_s=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};uR=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return h(this,null,function*(){let t=e?{parent:Rc(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,t){return h(this,null,function*(){let n={namespace:e.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rc(e.namespace)}`})})}loadNamespaceMetadata(e){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rc(e.namespace)}`})).data.properties}})}namespaceExists(e){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rc(e.namespace)}`}),!0}catch(t){if(t instanceof _s&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof _s&&n.status===409)return;throw n}})}};dR=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return h(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return h(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(e){return h(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return h(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof _s&&n.status===404)return!1;throw n}})}createTableIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof _s&&n.status===409)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},Cb=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=cR({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new uR(this.client,t),this.tableOps=new dR(this.client,t,this.accessDelegation)}listNamespaces(e){return h(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return h(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return h(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return h(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return h(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return h(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return h(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return h(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}}});var Ui,Ip=M(()=>{"use strict";ae();Ib();Cp();Pn();Ic();ms();Ui=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xc),n),this.fetch=ji(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}listBuckets(t){return _(this,void 0,void 0,function*(){try{let n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);let r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Fn(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}from(t){if(!gb(t))throw new gn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new Cb({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>_(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>_(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var Bi,Oc=M(()=>{"use strict";Dp();Bi={"X-Client-Info":`storage-js/${Mc}`,"Content-Type":"application/json"}});function Se(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Hi,Ln,zi,Sp,qi=M(()=>{"use strict";Hi=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};Ln=class extends Hi{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zi=class extends Hi{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}},Sp=function(e){return e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",e}(Sp||{})});var jn,Sb,Nc,Tb,Mb,Gi=M(()=>{"use strict";jn=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Sb=()=>Response,Nc=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tb=e=>Array.from(new Float32Array(e)),Mb=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)}});function pR(e,t,n,r,i,o){return _(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,hR(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>fR(l,a,r))})})}function Pe(e,t,n,r,i){return _(this,void 0,void 0,function*(){return pR(e,"POST",t,r,i,n)})}var xb,fR,hR,kc=M(()=>{"use strict";ae();qi();Gi();xb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fR=(e,t,n)=>_(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";t(new Ln(xb(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Ln(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Ln(a,i,s))}}else t(new zi(xb(e),e))}),hR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(Nc(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))}});var Wi,Tp=M(()=>{"use strict";ae();Oc();qi();kc();Gi();Wi=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bi),n),this.fetch=jn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}getIndex(t,n){return _(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}listIndexes(t){return _(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return _(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}}});var Ki,Mp=M(()=>{"use strict";ae();Oc();qi();kc();Gi();Ki=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bi),n),this.fetch=jn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return _(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}getVectors(t){return _(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}listVectors(t){return _(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Pe(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}queryVectors(t){return _(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}deleteVectors(t){return _(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}}});var Zi,xp=M(()=>{"use strict";ae();Oc();qi();kc();Gi();Zi=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bi),n),this.fetch=jn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}getBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}listBuckets(){return _(this,arguments,void 0,function*(t={}){try{return{data:yield Pe(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}}});var Yi,ws,bs,Ab=M(()=>{"use strict";ae();Tp();Mp();xp();Yi=class extends Zi{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new ws(this.url,this.headers,t,this.fetch)}createBucket(t){let n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){let n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){let t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){let n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}},ws=class extends Wi{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new bs(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},bs=class extends Ki{constructor(t,n,r,i,o){super(t,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var Ap=M(()=>{"use strict";Ab();xp();Tp();Mp();qi();Gi()});var Pc,Rb=M(()=>{"use strict";Eb();Db();Ip();Ap();Pc=class extends Ac{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new Tc(this.url,this.headers,t,this.fetch)}get vectors(){return new Yi(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ui(this.url+"/iceberg",this.headers,this.fetch)}}});var Ob=M(()=>{"use strict"});var Nb={};so(Nb,{StorageAnalyticsClient:()=>Ui,StorageApiError:()=>gs,StorageClient:()=>Pc,StorageError:()=>gn,StorageUnknownError:()=>kn,StorageVectorsApiError:()=>Ln,StorageVectorsClient:()=>Yi,StorageVectorsError:()=>Hi,StorageVectorsErrorCode:()=>Sp,StorageVectorsUnknownError:()=>zi,VectorBucketApi:()=>Zi,VectorBucketScope:()=>ws,VectorDataApi:()=>Ki,VectorIndexApi:()=>Wi,VectorIndexScope:()=>bs,isPlainObject:()=>Nc,isStorageError:()=>Q,isStorageVectorsError:()=>Se,normalizeToFloat32:()=>Tb,resolveFetch:()=>jn,resolveResponse:()=>Sb,validateVectorDimension:()=>Mb});var kb=M(()=>{"use strict";Rb();Ip();Ob();Pn();Ap()});var Pb=Ve(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.version=void 0;Fc.version="2.87.1"});var Fb=Ve(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.DEFAULT_REALTIME_OPTIONS=nt.DEFAULT_AUTH_OPTIONS=nt.DEFAULT_DB_OPTIONS=nt.DEFAULT_GLOBAL_OPTIONS=nt.DEFAULT_HEADERS=void 0;var gR=Pb(),Es="";typeof Deno<"u"?Es="deno":typeof document<"u"?Es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Es="react-native":Es="node";nt.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${Es}/${gR.version}`};nt.DEFAULT_GLOBAL_OPTIONS={headers:nt.DEFAULT_HEADERS};nt.DEFAULT_DB_OPTIONS={schema:"public"};nt.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};nt.DEFAULT_REALTIME_OPTIONS={}});var Lb=Ve(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.fetchWithAuth=At.resolveHeadersConstructor=At.resolveFetch=void 0;var mR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);At.resolveFetch=mR;var vR=()=>Headers;At.resolveHeadersConstructor=vR;var yR=(e,t,n)=>{let r=(0,At.resolveFetch)(n),i=(0,At.resolveHeadersConstructor)();return(o,s)=>h(null,null,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};At.fetchWithAuth=yR});var Vb=Ve(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.isBrowser=void 0;Vn.uuid=_R;Vn.ensureTrailingSlash=jb;Vn.applySettingDefaults=bR;Vn.validateSupabaseUrl=ER;function _R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function jb(e){return e.endsWith("/")?e:e+"/"}var wR=()=>typeof window<"u";Vn.isBrowser=wR;function bR(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function ER(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var Lc,Rp=M(()=>{"use strict";Lc="2.87.1"});var Tr,jc,Vc,$b,Ub,Bb,Ds,Op,Hb,zb,$c=M(()=>{"use strict";Rp();Tr=30*1e3,jc=3,Vc=jc*Tr,$b="http://localhost:9999",Ub="supabase.auth.token",Bb={"X-Client-Info":`gotrue-js/${Lc}`},Ds="X-Supabase-Api-Version",Op={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zb=10*60*1e3});function S(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}function Np(e){return S(e)&&e.name==="AuthApiError"}function kp(e){return S(e)&&e.name==="AuthSessionMissingError"}function Pp(e){return S(e)&&e.name==="AuthImplicitGrantRedirectError"}function Is(e){return S(e)&&e.name==="AuthRetryableFetchError"}function DR(e){return S(e)&&e.name==="AuthWeakPasswordError"}var mn,Cs,rt,Rt,Te,Kt,$n,Un,Ji,Mr,Qi,Bn,xr=M(()=>{"use strict";mn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};Cs=class extends mn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};rt=class extends mn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Rt=class extends mn{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},Te=class extends Rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};Kt=class extends Rt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},$n=class extends Rt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Un=class extends Rt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};Ji=class extends Rt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Mr=class extends Rt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};Qi=class extends Rt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};Bn=class extends Rt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}});function Gb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Uc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Uc[r]),t.queuedBits-=6}}function Wb(e,t,n){let r=CR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fp(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{TR(s,r,n)};for(let s=0;s<e.length;s+=1)Wb(e.charCodeAt(s),i,o);return t.join("")}function IR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function SR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}IR(r,t)}}function TR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Hn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Wb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Kb(e){let t=[];return SR(e,n=>t.push(n)),new Uint8Array(t)}function vn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Gb(i,n,r)),Gb(null,n,r),t.join("")}var Uc,qb,CR,Bc=M(()=>{"use strict";Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qb=` 	
\r=`.split(""),CR=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qb.length;t+=1)e[qb[t].charCodeAt(0)]=-2;for(let t=0;t<Uc.length;t+=1)e[Uc[t].charCodeAt(0)]=t;return e})()});function Zb(e){return Math.round(Date.now()/1e3)+e}function Yb(){return Symbol("auth-callback")}function Jb(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}function qc(e){let t=e.split(".");if(t.length!==3)throw new Bn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Hb.test(t[r]))throw new Bn("JWT not in base64url format");return{header:JSON.parse(Fp(t[0])),payload:JSON.parse(Fp(t[1])),signature:Hn(t[2]),raw:{header:t[0],payload:t[1]}}}function Xb(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function eE(e,t){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function MR(e){return("0"+e.toString(16)).substr(-2)}function xR(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,MR).join("")}function AR(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function RR(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield AR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Or(e,t,n=!1){return h(this,null,function*(){let r=xR(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Rr(e,`${t}-code-verifier`,i);let o=yield RR(r);return[o,r===o?"plain":"s256"]})}function tE(e){let t=e.headers.get(Ds);if(!t||!t.match(OR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nE(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function Nr(e){if(!NR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gc(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iE(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Lp(e){return JSON.parse(JSON.stringify(e))}var De,Ar,Hc,zc,Qb,Rr,zn,Me,Ss,OR,NR,Xi=M(()=>{"use strict";$c();xr();Bc();De=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},Hc=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};zc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rr=(e,t,n)=>h(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),zn=(e,t)=>h(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Me=(e,t)=>h(null,null,function*(){yield e.removeItem(t)}),Ss=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Ss.promiseConstructor=Promise;OR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;NR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function oE(e){return h(this,null,function*(){var t;if(!Qb(e))throw new Mr(kr(e),0);if(kR.includes(e.status))throw new Mr(kr(e),e.status);let n;try{n=yield e.json()}catch(o){throw new rt(kr(o),o)}let r,i=tE(e);if(i&&i.getTime()>=Op["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qi(kr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Te}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Qi(kr(n),e.status,n.weak_password.reasons);throw new Cs(kr(n),e.status||500,r)})}function R(e,t,n,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Ds]||(o[Ds]=Op["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield FR(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function FR(e,t,n,r,i,o){return h(this,null,function*(){let s=PR(t,r,i,o),a;try{a=yield e(n,Object.assign({},s))}catch(l){throw console.error(l),new Mr(kr(l),0)}if(a.ok||(yield oE(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield oE(l)}})}function yt(e){var t;let n=null;LR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Zb(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function jp(e){let t=yt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sE(e){return{data:e,error:null}}function aE(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=Qt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Vp(e){return e}function LR(e){return e.access_token&&e.refresh_token&&e.expires_in}var kr,kR,PR,$p=M(()=>{"use strict";ae();$c();Xi();xr();kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kR=[502,503,504];PR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))}});var Ts,Up=M(()=>{"use strict";Ts=["global","local","others"]});var qn,Wc=M(()=>{"use strict";ae();$p();Xi();Up();xr();qn=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=zc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(t,n=Ts[0]){if(Ts.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ts.join(", ")}`);try{return yield R(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(S(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield R(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zt})}catch(i){if(S(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=Qt(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aE,redirectTo:n?.redirectTo})}catch(n){if(S(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zt})}catch(n){if(S(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vp});if(u.error)throw u.error;let f=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(S(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return h(this,null,function*(){Nr(t);try{return yield R(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zt})}catch(n){if(S(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){Nr(t);try{return yield R(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Zt})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){Nr(t);try{return yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zt})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){Nr(t.userId);try{let{data:n,error:r}=yield R(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){Nr(t.userId),Nr(t.id);try{return{data:yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_listOAuthClients(t){return h(this,null,function*(){var n,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield R(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vp});if(u.error)throw u.error;let f=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(S(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(t){return h(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}_getOAuthClient(t){return h(this,null,function*(){try{return yield R(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}_updateOAuthClient(t,n){return h(this,null,function*(){try{return yield R(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(S(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return h(this,null,function*(){try{return yield R(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(t){return h(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}}});function Bp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var lE=M(()=>{"use strict"});function Kc(e,t,n){return h(this,null,function*(){Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ms(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gn.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function uE(e,t,n){return h(this,null,function*(){var r;let i=(r=cE[e])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),t>=0?new Promise((s,a)=>{setTimeout(()=>{a(new Hp(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>h(null,null,function*(){return yield n()}));return cE[e]=o.catch(s=>h(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var Gn,eo,Ms,Hp,cE,zp=M(()=>{"use strict";Xi();Gn={debug:!!(globalThis&&Hc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},eo=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Ms=class extends eo{},Hp=class extends eo{};cE={}});function dE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var fE=M(()=>{"use strict"});function qp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function hE(e){return parseInt(e,16)}function pE(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function gE(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:f,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let d=qp(e.address),g=u?`${u}://${r}`:r,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${d}

${m}`,y=`URI: ${f}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let U=`
Resources:`;for(let C of c){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);U+=`
- ${C}`}y+=U}return`${v}
${y}`}var mE=M(()=>{"use strict"});function vE({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Gp(s)){if(o.rp.id!==s)return new le({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yE({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Gp(r)){if(n.rpId!==r)return new le({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var le,Pr,_E=M(()=>{"use strict";Wp();le=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},Pr=class extends le{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}});function bE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=Qt(e,["challenge","user","excludeCredentials"]),o=Hn(t).buffer,s=Object.assign(Object.assign({},n),{id:Hn(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Hn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function EE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=Qt(e,["challenge","allowCredentials"]),i=Hn(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Hn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function DE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:vn(new Uint8Array(e.response.attestationObject)),clientDataJSON:vn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vn(new Uint8Array(i.authenticatorData)),clientDataJSON:vn(new Uint8Array(i.clientDataJSON)),signature:vn(new Uint8Array(i.signature)),userHandle:i.userHandle?vn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wE(){var e,t;return!!(De()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function VR(e){return h(this,null,function*(){try{let t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pr("Browser returned unexpected credential type",t)}:{data:null,error:new Pr("Empty credential response",t)}}catch(t){return{data:null,error:vE({error:t,options:e})}}})}function $R(e){return h(this,null,function*(){try{let t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pr("Browser returned unexpected credential type",t)}:{data:null,error:new Pr("Empty credential response",t)}}catch(t){return{data:null,error:yE({error:t,options:e})}}})}function Zc(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=Zc(a,s):r[o]=Zc(s)}else r[o]=s}return r}function HR(e,t){return Zc(UR,e,t||{})}function zR(e,t){return Zc(BR,e,t||{})}var Kp,jR,UR,BR,Yc,Wp=M(()=>{"use strict";ae();Bc();xr();Xi();_E();Kp=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},jR=new Kp;UR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};Yc=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:c};let u=i??jR.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{let f=HR(l.webauthn.credential_options.publicKey,o?.create),{data:p,error:d}=yield VR({publicKey:f,signal:u});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:d}}case"request":{let f=zR(l.webauthn.credential_options.publicKey,o?.request),{data:p,error:d}=yield $R(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:u}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:d}}}}catch(l){return S(l)?{data:null,error:l}:{data:null,error:new rt("Unexpected error in challenge",l)}}})}_verify(i){return h(this,arguments,function*({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new mn("rpId is required for WebAuthn authentication")};try{if(!wE())return{data:null,error:new rt("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return S(l)?{data:null,error:l}:{data:null,error:new rt("Unexpected error in authenticate",l)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new mn("rpId is required for WebAuthn registration")};try{if(!wE())return{data:null,error:new rt("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:t});if(!l)return yield this.client.mfa.listFactors().then(p=>{var d;return(d=p.data)===null||d===void 0?void 0:d.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};let{data:u,error:f}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(l){return S(l)?{data:null,error:l}:{data:null,error:new rt("Unexpected error in register",l)}}})}}});function IE(e,t,n){return h(this,null,function*(){return yield n()})}var qR,to,GR,Jc,Zp=M(()=>{"use strict";Wc();$c();xr();$p();Xi();lE();zp();fE();Rp();Bc();mE();Wp();dE();qR={url:$b,storageKey:Ub,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};to={},GR=(()=>{class e{get jwks(){var n,r;return(r=(n=to[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){to[this.storageKey]=Object.assign(Object.assign({},to[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=to[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){to[this.storageKey]=Object.assign(Object.assign({},to[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},qR),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&De()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qn({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zc(s.fetch),this.lock=s.lock||IE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&De()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Kc:this.lock=IE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Hc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Bp(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lc}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r={},i="none";if(De()&&(r=Jb(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),De()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Pp(s)){let c=(n=s.details)===null||n===void 0?void 0:n.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return S(r)?this._returnResult({error:r}):this._returnResult({error:new rt("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,i,o;try{let s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:yt}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(S(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(n){return h(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:f,password:p,options:d}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield Or(this.storage,this.storageKey)),s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:f,password:p,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:m},xform:yt})}else if("phone"in n){let{phone:f,password:p,options:d}=n;s=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(i=d?.data)!==null&&i!==void 0?i:{},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:yt})}else throw new $n("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield Me(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield Me(this.storage,`${this.storageKey}-code-verifier`),S(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:l}=n;r=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:jp})}else if("phone"in n){let{phone:s,password:a,options:l}=n;r=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:jp})}else throw new $n("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Kt;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(S(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return h(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return h(this,null,function*(){var r,i,o,s,a,l,c,u,f,p,d;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:v,wallet:y,statement:U,options:C}=n,I;if(De())if(typeof y=="object")I=y;else{let Yt=window;if("ethereum"in Yt&&typeof Yt.ethereum=="object"&&"request"in Yt.ethereum&&typeof Yt.ethereum.request=="function")I=Yt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=y}let Z=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),Ot=yield I.request({method:"eth_requestAccounts"}).then(Yt=>Yt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ot||Ot.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ne=qp(Ot[0]),ve=(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!ve){let Yt=yield I.request({method:"eth_chainId"});ve=hE(Yt)}let yn={domain:Z.host,address:ne,statement:U,uri:Z.href,version:"1",chainId:ve,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=gE(yn),m=yield I.request({method:"personal_sign",params:[pE(g),ne]})}try{let{data:v,error:y}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(d=n.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:yt});if(y)throw y;if(!v||!v.session||!v.user){let U=new Kt;return this._returnResult({data:{user:null,session:null},error:U})}return v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(S(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}})}signInWithSolana(n){return h(this,null,function*(){var r,i,o,s,a,l,c,u,f,p,d,g;let m,v;if("message"in n)m=n.message,v=n.signature;else{let{chain:y,wallet:U,statement:C,options:I}=n,Z;if(De())if(typeof U=="object")Z=U;else{let ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))Z=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=U}let Ot=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){let ne=yield Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:Ot.host,uri:Ot.href}),C?{statement:C}:null)),ve;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")ve=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)ve=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ve&&"signature"in ve&&(typeof ve.signedMessage=="string"||ve.signedMessage instanceof Uint8Array)&&ve.signature instanceof Uint8Array)m=typeof ve.signedMessage=="string"?ve.signedMessage:new TextDecoder().decode(ve.signedMessage),v=ve.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${Ot.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${Ot.href}`,`Issued At: ${(o=(i=I?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((a=I?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((l=I?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((p=(f=I?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...I.signInWithSolana.resources.map(ve=>`- ${ve}`)]:[]].join(`
`);let ne=yield Z.signMessage(new TextEncoder().encode(m),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=ne}}try{let{data:y,error:U}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:vn(v)},!((d=n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:yt});if(U)throw U;if(!y||!y.session||!y.user){let C=new Kt;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:U})}catch(y){if(S(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield zn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:yt});if(yield Me(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new Kt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield Me(this.storage,`${this.storageKey}-code-verifier`),S(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,l=yield R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:yt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let f=new Kt;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(S(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:l,options:c}=n,u=null,f=null;this.flowType==="pkce"&&([u,f]=yield Or(this.storage,this.storageKey));let{error:p}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:l,options:c}=n,{data:u,error:f}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new $n("You must provide either an email or phone number.")}catch(l){if(yield Me(this.storage,`${this.storageKey}-code-verifier`),S(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(n){return h(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:yt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(S(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(n){return h(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield Or(this.storage,this.storageKey));let u=yield R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:sE});return!((s=u.data)===null||s===void 0)&&s.url&&De()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield Me(this.storage,`${this.storageKey}-code-verifier`),S(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Te;let{error:o}=yield R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(n){if(S(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield R(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:l}=yield R(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new $n("You must provide either an email or phone number and a type")}catch(r){if(S(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<Vc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=yield zn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Gc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=iE(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(n){return h(this,null,function*(){try{return n?yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Zt}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Te}:yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Zt})}))}catch(r){if(S(r))return kp(r)&&(yield this._removeSession(),yield Me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Te;let l=s.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=yield Or(this.storage,this.storageKey));let{data:f,error:p}=yield R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Zt});if(p)throw p;return l.user=f.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield Me(this.storage,`${this.storageKey}-code-verifier`),S(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Te;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=qc(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(n.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(n.access_token);if(c)throw c;s={access_token:n.access_token,refresh_token:n.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(S(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!n){let{data:a,error:l}=r;if(l)throw l;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Te;let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(S(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!De())throw new Un("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Un(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ji("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Un("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ji("No code detected.");let{data:C,error:I}=yield this._exchangeCodeForSession(n.code);if(I)throw I;let Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:C.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=n;if(!s||!l||!a||!u)throw new Un("No session defined in URL");let f=Math.round(Date.now()/1e3),p=parseInt(l),d=f+p;c&&(d=parseInt(c));let g=d-f;g*1e3<=Tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=d-p;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,f);let{data:v,error:y}=yield this._getUser(s);if(y)throw y;let U={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:d,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:n.type},error:null})}catch(i){if(S(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield zn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,n);if(l&&!(Np(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return n!=="others"&&(yield this._removeSession(),yield Me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=Yb(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Or(this.storage,this.storageKey,!0));try{return yield R(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield Me(this.storage,`${this.storageKey}-code-verifier`),S(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return h(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,f;let{data:p,error:d}=s;if(d)throw d;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield R(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})}));if(o)throw o;return De()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(S(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}})}linkIdentityIdToken(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:f}=n,p=yield R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:yt}),{data:d,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Kt}):(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:g}))}catch(o){if(yield Me(this.storage,`${this.storageKey}-code-verifier`),S(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield R(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield eE(o=>h(this,null,function*(){return o>0&&(yield Xb(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:yt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Is(s)&&Date.now()+a-i<Tr})}catch(i){if(this._debug(r,"error",i),S(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),De()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield zn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Rr(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:Gc()}else if(o&&!o.user&&!o.user){let a=yield zn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Me(this.storage,this.storageKey+"-user"),yield Rr(this.storage,this.storageKey,o)):o.user=Gc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Vc;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Vc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Is(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,i;if(!n)throw new Te;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ss;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Te;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),S(s)){let a={data:null,error:s};return Is(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(n,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Me(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Rr(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Lp(o);yield Rr(this.storage,this.storageKey,s)}else{let o=Lp(r);yield Rr(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Me(this.storage,this.storageKey),yield Me(this.storage,this.storageKey+"-code-verifier"),yield Me(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Me(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&De()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Tr}ms, refresh threshold is ${jc} ticks`),o<=jc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof eo)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!De()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Or(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield R(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:c,error:u}=yield R(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?DE(n.webauthn.credential_response):CE(n.webauthn.credential_response)})}:{code:n.code}),{data:l,error:c}=yield R(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield R(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:bE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:EE(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){var n;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var n,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=qc(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield R(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Te})}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Te});let a=yield R(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&De()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(S(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Te});let a=yield R(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&De()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(S(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?yield R(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Te})}))}catch(n){if(S(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield R(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Te})}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return h(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+zb>s)return o;let{data:a,error:l}=yield R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===n),!o)?null:o})}getClaims(i){return h(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});o=m.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=qc(o);r?.allowExpired||nE(a.exp);let f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){let{error:m}=yield this.getUser(o);if(m)throw m;return{data:{claims:a,header:s,signature:l},error:null}}let p=rE(s.alg),d=yield crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,d,l,Kb(`${c}.${u}`))))throw new Bn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(S(o))return this._returnResult({data:null,error:o});throw o}})}}return e.nextInstanceID={},e})(),Jc=GR});var WR,SE,TE=M(()=>{"use strict";Wc();WR=qn,SE=WR});var KR,ME,xE=M(()=>{"use strict";Zp();KR=Jc,ME=KR});var Yp={};so(Yp,{AuthAdminApi:()=>SE,AuthApiError:()=>Cs,AuthClient:()=>ME,AuthError:()=>mn,AuthImplicitGrantRedirectError:()=>Un,AuthInvalidCredentialsError:()=>$n,AuthInvalidJwtError:()=>Bn,AuthInvalidTokenResponseError:()=>Kt,AuthPKCEGrantCodeExchangeError:()=>Ji,AuthRetryableFetchError:()=>Mr,AuthSessionMissingError:()=>Te,AuthUnknownError:()=>rt,AuthWeakPasswordError:()=>Qi,CustomAuthError:()=>Rt,GoTrueAdminApi:()=>qn,GoTrueClient:()=>Jc,NavigatorLockAcquireTimeoutError:()=>Ms,SIGN_OUT_SCOPES:()=>Ts,isAuthApiError:()=>Np,isAuthError:()=>S,isAuthImplicitGrantRedirectError:()=>Pp,isAuthRetryableFetchError:()=>Is,isAuthSessionMissingError:()=>kp,isAuthWeakPasswordError:()=>DR,lockInternals:()=>Gn,navigatorLock:()=>Kc,processLock:()=>uE});var Jp=M(()=>{"use strict";Wc();Zp();TE();xE();Up();xr();zp()});var AE=Ve(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.SupabaseAuthClient=void 0;var ZR=(Jp(),Je(Yp)),Qp=class extends ZR.AuthClient{constructor(t){super(t)}};Qc.SupabaseAuthClient=Qp});var tg=Ve(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});var YR=(Bh(),Je(Uh)),JR=op(),QR=(wp(),Je(_p)),XR=(kb(),Je(Nb)),Xc=Fb(),eO=Lb(),RE=Vb(),tO=AE(),Xp=class{constructor(t,n,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=n;let a=(0,RE.validateSupabaseUrl)(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Xc.DEFAULT_DB_OPTIONS,realtime:Xc.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Xc.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Xc.DEFAULT_GLOBAL_OPTIONS},u=(0,RE.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,eO.fetchWithAuth)(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new JR.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new XR.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new YR.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var t,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},f,p){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tO.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),f),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new QR.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};eg.default=Xp});var kE=Ve(oe=>{"use strict";var nO=oe&&oe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),OE=oe&&oe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&nO(t,e,n)},NE=oe&&oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oe,"__esModule",{value:!0});oe.createClient=oe.SupabaseClient=oe.FunctionRegion=oe.FunctionsError=oe.FunctionsRelayError=oe.FunctionsFetchError=oe.FunctionsHttpError=oe.PostgrestError=void 0;var rO=NE(tg());OE((Jp(),Je(Yp)),oe);var iO=op();Object.defineProperty(oe,"PostgrestError",{enumerable:!0,get:function(){return iO.PostgrestError}});var xs=(Bh(),Je(Uh));Object.defineProperty(oe,"FunctionsHttpError",{enumerable:!0,get:function(){return xs.FunctionsHttpError}});Object.defineProperty(oe,"FunctionsFetchError",{enumerable:!0,get:function(){return xs.FunctionsFetchError}});Object.defineProperty(oe,"FunctionsRelayError",{enumerable:!0,get:function(){return xs.FunctionsRelayError}});Object.defineProperty(oe,"FunctionsError",{enumerable:!0,get:function(){return xs.FunctionsError}});Object.defineProperty(oe,"FunctionRegion",{enumerable:!0,get:function(){return xs.FunctionRegion}});OE((wp(),Je(_p)),oe);var oO=tg();Object.defineProperty(oe,"SupabaseClient",{enumerable:!0,get:function(){return NE(oO).default}});var sO=(e,t,n)=>new rO.default(e,t,n);oe.createClient=sO;function aO(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}aO()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function bu(e,t){return Object.is(e,t)}var ye=null,Ls=!1,Eu=1,it=Symbol("SIGNAL");function B(e){let t=ye;return ye=e,t}function Du(){return ye}var lo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function co(e){if(Ls)throw new Error("");if(ye===null)return;ye.consumerOnSignalRead(e);let t=ye.nextProducerIndex++;if(Us(ye),t<ye.producerNode.length&&ye.producerNode[t]!==e&&ao(ye)){let n=ye.producerNode[t];$s(n,ye.producerIndexOfThis[t])}ye.producerNode[t]!==e&&(ye.producerNode[t]=e,ye.producerIndexOfThis[t]=ao(ye)?bg(e,ye,t):0),ye.producerLastReadVersion[t]=e.version}function wg(){Eu++}function Cu(e){if(!(ao(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Eu)){if(!e.producerMustRecompute(e)&&!Mu(e)){wu(e);return}e.producerRecomputeValue(e),wu(e)}}function Iu(e){if(e.liveConsumerNode===void 0)return;let t=Ls;Ls=!0;try{for(let n of e.liveConsumerNode)n.dirty||wD(n)}finally{Ls=t}}function Su(){return ye?.consumerAllowSignalWrites!==!1}function wD(e){e.dirty=!0,Iu(e),e.consumerMarkedDirty?.(e)}function wu(e){e.dirty=!1,e.lastCleanEpoch=Eu}function Vs(e){return e&&(e.nextProducerIndex=0),B(e)}function Tu(e,t){if(B(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ao(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)$s(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Mu(e){Us(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Cu(n),r!==n.version))return!0}return!1}function xu(e){if(Us(e),ao(e))for(let t=0;t<e.producerNode.length;t++)$s(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function bg(e,t,n){if(Eg(e),e.liveConsumerNode.length===0&&Dg(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=bg(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function $s(e,t){if(Eg(e),e.liveConsumerNode.length===1&&Dg(e))for(let r=0;r<e.producerNode.length;r++)$s(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Us(i),i.producerIndexOfThis[r]=t}}function ao(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Us(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Eg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Dg(e){return e.producerNode!==void 0}function Au(e,t){let n=Object.create(bD);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Cu(n),co(n),n.value===js)throw n.error;return n.value};return r[it]=n,r}var yu=Symbol("UNSET"),_u=Symbol("COMPUTING"),js=Symbol("ERRORED"),bD=z(w({},lo),{value:yu,dirty:!0,error:null,equal:bu,kind:"computed",producerMustRecompute(e){return e.value===yu||e.value===_u},producerRecomputeValue(e){if(e.value===_u)throw new Error("Detected cycle in computations.");let t=e.value;e.value=_u;let n=Vs(e),r,i=!1;try{r=e.computation(),B(null),i=t!==yu&&t!==js&&r!==js&&e.equal(t,r)}catch(o){r=js,e.error=o}finally{Tu(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function ED(){throw new Error}var Cg=ED;function Ig(e){Cg(e)}function Ru(e){Cg=e}var DD=null;function Ou(e,t){let n=Object.create(Bs);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(co(n),n.value);return r[it]=n,r}function uo(e,t){Su()||Ig(e),e.equal(e.value,t)||(e.value=t,CD(e))}function Nu(e,t){Su()||Ig(e),uo(e,t(e.value))}var Bs=z(w({},lo),{equal:bu,value:void 0,kind:"signal"});function CD(e){e.version++,wg(),Iu(e),DD?.()}function ku(e){let t=B(null);try{return e()}finally{B(t)}}var Pu;function fo(){return Pu}function Jt(e){let t=Pu;return Pu=e,t}var Hs=Symbol("NotFound");function P(e){return typeof e=="function"}function Fr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zs=Fr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ho(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var he=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(o){t=o instanceof zs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Sg(o)}catch(s){t=t??[],s instanceof zs?t=[...t,...s.errors]:t.push(s)}}if(t)throw new zs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Sg(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ho(n,t)}remove(t){let{_finalizers:n}=this;n&&ho(n,t),t instanceof e&&t._removeParent(this)}};he.EMPTY=(()=>{let e=new he;return e.closed=!0,e})();var Fu=he.EMPTY;function qs(e){return e instanceof he||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function Sg(e){P(e)?e():e.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lr={setTimeout(e,t,...n){let{delegate:r}=Lr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Lr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Gs(e){Lr.setTimeout(()=>{let{onUnhandledError:t}=_t;if(t)t(e);else throw e})}function po(){}var Tg=Lu("C",void 0,void 0);function Mg(e){return Lu("E",void 0,e)}function xg(e){return Lu("N",e,void 0)}function Lu(e,t,n){return{kind:e,value:t,error:n}}var Zn=null;function jr(e){if(_t.useDeprecatedSynchronousErrorHandling){let t=!Zn;if(t&&(Zn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Zn;if(Zn=null,n)throw r}}else e()}function Ag(e){_t.useDeprecatedSynchronousErrorHandling&&Zn&&(Zn.errorThrown=!0,Zn.error=e)}var Yn=class extends he{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,qs(t)&&t.add(this)):this.destination=AD}static create(t,n,r){return new Vr(t,n,r)}next(t){this.isStopped?Vu(xg(t),this):this._next(t)}error(t){this.isStopped?Vu(Mg(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Vu(Tg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MD=Function.prototype.bind;function ju(e,t){return MD.call(e,t)}var $u=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ws(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ws(r)}else Ws(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ws(n)}}},Vr=class extends Yn{constructor(t,n,r){super();let i;if(P(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ju(t.next,o),error:t.error&&ju(t.error,o),complete:t.complete&&ju(t.complete,o)}):i=t}this.destination=new $u(i)}};function Ws(e){_t.useDeprecatedSynchronousErrorHandling?Ag(e):Gs(e)}function xD(e){throw e}function Vu(e,t){let{onStoppedNotification:n}=_t;n&&Lr.setTimeout(()=>n(e,t))}var AD={closed:!0,next:po,error:xD,complete:po};var $r=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qe(e){return e}function Uu(...e){return Bu(e)}function Bu(e){return e.length===0?Qe:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Y=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OD(n)?n:new Vr(n,r,i);return jr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Rg(r),new r((i,o)=>{let s=new Vr({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$r](){return this}pipe(...n){return Bu(n)(this)}toPromise(n){return n=Rg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Rg(e){var t;return(t=e??_t.Promise)!==null&&t!==void 0?t:Promise}function RD(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}function OD(e){return e&&e instanceof Yn||RD(e)&&qs(e)}function Hu(e){return P(e?.lift)}function W(e){return t=>{if(Hu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(e,t,n,r,i){return new zu(e,t,n,r,i)}var zu=class extends Yn{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Ur(){return W((e,t)=>{let n=null;e._refCount++;let r=H(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Br=class extends Y{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new he;let n=this.getSubject();t.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=he.EMPTY)}return t}refCount(){return Ur()(this)}};var Og=Fr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ks(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Og}next(n){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Fu:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,ho(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Y;return n.source=this,n}}return e.create=(t,n)=>new Ks(t,n),e})(),Ks=class extends _e{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Fu}};var we=class extends _e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var $e=new Y(e=>e.complete());function Ng(e){return e&&P(e.schedule)}function kg(e){return e[e.length-1]}function Zs(e){return P(kg(e))?e.pop():void 0}function _n(e){return Ng(kg(e))?e.pop():void 0}ae();var ta=e=>e&&typeof e.length=="number"&&typeof e!="function";function na(e){return P(e?.then)}function ra(e){return P(e[$r])}function ia(e){return Symbol.asyncIterator&&P(e?.[Symbol.asyncIterator])}function oa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sa=FD();function aa(e){return P(e?.[sa])}ae();function la(e){return Xs(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Nt(n.read());if(i)return yield Nt(void 0);yield yield Nt(r)}}finally{n.releaseLock()}})}function ca(e){return P(e?.getReader)}function pe(e){if(e instanceof Y)return e;if(e!=null){if(ra(e))return LD(e);if(ta(e))return jD(e);if(na(e))return VD(e);if(ia(e))return im(e);if(aa(e))return $D(e);if(ca(e))return UD(e)}throw oa(e)}function LD(e){return new Y(t=>{let n=e[$r]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jD(e){return new Y(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function VD(e){return new Y(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Gs)})}function $D(e){return new Y(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function im(e){return new Y(t=>{BD(e,t).catch(n=>t.error(n))})}function UD(e){return im(la(e))}function BD(e,t){var n,r,i,o;return _(this,void 0,void 0,function*(){try{for(n=ea(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ue(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ua(e,t=0){return W((n,r)=>{n.subscribe(H(r,i=>Ue(r,e,()=>r.next(i),t),()=>Ue(r,e,()=>r.complete(),t),i=>Ue(r,e,()=>r.error(i),t)))})}function da(e,t=0){return W((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function om(e,t){return pe(e).pipe(da(t),ua(t))}function sm(e,t){return pe(e).pipe(da(t),ua(t))}function am(e,t){return new Y(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function lm(e,t){return new Y(n=>{let r;return Ue(n,t,()=>{r=e[sa](),Ue(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function fa(e,t){if(!e)throw new Error("Iterable cannot be null");return new Y(n=>{Ue(n,t,()=>{let r=e[Symbol.asyncIterator]();Ue(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cm(e,t){return fa(la(e),t)}function um(e,t){if(e!=null){if(ra(e))return om(e,t);if(ta(e))return am(e,t);if(na(e))return sm(e,t);if(ia(e))return fa(e,t);if(aa(e))return lm(e,t);if(ca(e))return cm(e,t)}throw oa(e)}function ce(e,t){return t?um(e,t):pe(e)}function F(...e){let t=_n(e);return ce(e,t)}function Hr(e,t){let n=P(e)?e:()=>e,r=i=>i.error(n());return new Y(t?i=>t.schedule(r,0,i):r)}function Ku(e){return!!e&&(e instanceof Y||P(e.lift)&&P(e.subscribe))}var Xt=Fr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function q(e,t){return W((n,r)=>{let i=0;n.subscribe(H(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:HD}=Array;function zD(e,t){return HD(t)?e(...t):e(t)}function ha(e){return q(t=>zD(e,t))}var{isArray:qD}=Array,{getPrototypeOf:GD,prototype:WD,keys:KD}=Object;function pa(e){if(e.length===1){let t=e[0];if(qD(t))return{args:t,keys:null};if(ZD(t)){let n=KD(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ZD(e){return e&&typeof e=="object"&&GD(e)===WD}function ga(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function ma(...e){let t=_n(e),n=Zs(e),{args:r,keys:i}=pa(e);if(r.length===0)return ce([],t);let o=new Y(YD(r,t,i?s=>ga(i,s):Qe));return n?o.pipe(ha(n)):o}function YD(e,t,n=Qe){return r=>{dm(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)dm(t,()=>{let c=ce(e[l],t),u=!1;c.subscribe(H(r,f=>{o[l]=f,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dm(e,t,n){e?Ue(n,e,t):t()}function fm(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,f=!1,p=()=>{f&&!l.length&&!c&&t.complete()},d=m=>c<r?g(m):l.push(m),g=m=>{o&&t.next(m),c++;let v=!1;pe(n(m,u++)).subscribe(H(t,y=>{i?.(y),o?d(y):t.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let y=l.shift();s?Ue(t,s,()=>g(y)):g(y)}p()}catch(y){t.error(y)}}))};return e.subscribe(H(t,d,()=>{f=!0,p()})),()=>{a?.()}}function be(e,t,n=1/0){return P(t)?be((r,i)=>q((o,s)=>t(r,o,i,s))(pe(e(r,i))),n):(typeof t=="number"&&(n=t),W((r,i)=>fm(r,i,e,n)))}function hm(e=1/0){return be(Qe,e)}function pm(){return hm(1)}function zr(...e){return pm()(ce(e,_n(e)))}function va(e){return new Y(t=>{pe(e()).subscribe(t)})}function Zu(...e){let t=Zs(e),{args:n,keys:r}=pa(e),i=new Y(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let f=!1;pe(n[u]).subscribe(H(o,p=>{f||(f=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?ga(r,a):a),o.complete())}))}});return t?i.pipe(ha(t)):i}function wt(e,t){return W((n,r)=>{let i=0;n.subscribe(H(r,o=>e.call(t,o,i++)&&r.next(o)))})}function wn(e){return W((t,n)=>{let r=null,i=!1,o;r=t.subscribe(H(n,void 0,void 0,s=>{o=pe(e(s,wn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gm(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(H(s,u=>{let f=c++;l=a?e(l,u,f):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function qr(e,t){return P(t)?be(e,t,1):be(e,1)}function bn(e){return W((t,n)=>{let r=!1;t.subscribe(H(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function en(e){return e<=0?()=>$e:W((t,n)=>{let r=0;t.subscribe(H(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ya(e=JD){return W((t,n)=>{let r=!1;t.subscribe(H(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function JD(){return new Xt}function go(e){return W((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function tn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?wt((i,o)=>e(i,o,r)):Qe,en(1),n?bn(t):ya(()=>new Xt))}function Gr(e){return e<=0?()=>$e:W((t,n)=>{let r=[];t.subscribe(H(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Yu(e,t){let n=arguments.length>=2;return r=>r.pipe(e?wt((i,o)=>e(i,o,r)):Qe,Gr(1),n?bn(t):ya(()=>new Xt))}function Ju(e,t){return W(gm(e,t,arguments.length>=2,!0))}function Qu(...e){let t=_n(e);return W((n,r)=>{(t?zr(e,n,t):zr(e,n)).subscribe(r)})}function bt(e,t){return W((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(H(r,l=>{i?.unsubscribe();let c=0,u=o++;pe(e(l,u)).subscribe(i=H(r,f=>r.next(t?t(l,f,u,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xu(e){return W((t,n)=>{pe(e).subscribe(H(n,()=>n.complete(),po)),!n.closed&&t.subscribe(n)})}function xe(e,t,n){let r=P(e)||t||n?{next:e,error:t,complete:n}:e;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(H(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Qe}var rv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",T=class extends Error{code;constructor(t,n){super(XD(t,n)),this.code=t}};function QD(e){return`NG0${Math.abs(e)}`}function XD(e,t){return`${QD(e)}${t?": "+t:""}`}var iv=Symbol("InputSignalNode#UNSET"),e0=z(w({},Bs),{transformFn:void 0,applyValueToInputSignal(e,t){uo(e,t)}});function ov(e,t){let n=Object.create(e0);n.value=e,n.transformFn=t?.transform;function r(){if(co(n),n.value===iv){let i=null;throw new T(-950,i)}return n.value}return r[it]=n,r}function Mo(e){return{toString:e}.toString()}var _a="__parameters__";function t0(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function sv(e,t,n){return Mo(()=>{let r=t0(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let f=l.hasOwnProperty(_a)?l[_a]:Object.defineProperty(l,_a,{value:[]})[_a];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var vo=globalThis;function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function n0(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function He(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(He).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function mm(e,t){return e?t?`${e} ${t}`:e:t||""}var r0=te({__forward_ref__:te});function $t(e){return e.__forward_ref__=$t,e.toString=function(){return He(this())},e}function Fe(e){return av(e)?e():e}function av(e){return typeof e=="function"&&e.hasOwnProperty(r0)&&e.__forward_ref__===$t}function A(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function cr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qa(e){return vm(e,cv)||vm(e,uv)}function lv(e){return Qa(e)!==null}function vm(e,t){return e.hasOwnProperty(t)?e[t]:null}function i0(e){let t=e&&(e[cv]||e[uv]);return t||null}function ym(e){return e&&(e.hasOwnProperty(_m)||e.hasOwnProperty(o0))?e[_m]:null}var cv=te({\u0275prov:te}),_m=te({\u0275inj:te}),uv=te({ngInjectableDef:te}),o0=te({ngInjectorDef:te}),x=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dv(e){return e&&!!e.\u0275providers}var s0=te({\u0275cmp:te}),a0=te({\u0275dir:te}),l0=te({\u0275pipe:te}),c0=te({\u0275mod:te}),Sa=te({\u0275fac:te}),wo=te({__NG_ELEMENT_ID__:te}),wm=te({__NG_ENV_ID__:te});function Jr(e){return typeof e=="string"?e:e==null?"":String(e)}function u0(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Jr(e)}function fv(e,t){throw new T(-200,e)}function nf(e,t){throw new T(-201,!1)}var V=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(V||{}),gd;function hv(){return gd}function Be(e){let t=gd;return gd=e,t}function pv(e,t,n){let r=Qa(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&V.Optional)return null;if(t!==void 0)return t;nf(e,"Injector")}var d0={},Xn=d0,md="__NG_DI_FLAG__",Ta=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Hs:Xn,r)}},Ma="ngTempTokenPath",f0="ngTokenPath",h0=/\n/gm,p0="\u0275",bm="__source";function g0(e,t=V.Default){if(fo()===void 0)throw new T(-203,!1);if(fo()===null)return pv(e,void 0,t);{let n=fo(),r;return n instanceof Ta?r=n.injector:r=n,r.get(e,t&V.Optional?null:void 0,t)}}function N(e,t=V.Default){return(hv()||g0)(Fe(e),t)}function b(e,t=V.Default){return N(e,Xa(t))}function Xa(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vd(e){let t=[];for(let n=0;n<e.length;n++){let r=Fe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,o=V.Default;for(let s=0;s<r.length;s++){let a=r[s],l=m0(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(N(i,o))}else t.push(N(r))}return t}function gv(e,t){return e[md]=t,e.prototype[md]=t,e}function m0(e){return e[md]}function v0(e,t,n,r){let i=e[Ma];throw t[bm]&&i.unshift(t[bm]),e.message=y0(`
`+e.message,i,n,r),e[f0]=i,e[Ma]=null,e}function y0(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==p0?e.slice(2):e;let i=He(t);if(Array.isArray(t))i=t.map(He).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):He(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(h0,`
  `)}`}var _0=gv(sv("Optional"),8);var w0=gv(sv("SkipSelf"),4);function tr(e,t){let n=e.hasOwnProperty(Sa);return n?e[Sa]:null}function rf(e,t){e.forEach(n=>Array.isArray(n)?rf(n,t):t(n))}function mv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function b0(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function E0(e,t,n){let r=xo(e,t);return r>=0?e[r|1]=n:(r=~r,b0(e,r,t,n)),r}function ed(e,t){let n=xo(e,t);if(n>=0)return e[n|1]}function xo(e,t){return D0(e,t,1)}function D0(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var nr={},ot=[],bo=new x(""),vv=new x("",-1),yv=new x(""),Aa=class{get(t,n=Xn){if(n===Xn){let r=new Error(`NullInjectorError: No provider for ${He(t)}!`);throw r.name="NullInjectorError",r}return n}};function _v(e,t){let n=e[c0]||null;if(!n&&t===!0)throw new Error(`Type ${He(e)} does not have '\u0275mod' property.`);return n}function Qr(e){return e[s0]||null}function C0(e){return e[a0]||null}function I0(e){return e[l0]||null}function wv(e){return{\u0275providers:e}}function S0(...e){return{\u0275providers:bv(!0,e),\u0275fromNgModule:!0}}function bv(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return rf(t,s=>{let a=s;yd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ev(i,o),n}function Ev(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];of(i,o=>{t(o,r)})}}function yd(e,t,n,r){if(e=Fe(e),!e)return!1;let i=null,o=ym(e),s=!o&&Qr(e);if(!o&&!s){let l=e.ngModule;if(o=ym(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)yd(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{rf(o.imports,u=>{yd(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Ev(c,t)}if(!a){let c=tr(i)||(()=>new i);t({provide:i,useFactory:c,deps:ot},i),t({provide:yv,useValue:i,multi:!0},i),t({provide:bo,useValue:()=>N(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;of(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function of(e,t){for(let n of e)dv(n)&&(n=n.\u0275providers),Array.isArray(n)?of(n,t):t(n)}var T0=te({provide:String,useValue:te});function Dv(e){return e!==null&&typeof e=="object"&&T0 in e}function M0(e){return!!(e&&e.useExisting)}function x0(e){return!!(e&&e.useFactory)}function Xr(e){return typeof e=="function"}function A0(e){return!!e.useClass}var el=new x(""),ba={},Em={},td;function sf(){return td===void 0&&(td=new Aa),td}var lt=class{},Eo=class extends lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,wd(t,s=>this.processProvider(s)),this.records.set(vv,Wr(void 0,this)),i.has("environment")&&this.records.set(lt,Wr(void 0,this));let o=this.records.get(el);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yv,ot,V.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Hs:Xn,r)}destroy(){yo(this),this._destroyed=!0;let t=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(t)}}onDestroy(t){return yo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){yo(this);let n=Jt(this),r=Be(void 0),i;try{return t()}finally{Jt(n),Be(r)}}get(t,n=Xn,r=V.Default){if(yo(this),t.hasOwnProperty(wm))return t[wm](this);r=Xa(r);let i,o=Jt(this),s=Be(void 0);try{if(!(r&V.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=P0(t)&&Qa(t);c&&this.injectableDefInScope(c)?l=Wr(_d(t),ba):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&V.Self?sf():this.parent;return n=r&V.Optional&&n===Xn?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ma]=a[Ma]||[]).unshift(He(t)),o)throw a;return v0(a,t,"R3InjectorError",this.source)}else throw a}finally{Be(s),Jt(o)}}resolveInjectorInitializers(){let t=B(null),n=Jt(this),r=Be(void 0),i;try{let o=this.get(bo,ot,V.Self);for(let s of o)s()}finally{Jt(n),Be(r),B(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(He(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Fe(t);let n=Xr(t)?t:Fe(t&&t.provide),r=O0(t);if(!Xr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Wr(void 0,ba,!0),i.factory=()=>vd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=B(null);try{return n.value===Em?fv(He(t)):n.value===ba&&(n.value=Em,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&k0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{B(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Fe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _d(e){let t=Qa(e),n=t!==null?t.factory:tr(e);if(n!==null)return n;if(e instanceof x)throw new T(204,!1);if(e instanceof Function)return R0(e);throw new T(204,!1)}function R0(e){if(e.length>0)throw new T(204,!1);let n=i0(e);return n!==null?()=>n.factory(e):()=>new e}function O0(e){if(Dv(e))return Wr(void 0,e.useValue);{let t=Cv(e);return Wr(t,ba)}}function Cv(e,t,n){let r;if(Xr(e)){let i=Fe(e);return tr(i)||_d(i)}else if(Dv(e))r=()=>Fe(e.useValue);else if(x0(e))r=()=>e.useFactory(...vd(e.deps||[]));else if(M0(e))r=(i,o)=>N(Fe(e.useExisting),o!==void 0&&o&V.Optional?V.Optional:void 0);else{let i=Fe(e&&(e.useClass||e.provide));if(N0(e))r=()=>new i(...vd(e.deps));else return tr(i)||_d(i)}return r}function yo(e){if(e.destroyed)throw new T(205,!1)}function Wr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function N0(e){return!!e.deps}function k0(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function P0(e){return typeof e=="function"||typeof e=="object"&&e instanceof x}function wd(e,t){for(let n of e)Array.isArray(n)?wd(n,t):n&&dv(n)?wd(n.\u0275providers,t):t(n)}function Ct(e,t){let n;e instanceof Eo?(yo(e),n=e):n=new Ta(e);let r,i=Jt(n),o=Be(void 0);try{return t()}finally{Jt(i),Be(o)}}function F0(){return hv()!==void 0||fo()!=null}function L0(e){return typeof e=="function"}var an=0,G=1,L=2,Le=3,Dt=4,It=5,Ra=6,Oa=7,ze=8,ei=9,nn=10,de=11,Do=12,Dm=13,li=14,Pt=15,ti=16,Kr=17,ni=18,tl=19,Iv=20,En=21,nd=22,Na=23,st=24,rd=25,qe=26,Sv=1;var rr=7,ka=8,Pa=9,at=10;function Dn(e){return Array.isArray(e)&&typeof e[Sv]=="object"}function ln(e){return Array.isArray(e)&&e[Sv]===!0}function af(e){return(e.flags&4)!==0}function ci(e){return e.componentOffset>-1}function nl(e){return(e.flags&1)===1}function Ft(e){return!!e.template}function Fa(e){return(e[L]&512)!==0}function ui(e){return(e[L]&256)===256}var bd=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Tv(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var di=(()=>{let e=()=>Mv;return e.ngInherit=!0,e})();function Mv(e){return e.type.prototype.ngOnChanges&&(e.setInput=V0),j0}function j0(){let e=Av(this),t=e?.current;if(t){let n=e.previous;if(n===nr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function V0(e,t,n,r,i){let o=this.declaredInputs[r],s=Av(e)||$0(e,{previous:nr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new bd(c&&c.currentValue,n,l===nr),Tv(e,t,i,n)}var xv="__ngSimpleChanges__";function Av(e){return e[xv]||null}function $0(e,t){return e[xv]=t}var Cm=null;var re=function(e,t=null,n){Cm?.(e,t,n)},U0="svg",B0="math";function Lt(e){for(;Array.isArray(e);)e=e[an];return e}function Rv(e,t){return Lt(t[e])}function Ut(e,t){return Lt(t[e.index])}function Ov(e,t){return e.data[t]}function lf(e,t){return e[t]}function H0(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function jt(e,t){let n=t[e];return Dn(n)?n:n[an]}function cf(e){return(e[L]&128)===128}function z0(e){return ln(e[Le])}function ri(e,t){return t==null?null:e[t]}function Nv(e){e[Kr]=0}function kv(e){e[L]&1024||(e[L]|=1024,cf(e)&&il(e))}function q0(e,t){for(;e>0;)t=t[li],e--;return t}function rl(e){return!!(e[L]&9216||e[st]?.dirty)}function Ed(e){e[nn].changeDetectionScheduler?.notify(8),e[L]&64&&(e[L]|=1024),rl(e)&&il(e)}function il(e){e[nn].changeDetectionScheduler?.notify(0);let t=ir(e);for(;t!==null&&!(t[L]&8192||(t[L]|=8192,!cf(t)));)t=ir(t)}function Pv(e,t){if(ui(e))throw new T(911,!1);e[En]===null&&(e[En]=[]),e[En].push(t)}function G0(e,t){if(e[En]===null)return;let n=e[En].indexOf(t);n!==-1&&e[En].splice(n,1)}function ir(e){let t=e[Le];return ln(t)?t[Le]:t}function Fv(e){return e[Oa]??=[]}function Lv(e){return e.cleanup??=[]}var $={lFrame:Gv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Dd=!1;function W0(){return $.lFrame.elementDepthCount}function K0(){$.lFrame.elementDepthCount++}function Z0(){$.lFrame.elementDepthCount--}function uf(){return $.bindingsEnabled}function Y0(){return $.skipHydrationRootTNode!==null}function J0(e){return $.skipHydrationRootTNode===e}function Q0(){$.skipHydrationRootTNode=null}function J(){return $.lFrame.lView}function Re(){return $.lFrame.tView}function ct(e){return $.lFrame.contextLView=e,e[ze]}function ut(e){return $.lFrame.contextLView=null,e}function Xe(){let e=jv();for(;e!==null&&e.type===64;)e=e.parent;return e}function jv(){return $.lFrame.currentTNode}function X0(){let e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ur(e,t){let n=$.lFrame;n.currentTNode=e,n.isParent=t}function df(){return $.lFrame.isParent}function Vv(){$.lFrame.isParent=!1}function eC(){return $.lFrame.contextLView}function $v(){return Dd}function Im(e){let t=Dd;return Dd=e,t}function Uv(){let e=$.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function tC(){return $.lFrame.bindingIndex}function nC(e){return $.lFrame.bindingIndex=e}function ol(){return $.lFrame.bindingIndex++}function Bv(e){let t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rC(){return $.lFrame.inI18n}function iC(e,t){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,Cd(t)}function oC(){return $.lFrame.currentDirectiveIndex}function Cd(e){$.lFrame.currentDirectiveIndex=e}function sC(e){let t=$.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Hv(e){$.lFrame.currentQueryIndex=e}function aC(e){let t=e[G];return t.type===2?t.declTNode:t.type===1?e[It]:null}function zv(e,t,n){if(n&V.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&V.Host);)if(i=aC(o),i===null||(o=o[li],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=$.lFrame=qv();return r.currentTNode=t,r.lView=e,!0}function ff(e){let t=qv(),n=e[G];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function qv(){let e=$.lFrame,t=e===null?null:e.child;return t===null?Gv(e):t}function Gv(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Wv(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Kv=Wv;function hf(){let e=Wv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lC(e){return($.lFrame.contextLView=q0(e,$.lFrame.contextLView))[ze]}function dr(){return $.lFrame.selectedIndex}function or(e){$.lFrame.selectedIndex=e}function sl(){let e=$.lFrame;return Ov(e.tView,e.selectedIndex)}function cC(){return $.lFrame.currentNamespace}var Zv=!0;function al(){return Zv}function ll(e){Zv=e}function uC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Mv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function pf(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ea(e,t,n){Yv(e,t,3,n)}function Da(e,t,n,r){(e[L]&3)===n&&Yv(e,t,n,r)}function id(e,t){let n=e[L];(n&3)===t&&(n&=16383,n+=1,e[L]=n)}function Yv(e,t,n,r){let i=r!==void 0?e[Kr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[Kr]+=65536),(a<o||o==-1)&&(dC(e,n,t,l),e[Kr]=(e[Kr]&4294901760)+l+2),l++}function Sm(e,t){re(4,e,t);let n=B(null);try{t.call(e)}finally{B(n),re(5,e,t)}}function dC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[L]>>14<e[Kr]>>16&&(e[L]&3)===t&&(e[L]+=16384,Sm(a,o)):Sm(a,o)}var Yr=-1,sr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function fC(e){return(e.flags&8)!==0}function hC(e){return(e.flags&16)!==0}function pC(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];mC(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function gC(e){return e===3||e===4||e===6}function mC(e){return e.charCodeAt(0)===64}function ii(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Tm(e,n,i,null,t[++r]):Tm(e,n,i,null,null))}}return e}function Tm(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Jv(e){return e!==Yr}function La(e){return e&32767}function vC(e){return e>>16}function ja(e,t){let n=vC(e),r=t;for(;n>0;)r=r[li],n--;return r}var Id=!0;function Va(e){let t=Id;return Id=e,t}var yC=256,Qv=yC-1,Xv=5,_C=0,kt={};function wC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(wo)&&(r=n[wo]),r==null&&(r=n[wo]=_C++);let i=r&Qv,o=1<<i;t.data[e+(i>>Xv)]|=o}function $a(e,t){let n=ey(e,t);if(n!==-1)return n;let r=t[G];r.firstCreatePass&&(e.injectorIndex=t.length,od(r.data,e),od(t,null),od(r.blueprint,null));let i=gf(e,t),o=e.injectorIndex;if(Jv(i)){let s=La(i),a=ja(i,t),l=a[G].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function od(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ey(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function gf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=oy(i),r===null)return Yr;if(n++,i=i[li],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yr}function Sd(e,t,n){wC(e,t,n)}function ty(e,t,n){if(n&V.Optional||e!==void 0)return e;nf(t,"NodeInjector")}function ny(e,t,n,r){if(n&V.Optional&&r===void 0&&(r=null),(n&(V.Self|V.Host))===0){let i=e[ei],o=Be(void 0);try{return i?i.get(t,r,n&V.Optional):pv(t,r,n&V.Optional)}finally{Be(o)}}return ty(r,t,n)}function ry(e,t,n,r=V.Default,i){if(e!==null){if(t[L]&2048&&!(r&V.Self)){let s=IC(e,t,n,r,kt);if(s!==kt)return s}let o=iy(e,t,n,r,kt);if(o!==kt)return o}return ny(t,n,r,i)}function iy(e,t,n,r,i){let o=DC(n);if(typeof o=="function"){if(!zv(t,e,r))return r&V.Host?ty(i,n,r):ny(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&V.Optional))nf(n);else return s}finally{Kv()}}else if(typeof o=="number"){let s=null,a=ey(e,t),l=Yr,c=r&V.Host?t[Pt][It]:null;for((a===-1||r&V.SkipSelf)&&(l=a===-1?gf(e,t):t[a+8],l===Yr||!xm(r,!1)?a=-1:(s=t[G],a=La(l),t=ja(l,t)));a!==-1;){let u=t[G];if(Mm(o,a,u.data)){let f=bC(a,t,n,s,r,c);if(f!==kt)return f}l=t[a+8],l!==Yr&&xm(r,t[G].data[a+8]===c)&&Mm(o,a,t)?(s=u,a=La(l),t=ja(l,t)):a=-1}}return i}function bC(e,t,n,r,i,o){let s=t[G],a=s.data[e+8],l=r==null?ci(a)&&Id:r!=s&&(a.type&3)!==0,c=i&V.Host&&o===a,u=EC(a,s,n,l,c);return u!==null?Ua(t,s,u,a,i):kt}function EC(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,f=r?a:a+u,p=i?a+u:c;for(let d=f;d<p;d++){let g=s[d];if(d<l&&n===g||d>=l&&g.type===n)return d}if(i){let d=s[l];if(d&&Ft(d)&&d.type===n)return l}return null}function Ua(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof sr){let a=o;a.resolving&&fv(u0(s[n]));let l=Va(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Be(a.injectImpl):null,f=zv(e,r,V.Default);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&uC(n,s[n],t)}finally{u!==null&&Be(u),Va(l),a.resolving=!1,Kv()}}return o}function DC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(wo)?e[wo]:void 0;return typeof t=="number"?t>=0?t&Qv:CC:t}function Mm(e,t,n){let r=1<<e;return!!(n[t+(e>>Xv)]&r)}function xm(e,t){return!(e&V.Self)&&!(e&V.Host&&t)}var er=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ry(this._tNode,this._lView,t,Xa(r),n)}};function CC(){return new er(Xe(),J())}function cn(e){return Mo(()=>{let t=e.prototype.constructor,n=t[Sa]||Td(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Sa]||Td(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Td(e){return av(e)?()=>{let t=Td(Fe(e));return t&&t()}:tr(e)}function IC(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[L]&2048&&!Fa(s);){let a=iy(o,s,n,r|V.Self,kt);if(a!==kt)return a;let l=o.parent;if(!l){let c=s[Iv];if(c){let u=c.get(n,kt,r);if(u!==kt)return u}l=oy(s),s=s[li]}o=l}return i}function oy(e){let t=e[G],n=t.type;return n===2?t.declTNode:n===1?e[It]:null}function Am(e,t=null,n=null,r){let i=sy(e,t,n,r);return i.resolveInjectorInitializers(),i}function sy(e,t=null,n=null,r,i=new Set){let o=[n||ot,S0(e)];return r=r||(typeof e=="object"?void 0:He(e)),new Eo(o,t||sf(),r||null,i)}var rn=class e{static THROW_IF_NOT_FOUND=Xn;static NULL=new Aa;static create(t,n){if(Array.isArray(t))return Am({name:""},n,t,"");{let r=t.name??"";return Am({name:r},t.parent,t.providers,r)}}static \u0275prov=A({token:e,providedIn:"any",factory:()=>N(vv)});static __NG_ELEMENT_ID__=-1};var SC=new x("");SC.__NG_ELEMENT_ID__=e=>{let t=Xe();if(t===null)throw new T(204,!1);if(t.type&2)return t.value;if(e&V.Optional)return null;throw new T(204,!1)};var ay=!1,cl=(()=>{class e{static __NG_ELEMENT_ID__=TC;static __NG_ENV_ID__=n=>n}return e})(),Md=class extends cl{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return ui(n)?(t(),()=>{}):(Pv(n,t),()=>G0(n,t))}};function TC(){return new Md(J())}var Co=class{},ly=new x("",{providedIn:"root",factory:()=>!1});var cy=new x(""),uy=new x(""),fi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new we(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})();var xd=class extends _e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,F0()&&(this.destroyRef=b(cl,{optional:!0})??void 0,this.pendingTasks=b(fi,{optional:!0})??void 0)}emit(t){let n=B(null);try{super.next(t)}finally{B(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof he&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ee=xd;function Ba(...e){}function dy(e){let t,n;function r(){e=Ba;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Rm(e){return queueMicrotask(()=>e()),()=>{e=Ba}}var mf="isAngularZone",Ha=mf+"_ID",MC=0,Ae=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ee(!1);onMicrotaskEmpty=new Ee(!1);onStable=new Ee(!1);onError=new Ee(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ay}=t;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,RC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,xC,Ba,Ba);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},xC={};function vf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function AC(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){dy(()=>{e.callbackScheduled=!1,Ad(e),e.isCheckStableRunning=!0,vf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ad(e)}function RC(e){let t=()=>{AC(e)},n=MC++;e._inner=e._inner.fork({name:"angular",properties:{[mf]:!0,[Ha]:n,[Ha+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(OC(l))return r.invokeTask(o,s,a,l);try{return Om(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Nm(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Om(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!NC(l)&&t(),Nm(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ad(e),vf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ad(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Om(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Nm(e){e._nesting--,vf(e)}var Rd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ee;onMicrotaskEmpty=new Ee;onStable=new Ee;onError=new Ee;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function OC(e){return fy(e,"__ignore_ng_zone__")}function NC(e){return fy(e,"__scheduler_tick__")}function fy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var on=class{_console=console;handleError(t){this._console.error("ERROR",t)}},kC=new x("",{providedIn:"root",factory:()=>{let e=b(Ae),t=b(on);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function km(e,t){return ov(e,t)}function PC(e){return ov(iv,e)}var hy=(km.required=PC,km);function FC(){return ul(Xe(),J())}function ul(e,t){return new In(Ut(e,t))}var In=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=FC}return e})();function LC(e){return typeof e=="function"&&e[it]!==void 0}function Ao(e,t){let n=Ou(e,t?.equal),r=n[it];return n.set=i=>uo(r,i),n.update=i=>Nu(r,i),n.asReadonly=jC.bind(n),n}function jC(){let e=this[it];if(e.readonlyFn===void 0){let t=()=>this();t[it]=e,e.readonlyFn=t}return e.readonlyFn}function py(e){return LC(e)&&typeof e.set=="function"}function gy(e){return(e.flags&128)===128}var my=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(my||{}),vy=new Map,VC=0;function $C(){return VC++}function UC(e){vy.set(e[tl],e)}function Od(e){vy.delete(e[tl])}var Pm="__ngContext__";function hi(e,t){Dn(t)?(e[Pm]=t[tl],UC(t)):e[Pm]=t}function yy(e){return wy(e[Do])}function _y(e){return wy(e[Dt])}function wy(e){for(;e!==null&&!ln(e);)e=e[Dt];return e}var Nd;function by(e){Nd=e}function BC(){if(Nd!==void 0)return Nd;if(typeof document<"u")return document;throw new T(210,!1)}var yf=new x("",{providedIn:"root",factory:()=>HC}),HC="ng",_f=new x(""),Ro=new x("",{providedIn:"platform",factory:()=>"unknown"});var wf=new x("",{providedIn:"root",factory:()=>BC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zC="h",qC="b";var Ey=!1,GC=new x("",{providedIn:"root",factory:()=>Ey});var Dy=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Dy||{}),dl=new x(""),Fm=new Set;function Cy(e){Fm.has(e)||(Fm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var WC=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})();var KC=(e,t,n,r)=>{};function ZC(e,t,n,r){KC(e,t,n,r)}var YC=()=>null;function Iy(e,t,n=!1){return YC(e,t,n)}function Sy(e,t){let n=e.contentQueries;if(n!==null){let r=B(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Hv(o),a.contentQueries(2,t[s],s)}}}finally{B(r)}}}function kd(e,t,n){Hv(0);let r=B(null);try{t(e,n)}finally{B(r)}}function bf(e,t,n){if(af(t)){let r=B(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{B(r)}}}var Vt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Vt||{});var za=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rv})`}};function Ty(e){return e instanceof za?e.changingThisBreaksApplicationSecurity:e}function JC(e,t){let n=QC(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${rv})`)}return n===t}function QC(e){return e instanceof za&&e.getTypeName()||null}var XC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eI(e){return e=String(e),e.match(XC)?e:"unsafe:"+e}var tI=/^>|^->|<!--|-->|--!>|<!-$/g,nI=/(<|>)/g,rI="\u200B$1\u200B";function iI(e){return e.replace(tI,t=>t.replace(nI,rI))}function oI(e,t){return e.createText(t)}function sI(e,t,n){e.setValue(t,n)}function aI(e,t){return e.createComment(iI(t))}function My(e,t,n){return e.createElement(t,n)}function qa(e,t,n,r,i){e.insertBefore(t,n,r,i)}function xy(e,t,n){e.appendChild(t,n)}function Lm(e,t,n,r,i){r!==null?qa(e,t,n,r,i):xy(e,t,n)}function lI(e,t,n){e.removeChild(null,t,n)}function cI(e,t,n){e.setAttribute(t,"style",n)}function uI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ay(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pC(e,t,r),i!==null&&uI(e,t,i),o!==null&&cI(e,t,o)}var Ry=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ry||{});function Oo(e){let t=dI();return t?t.sanitize(Ry.URL,e)||"":JC(e,"URL")?Ty(e):eI(Jr(e))}function dI(){let e=J();return e&&e[nn].sanitizer}function Oy(e){return e instanceof Function?e():e}function fI(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Ny="ng-template";function hI(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&fI(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ef(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ef(e){return e.type===4&&e.value!==Ny}function pI(e,t,n){let r=e.type===4&&!n?Ny:e.value;return t===r}function gI(e,t,n){let r=4,i=e.attrs,o=i!==null?yI(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Et(r)&&!Et(l))return!1;if(s&&Et(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!pI(e,l,n)||l===""&&t.length===1){if(Et(r))return!1;s=!0}}else if(r&8){if(i===null||!hI(e,i,l,n)){if(Et(r))return!1;s=!0}}else{let c=t[++a],u=mI(l,i,Ef(e),n);if(u===-1){if(Et(r))return!1;s=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(Et(r))return!1;s=!0}}}}return Et(r)||s}function Et(e){return(e&1)===0}function mI(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _I(t,e)}function vI(e,t,n=!1){for(let r=0;r<t.length;r++)if(gI(e,t[r],n))return!0;return!1}function yI(e){for(let t=0;t<e.length;t++){let n=e[t];if(gC(n))return t}return e.length}function _I(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function jm(e,t){return e?":not("+t.trim()+")":t}function wI(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Et(s)&&(t+=jm(o,i),i=""),r=s,o=o||!Et(r);n++}return i!==""&&(t+=jm(o,i)),t}function bI(e){return e.map(wI).join(",")}function EI(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Et(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Bt={};function Df(e,t,n,r,i,o,s,a,l,c,u){let f=qe+r,p=f+i,d=DI(f,p),g=typeof c=="function"?c():c;return d[G]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function DI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Bt);return n}function CI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Df(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Cf(e,t,n,r,i,o,s,a,l,c,u){let f=t.blueprint.slice();return f[an]=i,f[L]=r|4|128|8|64|1024,(c!==null||e&&e[L]&2048)&&(f[L]|=2048),Nv(f),f[Le]=f[li]=e,f[ze]=n,f[nn]=s||e&&e[nn],f[de]=a||e&&e[de],f[ei]=l||e&&e[ei]||null,f[It]=o,f[tl]=$C(),f[Ra]=u,f[Iv]=c,f[Pt]=t.type==2?e[Pt]:f,f}function II(e,t,n){let r=Ut(t,e),i=CI(n),o=e[nn].rendererFactory,s=If(e,Cf(e,i,null,ky(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function ky(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Py(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function If(e,t){return e[Do]?e[Dm][Dt]=t:e[Do]=t,e[Dm]=t,t}function X(e=1){Fy(Re(),J(),dr()+e,!1)}function Fy(e,t,n,r){if(!r)if((t[L]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ea(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Da(t,o,0,n)}or(n)}var fl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fl||{});function Pd(e,t,n,r){let i=B(null);try{let[o,s,a]=e.inputs[n],l=null;(s&fl.SignalBased)!==0&&(l=t[o][it]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):Tv(t,l,o,r)}finally{B(i)}}function Ly(e,t,n,r,i){let o=dr(),s=r&2;try{or(-1),s&&t.length>qe&&Fy(e,t,qe,!1),re(s?2:0,i),n(r,i)}finally{or(o),re(s?3:1,i)}}function hl(e,t,n){RI(e,t,n),(n.flags&64)===64&&OI(e,t,n)}function Sf(e,t,n=Ut){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function SI(e,t,n,r){let o=r.get(GC,Ey)||n===Vt.ShadowDom,s=e.selectRootElement(t,o);return TI(s),s}function TI(e){MI(e)}var MI=()=>null;function xI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Tf(e,t,n,r,i,o,s,a){if(!a&&xf(t,e,n,r,i)){ci(t)&&AI(n,t.index);return}if(t.type&3){let l=Ut(t,n);r=xI(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function AI(e,t){let n=jt(t,e);n[L]&16||(n[L]|=64)}function RI(e,t,n){let r=n.directiveStart,i=n.directiveEnd;ci(n)&&II(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||$a(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Ua(t,e,s,n);if(hi(l,t),o!==null&&FI(t,s-r,l,a,n,o),Ft(a)){let c=jt(n.index,t);c[ze]=Ua(t,e,s,n)}}}function OI(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oC();try{or(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Cd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&NI(l,c)}}finally{or(-1),Cd(s)}}function NI(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Mf(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];vI(t,o.selectors,!1)&&(r??=[],Ft(o)?r.unshift(o):r.push(o))}return r}function kI(e,t,n,r,i,o){let s=Ut(e,t);PI(t[de],s,o,e.value,n,r,i)}function PI(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Jr(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function FI(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Pd(r,n,l,c)}}function LI(e,t){let n=e[ei],r=n?n.get(on,null):null;r&&r.handleError(t)}function xf(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],f=t.data[c];Pd(f,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=t.data[l];Pd(u,c,r,i),a=!0}return a}function jI(e,t){let n=jt(t,e),r=n[G];VI(r,n);let i=n[an];i!==null&&n[Ra]===null&&(n[Ra]=Iy(i,n[ei])),re(18),Af(r,n,n[ze]),re(19,n[ze])}function VI(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Af(e,t,n){ff(t);try{let r=e.viewQuery;r!==null&&kd(1,r,n);let i=e.template;i!==null&&Ly(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ni]?.finishViewCreation(e),e.staticContentQueries&&Sy(e,t),e.staticViewQueries&&kd(2,e.viewQuery,n);let o=e.components;o!==null&&$I(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[L]&=-5,hf()}}function $I(e,t){for(let n=0;n<t.length;n++)jI(e,t[n])}function UI(e,t,n,r){let i=B(null);try{let o=t.tView,a=e[L]&4096?4096:16,l=Cf(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[ti]=c;let u=e[ni];return u!==null&&(l[ni]=u.createEmbeddedView(o)),Af(o,l,n),l}finally{B(i)}}function Vm(e,t){return!t||t.firstChild===null||gy(e)}var BI;function Rf(e,t){return BI(e,t)}var sn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sn||{});function jy(e){return(e.flags&32)===32}function Zr(e,t,n,r,i){if(r!=null){let o,s=!1;ln(r)?o=r:Dn(r)&&(s=!0,r=r[an]);let a=Lt(r);e===0&&n!==null?i==null?xy(t,n,a):qa(t,n,a,i||null,!0):e===1&&n!==null?qa(t,n,a,i||null,!0):e===2?lI(t,a,s):e===3&&t.destroyNode(a),o!=null&&eS(t,e,o,n,i)}}function HI(e,t){Vy(e,t),t[an]=null,t[It]=null}function zI(e,t,n,r,i,o){r[an]=i,r[It]=t,gl(e,r,n,1,i,o)}function Vy(e,t){t[nn].changeDetectionScheduler?.notify(9),gl(e,t,t[de],2,null,null)}function qI(e){let t=e[Do];if(!t)return sd(e[G],e);for(;t;){let n=null;if(Dn(t))n=t[Do];else{let r=t[at];r&&(n=r)}if(!n){for(;t&&!t[Dt]&&t!==e;)Dn(t)&&sd(t[G],t),t=t[Le];t===null&&(t=e),Dn(t)&&sd(t[G],t),n=t&&t[Dt]}t=n}}function Of(e,t){let n=e[Pa],r=n.indexOf(t);n.splice(r,1)}function $y(e,t){if(ui(t))return;let n=t[de];n.destroyNode&&gl(e,t,n,3,null,null),qI(t)}function sd(e,t){if(ui(t))return;let n=B(null);try{t[L]&=-129,t[L]|=256,t[st]&&xu(t[st]),WI(e,t),GI(e,t),t[G].type===1&&t[de].destroy();let r=t[ti];if(r!==null&&ln(t[Le])){r!==t[Le]&&Of(r,t);let i=t[ni];i!==null&&i.detachView(e)}Od(t)}finally{B(n)}}function GI(e,t){let n=e.cleanup,r=t[Oa];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Oa]=null);let i=t[En];if(i!==null){t[En]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Na];if(o!==null){t[Na]=null;for(let s of o)s.destroy()}}function WI(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof sr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];re(4,a,l);try{l.call(a)}finally{re(5,a,l)}}else{re(4,i,o);try{o.call(i)}finally{re(5,i,o)}}}}}function KI(e,t,n){return ZI(e,t.parent,n)}function ZI(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[an];if(ci(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Vt.None||i===Vt.Emulated)return null}return Ut(r,n)}function YI(e,t,n){return QI(e,t,n)}function JI(e,t,n){return e.type&40?Ut(e,n):null}var QI=JI,$m;function pl(e,t,n,r){let i=KI(e,r,t),o=t[de],s=r.parent||t[It],a=YI(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Lm(o,i,n[l],a,!1);else Lm(o,i,n,a,!1);$m!==void 0&&$m(o,r,t,n,i)}function _o(e,t){if(t!==null){let n=t.type;if(n&3)return Ut(t,e);if(n&4)return Fd(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return _o(e,r);{let i=e[t.index];return ln(i)?Fd(-1,i):Lt(i)}}else{if(n&128)return _o(e,t.next);if(n&32)return Rf(t,e)()||Lt(e[t.index]);{let r=Uy(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=ir(e[Pt]);return _o(i,r)}else return _o(e,t.next)}}}return null}function Uy(e,t){if(t!==null){let r=e[Pt][It],i=t.projection;return r.projection[i]}return null}function Fd(e,t){let n=at+e+1;if(n<t.length){let r=t[n],i=r[G].firstChild;if(i!==null)return _o(r,i)}return t[rr]}function Nf(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&hi(Lt(a),r),n.flags|=2),!jy(n))if(l&8)Nf(e,t,n.child,r,i,o,!1),Zr(t,e,i,a,o);else if(l&32){let c=Rf(n,r),u;for(;u=c();)Zr(t,e,i,u,o);Zr(t,e,i,a,o)}else l&16?XI(e,t,r,n,i,o):Zr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function gl(e,t,n,r,i,o){Nf(n,r,e.firstChild,t,i,o,!1)}function XI(e,t,n,r,i,o){let s=n[Pt],l=s[It].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Zr(t,e,i,u,o)}else{let c=l,u=s[Le];gy(r)&&(c.flags|=128),Nf(e,t,c,u,i,o,!0)}}function eS(e,t,n,r,i){let o=n[rr],s=Lt(n);o!==s&&Zr(t,e,r,o,i);for(let a=at;a<n.length;a++){let l=n[a];gl(l[G],l,e,t,r,o)}}function tS(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:sn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sn.Important),e.setStyle(n,r,i,o))}}function Ga(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Lt(o)),ln(o)&&nS(o,r);let s=n.type;if(s&8)Ga(e,t,n.child,r);else if(s&32){let a=Rf(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Uy(t,n);if(Array.isArray(a))r.push(...a);else{let l=ir(t[Pt]);Ga(l[G],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nS(e,t){for(let n=at;n<e.length;n++){let r=e[n],i=r[G].firstChild;i!==null&&Ga(r[G],r,i,t)}e[rr]!==e[an]&&t.push(e[rr])}function By(e){if(e[rd]!==null){for(let t of e[rd])t.impl.addSequence(t);e[rd].length=0}}var Hy=[];function rS(e){return e[st]??iS(e)}function iS(e){let t=Hy.pop()??Object.create(sS);return t.lView=e,t}function oS(e){e.lView[st]!==e&&(e.lView=null,Hy.push(e))}var sS=z(w({},lo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{il(e.lView)},consumerOnSignalRead(){this.lView[st]=this}});function aS(e){let t=e[st]??Object.create(lS);return t.lView=e,t}var lS=z(w({},lo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ir(e.lView);for(;t&&!zy(t[G]);)t=ir(t);t&&kv(t)},consumerOnSignalRead(){this.lView[st]=this}});function zy(e){return e.type!==2}function qy(e){if(e[Na]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Na])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[L]&8192)}}var cS=100;function Gy(e,t=!0,n=0){let i=e[nn].rendererFactory,o=!1;o||i.begin?.();try{uS(e,n)}catch(s){throw t&&LI(e,s),s}finally{o||i.end?.()}}function uS(e,t){let n=$v();try{Im(!0),Ld(e,t);let r=0;for(;rl(e);){if(r===cS)throw new T(103,!1);r++,Ld(e,1)}}finally{Im(n)}}function dS(e,t,n,r){if(ui(t))return;let i=t[L],o=!1,s=!1;ff(t);let a=!0,l=null,c=null;o||(zy(e)?(c=rS(t),l=Vs(c)):Du()===null?(a=!1,c=aS(t),l=Vs(c)):t[st]&&(xu(t[st]),t[st]=null));try{Nv(t),nC(e.bindingStartIndex),n!==null&&Ly(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=e.preOrderCheckHooks;d!==null&&Ea(t,d,null)}else{let d=e.preOrderHooks;d!==null&&Da(t,d,0,null),id(t,0)}if(s||fS(t),qy(t),Wy(t,0),e.contentQueries!==null&&Sy(e,t),!o)if(u){let d=e.contentCheckHooks;d!==null&&Ea(t,d)}else{let d=e.contentHooks;d!==null&&Da(t,d,1),id(t,1)}pS(e,t);let f=e.components;f!==null&&Zy(t,f,0);let p=e.viewQuery;if(p!==null&&kd(2,p,r),!o)if(u){let d=e.viewCheckHooks;d!==null&&Ea(t,d)}else{let d=e.viewHooks;d!==null&&Da(t,d,2),id(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[nd]){for(let d of t[nd])d();t[nd]=null}o||(By(t),t[L]&=-73)}catch(u){throw o||il(t),u}finally{c!==null&&(Tu(c,l),a&&oS(c)),hf()}}function Wy(e,t){for(let n=yy(e);n!==null;n=_y(n))for(let r=at;r<n.length;r++){let i=n[r];Ky(i,t)}}function fS(e){for(let t=yy(e);t!==null;t=_y(t)){if(!(t[L]&2))continue;let n=t[Pa];for(let r=0;r<n.length;r++){let i=n[r];kv(i)}}}function hS(e,t,n){re(18);let r=jt(t,e);Ky(r,n),re(19,r[ze])}function Ky(e,t){cf(e)&&Ld(e,t)}function Ld(e,t){let r=e[G],i=e[L],o=e[st],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Mu(o)),s||=!1,o&&(o.dirty=!1),e[L]&=-9217,s)dS(r,e,r.template,e[ze]);else if(i&8192){qy(e),Wy(e,1);let a=r.components;a!==null&&Zy(e,a,1),By(e)}}function Zy(e,t,n){for(let r=0;r<t.length;r++)hS(e,t[r],n)}function pS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)or(~i);else{let o=i,s=n[++r],a=n[++r];iC(s,o);let l=t[o];re(24,l),a(2,l),re(25,l)}}}finally{or(-1)}}function kf(e,t){let n=$v()?64:1088;for(e[nn].changeDetectionScheduler?.notify(t);e;){e[L]|=n;let r=ir(e);if(Fa(e)&&!r)return e;e=r}return null}function Yy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function gS(e,t,n,r=!0){let i=t[G];if(mS(i,t,e,n),r){let s=Fd(n,e),a=t[de],l=a.parentNode(e[rr]);l!==null&&zI(i,e[It],a,t,l,s)}let o=t[Ra];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jd(e,t){if(e.length<=at)return;let n=at+t,r=e[n];if(r){let i=r[ti];i!==null&&i!==e&&Of(i,r),t>0&&(e[n-1][Dt]=r[Dt]);let o=xa(e,at+t);HI(r[G],r);let s=o[ni];s!==null&&s.detachView(o[G]),r[Le]=null,r[Dt]=null,r[L]&=-129}return r}function mS(e,t,n,r){let i=at+r,o=n.length;r>0&&(n[i-1][Dt]=t),r<o-at?(t[Dt]=n[i],mv(n,at+r,t)):(n.push(t),t[Dt]=null),t[Le]=n;let s=t[ti];s!==null&&n!==s&&Jy(s,t);let a=t[ni];a!==null&&a.insertView(e),Ed(t),t[L]|=128}function Jy(e,t){let n=e[Pa],r=t[Le];if(Dn(r))e[L]|=2;else{let i=r[Le][Pt];t[Pt]!==i&&(e[L]|=2)}n===null?e[Pa]=[t]:n.push(t)}var Io=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[G];return Ga(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[ze]}set context(t){this._lView[ze]=t}get destroyed(){return ui(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Le];if(ln(t)){let n=t[ka],r=n?n.indexOf(this):-1;r>-1&&(jd(t,r),xa(n,r))}this._attachedToViewContainer=!1}$y(this._lView[G],this._lView)}onDestroy(t){Pv(this._lView,t)}markForCheck(){kf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[L]&=-129}reattach(){Ed(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,Gy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Fa(this._lView),n=this._lView[ti];n!==null&&!t&&Of(n,this._lView),Vy(this._lView[G],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t;let n=Fa(this._lView),r=this._lView[ti];r!==null&&!n&&Jy(r,this._lView),Ed(this._lView)}};var ml=(()=>{class e{static __NG_ELEMENT_ID__=_S}return e})(),vS=ml,yS=class extends vS{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=UI(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Io(i)}};function _S(){return Qy(Xe(),J())}function Qy(e,t){return e.type&4?new yS(t,e,ul(e,t)):null}function vl(e,t,n,r,i){let o=e.data[t];if(o===null)o=wS(e,t,n,r,i),rC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=X0();o.injectorIndex=s===null?-1:s.injectorIndex}return ur(o,!0),o}function wS(e,t,n,r,i){let o=jv(),s=df(),a=s?o:o&&o.parent,l=e.data[t]=ES(e,a,n,t,r,i);return bS(e,l,o,s),l}function bS(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function ES(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Y0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var QL=new RegExp(`^(\\d+)*(${qC}|${zC})*(.*)`);var DS=()=>null;function Um(e,t){return DS(e,t)}var CS=class{},Xy=class{},Vd=class{resolveComponentFactory(t){throw Error(`No component factory found for ${He(t)}.`)}},yl=class{static NULL=new Vd},oi=class{},fr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>IS()}return e})();function IS(){let e=J(),t=Xe(),n=jt(t.index,e);return(Dn(n)?n:e)[de]}var SS=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>null})}return e})();var ad={},$d=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Xa(r);let i=this.injector.get(t,ad,r);return i!==ad||n===ad?i:this.parentInjector.get(t,n,r)}};function Ud(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=mm(i,a);else if(o==2){let l=a,c=t[++s];r=mm(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function k(e,t=V.Default){let n=J();if(n===null)return N(e,t);let r=Xe();return ry(r,n,Fe(e),t)}function Pf(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a,l=null,c=null,u=MS(s);u===null?a=s:[a,l,c]=u,RS(e,t,n,a,o,l,c)}o!==null&&r!==null&&TS(n,r,o)}function TS(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new T(-301,!1);r.push(t[i],o)}}function MS(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Ft(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,xS(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function xS(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function AS(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function RS(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let d=r[p];!l&&Ft(d)&&(l=!0,AS(e,n,p)),Sd($a(n,t),e,d.type)}LS(n,e.data.length,a);for(let p=0;p<a;p++){let d=r[p];d.providersResolver&&d.providersResolver(d)}let c=!1,u=!1,f=Py(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let d=r[p];if(n.mergedAttrs=ii(n.mergedAttrs,d.hostAttrs),NS(e,n,t,f,d),FS(f,d,i),s!==null&&s.has(d)){let[m,v]=s.get(d);n.directiveToIndex.set(d.type,[f,m+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(d))&&n.directiveToIndex.set(d.type,f);d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let g=d.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}OS(e,n,o)}function OS(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Bm(0,t,i,r),Bm(1,t,i,r),zm(t,r,!1);else{let o=n.get(i);Hm(0,t,o,r),Hm(1,t,o,r),zm(t,r,!0)}}}function Bm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),e_(t,o)}}function Hm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),e_(t,s)}}function e_(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function zm(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Ef(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function NS(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=tr(i.type,!0)),s=new sr(o,Ft(i),k);e.blueprint[r]=s,n[r]=s,kS(e,t,r,Py(e,n,i.hostVars,Bt),i)}function kS(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;PS(s)!=a&&s.push(a),s.push(n,r,o)}}function PS(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function FS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ft(t)&&(n[""]=e)}}function LS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function t_(e,t,n,r,i,o,s,a){let l=t.consts,c=ri(l,s),u=vl(t,e,2,r,c);return o&&Pf(t,n,u,ri(l,a),i),u.mergedAttrs=ii(u.mergedAttrs,u.attrs),u.attrs!==null&&Ud(u,u.attrs,!1),u.mergedAttrs!==null&&Ud(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function n_(e,t){pf(e,t),af(t)&&e.queries.elementEnd(t)}var Wa=class extends yl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Qr(t);return new So(n,this.ngModule)}};function jS(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&fl.SignalBased)!==0};return i&&(o.transform=i),o})}function VS(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function $S(e,t,n){let r=t instanceof lt?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new $d(n,r):n}function US(e){let t=e.get(oi,null);if(t===null)throw new T(407,!1);let n=e.get(SS,null),r=e.get(Co,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function BS(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return My(t,n,n==="svg"?U0:n==="math"?B0:null)}var So=class extends Xy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=jS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=VS(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=bI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){re(22);let o=B(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:EI(this.componentDef.selectors[0]),l=Df(0,null,null,1,0,null,null,null,null,[a],null),c=$S(s,i||this.ngModule,t),u=US(c),f=u.rendererFactory.createRenderer(null,s),p=r?SI(f,r,s.encapsulation,c):BS(s,f),d=Cf(null,l,null,512|ky(s),null,null,u,f,c,null,Iy(p,c,!0));d[qe]=p,ff(d);let g=null;try{let m=t_(qe,l,d,"#host",()=>[this.componentDef],!0,0);p&&(Ay(f,p,m),hi(p,d)),hl(l,d,m),bf(l,m,d),n_(l,m),n!==void 0&&HS(m,this.ngContentSelectors,n),g=jt(m.index,d),d[ze]=g[ze],Af(l,d,null)}catch(m){throw g!==null&&Od(g),Od(d),m}finally{re(23),hf()}return new Bd(this.componentType,d)}finally{B(o)}}},Bd=class extends CS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=Ov(n[G],qe),this.location=ul(this._tNode,n),this.instance=jt(this._tNode.index,n)[ze],this.hostView=this.changeDetectorRef=new Io(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=xf(r,i[G],i,t,n);this.previousInputValues.set(t,n);let s=jt(r.index,i);kf(s,1)}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function HS(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pi=(()=>{class e{static __NG_ELEMENT_ID__=zS}return e})();function zS(){let e=Xe();return GS(e,J())}var qS=pi,r_=class extends qS{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ul(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){let t=gf(this._hostTNode,this._hostLView);if(Jv(t)){let n=ja(t,this._hostLView),r=La(t),i=n[G].data[r+8];return new er(i,n)}else return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=qm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-at}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Um(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Vm(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!L0(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?t:new So(Qr(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(lt,null);m&&(o=m)}let u=Qr(l.componentType??{}),f=Um(this._lContainer,u?.id??null),p=f?.firstChild??null,d=l.create(c,i,p,o);return this.insertImpl(d.hostView,a,Vm(this._hostTNode,f)),d}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(z0(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Le],c=new r_(l,l[It],l[Le]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return gS(s,i,o,r),t.attachToViewContainerRef(),mv(ld(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=qm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=jd(this._lContainer,n);r&&(xa(ld(this._lContainer),n),$y(r[G],r))}detach(t){let n=this._adjustIndex(t,-1),r=jd(this._lContainer,n);return r&&xa(ld(this._lContainer),n)!=null?new Io(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function qm(e){return e[ka]}function ld(e){return e[ka]||(e[ka]=[])}function GS(e,t){let n,r=t[e.index];return ln(r)?n=r:(n=Yy(r,t,null,e),t[e.index]=n,If(t,n)),KS(n,t,e,r),new r_(n,e,t)}function WS(e,t){let n=e[de],r=n.createComment(""),i=Ut(t,e),o=n.parentNode(i);return qa(n,o,r,n.nextSibling(i),!1),r}var KS=JS,ZS=()=>!1;function YS(e,t,n){return ZS(e,t,n)}function JS(e,t,n,r){if(e[rr])return;let i;n.type&8?i=Lt(r):i=WS(t,n),e[rr]=i}var si=class{},Ff=class{};var Hd=class extends si{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wa(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=_v(t);this._bootstrapComponents=Oy(o.bootstrap),this._r3Injector=sy(t,n,[{provide:si,useValue:this},{provide:yl,useValue:this.componentFactoryResolver},...r],He(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},zd=class extends Ff{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Hd(this.moduleType,t,[])}};var Ka=class extends si{injector;componentFactoryResolver=new Wa(this);instance=null;constructor(t){super();let n=new Eo([...t.providers,{provide:si,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],t.parent||sf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function _l(e,t,n=null){return new Ka({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var QS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=bv(!1,n.type),i=r.length>0?_l([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(N(lt))})}return e})();function dt(e){return Mo(()=>{let t=i_(e),n=z(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===my.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(QS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Vt.Emulated,styles:e.styles||ot,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Cy("NgStandalone"),o_(n);let r=e.dependencies;return n.directiveDefs=Gm(r,!1),n.pipeDefs=Gm(r,!0),n.id=rT(n),n})}function XS(e){return Qr(e)||C0(e)}function eT(e){return e!==null}function hr(e){return Mo(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function tT(e,t){if(e==null)return nr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=fl.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function nT(e){if(e==null)return nr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ue(e){return Mo(()=>{let t=i_(e);return o_(t),t})}function Lf(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function i_(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||nr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tT(e.inputs,t),outputs:nT(e.outputs),debugInfo:null}}function o_(e){e.features?.forEach(t=>t(e))}function Gm(e,t){if(!e)return null;let n=t?I0:XS;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(eT)}function rT(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function iT(e){return Object.getPrototypeOf(e.prototype).constructor}function ft(e){let t=iT(e.type),n=!0,r=[e];for(;t;){let i;if(Ft(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=cd(e.inputs),s.declaredInputs=cd(e.declaredInputs),s.outputs=cd(e.outputs);let a=i.hostBindings;a&&cT(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&aT(e,l),c&&lT(e,c),oT(e,i),n0(e.outputs,i.outputs),Ft(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ft&&(n=!1)}}t=Object.getPrototypeOf(t)}sT(r)}function oT(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function sT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ii(i.hostAttrs,n=ii(n,i.hostAttrs))}}function cd(e){return e===nr?{}:e===ot?[]:e}function aT(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function lT(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function cT(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function s_(e){return dT(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function uT(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function dT(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function a_(e,t,n){return e[t]=n}function Cn(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function l_(e,t,n,r){let i=Cn(e,t,n);return Cn(e,t+1,r)||i}function fT(e,t,n,r,i,o,s,a,l){let c=t.consts,u=vl(t,e,4,s||null,a||null);uf()&&Pf(t,n,u,ri(c,l),Mf),u.mergedAttrs=ii(u.mergedAttrs,u.attrs),pf(t,u);let f=u.tView=Df(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}function hT(e,t,n,r,i,o,s,a,l,c){let u=n+qe,f=t.firstCreatePass?fT(u,t,e,r,i,o,s,a,l):t.data[u];ur(f,!1);let p=pT(t,e,f,n);al()&&pl(t,e,p,f),hi(p,e);let d=Yy(p,e,p,f);return e[u]=d,If(e,d),YS(d,f,e),nl(f)&&hl(t,e,f),l!=null&&Sf(e,f,c),f}function ht(e,t,n,r,i,o,s,a){let l=J(),c=Re(),u=ri(c.consts,o);return hT(l,c,e,t,n,r,i,u,s,a),ht}var pT=gT;function gT(e,t,n,r){return ll(!0),t[de].createComment("")}var c_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var u_=new x("");var mT=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>new qd})}return e})(),qd=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Sn(e){return!!e&&typeof e.then=="function"}function jf(e){return!!e&&typeof e.subscribe=="function"}var vT=new x("");var d_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=b(vT,{optional:!0})??[];injector=b(rn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ct(this.injector,i);if(Sn(o))n.push(o);else if(jf(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vf=new x("");function yT(){Ru(()=>{throw new T(600,!1)})}function _T(e){return e.isBoundToModule}var wT=10;var ar=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(kC);afterRenderManager=b(WC);zonelessEnabled=b(ly);rootEffectScheduler=b(mT);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new _e;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(fi).hasPendingTasks.pipe(q(n=>!n));constructor(){b(dl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=b(lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=rn.NULL){re(10);let o=n instanceof Xy;if(!this._injector.get(d_).done){let d="";throw new T(405,d)}let a;o?a=n:a=this._injector.get(yl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=_T(a)?void 0:this._injector.get(si),c=r||a.selector,u=a.create(i,[],c,l),f=u.location.nativeElement,p=u.injector.get(u_,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Ca(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),re(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){re(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Dy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new T(101,!1);let n=B(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,B(n),this.afterTick.next(),re(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(oi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<wT;)re(14),this.synchronizeOnce(),re(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)bT(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>rl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ca(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Vf,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ca(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ca(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function bT(e,t,n,r){if(!n&&!rl(e))return;Gy(e,t,n&&!r?0:1)}function $f(e,t,n,r){let i=J(),o=ol();if(Cn(i,o,t)){let s=Re(),a=sl();kI(a,i,e,t,n,r)}return $f}function f_(e,t,n,r){return Cn(e,ol(),n)?t+Jr(n)+r:Bt}function ET(e,t,n,r,i,o){let s=tC(),a=l_(e,s,n,i);return Bv(2),a?t+Jr(n)+r+Jr(i)+o:Bt}function wa(e,t){return e<<17|t<<2}function lr(e){return e>>17&32767}function DT(e){return(e&2)==2}function CT(e,t){return e&131071|t<<17}function Gd(e){return e|2}function ai(e){return(e&131068)>>2}function ud(e,t){return e&-131069|t<<2}function IT(e){return(e&1)===1}function Wd(e){return e|1}function ST(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=lr(s),l=ai(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||xo(f,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let p=lr(e[a+1]);e[r+1]=wa(p,a),p!==0&&(e[p+1]=ud(e[p+1],r)),e[a+1]=CT(e[a+1],r)}else e[r+1]=wa(a,0),a!==0&&(e[a+1]=ud(e[a+1],r)),a=r;else e[r+1]=wa(l,0),a===0?a=r:e[l+1]=ud(e[l+1],r),l=r;c&&(e[r+1]=Gd(e[r+1])),Wm(e,u,r,!0),Wm(e,u,r,!1),TT(t,u,e,r,o),s=wa(a,l),o?t.classBindings=s:t.styleBindings=s}function TT(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&xo(o,t)>=0&&(n[r+1]=Wd(n[r+1]))}function Wm(e,t,n,r){let i=e[n+1],o=t===null,s=r?lr(i):ai(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];MT(l,t)&&(a=!0,e[s+1]=r?Wd(c):Gd(c)),s=r?lr(c):ai(c)}a&&(e[n+1]=r?Gd(i):Wd(i))}function MT(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?xo(e,t)>=0:!1}function Oe(e,t,n){let r=J(),i=ol();if(Cn(r,i,t)){let o=Re(),s=sl();Tf(o,s,r,e,t,r[de],n,!1)}return Oe}function Km(e,t,n,r,i){xf(t,e,n,i?"class":"style",r)}function Uf(e,t,n){return h_(e,t,n,!1),Uf}function wl(e,t){return h_(e,t,null,!0),wl}function h_(e,t,n,r){let i=J(),o=Re(),s=Bv(2);if(o.firstUpdatePass&&AT(o,e,s,r),t!==Bt&&Cn(i,s,t)){let a=o.data[dr()];PT(o,a,i,i[de],e,i[s+1]=FT(t,n),r,s)}}function xT(e,t){return t>=e.expandoStartIndex}function AT(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[dr()],s=xT(e,n);LT(o,r)&&t===null&&!s&&(t=!1),t=RT(i,o,t,r),ST(i,o,t,n,s,r)}}function RT(e,t,n,r){let i=sC(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=dd(null,e,t,n,r),n=To(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=dd(i,e,t,n,r),o===null){let l=OT(e,t,r);l!==void 0&&Array.isArray(l)&&(l=dd(null,e,t,l[1],r),l=To(l,t.attrs,r),NT(e,t,r,l))}else o=kT(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function OT(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ai(r)!==0)return e[lr(r)]}function NT(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[lr(i)]=r}function kT(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=To(r,s,n)}return To(r,t.attrs,n)}function dd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=To(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function To(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),E0(e,s,n?!0:t[++o]))}return e===void 0?null:e}function PT(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=IT(c)?Zm(l,t,n,i,ai(c),s):void 0;if(!Za(u)){Za(o)||DT(c)&&(o=Zm(l,null,n,i,a,s));let f=Rv(dr(),n);tS(r,s,f,i,o)}}function Zm(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,p=n[i+1];p===Bt&&(p=f?ot:void 0);let d=f?ed(p,r):u===r?p:void 0;if(c&&!Za(d)&&(d=ed(l,r)),Za(d)&&(a=d,s))return a;let g=e[i+1];i=s?lr(g):ai(g)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=ed(l,r))}return a}function Za(e){return e!==void 0}function FT(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=He(Ty(e)))),e}function LT(e,t){return(e.flags&(t?8:16))!==0}function E(e,t,n,r){let i=J(),o=Re(),s=qe+e,a=i[de],l=o.firstCreatePass?t_(s,o,i,t,Mf,uf(),n,r):o.data[s],c=jT(o,i,l,a,t,e);i[s]=c;let u=nl(l);return ur(l,!0),Ay(a,c,l),!jy(l)&&al()&&pl(o,i,c,l),(W0()===0||u)&&hi(c,i),K0(),u&&(hl(o,i,l),bf(o,l,i)),r!==null&&Sf(i,l),E}function D(){let e=Xe();df()?Vv():(e=e.parent,ur(e,!1));let t=e;J0(t)&&Q0(),Z0();let n=Re();return n.firstCreatePass&&n_(n,t),t.classesWithoutHost!=null&&fC(t)&&Km(n,t,J(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&hC(t)&&Km(n,t,J(),t.stylesWithoutHost,!1),D}function Ce(e,t,n,r){return E(e,t,n,r),D(),Ce}var jT=(e,t,n,r,i,o)=>(ll(!0),My(r,i,cC()));function VT(e,t,n,r,i){let o=t.consts,s=ri(o,r),a=vl(t,e,8,"ng-container",s);s!==null&&Ud(a,s,!0);let l=ri(o,i);return uf()&&Pf(t,n,a,l,Mf),a.mergedAttrs=ii(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function Bf(e,t,n){let r=J(),i=Re(),o=e+qe,s=i.firstCreatePass?VT(o,i,r,t,n):i.data[o];ur(s,!0);let a=$T(i,r,s,e);return r[o]=a,al()&&pl(i,r,a,s),hi(a,r),nl(s)&&(hl(i,r,s),bf(i,s,r)),n!=null&&Sf(r,s),Bf}function Hf(){let e=Xe(),t=Re();return df()?Vv():(e=e.parent,ur(e,!1)),t.firstCreatePass&&(pf(t,e),af(e)&&t.queries.elementEnd(e)),Hf}var $T=(e,t,n,r)=>(ll(!0),aI(t[de],""));function un(){return J()}var Qn=void 0;function UT(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var BT=["en",[["a","p"],["AM","PM"],Qn],[["AM","PM"],Qn,Qn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qn,"{1} 'at' {0}",Qn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",UT],fd={};function pt(e){let t=HT(e),n=Ym(t);if(n)return n;let r=t.split("-")[0];if(n=Ym(r),n)return n;if(r==="en")return BT;throw new T(701,!1)}function Ym(e){return e in fd||(fd[e]=vo.ng&&vo.ng.common&&vo.ng.common.locales&&vo.ng.common.locales[e]),fd[e]}var fe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(fe||{});function HT(e){return e.toLowerCase().replace(/_/g,"-")}var Ya="en-US";var zT=Ya;function qT(e){typeof e=="string"&&(zT=e.toLowerCase().replace(/_/g,"-"))}function Jm(e,t,n){return function r(i){if(i===Function)return n;let o=ci(e)?jt(e.index,t):t;kf(o,5);let s=t[ze],a=Qm(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=Qm(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Qm(e,t,n,r){let i=B(null);try{return re(6,t,n),n(r)!==!1}catch(o){return GT(e,o),!1}finally{re(7,t,n),B(i)}}function GT(e,t){let n=e[ei],r=n?n.get(on,null):null;r&&r.handleError(t)}function Xm(e,t,n,r,i,o){let s=t[n],a=t[G],c=a.data[n].outputs[r],u=s[c],f=a.firstCreatePass?Lv(a):null,p=Fv(t),d=u.subscribe(o),g=p.length;p.push(o,d),f&&f.push(i,e.index,g,-(g+1))}function Ge(e,t,n,r){let i=J(),o=Re(),s=Xe();return p_(o,i,i[de],s,e,t,r),Ge}function WT(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Oa],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function p_(e,t,n,r,i,o,s){let a=nl(r),c=e.firstCreatePass?Lv(e):null,u=Fv(t),f=!0;if(r.type&3||s){let p=Ut(r,t),d=s?s(p):p,g=u.length,m=s?y=>s(Lt(y[r.index])):r.index,v=null;if(!s&&a&&(v=WT(e,t,i,r.index)),v!==null){let y=v.__ngLastListenerFn__||v;y.__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,f=!1}else{o=Jm(r,t,o),ZC(t,d,i,o);let y=n.listen(d,i,o);u.push(o,y),c&&c.push(i,m,g,g+1)}}else o=Jm(r,t,o);if(f){let p=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let g=0;g<d.length;g+=2){let m=d[g],v=d[g+1];Xm(r,t,m,v,i,o)}if(p&&p.length)for(let g of p)Xm(r,t,g,i,i,o)}}function Ht(e=1){return lC(e)}function bl(e,t,n,r,i){let o=J(),s=f_(o,t,n,r);if(s!==Bt){let a=Re(),l=sl();Tf(a,l,o,e,s,o[de],i,!1)}return bl}function El(e){let t=eC();return lf(t,qe+e)}function O(e,t=""){let n=J(),r=Re(),i=e+qe,o=r.firstCreatePass?vl(r,i,1,t,null):r.data[i],s=KT(r,n,o,t,e);n[i]=s,al()&&pl(r,n,s,o),ur(o,!1)}var KT=(e,t,n,r,i)=>(ll(!0),oI(t[de],r));function Dl(e){return Tn("",e,""),Dl}function Tn(e,t,n){let r=J(),i=f_(r,e,t,n);return i!==Bt&&g_(r,dr(),i),Tn}function zf(e,t,n,r,i){let o=J(),s=ET(o,e,t,n,r,i);return s!==Bt&&g_(o,dr(),s),zf}function g_(e,t,n){let r=Rv(t,e);sI(e[de],r,n)}function pr(e,t,n){py(t)&&(t=t());let r=J(),i=ol();if(Cn(r,i,t)){let o=Re(),s=sl();Tf(o,s,r,e,t,r[de],n,!1)}return pr}function gi(e,t){let n=py(e);return n&&e.set(t),n}function gr(e,t){let n=J(),r=Re(),i=Xe();return p_(r,n,n[de],i,e,t),gr}function ZT(e,t,n){let r=Re();if(r.firstCreatePass){let i=Ft(e);Kd(n,r.data,r.blueprint,i,!0),Kd(t,r.data,r.blueprint,i,!1)}}function Kd(e,t,n,r,i){if(e=Fe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Kd(e[o],t,n,r,i);else{let o=Re(),s=J(),a=Xe(),l=Xr(e)?e:Fe(e.provide),c=Cv(e),u=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(Xr(e)||!e.multi){let d=new sr(c,i,k),g=pd(l,t,i?u:u+p,f);g===-1?(Sd($a(a,s),o,l),hd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(d),s.push(d)):(n[g]=d,s[g]=d)}else{let d=pd(l,t,u+p,f),g=pd(l,t,u,u+p),m=d>=0&&n[d],v=g>=0&&n[g];if(i&&!v||!i&&!m){Sd($a(a,s),o,l);let y=QT(i?JT:YT,n.length,i,r,c);!i&&v&&(n[g].providerFactory=y),hd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=m_(n[i?g:d],c,!i&&r);hd(o,e,d>-1?d:g,y)}!i&&r&&v&&n[g].componentProviders++}}}function hd(e,t,n,r){let i=Xr(t),o=A0(t);if(i||o){let l=(o?Fe(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function m_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function pd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function YT(e,t,n,r,i){return Zd(this.multi,[])}function JT(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ua(r,r[G],this.providerFactory.index,i);s=l.slice(0,a),Zd(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Zd(o,s);return s}function Zd(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function QT(e,t,n,r,i){let o=new sr(e,n,k);return o.multi=[],o.index=t,o.componentProviders=0,m_(o,i,r&&!n),o}function Mn(e,t=[]){return n=>{n.providersResolver=(r,i)=>ZT(r,i?i(e):e,t)}}function v_(e,t){let n=e[t];return n===Bt?void 0:n}function XT(e,t,n,r,i,o){let s=t+n;return Cn(e,s,i)?a_(e,s+1,o?r.call(o,i):r(i)):v_(e,s+1)}function eM(e,t,n,r,i,o,s){let a=t+n;return l_(e,a,i,o)?a_(e,a+2,s?r.call(s,i,o):r(i,o)):v_(e,a+2)}function mi(e,t){let n=Re(),r,i=e+qe;n.firstCreatePass?(r=tM(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=tr(r.type,!0)),s,a=Be(k);try{let l=Va(!1),c=o();return Va(l),H0(n,J(),i,c),c}finally{Be(a)}}function tM(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Cl(e,t,n){let r=e+qe,i=J(),o=lf(i,r);return __(i,r)?XT(i,Uv(),t,o.transform,n,o):o.transform(n)}function y_(e,t,n,r){let i=e+qe,o=J(),s=lf(o,i);return __(o,i)?eM(o,Uv(),t,s.transform,n,r,s):s.transform(n,r)}function __(e,t){return e[G].data[t].pure}function w_(e,t){return Qy(e,t)}var Yd=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},b_=(()=>{class e{compileModuleSync(n){return new zd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=_v(n),o=Oy(i.declarations).reduce((s,a)=>{let l=Qr(a);return l&&s.push(new So(l)),s},[]);return new Yd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var nM=(()=>{class e{zone=b(Ae);changeDetectionScheduler=b(Co);applicationRef=b(ar);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rM({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Ae(z(w({},iM()),{scheduleInRootZone:n})),[{provide:Ae,useFactory:e},{provide:bo,multi:!0,useFactory:()=>{let r=b(nM,{optional:!0});return()=>r.initialize()}},{provide:bo,multi:!0,useFactory:()=>{let r=b(oM);return()=>{r.initialize()}}},t===!0?{provide:cy,useValue:!0}:[],{provide:uy,useValue:n??ay}]}function iM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var oM=(()=>{class e{subscription=new he;initialized=!1;zone=b(Ae);pendingTasks=b(fi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sM=(()=>{class e{appRef=b(ar);taskService=b(fi);ngZone=b(Ae);zonelessEnabled=b(ly);tracing=b(dl,{optional:!0});disableScheduling=b(cy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ha):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(uy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Rm:dy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ha+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aM(){return typeof $localize<"u"&&$localize.locale||Ya}var Il=new x("",{providedIn:"root",factory:()=>b(Il,V.Optional|V.SkipSelf)||aM()});var Jd=new x(""),lM=new x("");function mo(e){return!e.moduleRef}function cM(e){let t=mo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Ae);return n.run(()=>{mo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(on,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),mo(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Jd);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Jd);s.add(o),e.moduleRef.onDestroy(()=>{Ca(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return dM(r,n,()=>{let o=t.get(d_);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Il,Ya);if(qT(s||Ya),!t.get(lM,!0))return mo(e)?t.get(ar):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(mo(e)){let l=t.get(ar);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return uM(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function uM(e,t){let n=e.injector.get(ar);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new T(-403,!1);t.push(e)}function dM(e,t,n){try{let r=n();return Sn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Ia=null;function fM(e=[],t){return rn.create({name:t,providers:[{provide:el,useValue:"platform"},{provide:Jd,useValue:new Set([()=>Ia=null])},...e]})}function hM(e=[]){if(Ia)return Ia;let t=fM(e);return Ia=t,yT(),pM(t),t}function pM(e){let t=e.get(_f,null);Ct(e,()=>{t?.forEach(n=>n())})}var vi=(()=>{class e{static __NG_ELEMENT_ID__=gM}return e})();function gM(e){return mM(Xe(),J(),(e&16)===16)}function mM(e,t,n){if(ci(e)&&!n){let r=jt(e.index,t);return new Io(r,r)}else if(e.type&175){let r=t[Pt];return new Io(r,t)}return null}var Qd=class{constructor(){}supports(t){return s_(t)}create(t){return new Xd(t)}},vM=(e,t)=>t,Xd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||vM}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<ev(r,i,o)?n:r,a=ev(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){let d=p<o.length?o[p]:o[p]=0,g=d+p;u<=g&&g<c&&(o[p]=d+1)}let f=s.previousIndex;o[f]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!s_(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,uT(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new ef(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ja),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ja),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},ef=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},tf=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ja=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new tf,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ev(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function tv(){return new qf([new Qd])}var qf=(()=>{class e{factories;static \u0275prov=A({token:e,providedIn:"root",factory:tv});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||tv()),deps:[[e,new w0,new _0]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new T(901,!1)}}return e})();function E_(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;re(8);try{let o=i?.injector??hM(r),s=[rM({}),{provide:Co,useExisting:sM},...n||[]],a=new Ka({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return cM({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{re(9)}}function Sl(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function St(e){return ku(e)}function No(e,t){return Au(e,t?.equal)}var nv=class{[it];constructor(t){this[it]=t}destroy(){this[it].destroy()}};var Ne=new x("");var I_=null;function gt(){return I_}function Gf(e){I_??=e}var ko=class{},Po=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>b(S_),providedIn:"platform"})}return e})();var S_=(()=>{class e extends Po{_location;_history;_doc=b(Ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gt().getBaseHref(this._doc)}onPopState(n){let r=gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Tl(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function D_(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Tt(e){return e&&e[0]!=="?"?`?${e}`:e}var xn=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>b(Wf),providedIn:"root"})}return e})(),Ml=new x(""),Wf=(()=>{class e extends xn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Tl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Tt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Tt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Tt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(N(Po),N(Ml,8))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mr=(()=>{class e{_subject=new _e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=wM(D_(C_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Tt(r))}normalize(n){return e.stripTrailingSlash(_M(this._basePath,C_(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Tt;static joinWithSlash=Tl;static stripTrailingSlash=D_;static \u0275fac=function(r){return new(r||e)(N(xn))};static \u0275prov=A({token:e,factory:()=>yM(),providedIn:"root"})}return e})();function yM(){return new mr(N(xn))}function _M(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function C_(e){return e.replace(/\/index.html$/,"")}function wM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var eh=(()=>{class e extends xn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Tl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Tt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Tt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(N(Po),N(Ml,8))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();var ke=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(ke||{}),ee=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ee||{}),Ke=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Ke||{}),fn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function R_(e){return pt(e)[fe.LocaleId]}function O_(e,t,n){let r=pt(e),i=[r[fe.DayPeriodsFormat],r[fe.DayPeriodsStandalone]],o=mt(i,t);return mt(o,n)}function N_(e,t,n){let r=pt(e),i=[r[fe.DaysFormat],r[fe.DaysStandalone]],o=mt(i,t);return mt(o,n)}function k_(e,t,n){let r=pt(e),i=[r[fe.MonthsFormat],r[fe.MonthsStandalone]],o=mt(i,t);return mt(o,n)}function P_(e,t){let r=pt(e)[fe.Eras];return mt(r,t)}function Fo(e,t){let n=pt(e);return mt(n[fe.DateFormat],t)}function Lo(e,t){let n=pt(e);return mt(n[fe.TimeFormat],t)}function jo(e,t){let r=pt(e)[fe.DateTimeFormat];return mt(r,t)}function Vo(e,t){let n=pt(e),r=n[fe.NumberSymbols][t];if(typeof r>"u"){if(t===fn.CurrencyDecimal)return n[fe.NumberSymbols][fn.Decimal];if(t===fn.CurrencyGroup)return n[fe.NumberSymbols][fn.Group]}return r}function F_(e){if(!e[fe.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[fe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L_(e){let t=pt(e);return F_(t),(t[fe.ExtraData][2]||[]).map(r=>typeof r=="string"?Kf(r):[Kf(r[0]),Kf(r[1])])}function j_(e,t,n){let r=pt(e);F_(r);let i=[r[fe.ExtraData][0],r[fe.ExtraData][1]],o=mt(i,t)||[];return mt(o,n)||[]}function mt(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function Kf(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var bM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xl={},EM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function V_(e,t,n,r){let i=RM(e);t=dn(n,t)||t;let s=[],a;for(;t;)if(a=EM.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=U_(r,l),i=AM(i,r));let c="";return s.forEach(u=>{let f=MM(u);c+=f?f(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function kl(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function dn(e,t){let n=R_(e);if(xl[n]??={},xl[n][t])return xl[n][t];let r="";switch(t){case"shortDate":r=Fo(e,Ke.Short);break;case"mediumDate":r=Fo(e,Ke.Medium);break;case"longDate":r=Fo(e,Ke.Long);break;case"fullDate":r=Fo(e,Ke.Full);break;case"shortTime":r=Lo(e,Ke.Short);break;case"mediumTime":r=Lo(e,Ke.Medium);break;case"longTime":r=Lo(e,Ke.Long);break;case"fullTime":r=Lo(e,Ke.Full);break;case"short":let i=dn(e,"shortTime"),o=dn(e,"shortDate");r=Al(jo(e,Ke.Short),[i,o]);break;case"medium":let s=dn(e,"mediumTime"),a=dn(e,"mediumDate");r=Al(jo(e,Ke.Medium),[s,a]);break;case"long":let l=dn(e,"longTime"),c=dn(e,"longDate");r=Al(jo(e,Ke.Long),[l,c]);break;case"full":let u=dn(e,"fullTime"),f=dn(e,"fullDate");r=Al(jo(e,Ke.Full),[u,f]);break}return r&&(xl[n][t]=r),r}function Al(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function Mt(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function DM(e,t){return Mt(e,3).substring(0,t)}function ge(e,t,n=0,r=!1,i=!1){return function(o,s){let a=CM(e,o);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return DM(a,t);let l=Vo(s,fn.MinusSign);return Mt(a,t,l,r,i)}}function CM(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function ie(e,t,n=ke.Format,r=!1){return function(i,o){return IM(i,o,e,t,n,r)}}function IM(e,t,n,r,i,o){switch(n){case 2:return k_(t,i,r)[e.getMonth()];case 1:return N_(t,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=L_(t),u=j_(t,i,r),f=c.findIndex(p=>{if(Array.isArray(p)){let[d,g]=p,m=s>=d.hours&&a>=d.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(d.hours<g.hours){if(m&&v)return!0}else if(m||v)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(f!==-1)return u[f]}return O_(t,i,r)[s<12?0:1];case 3:return P_(t,r)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Rl(e){return function(t,n,r){let i=-1*r,o=Vo(n,fn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Mt(s,2,o)+Mt(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Mt(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Mt(s,2,o)+":"+Mt(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Mt(s,2,o)+":"+Mt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var SM=0,Nl=4;function TM(e){let t=kl(e,SM,1).getDay();return kl(e,0,1+(t<=Nl?Nl:Nl+7)-t)}function $_(e){let t=e.getDay(),n=t===0?-3:Nl-t;return kl(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Zf(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=$_(n),s=TM(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Mt(i,e,Vo(r,fn.MinusSign))}}function Ol(e,t=!1){return function(n,r){let o=$_(n).getFullYear();return Mt(o,e,Vo(r,fn.MinusSign),t)}}var Yf={};function MM(e){if(Yf[e])return Yf[e];let t;switch(e){case"G":case"GG":case"GGG":t=ie(3,ee.Abbreviated);break;case"GGGG":t=ie(3,ee.Wide);break;case"GGGGG":t=ie(3,ee.Narrow);break;case"y":t=ge(0,1,0,!1,!0);break;case"yy":t=ge(0,2,0,!0,!0);break;case"yyy":t=ge(0,3,0,!1,!0);break;case"yyyy":t=ge(0,4,0,!1,!0);break;case"Y":t=Ol(1);break;case"YY":t=Ol(2,!0);break;case"YYY":t=Ol(3);break;case"YYYY":t=Ol(4);break;case"M":case"L":t=ge(1,1,1);break;case"MM":case"LL":t=ge(1,2,1);break;case"MMM":t=ie(2,ee.Abbreviated);break;case"MMMM":t=ie(2,ee.Wide);break;case"MMMMM":t=ie(2,ee.Narrow);break;case"LLL":t=ie(2,ee.Abbreviated,ke.Standalone);break;case"LLLL":t=ie(2,ee.Wide,ke.Standalone);break;case"LLLLL":t=ie(2,ee.Narrow,ke.Standalone);break;case"w":t=Zf(1);break;case"ww":t=Zf(2);break;case"W":t=Zf(1,!0);break;case"d":t=ge(2,1);break;case"dd":t=ge(2,2);break;case"c":case"cc":t=ge(7,1);break;case"ccc":t=ie(1,ee.Abbreviated,ke.Standalone);break;case"cccc":t=ie(1,ee.Wide,ke.Standalone);break;case"ccccc":t=ie(1,ee.Narrow,ke.Standalone);break;case"cccccc":t=ie(1,ee.Short,ke.Standalone);break;case"E":case"EE":case"EEE":t=ie(1,ee.Abbreviated);break;case"EEEE":t=ie(1,ee.Wide);break;case"EEEEE":t=ie(1,ee.Narrow);break;case"EEEEEE":t=ie(1,ee.Short);break;case"a":case"aa":case"aaa":t=ie(0,ee.Abbreviated);break;case"aaaa":t=ie(0,ee.Wide);break;case"aaaaa":t=ie(0,ee.Narrow);break;case"b":case"bb":case"bbb":t=ie(0,ee.Abbreviated,ke.Standalone,!0);break;case"bbbb":t=ie(0,ee.Wide,ke.Standalone,!0);break;case"bbbbb":t=ie(0,ee.Narrow,ke.Standalone,!0);break;case"B":case"BB":case"BBB":t=ie(0,ee.Abbreviated,ke.Format,!0);break;case"BBBB":t=ie(0,ee.Wide,ke.Format,!0);break;case"BBBBB":t=ie(0,ee.Narrow,ke.Format,!0);break;case"h":t=ge(3,1,-12);break;case"hh":t=ge(3,2,-12);break;case"H":t=ge(3,1);break;case"HH":t=ge(3,2);break;case"m":t=ge(4,1);break;case"mm":t=ge(4,2);break;case"s":t=ge(5,1);break;case"ss":t=ge(5,2);break;case"S":t=ge(6,1);break;case"SS":t=ge(6,2);break;case"SSS":t=ge(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Rl(0);break;case"ZZZZZ":t=Rl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Rl(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Rl(2);break;default:return null}return Yf[e]=t,t}function U_(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function xM(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function AM(e,t,n){let i=e.getTimezoneOffset(),o=U_(t,i);return xM(e,-1*(o-i))}function RM(e){if(T_(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return kl(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(bM))return OM(r)}let t=new Date(e);if(!T_(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function OM(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,l,c),t}function T_(e){return e instanceof Date&&!isNaN(e.valueOf())}var Jf=/\s+/,M_=[],th=(()=>{class e{_ngEl;_renderer;initialClasses=M_;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Jf):M_}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Jf):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Jf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(k(In),k(fr))};static \u0275dir=ue({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Pl=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yi=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Pl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),x_(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);x_(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(k(pi),k(ml),k(qf))};static \u0275dir=ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function x_(e,t){e.context.$implicit=t.item}var $o=(()=>{class e{_viewContainer;_context=new Fl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){A_(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){A_(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(k(pi),k(ml))};static \u0275dir=ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Fl=class{$implicit=null;ngIf=null};function A_(e,t){if(e&&!e.createEmbeddedView)throw new T(2020,!1)}function B_(e,t){return new T(2100,!1)}var Qf=class{createSubscription(t,n){return St(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){St(()=>t.unsubscribe())}},Xf=class{createSubscription(t,n){return t.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(t){t.unsubscribe()}},NM=new Xf,kM=new Qf,nh=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Sn(n))return NM;if(jf(n))return kM;throw B_(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(k(vi,16))};static \u0275pipe=Lf({name:"async",type:e,pure:!1})}return e})();var PM="mediumDate",H_=new x(""),z_=new x(""),rh=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??PM,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return V_(n,s,o||this.locale,a)}catch(s){throw B_(e,s.message)}}static \u0275fac=function(r){return new(r||e)(k(Il,16),k(H_,24),k(z_,24))};static \u0275pipe=Lf({name:"date",type:e,pure:!0})}return e})();var An=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=hr({type:e});static \u0275inj=cr({})}return e})();function ih(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var oh="browser",q_="server";function Ll(e){return e===q_}var Uo=class{};var $l=new x(""),uh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(N($l),N(Ae))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Bo=class{_doc;constructor(t){this._doc=t}manager},jl="ng-app-id";function G_(e){for(let t of e)t.remove()}function W_(e,t){let n=t.createElement("style");return n.textContent=e,n}function LM(e,t,n,r){let i=e.head?.querySelectorAll(`style[${jl}="${t}"],link[${jl}="${t}"]`);if(i)for(let o of i)o.removeAttribute(jl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function lh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var dh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Ll(o),LM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,W_);r?.forEach(i=>this.addUsage(i,this.external,lh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(G_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])G_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,W_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,lh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(jl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(N(Ne),N(yf),N(wf,8),N(Ro))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),ah={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fh=/%COMP%/g;var Z_="%COMP%",jM=`_nghost-${Z_}`,VM=`_ngcontent-${Z_}`,$M=!0,UM=new x("",{providedIn:"root",factory:()=>$M});function BM(e){return VM.replace(fh,e)}function HM(e){return jM.replace(fh,e)}function Y_(e,t){return t.map(n=>n.replace(fh,e))}var hh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Ll(a),this.defaultRenderer=new Ho(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vt.ShadowDom&&(r=z(w({},r),{encapsulation:Vt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Vl?i.applyToHost(n):i instanceof zo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Vt.Emulated:o=new Vl(l,c,r,this.appId,u,s,a,f,p);break;case Vt.ShadowDom:return new ch(l,c,n,r,s,a,this.nonce,f,p);default:o=new zo(l,c,r,u,s,a,f,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(N(uh),N(dh),N(yf),N(UM),N(Ne),N(Ro),N(Ae),N(wf),N(dl,8))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Ho=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(ah[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(K_(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(K_(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=ah[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=ah[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(sn.DashCase|sn.Important)?t.style.setProperty(n,r,i&sn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&sn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=gt().getGlobalEventTarget(this.doc,t),!t))throw new T(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function K_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ch=class extends Ho{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Y_(i.id,u);for(let p of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=p,this.shadowRoot.appendChild(d)}let f=i.getExternalStyles?.();if(f)for(let p of f){let d=lh(p,o);a&&d.setAttribute("nonce",a),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zo=class extends Ho{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Y_(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Vl=class extends zo{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=BM(u),this.hostAttr=HM(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ul=class e extends ko{supportsDOMEvents=!0;static makeCurrent(){Gf(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=zM();return n==null?null:qM(n)}resetBaseElement(){qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ih(document.cookie,t)}},qo=null;function zM(){return qo=qo||document.head.querySelector("base"),qo?qo.getAttribute("href"):null}function qM(e){return new URL(e,document.baseURI).pathname}var GM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Q_=(()=>{class e extends Bo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(N(Ne))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),J_=["alt","control","meta","shift"],WM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},X_=(()=>{class e extends Bo{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),J_.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=WM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),J_.forEach(s=>{if(s!==i){let a=KM[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(N(Ne))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();function ph(e,t,n){return E_(w({rootComponent:e,platformRef:n?.platformRef},ZM(t)))}function ZM(e){return{appProviders:[...ex,...e?.providers??[]],platformProviders:XM}}function YM(){Ul.makeCurrent()}function JM(){return new on}function QM(){return by(document),document}var XM=[{provide:Ro,useValue:oh},{provide:_f,useValue:YM,multi:!0},{provide:Ne,useFactory:QM}];var ex=[{provide:el,useValue:"root"},{provide:on,useFactory:JM},{provide:$l,useClass:Q_,multi:!0,deps:[Ne]},{provide:$l,useClass:X_,multi:!0,deps:[Ne]},hh,dh,uh,{provide:oi,useExisting:hh},{provide:Uo,useClass:GM},[]];var ew=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(N(Ne))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var j="primary",os=Symbol("RouteTitle"),_h=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _r(e){return new _h(e)}function lw(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function nx(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!zt(e[n],t[n]))return!1;return!0}function zt(e,t){let n=e?wh(e):void 0,r=t?wh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!cw(e[i],t[i]))return!1;return!0}function wh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function cw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function uw(e){return e.length>0?e[e.length-1]:null}function Nn(e){return Ku(e)?e:Sn(e)?ce(Promise.resolve(e)):F(e)}var rx={exact:fw,subset:hw},dw={exact:ix,subset:ox,ignored:()=>!0};function tw(e,t,n){return rx[n.paths](e.root,t.root,n.matrixParams)&&dw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function ix(e,t){return zt(e,t)}function fw(e,t,n){if(!vr(e.segments,t.segments)||!zl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!fw(e.children[r],t.children[r],n))return!1;return!0}function ox(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>cw(e[n],t[n]))}function hw(e,t,n){return pw(e,t,t.segments,n)}function pw(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!vr(i,n)||t.hasChildren()||!zl(i,n,r))}else if(e.segments.length===n.length){if(!vr(e.segments,n)||!zl(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!hw(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!vr(e.segments,i)||!zl(e.segments,i,r)||!e.children[j]?!1:pw(e.children[j],t,o,r)}}function zl(e,t,n){return t.every((r,i)=>dw[n](e[i].parameters,r.parameters))}var Gt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new K([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_r(this.queryParams),this._queryParamMap}toString(){return lx.serialize(this)}},K=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ql(this)}},Rn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=_r(this.parameters),this._parameterMap}toString(){return mw(this)}};function sx(e,t){return vr(e,t)&&e.every((n,r)=>zt(n.parameters,t[r].parameters))}function vr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function ax(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}var ss=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>new wr,providedIn:"root"})}return e})(),wr=class{parse(t){let n=new Eh(t);return new Gt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Go(t.root,!0)}`,r=dx(t.queryParams),i=typeof t.fragment=="string"?`#${cx(t.fragment)}`:"";return`${n}${r}${i}`}},lx=new wr;function ql(e){return e.segments.map(t=>mw(t)).join("/")}function Go(e,t){if(!e.hasChildren())return ql(e);if(t){let n=e.children[j]?Go(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${Go(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ax(e,(r,i)=>i===j?[Go(e.children[j],!1)]:[`${i}:${Go(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[j]!=null?`${ql(e)}/${n[0]}`:`${ql(e)}/(${n.join("//")})`}}function gw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bl(e){return gw(e).replace(/%3B/gi,";")}function cx(e){return encodeURI(e)}function bh(e){return gw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gl(e){return decodeURIComponent(e)}function nw(e){return Gl(e.replace(/\+/g,"%20"))}function mw(e){return`${bh(e.path)}${ux(e.parameters)}`}function ux(e){return Object.entries(e).map(([t,n])=>`;${bh(t)}=${bh(n)}`).join("")}function dx(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Bl(n)}=${Bl(i)}`).join("&"):`${Bl(n)}=${Bl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var fx=/^[^\/()?;#]+/;function gh(e){let t=e.match(fx);return t?t[0]:""}var hx=/^[^\/()?;=#]+/;function px(e){let t=e.match(hx);return t?t[0]:""}var gx=/^[^=?&#]+/;function mx(e){let t=e.match(gx);return t?t[0]:""}var vx=/^[^&#]+/;function yx(e){let t=e.match(vx);return t?t[0]:""}var Eh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new K([],{}):new K([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new K(t,n)),r}parseSegment(){let t=gh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new Rn(Gl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=px(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=gh(this.remaining);i&&(r=i,this.capture(r))}t[Gl(n)]=Gl(r)}parseQueryParam(t){let n=mx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=yx(this.remaining);s&&(r=s,this.capture(r))}let i=nw(n),o=nw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new K([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}};function vw(e){return e.segments.length>0?new K([],{[j]:e}):e}function yw(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=yw(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new K(e.segments,t);return _x(n)}function _x(e){if(e.numberOfChildren===1&&e.children[j]){let t=e.children[j];return new K(e.segments.concat(t.segments),t.children)}return e}function Di(e){return e instanceof Gt}function _w(e,t,n=null,r=null){let i=ww(e);return bw(i,t,n,r)}function ww(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new K(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=vw(r);return t??i}function bw(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return mh(i,i,i,n,r);let o=wx(t);if(o.toRoot())return mh(i,i,new K([],{}),n,r);let s=bx(o,i,e),a=s.processChildren?Ko(s.segmentGroup,s.index,o.commands):Dw(s.segmentGroup,s.index,o.commands);return mh(i,s.segmentGroup,a,n,r)}function Kl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Yo(e){return typeof e=="object"&&e!=null&&e.outlets}function mh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=Ew(e,t,n);let a=vw(yw(s));return new Gt(a,o,i)}function Ew(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Ew(o,t,n)}),new K(e.segments,r)}var Zl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Kl(r[0]))throw new T(4003,!1);let i=r.find(Yo);if(i&&i!==uw(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Zl(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Zl(n,t,r)}var bi=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function bx(e,t,n){if(e.isAbsolute)return new bi(t,!0,0);if(!n)return new bi(t,!1,NaN);if(n.parent===null)return new bi(n,!0,0);let r=Kl(e.commands[0])?0:1,i=n.segments.length-1+r;return Ex(n,i,e.numberOfDoubleDots)}function Ex(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new bi(r,!1,i-o)}function Dx(e){return Yo(e[0])?e[0].outlets:{[j]:e}}function Dw(e,t,n){if(e??=new K([],{}),e.segments.length===0&&e.hasChildren())return Ko(e,t,n);let r=Cx(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new K(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new K(e.segments.slice(r.pathIndex),e.children),Ko(o,0,i)}else return r.match&&i.length===0?new K(e.segments,{}):r.match&&!e.hasChildren()?Dh(e,t,n):r.match?Ko(e,0,i):Dh(e,t,n)}function Ko(e,t,n){if(n.length===0)return new K(e.segments,{});{let r=Dx(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&e.numberOfChildren===1&&e.children[j].segments.length===0){let o=Ko(e.children[j],t,n);return new K(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Dw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new K(e.segments,i)}}function Cx(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Yo(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!iw(l,c,s))return o;r+=2}else{if(!iw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Dh(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Yo(o)){let l=Ix(o.outlets);return new K(r,l)}if(i===0&&Kl(n[0])){let l=e.segments[t];r.push(new Rn(l.path,rw(n[0]))),i++;continue}let s=Yo(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Kl(a)?(r.push(new Rn(s,rw(a))),i+=2):(r.push(new Rn(s,{})),i++)}return new K(r,{})}function Ix(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Dh(new K([],{}),0,r))}),t}function rw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function iw(e,t,n){return e==n.path&&zt(t,n.parameters)}var Wl="imperative",Ie=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ie||{}),tt=class{id;url;constructor(t,n){this.id=t,this.url=n}},br=class extends tt{type=Ie.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends tt{urlAfterRedirects;type=Ie.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ze=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ze||{}),Jo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Jo||{}),qt=class extends tt{reason;code;type=Ie.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pn=class extends tt{reason;code;type=Ie.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Ci=class extends tt{error;target;type=Ie.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qo=class extends tt{urlAfterRedirects;state;type=Ie.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yl=class extends tt{urlAfterRedirects;state;type=Ie.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jl=class extends tt{urlAfterRedirects;state;shouldActivate;type=Ie.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ql=class extends tt{urlAfterRedirects;state;type=Ie.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xl=class extends tt{urlAfterRedirects;state;type=Ie.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ec=class{route;type=Ie.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tc=class{route;type=Ie.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},nc=class{snapshot;type=Ie.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rc=class{snapshot;type=Ie.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ic=class{snapshot;type=Ie.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oc=class{snapshot;type=Ie.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xo=class{},Ii=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function Sx(e,t){return e.providers&&!e._injector&&(e._injector=_l(e.providers,t,`Route: ${e.path}`)),e._injector??t}function xt(e){return e.outlet||j}function Tx(e,t){let n=e.filter(r=>xt(r)===t);return n.push(...e.filter(r=>xt(r)!==t)),n}function as(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return as(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Mi(this.rootInjector)}},Mi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new sc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(N(lt))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ac=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Ch(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Ch(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Ih(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ih(t,this._root).map(n=>n.value)}};function Ch(e,t){if(e===t.value)return t;for(let n of t.children){let r=Ch(e,n);if(r)return r}return null}function Ih(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Ih(e,n);if(r.length)return r.unshift(t),r}return[]}var et=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function wi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var es=class extends ac{snapshot;constructor(t,n){super(t),this.snapshot=n,Nh(this,t)}toString(){return this.snapshot.toString()}};function Cw(e){let t=Mx(e),n=new we([new Rn("",{})]),r=new we({}),i=new we({}),o=new we({}),s=new we(""),a=new On(n,r,o,s,i,j,e,t.root);return a.snapshot=t.root,new es(new et(a,[]),t)}function Mx(e){let t={},n={},r={},i="",o=new yr([],t,r,i,n,j,e,null,{});return new ts("",new et(o,[]))}var On=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(q(c=>c[os]))??F(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(q(t=>_r(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(q(t=>_r(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lc(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),i?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},i&&Sw(i)&&(r.resolve[os]=i.title),r}var yr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[os]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_r(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_r(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ts=class extends ac{url;constructor(t,n){super(n),this.url=t,Nh(this,n)}toString(){return Iw(this._root)}};function Nh(e,t){t.value._routerState=e,t.children.forEach(n=>Nh(e,n))}function Iw(e){let t=e.children.length>0?` { ${e.children.map(Iw).join(", ")} } `:"";return`${e.value}${t}`}function vh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),zt(t.params,n.params)||e.paramsSubject.next(n.params),nx(t.url,n.url)||e.urlSubject.next(n.url),zt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Sh(e,t){let n=zt(e.params,t.params)&&sx(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Sh(e.parent,t.parent))}function Sw(e){return typeof e.title=="string"||e.title===null}var Tw=new x(""),ls=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=j;activateEvents=new Ee;deactivateEvents=new Ee;attachEvents=new Ee;detachEvents=new Ee;routerOutletData=hy(void 0);parentContexts=b(Mi);location=b(pi);changeDetector=b(vi);inputBinder=b(fc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Th(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[di]})}return e})(),Th=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===On?this.route:t===Mi?this.childContexts:t===Tw?this.outletData:this.parent.get(t,n)}},fc=new x("");var kh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=dt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ce(0,"router-outlet")},dependencies:[ls],encapsulation:2})}return e})();function Ph(e){let t=e.children&&e.children.map(Ph),n=t?z(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=kh),n}function xx(e,t,n){let r=ns(e,t._root,n?n._root:void 0);return new es(r,t)}function ns(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=Ax(e,t,n);return new et(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ns(e,a)),s}}let r=Rx(t.value),i=t.children.map(o=>ns(e,o));return new et(r,i)}}function Ax(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ns(e,r,i);return ns(e,r)})}function Rx(e){return new On(new we(e.url),new we(e.params),new we(e.queryParams),new we(e.fragment),new we(e.data),e.outlet,e.component,e)}var Si=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Mw="ngNavigationCancelingError";function cc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Di(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=xw(!1,Ze.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function xw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Mw]=!0,n.cancellationCode=t,n}function Ox(e){return Aw(e)&&Di(e.url)}function Aw(e){return!!e&&e[Mw]}var Nx=(e,t,n,r)=>q(i=>(new Mh(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Mh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),vh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=wi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=wi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=wi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=wi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new oc(o.value.snapshot))}),t.children.length&&this.forwardEvent(new rc(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(vh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},uc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ei=class{component;route;constructor(t,n){this.component=t,this.route=n}};function kx(e,t,n){let r=e._root,i=t?t._root:null;return Wo(r,i,n,[r.value])}function Px(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function xi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!lv(e)?e:t.get(e):r}function Wo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wi(t);return e.children.forEach(s=>{Fx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Zo(a,n.getContext(s),i)),i}function Fx(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Lx(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new uc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wo(e,t,a?a.children:null,r,i):Wo(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ei(a.outlet.component,s))}else s&&Zo(t,a,i),i.canActivateChecks.push(new uc(r)),o.component?Wo(e,null,a?a.children:null,r,i):Wo(e,null,n,r,i);return i}function Lx(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!vr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!vr(e.url,t.url)||!zt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sh(e,t)||!zt(e.queryParams,t.queryParams);case"paramsChange":default:return!Sh(e,t)}}function Zo(e,t,n){let r=wi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Zo(s,t.children.getContext(o),n):Zo(s,null,n):Zo(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ei(t.outlet.component,i)):n.canDeactivateChecks.push(new Ei(null,i)):n.canDeactivateChecks.push(new Ei(null,i))}function cs(e){return typeof e=="function"}function jx(e){return typeof e=="boolean"}function Vx(e){return e&&cs(e.canLoad)}function $x(e){return e&&cs(e.canActivate)}function Ux(e){return e&&cs(e.canActivateChild)}function Bx(e){return e&&cs(e.canDeactivate)}function Hx(e){return e&&cs(e.canMatch)}function Rw(e){return e instanceof Xt||e?.name==="EmptyError"}var Hl=Symbol("INITIAL_VALUE");function Ti(){return bt(e=>ma(e.map(t=>t.pipe(en(1),Qu(Hl)))).pipe(q(t=>{for(let n of t)if(n!==!0){if(n===Hl)return Hl;if(n===!1||zx(n))return n}return!0}),wt(t=>t!==Hl),en(1)))}function zx(e){return Di(e)||e instanceof Si}function qx(e,t){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?F(z(w({},n),{guardsResult:!0})):Gx(s,r,i,e).pipe(be(a=>a&&jx(a)?Wx(r,o,e,t):F(a)),q(a=>z(w({},n),{guardsResult:a})))})}function Gx(e,t,n,r){return ce(e).pipe(be(i=>Qx(i.component,i.route,n,t,r)),tn(i=>i!==!0,!0))}function Wx(e,t,n,r){return ce(t).pipe(qr(i=>zr(Zx(i.route.parent,r),Kx(i.route,r),Jx(e,i.path,n),Yx(e,i.route,n))),tn(i=>i!==!0,!0))}function Kx(e,t){return e!==null&&t&&t(new ic(e)),F(!0)}function Zx(e,t){return e!==null&&t&&t(new nc(e)),F(!0)}function Yx(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>va(()=>{let s=as(t)??n,a=xi(o,s),l=$x(a)?a.canActivate(t,e):Ct(s,()=>a(t,e));return Nn(l).pipe(tn())}));return F(i).pipe(Ti())}function Jx(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Px(s)).filter(s=>s!==null).map(s=>va(()=>{let a=s.guards.map(l=>{let c=as(s.node)??n,u=xi(l,c),f=Ux(u)?u.canActivateChild(r,e):Ct(c,()=>u(r,e));return Nn(f).pipe(tn())});return F(a).pipe(Ti())}));return F(o).pipe(Ti())}function Qx(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let l=as(t)??i,c=xi(a,l),u=Bx(c)?c.canDeactivate(e,t,n,r):Ct(l,()=>c(e,t,n,r));return Nn(u).pipe(tn())});return F(s).pipe(Ti())}function Xx(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=xi(s,e),l=Vx(a)?a.canLoad(t,n):Ct(e,()=>a(t,n));return Nn(l)});return F(o).pipe(Ti(),Ow(r))}function Ow(e){return Uu(xe(t=>{if(typeof t!="boolean")throw cc(e,t)}),q(t=>t===!0))}function eA(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=xi(s,e),l=Hx(a)?a.canMatch(t,n):Ct(e,()=>a(t,n));return Nn(l)});return F(o).pipe(Ti(),Ow(r))}var rs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},is=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function _i(e){return Hr(new rs(e))}function tA(e){return Hr(new T(4e3,!1))}function nA(e){return Hr(xw(!1,Ze.GuardRejected))}var xh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[j])return tA(`${t.redirectTo}`);i=i.children[j]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:f,outlet:p,params:d,data:g,title:m}=i,v=Ct(o,()=>a({params:d,data:g,queryParams:l,fragment:c,routeConfig:u,url:f,outlet:p,title:m}));if(v instanceof Gt)throw new is(v);n=v}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new is(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Gt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new K(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Ah={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rA(e,t,n,r,i){let o=Nw(e,t,n);return o.matched?(r=Sx(t,r),eA(r,t,n,i).pipe(q(s=>s===!0?o:w({},Ah)))):F(o)}function Nw(e,t,n){if(t.path==="**")return iA(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},Ah):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||lw)(n,e,t);if(!i)return w({},Ah);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function iA(e){return{matched:!0,parameters:e.length>0?uw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function ow(e,t,n,r){return n.length>0&&aA(e,n,r)?{segmentGroup:new K(t,sA(r,new K(n,e.children))),slicedSegments:[]}:n.length===0&&lA(e,n,r)?{segmentGroup:new K(e.segments,oA(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new K(e.segments,e.children),slicedSegments:n}}function oA(e,t,n,r){let i={};for(let o of n)if(hc(e,t,o)&&!r[xt(o)]){let s=new K([],{});i[xt(o)]=s}return w(w({},r),i)}function sA(e,t){let n={};n[j]=t;for(let r of e)if(r.path===""&&xt(r)!==j){let i=new K([],{});n[xt(r)]=i}return n}function aA(e,t,n){return n.some(r=>hc(e,t,r)&&xt(r)!==j)}function lA(e,t,n){return n.some(r=>hc(e,t,r))}function hc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function cA(e,t,n){return t.length===0&&!e.children[n]}var Rh=class{};function uA(e,t,n,r,i,o,s="emptyOnly"){return new Oh(e,t,n,r,i,s,o).recognize()}var dA=31,Oh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xh(this.urlSerializer,this.urlTree)}noMatchError(t){return new T(4002,`'${t.segmentGroup}'`)}recognize(){let t=ow(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(q(({children:n,rootSnapshot:r})=>{let i=new et(r,n),o=new ts("",i),s=_w(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new yr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,j,n).pipe(q(r=>({children:r,rootSnapshot:n})),wn(r=>{if(r instanceof is)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(q(s=>s instanceof et?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ce(o).pipe(qr(s=>{let a=r.children[s],l=Tx(n,s);return this.processSegmentGroup(t,l,a,s,i)}),Ju((s,a)=>(s.push(...a),s)),bn(null),Yu(),be(s=>{if(s===null)return _i(r);let a=kw(s);return fA(a),F(a)}))}processSegment(t,n,r,i,o,s,a){return ce(n).pipe(qr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(wn(c=>{if(c instanceof rs)return F(null);throw c}))),tn(l=>!!l),wn(l=>{if(Rw(l))return cA(r,i,o)?F(new Rh):_i(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return xt(r)!==s&&(s===j||!hc(i,o,r))?_i(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):_i(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:p}=Nw(n,i,o);if(!l)return _i(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dA&&(this.allowRedirects=!1));let d=new yr(o,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,sw(i),xt(i),i.component??i._loadedComponent??null,i,aw(i)),g=lc(d,a,this.paramsInheritanceStrategy);d.params=Object.freeze(g.params),d.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,d,t);return this.applyRedirects.lineralizeSegments(i,m).pipe(be(v=>this.processSegment(t,r,n,v.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=rA(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(bt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(bt(({routes:c})=>{let u=r._loadedInjector??t,{parameters:f,consumedSegments:p,remainingSegments:d}=l,g=new yr(p,f,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,sw(r),xt(r),r.component??r._loadedComponent??null,r,aw(r)),m=lc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:y}=ow(n,p,d,c);if(y.length===0&&v.hasChildren())return this.processChildren(u,c,v,g).pipe(q(C=>new et(g,C)));if(c.length===0&&y.length===0)return F(new et(g,[]));let U=xt(r)===o;return this.processSegment(u,c,v,y,U?j:o,!0,g).pipe(q(C=>new et(g,C instanceof et?[C]:[])))}))):_i(n)))}getChildConfig(t,n,r){return n.children?F({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?F({routes:n._loadedRoutes,injector:n._loadedInjector}):Xx(t,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(t,n).pipe(xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):nA(n))):F({routes:[],injector:t})}};function fA(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}function hA(e){let t=e.value.routeConfig;return t&&t.path===""}function kw(e){let t=[],n=new Set;for(let r of e){if(!hA(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=kw(r.children);t.push(new et(r.value,i))}return t.filter(r=>!n.has(r))}function sw(e){return e.data||{}}function aw(e){return e.resolve||{}}function pA(e,t,n,r,i,o){return be(s=>uA(e,t,n,r,s.extractedUrl,i,o).pipe(q(({state:a,tree:l})=>z(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function gA(e,t){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return F(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Pw(l))s.add(c);let a=0;return ce(s).pipe(qr(l=>o.has(l)?mA(l,r,e,t):(l.data=lc(l,l.parent,e).resolve,F(void 0))),xe(()=>a++),Gr(1),be(l=>a===s.size?F(n):$e))})}function Pw(e){let t=e.children.map(n=>Pw(n)).flat();return[e,...t]}function mA(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Sw(i)&&(o[os]=i.title),vA(o,e,t,r).pipe(q(s=>(e._resolvedData=s,e.data=lc(e,e.parent,n).resolve,null)))}function vA(e,t,n,r){let i=wh(e);if(i.length===0)return F({});let o={};return ce(i).pipe(be(s=>yA(e[s],t,n,r).pipe(tn(),xe(a=>{if(a instanceof Si)throw cc(new wr,a);o[s]=a}))),Gr(1),q(()=>o),wn(s=>Rw(s)?$e:Hr(s)))}function yA(e,t,n,r){let i=as(t)??r,o=xi(e,i),s=o.resolve?o.resolve(t,n):Ct(i,()=>o(t,n));return Nn(s)}function yh(e){return bt(t=>{let n=e(t);return n?ce(n).pipe(q(()=>t)):F(t)})}var Fh=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[os]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>b(Fw),providedIn:"root"})}return e})(),Fw=(()=>{class e extends Fh{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(N(ew))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),us=new x("",{providedIn:"root",factory:()=>({})}),ds=new x(""),Lw=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(b_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return F(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Nn(n.loadComponent()).pipe(q(Vw),xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),go(()=>{this.componentLoaders.delete(n)})),i=new Br(r,()=>new _e).pipe(Ur());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=jw(r,this.compiler,n,this.onLoadEndListener).pipe(go(()=>{this.childrenLoaders.delete(r)})),s=new Br(o,()=>new _e).pipe(Ur());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jw(e,t,n,r){return Nn(e.loadChildren()).pipe(q(Vw),be(i=>i instanceof Ff||Array.isArray(i)?F(i):ce(t.compileModuleAsync(i))),q(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ds,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ph),injector:o}}))}function _A(e){return e&&typeof e=="object"&&"default"in e}function Vw(e){return _A(e)?e.default:e}var pc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>b(wA),providedIn:"root"})}return e})(),wA=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$w=new x("");var Uw=new x(""),Bw=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new _e;transitionAbortSubject=new _e;configLoader=b(Lw);environmentInjector=b(lt);destroyRef=b(cl);urlSerializer=b(ss);rootContexts=b(Mi);location=b(mr);inputBindingEnabled=b(fc,{optional:!0})!==null;titleStrategy=b(Fh);options=b(us,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(pc);createViewTransition=b($w,{optional:!0});navigationErrorHandler=b(Uw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>F(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ec(i)),r=i=>this.events.next(new tc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(z(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new we(null),this.transitions.pipe(wt(r=>r!==null),bt(r=>{let i=!1,o=!1;return F(r).pipe(bt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ze.SupersededByNewNavigation),$e;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?z(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new pn(s.id,this.urlSerializer.serialize(s.rawUrl),c,Jo.IgnoredSameUrlNavigation)),s.resolve(!1),$e}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return F(s).pipe(bt(c=>(this.events.next(new br(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?$e:Promise.resolve(c))),pA(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=z(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Qo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:f,restoredState:p,extras:d}=s,g=new br(c,this.urlSerializer.serialize(u),f,p);this.events.next(g);let m=Cw(this.rootComponentType).snapshot;return this.currentTransition=r=z(w({},s),{targetSnapshot:m,urlAfterRedirects:u,extras:z(w({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,F(r)}else{let c="";return this.events.next(new pn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Jo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),$e}}),xe(s=>{let a=new Yl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),q(s=>(this.currentTransition=r=z(w({},s),{guards:kx(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),qx(this.environmentInjector,s=>this.events.next(s)),xe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw cc(this.urlSerializer,s.guardsResult);let a=new Jl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),wt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ze.GuardRejected),!1)),yh(s=>{if(s.guards.canActivateChecks.length!==0)return F(s).pipe(xe(a=>{let l=new Ql(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),bt(a=>{let l=!1;return F(a).pipe(gA(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Ze.NoDataFromResolver)}}))}),xe(a=>{let l=new Xl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),yh(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(xe(u=>{l.component=u}),q(()=>{})));for(let u of l.children)c.push(...a(u));return c};return ma(a(s.targetSnapshot.root)).pipe(bn(null),en(1))}),yh(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ce(l).pipe(q(()=>r)):F(r)}),q(s=>{let a=xx(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=z(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),xe(()=>{this.events.next(new Xo)}),Nx(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),en(1),xe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Xu(this.transitionAbortSubject.pipe(xe(s=>{throw s}))),go(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ze.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),wn(s=>{if(this.destroyed)return r.resolve(!1),$e;if(o=!0,Aw(s))this.events.next(new qt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Ox(s)?this.events.next(new Ii(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ci(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Ct(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Si){let{message:c,cancellationCode:u}=cc(this.urlSerializer,l);this.events.next(new qt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Ii(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return $e}))}))}cancelNavigationTransition(n,r,i){let o=new qt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bA(e){return e!==Wl}var Hw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>b(EA),providedIn:"root"})}return e})(),dc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},EA=(()=>{class e extends dc{static \u0275fac=(()=>{let n;return function(i){return(n||(n=cn(e)))(i||e)}})();static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zw=(()=>{class e{urlSerializer=b(ss);options=b(us,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(mr);urlHandlingStrategy=b(pc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Gt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Cw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>b(DA),providedIn:"root"})}return e})(),DA=(()=>{class e extends zw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof br?this.updateStateMemento():n instanceof pn?this.commitTransition(r):n instanceof Qo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Xo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof qt&&(n.code===Ze.GuardRejected||n.code===Ze.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ci?this.restoreHistory(r,!0):n instanceof hn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=w(w({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=w(w({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=cn(e)))(i||e)}})();static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lh(e,t){e.events.pipe(wt(n=>n instanceof hn||n instanceof qt||n instanceof Ci||n instanceof pn),q(n=>n instanceof hn||n instanceof pn?0:(n instanceof qt?n.code===Ze.Redirect||n.code===Ze.SupersededByNewNavigation:!1)?2:1),wt(n=>n!==2),en(1)).subscribe(()=>{t()})}var CA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ai=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(c_);stateManager=b(zw);options=b(us,{optional:!0})||{};pendingTasks=b(fi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(Bw);urlSerializer=b(ss);location=b(mr);urlHandlingStrategy=b(pc);_events=new _e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(Hw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(ds,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(fc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new he;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qt&&r.code!==Ze.Redirect&&r.code!==Ze.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof Ii){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bA(i.source)},s);this.scheduleNavigation(a,Wl,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}TA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=w({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ph),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let p=i?i.snapshot:this.routerState.snapshot.root;f=ww(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return bw(f,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Di(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wl,null,r)}navigate(n,r={skipLocationChange:!1}){return SA(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=w({},CA):r===!1?i=w({},IA):i=r,Di(n))return tw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return tw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,p)=>{a=f,l=p});let u=this.pendingTasks.add();return Lh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SA(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new T(4008,!1)}function TA(e){return!(e instanceof Xo)&&!(e instanceof Ii)}var xA=new x("");function jh(e,...t){return wv([{provide:ds,multi:!0,useValue:e},[],{provide:On,useFactory:AA,deps:[Ai]},{provide:Vf,multi:!0,useFactory:OA},t.map(n=>n.\u0275providers)])}function AA(e){return e.routerState.root}function RA(e,t){return{\u0275kind:e,\u0275providers:t}}function OA(){let e=b(rn);return t=>{let n=e.get(ar);if(t!==n.components[0])return;let r=e.get(Ai),i=e.get(NA);e.get(kA)===1&&r.initialNavigation(),e.get(PA,null,V.Optional)?.setUpPreloading(),e.get(xA,null,V.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var NA=new x("",{factory:()=>new _e}),kA=new x("",{providedIn:"root",factory:()=>1});var PA=new x("");function Vh(){return RA(6,[{provide:xn,useClass:eh}])}var ng=_D(kE(),1),{PostgrestError:ZH,FunctionsHttpError:YH,FunctionsFetchError:JH,FunctionsRelayError:QH,FunctionsError:XH,FunctionRegion:ez,SupabaseClient:tz,createClient:PE,GoTrueAdminApi:nz,GoTrueClient:rz,AuthAdminApi:iz,AuthClient:oz,navigatorLock:sz,NavigatorLockAcquireTimeoutError:az,lockInternals:lz,processLock:cz,SIGN_OUT_SCOPES:uz,AuthError:dz,AuthApiError:fz,AuthUnknownError:hz,CustomAuthError:pz,AuthSessionMissingError:gz,AuthInvalidTokenResponseError:mz,AuthInvalidCredentialsError:vz,AuthImplicitGrantRedirectError:yz,AuthPKCEGrantCodeExchangeError:_z,AuthRetryableFetchError:wz,AuthWeakPasswordError:bz,AuthInvalidJwtError:Ez,isAuthError:Dz,isAuthApiError:Cz,isAuthSessionMissingError:Iz,isAuthImplicitGrantRedirectError:Sz,isAuthRetryableFetchError:Tz,isAuthWeakPasswordError:Mz,RealtimePresence:xz,RealtimeChannel:Az,RealtimeClient:Rz,REALTIME_LISTEN_TYPES:Oz,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Nz,REALTIME_PRESENCE_LISTEN_EVENTS:kz,REALTIME_SUBSCRIBE_STATES:Pz,REALTIME_CHANNEL_STATES:Fz}=ng.default||ng;var Wn=class e{supabase;constructor(){this.supabase=PE("https://xnhkyqflvfqjbmcbzzct.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuaGt5cWZsdmZxamJtY2J6emN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MDE5NDUsImV4cCI6MjA4MDk3Nzk0NX0.0Wjj_6kClOznswEo2hijdOf9XQ75WwfhkeWXRfEw9jI")}signIn(t,n){return this.supabase.auth.signInWithPassword({email:t,password:n})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/sportscenterchampionships/"}})}get client(){return this.supabase}static \u0275fac=function(n){return new(n||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var eu=class e{constructor(t){this.supabase=t}ngOnInit(){}static \u0275fac=function(n){return new(n||e)(k(Wn))};static \u0275cmp=dt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&Ce(0,"router-outlet")},dependencies:[ls],encapsulation:2})};var nu=class e{constructor(t,n){this.sb=t;this.router=n;this.sb.supabase.auth.getSession().then(({data:r})=>{this._user$.next(r.session?.user??null)}),this.sb.supabase.auth.onAuthStateChange((r,i)=>h(this,null,function*(){if(this._user$.next(i?.user??null),console.log(i?.user),i?.user){let{data:o}=yield this.sb.supabase.from("users").select("mail").eq("mail",this._user$.value.email).single();o?this.router.navigate(["/user-dashboard"]):this.router.navigate(["/user-onboarding"])}}))}_user$=new we(null);user$=this._user$.asObservable();logout(){return h(this,null,function*(){yield this.sb.supabase.auth.signOut()})}static \u0275fac=function(n){return new(n||e)(N(Wn),N(Ai))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};function cO(e,t){if(e&1){let n=un();Bf(0),E(1,"button",14),Ge("click",function(){ct(n);let i=Ht();return ut(i.logout())}),O(2," Logout "),D(),Ce(3,"img",15),Hf()}if(e&2){let n=t.ngIf;X(3),Oe("src",(n.user_metadata==null?null:n.user_metadata.avatar_url)||"assets/images/default-avatar.png",Oo)}}function uO(e,t){if(e&1){let n=un();E(0,"button",14),Ge("click",function(){ct(n);let i=Ht();return ut(i.loginWithGoogle())}),O(1," Login "),D()}}function dO(e,t){if(e&1){let n=un();E(0,"li",16)(1,"button",14),Ge("click",function(){ct(n);let i=Ht();return ut(i.logout())}),O(2," Logout "),D(),Ce(3,"img",15),D()}if(e&2){let n=t.ngIf;X(3),Oe("src",(n.user_metadata==null?null:n.user_metadata.avatar_url)||"assets/images/default-avatar.jpg",Oo)}}function fO(e,t){if(e&1){let n=un();E(0,"li",16)(1,"button",14),Ge("click",function(){ct(n);let i=Ht();return ut(i.loginWithGoogle())}),O(2," Login "),D()()}}var ru=class e{constructor(t,n){this.authService=t;this.supabase=n;this.user$=this.authService.user$}user$;logout(){this.authService.logout()}loginWithGoogle(){this.supabase.signInWithGoogle()}static \u0275fac=function(n){return new(n||e)(k(nu),k(Wn))};static \u0275cmp=dt({type:e,selectors:[["app-header"]],decls:30,vars:10,consts:[["showLogin",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","main-navbar"],[1,"container-fluid","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler","d-lg-none","me-2"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand","fw-bold","d-none","d-lg-block"],[1,"flex-grow-1"],[1,"d-lg-none","d-flex","align-items-center","gap-2"],[4,"ngIf","ngIfElse"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0","align-items-center"],[1,"nav-item"],["href","#",1,"nav-link"],["class","nav-item ms-3 d-none d-lg-flex align-items-center gap-2",4,"ngIf"],[1,"btn","btn-light","btn-sm","rounded-pill","fw-bold",3,"click"],["alt","avatar",1,"user-avatar",3,"src"],[1,"nav-item","ms-3","d-none","d-lg-flex","align-items-center","gap-2"]],template:function(n,r){if(n&1&&(E(0,"nav",1)(1,"div",2)(2,"button",3),Ce(3,"span",4),D(),E(4,"a",5),O(5," Sports Championships "),D(),Ce(6,"div",6),E(7,"div",7),ht(8,cO,4,1,"ng-container",8),mi(9,"async"),ht(10,uO,2,0,"ng-template",null,0,w_),D(),E(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),O(16,"Inicio"),D()(),E(17,"li",11)(18,"a",12),O(19,"Campeonatos"),D()(),E(20,"li",11)(21,"a",12),O(22,"Equipos"),D()(),E(23,"li",11)(24,"a",12),O(25,"Resultados"),D()(),ht(26,dO,4,1,"li",13),mi(27,"async"),ht(28,fO,3,0,"li",13),mi(29,"async"),D()()()()),n&2){let i=El(11);X(8),Oe("ngIf",Cl(9,4,r.user$))("ngIfElse",i),X(18),Oe("ngIf",Cl(27,6,r.user$)),X(2),Oe("ngIf",Cl(29,8,r.user$)===null)}},dependencies:[An,$o,nh],styles:[".main-navbar[_ngcontent-%COMP%]{background:transparent;padding:.75rem 1rem;z-index:3}.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.7);transition:all .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3}.btn-light[_ngcontent-%COMP%]{color:#333;transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border:2px solid #fff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px;border-radius:.5rem}.navbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.35rem 1rem;font-size:.875rem}.main-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 6px #00000040}.navbar-collapse[_ngcontent-%COMP%]{background-color:#0f172af2;margin-top:.5rem}"]})};var iu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=dt({type:e,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"app-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-links"],["href","#"],[1,"footer-bottom"]],template:function(n,r){n&1&&(E(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),O(4,"Sports Championships"),D(),E(5,"p"),O(6,"Organiza, compite y disfruta de tu deporte favorito"),D()(),E(7,"div",3)(8,"a",4),O(9,"Aviso legal"),D(),E(10,"a",4),O(11,"Privacidad"),D()()(),E(12,"div",5),O(13," \xA9 2025 Sports Center Championships \xB7 Todos los derechos reservados "),D()())},styles:[".app-footer[_ngcontent-%COMP%]{background:#0f172a;color:#cbd5e1;padding:1rem;margin-top:4rem}.footer-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:2rem;text-align:center}.footer-brand[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#fff}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;font-size:.9rem;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.8rem;color:#94a3b8}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;text-align:left}.footer-links[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};function hO(e,t){if(e&1&&(E(0,"div",21),Ce(1,"img",22),E(2,"div",23)(3,"div",24)(4,"small",25),O(5),D(),E(6,"div",26),O(7),D(),E(8,"small",27),O(9),mi(10,"date"),D(),Ce(11,"br"),E(12,"small",27),O(13),D()()()()),e&2){let n=t.$implicit,r=Ht();X(),Oe("src",r.getGameImage(n.type),Oo),X(4),Tn(" ",n.type," "),X(2),zf(" ",n.team1_name," vs ",n.team2_name," "),X(2),Tn(" ",y_(10,6,n.date,"dd MMM \xB7 HH:mm")," "),X(4),Tn(" \u{1F4CD} ",n.location," ")}}function pO(e,t){if(e&1&&(E(0,"div",28)(1,"div",29),Ce(2,"div",30),E(3,"div",31)(4,"h5",32),O(5),D(),E(6,"small",27),O(7),D()()()()),e&2){let n=t.$implicit;X(2),Uf("background-image","url("+n.image+")"),X(),Oe("ngClass",n.color),X(2),Dl(n.name),X(2),Dl(n.nextEvent)}}var ou=class e{sports=[{id:4,name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",nextEvent:"28 Sep \xB7 21:00"},{id:3,name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",nextEvent:"25 Sep \xB7 10:00"},{id:2,name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",nextEvent:"22 Sep \xB7 19:30"},{id:1,name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",nextEvent:"20 Sep \xB7 18:00"}];games=[{competition_id:1,team1_name:"Ace Masters",team2_name:"Clay Warriors",date:"2025-01-22T18:30:00",type:"tennis",location:"Club Deportivo Central"},{competition_id:2,team1_name:"Padel Smash",team2_name:"Golden Racket",date:"2025-01-25T19:00:00",type:"padel",location:"Padel Center Norte"},{competition_id:1,team1_name:"Topspin United",team2_name:"Baseline Kings",date:"2025-01-24T20:00:00",type:"tennis",location:"Real Club de Tenis"},{competition_id:2,team1_name:"Red Net Padel",team2_name:"Vibora Team",date:"2025-01-27T21:00:00",type:"padel",location:"Urban Padel Club"},{competition_id:3,team1_name:"Match Point",team2_name:"Deuce Squad",date:"2025-01-29T18:00:00",type:"tennis",location:"Complejo Deportivo Municipal"}];getGameImage(t){switch(t){case"tennis":return"assets/images/sports/tennis/tennis-field-1.jpeg";case"padel":return"assets/images/sports/padel/padel-field-1.jpeg";default:return"assets/images/default-field.jpeg"}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=dt({type:e,selectors:[["app-home"]],decls:48,vars:2,consts:[[1,"hero-header"],[1,"hero-overlay"],[1,"container","hero-content"],[1,"display-5","fw-bold","text-white"],[1,"text-white-50","mt-2"],[1,"next-games-section"],[1,"container"],[1,"fw-bold","mb-3"],[1,"next-games-scroll"],["class","next-game-card",4,"ngFor","ngForOf"],[1,"sports-section"],[1,"fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"features-section"],[1,"row","g-4","text-center"],[1,"col-12","col-md-4"],[1,"feature-item"],[1,"feature-icon","icon-league"],[1,"feature-icon","icon-notify"],[1,"feature-icon","icon-free"],[1,"next-game-card"],["alt","Campo de juego",1,"next-game-img",3,"src"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"badge","bg-dark","text-uppercase","mb-1"],[1,"fw-semibold","small"],[1,"text-white-50"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"sport-card","shadow-sm","h-100"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],[1,"text-white","fw-bold","mb-1"]],template:function(n,r){n&1&&(E(0,"section",0),Ce(1,"app-header")(2,"div",1),E(3,"div",2)(4,"h1",3),O(5," App organizador de eventos deportivos "),D(),E(6,"p",4),O(7," Crea, gestiona y compite en ligas de tu deporte favorito "),D()()(),E(8,"section",5)(9,"div",6)(10,"h2",7),O(11,"Pr\xF3ximos partidos"),D(),E(12,"div",8),ht(13,hO,14,9,"div",9),D()()(),E(14,"section",10)(15,"div",6)(16,"h2",11),O(17,"Deportes"),D(),E(18,"div",12),ht(19,pO,8,5,"div",13),D()()(),E(20,"section",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),O(26,"\u{1F3C6}"),D(),E(27,"h5"),O(28,"Crea y compite"),D(),E(29,"p"),O(30,"Crea y ap\xFAntate a ligas de tu deporte favorito"),D()()(),E(31,"div",16)(32,"div",17)(33,"div",19),O(34,"\u{1F514}"),D(),E(35,"h5"),O(36,"Notificaciones"),D(),E(37,"p"),O(38,"Recibe avisos de partidos, resultados y cambios"),D()()(),E(39,"div",16)(40,"div",17)(41,"div",20),O(42,"\u{1F389}"),D(),E(43,"h5"),O(44,"100% gratis"),D(),E(45,"p"),O(46,"Sin costes ocultos, ahora y siempre"),D()()()()()(),Ce(47,"app-footer")),n&2&&(X(13),Oe("ngForOf",r.games),X(6),Oe("ngForOf",r.sports))},dependencies:[An,th,yi,rh,ru,iu],styles:[".color-padel[_ngcontent-%COMP%]{background-color:#7fa9c4;color:#fff}.color-futbol[_ngcontent-%COMP%]{background-color:#8fbf9f;color:#fff}.color-baloncesto[_ngcontent-%COMP%]{background-color:#f2b36d;color:#fff}.color-tenis[_ngcontent-%COMP%]{background-color:#c97a5a;color:#fff}.hero-header[_ngcontent-%COMP%]{position:relative;min-height:45vh;background-image:url(/assets/images/homeHeader.jpeg);background-size:cover;background-position:center;display:flex;flex-direction:column}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0000,#00000080);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:auto;padding-bottom:3rem;max-width:720px}@media (max-width: 768px){.hero-header[_ngcontent-%COMP%]{min-height:23vh}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.title-section[_ngcontent-%COMP%]{position:relative;height:40vh;overflow:hidden;display:flex;align-items:center}.title-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}.title-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:720px}.sports-section[_ngcontent-%COMP%]{margin-top:.5rem}.sport-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.sport-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 25px #0003}.sport-image[_ngcontent-%COMP%]{height:180px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:16px}.features-section[_ngcontent-%COMP%]{padding:3rem 0;background-color:#f8f9fa}.feature-item[_ngcontent-%COMP%]{padding:1.75rem 1.25rem;border-radius:16px;background:#fff;height:100%;transition:transform .25s ease,box-shadow .25s ease}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014}.feature-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto .75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff}.feature-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.35rem;color:#222}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;line-height:1.4}@media (max-width: 576px){.feature-item[_ngcontent-%COMP%]{padding:1.25rem}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.icon-league[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7fa9c4,#6c96b1)}.icon-notify[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fbf9f,#7eaf90)}.icon-free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f2b36d,#c97a5a)}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:.5rem;font-weight:600;color:#222}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.5;margin:0}@media (min-width: 768px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.title-section[_ngcontent-%COMP%]{margin-top:3.4rem;height:10vh}.title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.sport-image[_ngcontent-%COMP%]{height:110px}@media (max-width: 576px){.sports-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.sport-body[_ngcontent-%COMP%]{padding:12px}.sport-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.95rem}.sport-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 768px){.sport-image[_ngcontent-%COMP%]{height:180px}}.next-games-section[_ngcontent-%COMP%]{padding:2.5rem 0}.next-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem;scroll-snap-type:x mandatory}.next-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.next-game-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.next-games-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.next-game-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}}"]})};var qE=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(k(fr),k(In))};static \u0275dir=ue({type:e})}return e})(),hu=(()=>{class e extends qE{static \u0275fac=(()=>{let n;return function(i){return(n||(n=cn(e)))(i||e)}})();static \u0275dir=ue({type:e,features:[ft]})}return e})(),Fs=new x(""),gO={provide:Fs,useExisting:$t(()=>ag),multi:!0},ag=(()=>{class e extends hu{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=cn(e)))(i||e)}})();static \u0275dir=ue({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Ge("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Mn([gO]),ft]})}return e})(),mO={provide:Fs,useExisting:$t(()=>pu),multi:!0};function vO(){let e=gt()?gt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var yO=new x(""),pu=(()=>{class e extends qE{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!vO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(k(fr),k(In),k(yO,8))};static \u0275dir=ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ge("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Mn([mO]),ft]})}return e})();function _O(e){return e==null||wO(e)===0}function wO(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var lg=new x(""),GE=new x("");function bO(e){return _O(e.value)?{required:!0}:null}function FE(e){return null}function WE(e){return e!=null}function KE(e){return Sn(e)?ce(e):e}function ZE(e){let t={};return e.forEach(n=>{t=n!=null?w(w({},t),n):t}),Object.keys(t).length===0?null:t}function YE(e,t){return t.map(n=>n(e))}function EO(e){return!e.validate}function JE(e){return e.map(t=>EO(t)?t:n=>t.validate(n))}function DO(e){if(!e)return null;let t=e.filter(WE);return t.length==0?null:function(n){return ZE(YE(n,t))}}function cg(e){return e!=null?DO(JE(e)):null}function CO(e){if(!e)return null;let t=e.filter(WE);return t.length==0?null:function(n){let r=YE(n,t).map(KE);return Zu(r).pipe(q(ZE))}}function ug(e){return e!=null?CO(JE(e)):null}function LE(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function IO(e){return e._rawValidators}function SO(e){return e._rawAsyncValidators}function ig(e){return e?Array.isArray(e)?e:[e]:[]}function au(e,t){return Array.isArray(e)?e.includes(t):e===t}function jE(e,t){let n=ig(t);return ig(e).forEach(i=>{au(n,i)||n.push(i)}),n}function VE(e,t){return ig(t).filter(n=>!au(e,n))}var lu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ug(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},io=class extends lu{name;get formDirective(){return null}get path(){return null}},Ps=class extends lu{_parent=null;name=null;valueAccessor=null},cu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},TO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},h8=z(w({},TO),{"[class.ng-submitted]":"isSubmitted"}),QE=(()=>{class e extends cu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(k(Ps,2))};static \u0275dir=ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ft]})}return e})(),XE=(()=>{class e extends cu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(k(io,10))};static \u0275dir=ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&wl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ft]})}return e})();var As="VALID",su="INVALID",no="PENDING",Rs="DISABLED",Kn=class{},uu=class extends Kn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ns=class extends Kn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ks=class extends Kn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ro=class extends Kn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},og=class extends Kn{source;constructor(t){super(),this.source=t}},sg=class extends Kn{source;constructor(t){super(),this.source=t}};function eD(e){return(gu(e)?e.validators:e)||null}function MO(e){return Array.isArray(e)?cg(e):e||null}function tD(e,t){return(gu(t)?t.asyncValidators:e)||null}function xO(e){return Array.isArray(e)?ug(e):e||null}function gu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function AO(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function RO(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new T(1002,"")})}var du=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return St(this.statusReactive)}set status(t){St(()=>this.statusReactive.set(t))}_status=No(()=>this.statusReactive());statusReactive=Ao(void 0);get valid(){return this.status===As}get invalid(){return this.status===su}get pending(){return this.status==no}get disabled(){return this.status===Rs}get enabled(){return this.status!==Rs}errors;get pristine(){return St(this.pristineReactive)}set pristine(t){St(()=>this.pristineReactive.set(t))}_pristine=No(()=>this.pristineReactive());pristineReactive=Ao(!0);get dirty(){return!this.pristine}get touched(){return St(this.touchedReactive)}set touched(t){St(()=>this.touchedReactive.set(t))}_touched=No(()=>this.touchedReactive());touchedReactive=Ao(!1);get untouched(){return!this.touched}_events=new _e;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(jE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(VE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(VE(t,this._rawAsyncValidators))}hasValidator(t){return au(this._rawValidators,t)}hasAsyncValidator(t){return au(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(z(w({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ks(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ks(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(z(w({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ns(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ns(!0,r))}markAsPending(t={}){this.status=no;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ro(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(z(w({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Rs,this.errors=null,this._forEachChild(i=>{i.disable(z(w({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new uu(this.value,r)),this._events.next(new ro(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(w({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=As,this._forEachChild(r=>{r.enable(z(w({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(z(w({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===As||this.status===no)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new uu(this.value,n)),this._events.next(new ro(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(z(w({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rs:As}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=no,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=KE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ro(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ee,this.statusChanges=new Ee}_calculateStatus(){return this._allControlsDisabled()?Rs:this.errors?su:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(no)?no:this._anyControlsHaveStatus(su)?su:As}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ns(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ks(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=MO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=xO(this._rawAsyncValidators)}},fu=class extends du{constructor(t,n,r){super(eD(n),tD(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){RO(this,!0,t),Object.keys(t).forEach(r=>{AO(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var dg=new x("",{providedIn:"root",factory:()=>fg}),fg="always";function OO(e,t){return[...t.path,e]}function nD(e,t,n=fg){rD(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),kO(e,t),FO(e,t),PO(e,t),NO(e,t)}function $E(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function NO(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function rD(e,t){let n=IO(e);t.validator!==null?e.setValidators(LE(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=SO(e);t.asyncValidator!==null?e.setAsyncValidators(LE(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();$E(t._rawValidators,i),$E(t._rawAsyncValidators,i)}function kO(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&iD(e,t)})}function PO(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&iD(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function iD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function FO(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function LO(e,t){e==null,rD(e,t)}function jO(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function VO(e){return Object.getPrototypeOf(e.constructor)===hu}function $O(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function UO(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===pu?n=o:VO(o)?r=o:i=o}),i||r||n||null}var BO={provide:io,useExisting:$t(()=>hg)},Os=Promise.resolve(),hg=(()=>{class e extends io{callSetDisabledState;get submitted(){return St(this.submittedReactive)}_submitted=No(()=>this.submittedReactive());submittedReactive=Ao(!1);_directives=new Set;form;ngSubmit=new Ee;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new fu({},cg(n),ug(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Os.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),nD(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Os.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Os.then(()=>{let r=this._findContainer(n.path),i=new fu({});LO(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Os.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Os.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),$O(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new og(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new sg(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(k(lg,10),k(GE,10),k(dg,8))};static \u0275dir=ue({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ge("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Mn([BO]),ft]})}return e})();function UE(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function BE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var HO=class extends du{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(eD(n),tD(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(BE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){UE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){UE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){BE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var zO={provide:Ps,useExisting:$t(()=>pg)},HE=Promise.resolve(),pg=(()=>{class e extends Ps{_changeDetectorRef;callSetDisabledState;control=new HO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ee;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=UO(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),jO(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){HE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Sl(r);HE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?OO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(k(io,9),k(lg,10),k(GE,10),k(Fs,10),k(vi,8),k(dg,8))};static \u0275dir=ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Mn([zO]),ft,di]})}return e})();var oD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var qO={provide:Fs,useExisting:$t(()=>mu),multi:!0};function sD(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function GO(e){return e.split(":")[0]}var mu=(()=>{class e extends hu{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=sD(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=GO(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=cn(e)))(i||e)}})();static \u0275dir=ue({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ge("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Mn([qO]),ft]})}return e})(),aD=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(sD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(k(In),k(fr),k(mu,9))};static \u0275dir=ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),WO={provide:Fs,useExisting:$t(()=>lD),multi:!0};function zE(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function KO(e){return e.split(":")[0]}var lD=(()=>{class e extends hu{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=KO(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=cn(e)))(i||e)}})();static \u0275dir=ue({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ge("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Mn([WO]),ft]})}return e})(),cD=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(zE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(zE(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(k(In),k(fr),k(lD,9))};static \u0275dir=ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var ZO=(()=>{class e{_validator=FE;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):FE,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ue({type:e,features:[di]})}return e})();var YO={provide:lg,useExisting:$t(()=>gg),multi:!0};var gg=(()=>{class e extends ZO{required;inputName="required";normalizeInput=Sl;createValidator=n=>bO;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=cn(e)))(i||e)}})();static \u0275dir=ue({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&$f("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Mn([YO]),ft]})}return e})();var JO=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=hr({type:e});static \u0275inj=cr({})}return e})();var uD=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:dg,useValue:n.callSetDisabledState??fg}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=hr({type:e});static \u0275inj=cr({imports:[JO]})}return e})();function XO(e,t){if(e&1){let n=un();E(0,"select",16),gr("ngModelChange",function(i){ct(n);let o=Ht().$implicit;return gi(o.level,i)||(o.level=i),ut(i)}),E(1,"option",17),O(2,"Nivel"),D(),E(3,"option",18),O(4,"Principiante"),D(),E(5,"option",19),O(6,"Intermedio"),D(),E(7,"option",20),O(8,"Avanzado"),D()()}if(e&2){let n=Ht().$implicit;bl("name","level-",n.key,""),pr("ngModel",n.level)}}function eN(e,t){if(e&1){let n=un();E(0,"div",13)(1,"label")(2,"input",14),gr("ngModelChange",function(i){let o=ct(n).$implicit;return gi(o.selected,i)||(o.selected=i),ut(i)}),D(),O(3),D(),ht(4,XO,9,3,"select",15),D()}if(e&2){let n=t.$implicit;X(2),bl("name","sport-",n.key,""),pr("ngModel",n.selected),X(),Tn(" ",n.label," "),X(),Oe("ngIf",n.selected)}}var vu=class e{profile={name:"",email:"",phone:"",avatar_url:""};sports=[{key:"padel",label:"P\xE1del",selected:!1,level:""},{key:"tenis",label:"Tenis",selected:!1,level:""},{key:"baloncesto",label:"Baloncesto",selected:!1,level:""},{key:"futbol",label:"F\xFAtbol",selected:!1,level:""}];saveProfile(){return h(this,null,function*(){})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=dt({type:e,selectors:[["app-user-onboarding"]],decls:29,vars:6,consts:[["form","ngForm"],[1,"onboarding-container"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","disabled","",1,"form-control",3,"value"],["type","tel","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","avatar",1,"form-control",3,"ngModelChange","ngModel"],[1,"section-title"],[1,"sports-grid"],["class","sport-card",4,"ngFor","ngForOf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"sport-card"],["type","checkbox",3,"ngModelChange","ngModel","name"],["class","form-select",3,"ngModel","name","ngModelChange",4,"ngIf"],[1,"form-select",3,"ngModelChange","ngModel","name"],["value",""],["value","Principiante"],["value","Intermedio"],["value","Avanzado"]],template:function(n,r){if(n&1){let i=un();E(0,"div",1)(1,"h2"),O(2,"Completa tu perfil"),D(),E(3,"p",2),O(4," Solo un paso m\xE1s para empezar a competir "),D(),E(5,"form",3,0),Ge("ngSubmit",function(){return ct(i),ut(r.saveProfile())}),E(7,"div",4)(8,"label"),O(9,"Nombre"),D(),E(10,"input",5),gr("ngModelChange",function(s){return ct(i),gi(r.profile.name,s)||(r.profile.name=s),ut(s)}),D()(),E(11,"div",4)(12,"label"),O(13,"Email"),D(),Ce(14,"input",6),D(),E(15,"div",4)(16,"label"),O(17,"Tel\xE9fono"),D(),E(18,"input",7),gr("ngModelChange",function(s){return ct(i),gi(r.profile.phone,s)||(r.profile.phone=s),ut(s)}),D()(),E(19,"div",4)(20,"label"),O(21,"Avatar (URL)"),D(),E(22,"input",8),gr("ngModelChange",function(s){return ct(i),gi(r.profile.avatar_url,s)||(r.profile.avatar_url=s),ut(s)}),D()(),E(23,"h4",9),O(24,"Deportes que practicas"),D(),E(25,"div",10),ht(26,eN,5,5,"div",11),D(),E(27,"button",12),O(28," Guardar perfil "),D()()()}if(n&2){let i=El(6);X(10),pr("ngModel",r.profile.name),X(4),Oe("value",r.profile.email),X(4),pr("ngModel",r.profile.phone),X(4),pr("ngModel",r.profile.avatar_url),X(4),Oe("ngForOf",r.sports),X(),Oe("disabled",!i.valid)}},dependencies:[An,yi,$o,uD,oD,aD,cD,pu,ag,mu,QE,XE,gg,pg,hg],styles:[".onboarding-container[_ngcontent-%COMP%]{max-width:520px;margin:6rem auto 2rem;padding:2rem 1.5rem}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:.3rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem}.section-title[_ngcontent-%COMP%]{margin:2rem 0 1rem;font-size:1.1rem}.sports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}.sport-card[_ngcontent-%COMP%]{padding:1rem;border-radius:.8rem;background:#f8fafc;border:1px solid #e5e7eb}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.8rem;margin-top:2rem;border-radius:.6rem;background:#2563eb;color:#fff;border:none}"]})};var dD=[{path:"",component:ou},{path:"user_onboarding",component:vu},{path:"**",redirectTo:""}];ph(eu,{providers:[jh(dD,Vh())]}).catch(e=>console.error(e));

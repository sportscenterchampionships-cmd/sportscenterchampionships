var AE=Object.create;var Qo=Object.defineProperty,RE=Object.defineProperties,NE=Object.getOwnPropertyDescriptor,kE=Object.getOwnPropertyDescriptors,PE=Object.getOwnPropertyNames,Sm=Object.getOwnPropertySymbols,FE=Object.getPrototypeOf,Mm=Object.prototype.hasOwnProperty,LE=Object.prototype.propertyIsEnumerable;var Im=(e,n,t)=>n in e?Qo(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,S=(e,n)=>{for(var t in n||={})Mm.call(n,t)&&Im(e,t,n[t]);if(Sm)for(var t of Sm(n))LE.call(n,t)&&Im(e,t,n[t]);return e},ee=(e,n)=>RE(e,kE(n));var j=(e,n)=>()=>(e&&(n=e(e=0)),n);var ft=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),Xo=(e,n)=>{for(var t in n)Qo(e,t,{get:n[t],enumerable:!0})},xm=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of PE(n))!Mm.call(e,i)&&i!==t&&Qo(e,i,{get:()=>n[i],enumerable:!(r=NE(n,i))||r.enumerable});return e};var jE=(e,n,t)=>(t=e!=null?AE(FE(e)):{},xm(n||!e||!e.__esModule?Qo(t,"default",{value:e,enumerable:!0}):t,e)),xt=e=>xm(Qo({},"__esModule",{value:!0}),e);var m=(e,n,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(c){i(c)}},s=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(e,n)).next())});var Pr={};Xo(Pr,{__addDisposableResource:()=>uv,__assign:()=>$a,__asyncDelegator:()=>rv,__asyncGenerator:()=>Wa,__asyncValues:()=>qa,__await:()=>cn,__awaiter:()=>I,__classPrivateFieldGet:()=>av,__classPrivateFieldIn:()=>cv,__classPrivateFieldSet:()=>lv,__createBinding:()=>za,__decorate:()=>Wm,__disposeResources:()=>dv,__esDecorate:()=>Gm,__exportStar:()=>Xm,__extends:()=>zm,__generator:()=>Qm,__importDefault:()=>sv,__importStar:()=>ov,__makeTemplateObject:()=>iv,__metadata:()=>Ym,__param:()=>qm,__propKey:()=>Zm,__read:()=>Jd,__rest:()=>kn,__rewriteRelativeImportExtension:()=>fv,__runInitializers:()=>Km,__setFunctionName:()=>Jm,__spread:()=>ev,__spreadArray:()=>nv,__spreadArrays:()=>tv,__values:()=>Ha,default:()=>eD});function zm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Kd(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function kn(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t}function Wm(e,n,t,r){var i=arguments.length,o=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(n,t,o):s(n,t))||o);return i>3&&o&&Object.defineProperty(n,t,o),o}function qm(e,n){return function(t,r){n(t,r,e)}}function Gm(e,n,t,r,i,o){function s(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!n&&e?r.static?e:e.prototype:null,u=n||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),p,v=!1,h=t.length-1;h>=0;h--){var _={};for(var w in r)_[w]=w==="access"?{}:r[w];for(var w in r.access)_.access[w]=r.access[w];_.addInitializer=function(E){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(E||null))};var b=(0,t[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],_);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(p=s(b.get))&&(u.get=p),(p=s(b.set))&&(u.set=p),(p=s(b.init))&&i.unshift(p)}else(p=s(b))&&(a==="field"?i.unshift(p):u[l]=p)}c&&Object.defineProperty(c,r.name,u),v=!0}function Km(e,n,t){for(var r=arguments.length>2,i=0;i<n.length;i++)t=r?n[i].call(e,t):n[i].call(e);return r?t:void 0}function Zm(e){return typeof e=="symbol"?e:"".concat(e)}function Jm(e,n,t){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",n):n})}function Ym(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function I(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function Qm(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(e,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Xm(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&za(n,e,t)}function Ha(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jd(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function ev(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Jd(arguments[n]));return e}function tv(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var o=arguments[n],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function nv(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function cn(e){return this instanceof cn?(this.v=e,this):new cn(e)}function Wa(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(_){return Promise.resolve(_).then(h,p)}}function a(h,_){r[h]&&(i[h]=function(w){return new Promise(function(b,E){o.push([h,w,b,E])>1||l(h,w)})},_&&(i[h]=_(i[h])))}function l(h,_){try{c(r[h](_))}catch(w){v(o[0][3],w)}}function c(h){h.value instanceof cn?Promise.resolve(h.value.v).then(u,p):v(o[0][2],h)}function u(h){l("next",h)}function p(h){l("throw",h)}function v(h,_){h(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function rv(e){var n,t;return n={},r("next"),r("throw",function(i){throw i}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(i,o){n[i]=e[i]?function(s){return(t=!t)?{value:cn(e[i](s)),done:!1}:o?o(s):s}:o}}function qa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Ha=="function"?Ha(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function iv(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function ov(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t=Zd(e),r=0;r<t.length;r++)t[r]!=="default"&&za(n,e,t[r]);return QE(n,e),n}function sv(e){return e&&e.__esModule?e:{default:e}}function av(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)}function lv(e,n,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!i:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,t):i?i.value=t:n.set(e,t),t}function cv(e,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?n===e:e.has(n)}function uv(e,n,t){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],t&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:n,dispose:r,async:t})}else t&&e.stack.push({async:!0});return n}function dv(e){function n(o){e.error=e.hasError?new XE(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,r=0;function i(){for(;t=e.stack.pop();)try{if(!t.async&&r===1)return r=0,e.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(i,function(s){return n(s),i()})}else r|=1}catch(s){n(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function fv(e,n){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,i,o,s){return r?n?".jsx":".js":i&&(!o||!s)?t:i+o+"."+s.toLowerCase()+"js"}):e}var Kd,$a,za,QE,Zd,XE,eD,De=j(()=>{"use strict";Kd=function(e,n){return Kd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Kd(e,n)};$a=function(){return $a=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},$a.apply(this,arguments)};za=Object.create?function(e,n,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(n,t);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,i)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]};QE=Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n},Zd=function(e){return Zd=Object.getOwnPropertyNames||function(n){var t=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[t.length]=r);return t},Zd(e)};XE=typeof SuppressedError=="function"?SuppressedError:function(e,n,t){var r=new Error(t);return r.name="SuppressedError",r.error=e,r.suppressed=n,r};eD={__extends:zm,__assign:$a,__rest:kn,__decorate:Wm,__param:qm,__esDecorate:Gm,__runInitializers:Km,__propKey:Zm,__setFunctionName:Jm,__metadata:Ym,__awaiter:I,__generator:Qm,__createBinding:za,__exportStar:Xm,__values:Ha,__read:Jd,__spread:ev,__spreadArrays:tv,__spreadArray:nv,__await:cn,__asyncGenerator:Wa,__asyncDelegator:rv,__asyncValues:qa,__makeTemplateObject:iv,__importStar:ov,__importDefault:sv,__classPrivateFieldGet:av,__classPrivateFieldSet:lv,__classPrivateFieldIn:cv,__addDisposableResource:uv,__disposeResources:dv,__rewriteRelativeImportExtension:fv}});var gb,mb=j(()=>{"use strict";gb=e=>e?(...n)=>e(...n):(...n)=>fetch(...n)});var ai,_o,li,ci,ra,Xp=j(()=>{"use strict";ai=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},_o=class extends ai{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},li=class extends ai{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},ci=class extends ai{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},ra=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(ra||{})});var su,vb=j(()=>{"use strict";De();mb();Xp();su=class{constructor(n,{headers:t={},customFetch:r,region:i=ra.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=gb(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return I(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:p}=r,v={},{region:h}=r;h||(h=this.region);let _=new URL(`${this.url}/${t}`);h&&h!=="any"&&(v["x-region"]=h,_.searchParams.set("forceFunctionRegion",h));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(v["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(v["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let b=u;p&&(s=new AbortController,o=setTimeout(()=>s.abort(),p),u?(b=s.signal,u.addEventListener("abort",()=>s.abort())):b=s.signal);let E=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),a),body:w,signal:b}).catch(de=>{throw new _o(de)}),ne=E.headers.get("x-relay-error");if(ne&&ne==="true")throw new li(E);if(!E.ok)throw new ci(E);let R=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return R==="application/json"?N=yield E.json():R==="application/octet-stream"||R==="application/pdf"?N=yield E.blob():R==="text/event-stream"?N=E:R==="multipart/form-data"?N=yield E.formData():N=yield E.text(),{data:N,error:null,response:E}}catch(a){return{data:null,error:a,response:a instanceof ci||a instanceof li?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var eg={};Xo(eg,{FunctionRegion:()=>ra,FunctionsClient:()=>su,FunctionsError:()=>ai,FunctionsFetchError:()=>_o,FunctionsHttpError:()=>ci,FunctionsRelayError:()=>li});var tg=j(()=>{"use strict";vb();Xp()});var ig=ft(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});var ng=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};rg.default=ng});var ag=ft(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});var oA=(De(),xt(Pr)),sA=oA.__importDefault(ig()),og=class{constructor(n){var t,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>m(this,null,function*(){var s,a,l,c;let u=null,p=null,v=null,h=o.status,_=o.statusText;if(o.ok){if(this.method!=="HEAD"){let ne=yield o.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?p=ne:p=JSON.parse(ne))}let b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),E=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&E&&E.length>1&&(v=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(u={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,h=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{let b=yield o.text();try{u=JSON.parse(b),Array.isArray(u)&&o.status===404&&(p=[],u=null,h=200,_="OK")}catch{o.status===404&&b===""?(h=204,_="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,_="OK"),u&&this.shouldThrowOnError)throw new sA.default(u)}return{error:u,data:p,count:v,status:h,statusText:_}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,p;let v="",h=o?.cause;if(h){let _=(s=h?.message)!==null&&s!==void 0?s:"",w=(a=h?.code)!==null&&a!==void 0?a:"";v=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,v+=`

Caused by: ${(c=h?.name)!==null&&c!==void 0?c:"Error"}: ${_}`,w&&(v+=` (${w})`),h?.stack&&(v+=`
${h.stack}`)}else v=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(p=o?.name)!==null&&p!==void 0?p:"FetchError"}: ${o?.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}returns(){return this}overrideTypes(){return this}};sg.default=og});var ug=ft(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});var aA=(De(),xt(Pr)),lA=aA.__importDefault(ag()),lg=class extends lA.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};cg.default=lg});var au=ft(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});var cA=(De(),xt(Pr)),uA=cA.__importDefault(ug()),dA=new RegExp("[,()]"),dg=class extends uA.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&dA.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};fg.default=dg});var gg=ft(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});var fA=(De(),xt(Pr)),ia=fA.__importDefault(au()),hg=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(n,t){let{head:r=!1,count:i}=t??{},o=r?"HEAD":"GET",s=!1,a=(n??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new ia.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:r=!0}={}){var i;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ia.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ia.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:t}={}){var r;let i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ia.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var t;let r="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new ia.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};pg.default=hg});var _b=ft(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});var yb=(De(),xt(Pr)),hA=yb.__importDefault(gg()),pA=yb.__importDefault(au()),mg=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let t=new URL(`${this.url}/${n}`);return new hA.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${n}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{l.searchParams.append(p,v)})):(a="POST",c=t);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new pA.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};vg.default=mg});var yg=ft(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;var wo=(De(),xt(Pr)),wb=wo.__importDefault(_b());dt.PostgrestClient=wb.default;var bb=wo.__importDefault(gg());dt.PostgrestQueryBuilder=bb.default;var Cb=wo.__importDefault(au());dt.PostgrestFilterBuilder=Cb.default;var Eb=wo.__importDefault(ug());dt.PostgrestTransformBuilder=Eb.default;var Db=wo.__importDefault(ag());dt.PostgrestBuilder=Db.default;var Sb=wo.__importDefault(ig());dt.PostgrestError=Sb.default;dt.default={PostgrestClient:wb.default,PostgrestQueryBuilder:bb.default,PostgrestFilterBuilder:Cb.default,PostgrestTransformBuilder:Eb.default,PostgrestBuilder:Db.default,PostgrestError:Sb.default}});var _g,lu,wg=j(()=>{"use strict";_g=class{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`

Suggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){let r=this.getWebSocketConstructor();return new r(n,t)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},lu=_g});var Ib,Mb=j(()=>{"use strict";Ib="2.87.1"});var xb,bg,Tb,Cg,oa,Ob,Ab,ui,Ve,Gt,Eg,di,cu=j(()=>{"use strict";Mb();xb=`realtime-js/${Ib}`,bg="1.0.0",Tb="2.0.0",Cg=bg,oa=1e4,Ob=1e3,Ab=100,ui=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(ui||{}),Ve=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Ve||{}),Gt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(Gt||{}),Eg=function(e){return e.websocket="websocket",e}(Eg||{}),di=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(di||{})});var uu,Rb=j(()=>{"use strict";uu=class{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,t){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var t;return this._isArrayBuffer((t=n.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(n,t,r){var i,o;let s=n.topic,a=(i=n.ref)!==null&&i!==void 0?i:"",l=(o=n.join_ref)!==null&&o!==void 0?o:"",c=n.payload.event,u=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},p=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);let v=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+p.length,h=new ArrayBuffer(this.HEADER_LENGTH+v),_=new DataView(h),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,l.length),_.setUint8(w++,a.length),_.setUint8(w++,s.length),_.setUint8(w++,c.length),_.setUint8(w++,p.length),_.setUint8(w++,t),Array.from(l,E=>_.setUint8(w++,E.charCodeAt(0))),Array.from(a,E=>_.setUint8(w++,E.charCodeAt(0))),Array.from(s,E=>_.setUint8(w++,E.charCodeAt(0))),Array.from(c,E=>_.setUint8(w++,E.charCodeAt(0))),Array.from(p,E=>_.setUint8(w++,E.charCodeAt(0)));var b=new Uint8Array(h.byteLength+r.byteLength);return b.set(new Uint8Array(h),0),b.set(new Uint8Array(r),h.byteLength),b.buffer}decode(n,t){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return t(r)}if(typeof n=="string"){let r=JSON.parse(n),[i,o,s,a,l]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:l})}return t({})}_binaryDecode(n){let t=new DataView(n),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,t,i)}}_decodeUserBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(n.slice(l,l+i));l=l+i;let u=r.decode(n.slice(l,l+o));l=l+o;let p=r.decode(n.slice(l,l+s));l=l+s;let v=n.slice(l,n.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,_={type:this.BROADCAST_EVENT,event:u,payload:h};return s>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(n){var t;return n instanceof ArrayBuffer||((t=n?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(n,t){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>t.includes(r)))}}});var bo,Dg=j(()=>{"use strict";bo=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var Ee,Ig,gA,Nb,Sg,mA,vA,yA,_A,wA,du,fu=j(()=>{"use strict";Ee=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Ee||{}),Ig=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=gA(s,e,n,i),o),{}):{}},gA=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?Nb(o,s):Sg(s)},Nb=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return _A(n,t)}switch(e){case Ee.bool:return mA(n);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return vA(n);case Ee.json:case Ee.jsonb:return yA(n);case Ee.timestamp:return wA(n);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Sg(n);default:return Sg(n)}},Sg=e=>e,mA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vA=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},yA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},_A=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Nb(n,a))}return e},wA=e=>typeof e=="string"?e.replace(" ","T"):e,du=e=>{let n=new URL(e);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href}});var Co,kb=j(()=>{"use strict";cu();Co=class{constructor(n,t,r={},i=oa){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}});var Mg,Eo,xg=j(()=>{"use strict";Mg=function(e){return e.SYNC="sync",e.JOIN="join",e.LEAVE="leave",e}(Mg||{}),Eo=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let p=o[c];if(p){let v=u.map(b=>b.presence_ref),h=p.map(b=>b.presence_ref),_=u.filter(b=>h.indexOf(b.presence_ref)<0),w=p.filter(b=>v.indexOf(b.presence_ref)<0);_.length>0&&(a[c]=_),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let p=n[a].map(h=>h.presence_ref),v=u.filter(h=>p.indexOf(h.presence_ref)<0);n[a].unshift(...v)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(p=>p.presence_ref);c=c.filter(p=>u.indexOf(p.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var Tg,Do,In,Pb,So,Og=j(()=>{"use strict";cu();kb();Dg();xg();fu();fu();Tg=function(e){return e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE",e}(Tg||{}),Do=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(Do||{}),In=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(In||{}),Pb=Ve,So=class e{constructor(n,t={config:{}},r){var i,o;if(this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new bo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Eo(this),this.broadcastEndpointURL=du(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Do.PRESENCE]&&this.bindings[Do.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},v={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(h=>n?.(In.CHANNEL_ERROR,h)),this._onClose(()=>n?.(In.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",_=>m(this,[_],function*({postgres_changes:h}){var w;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){n?.(In.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,E=(w=b?.length)!==null&&w!==void 0?w:0,ne=[];for(let R=0;R<E;R++){let N=b[R],{filter:{event:de,schema:ln,table:_e,filter:Ue}}=N,er=h&&h[R];if(er&&er.event===de&&e.isFilterValueEqual(er.schema,ln)&&e.isFilterValueEqual(er.table,_e)&&e.isFilterValueEqual(er.filter,Ue))ne.push(Object.assign(Object.assign({},N),{id:er.id}));else{this.unsubscribe(),this.state=Ve.errored,n?.(In.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ne,n&&n(In.SUBSCRIBED);return}})).receive("error",h=>{this.state=Ve.errored,n?.(In.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{n?.(In.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return m(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return m(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this.state===Ve.joined&&n===Do.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>m(this,null,function*(){return yield this.subscribe()}))),this._on(n,t,r)}httpSend(i,o){return m(this,arguments,function*(n,t,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:t,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let p=yield c.json();u=p.error||p.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return m(this,arguments,function*(n,t={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ve.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Co(this,Gt.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}_fetchWithTimeout(n,t,r){return m(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Co(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Ab){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Gt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let v=this._onMessage(s,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var _,w,b;return((_=h.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(w=h.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(h=>h.callback(v,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var _,w,b,E,ne,R;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let N=h.id,de=(_=h.filter)===null||_===void 0?void 0:_.event;return N&&((w=t.ids)===null||w===void 0?void 0:w.includes(N))&&(de==="*"||de?.toLocaleLowerCase()===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let N=(ne=(E=h?.filter)===null||E===void 0?void 0:E.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase();return N==="*"||N===((R=t?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof v=="object"&&"ids"in v){let _=v.data,{schema:w,table:b,commit_timestamp:E,type:ne,errors:R}=_;v=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:E,eventType:ne,new:{},old:{},errors:R}),this._getPayloadRecords(_))}h.callback(v,r)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}static isFilterValueEqual(n,t){return(n??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Gt.close,{},n)}_onError(n){this._on(Gt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Ig(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Ig(n.columns,n.old_record)),t}}});var Ag,hu,CA,EA,DA,pu,Fb=j(()=>{"use strict";wg();cu();Rb();Dg();fu();Og();Ag=()=>{},hu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CA=[1e3,2e3,5e3,1e4],EA=1e4,DA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,pu=class{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oa,this.transport=null,this.heartbeatIntervalMs=hu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ag,this.ref=0,this.reconnectTimer=null,this.vsn=Cg,this.logger=Ag,this.conn=null,this.sendBuffer=[],this.serializer=new uu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${Eg.websocket}`,this.httpEndpoint=du(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lu.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let t=n.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return m(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return m(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return di.Connecting;case ui.open:return di.Open;case ui.closing:return di.Closing;default:return di.Closed}}isConnected(){return this.connectionState()===di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,t={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new So(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return m(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return m(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Ob,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},hu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ui.open||this.conn.readyState===ui.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Gt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([DA],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(n=null){return m(this,null,function*(){let t,r=!1;if(n)t=n,r=!0;else if(this.accessToken)try{t=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{let o={access_token:t,version:xb};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Gt.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return m(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bo(()=>m(this,null,function*(){setTimeout(()=>m(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),hu.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,l,c,u,p,v,h;switch(this.transport=(t=n?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:oa,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:hu.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:Ag,this.vsn=(l=n?.vsn)!==null&&l!==void 0?l:Cg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=n?.reconnectAfterMs)!==null&&c!==void 0?c:_=>CA[_-1]||EA,this.vsn){case bg:this.encode=(u=n?.encode)!==null&&u!==void 0?u:(_,w)=>w(JSON.stringify(_)),this.decode=(p=n?.decode)!==null&&p!==void 0?p:(_,w)=>w(JSON.parse(_));break;case Tb:this.encode=(v=n?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(h=n?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}});var Rg={};Xo(Rg,{REALTIME_CHANNEL_STATES:()=>Pb,REALTIME_LISTEN_TYPES:()=>Do,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>Tg,REALTIME_PRESENCE_LISTEN_EVENTS:()=>Mg,REALTIME_SUBSCRIBE_STATES:()=>In,RealtimeChannel:()=>So,RealtimeClient:()=>pu,RealtimePresence:()=>Eo,WebSocketFactory:()=>lu});var Ng=j(()=>{"use strict";Fb();Og();xg();wg()});function pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Zn,sa,vr,yr=j(()=>{"use strict";Zn=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};sa=class extends Zn{constructor(n,t,r){super(n),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vr=class extends Zn{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}});var Io,Lb,gu,jb,Vb,aa=j(()=>{"use strict";Io=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),Lb=()=>Response,gu=e=>{if(Array.isArray(e))return e.map(t=>gu(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=gu(r)}),n},jb=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)});function la(e,n,t,r,i,o){return I(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,IA(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>SA(l,a,r))})})}function _r(e,n,t,r){return I(this,void 0,void 0,function*(){return la(e,"GET",n,t,r)})}function Mt(e,n,t,r,i){return I(this,void 0,void 0,function*(){return la(e,"POST",n,r,i,t)})}function ca(e,n,t,r,i){return I(this,void 0,void 0,function*(){return la(e,"PUT",n,r,i,t)})}function Ub(e,n,t,r){return I(this,void 0,void 0,function*(){return la(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Mo(e,n,t,r,i){return I(this,void 0,void 0,function*(){return la(e,"DELETE",n,r,i,t)})}var kg,SA,IA,mu=j(()=>{"use strict";De();yr();aa();kg=e=>{var n;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(n=e.error)===null||n===void 0?void 0:n.message)||JSON.stringify(e)},SA=(e,n,t)=>I(void 0,void 0,void 0,function*(){let r=yield Lb();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{let o=e.status||500,s=i?.statusCode||o+"";n(new sa(kg(i),o,s))}).catch(i=>{n(new vr(kg(i),i))}):n(new vr(kg(e),e))}),IA=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"||!r?i:(jb(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),t))}});var vu,Bb=j(()=>{"use strict";De();yr();vu=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}}});var $b,Pg,Hb,zb=j(()=>{"use strict";De();yr();Bb();Pg=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[$b]="BlobDownloadBuilder",this.promise=null}asStream(){return new vu(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}};$b=Symbol.toStringTag;Hb=Pg});var MA,Wb,yu,qb=j(()=>{"use strict";De();yr();mu();aa();zb();MA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},yu=class{constructor(n,t={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=r,this.fetch=Io(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,t,r,i){return I(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Wb),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),p=yield(n=="PUT"?ca:Mt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(pe(o))return{data:null,error:o};throw o}})}upload(n,t,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return I(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:Wb.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let p=yield ca(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return I(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield Mt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Zn("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}update(n,t,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return I(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}copy(n,t,r){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield Mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return I(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Mt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return I(this,void 0,void 0,function*(){try{let i=yield Mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}download(n,t){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(n),l=()=>_r(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Hb(l,this.shouldThrowOnError)}info(n){return I(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield _r(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:gu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}exists(n){return I(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield Ub(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r)&&r instanceof vr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return I(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}list(n,t,r){return I(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},MA),t),{prefix:n||""});return{data:yield Mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}listV2(n,t){return I(this,void 0,void 0,function*(){try{let r=Object.assign({},n);return{data:yield Mt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}});var _u,Fg=j(()=>{"use strict";_u="2.87.1"});var wu,Lg=j(()=>{"use strict";Fg();wu={"X-Client-Info":`storage-js/${_u}`}});var bu,Gb=j(()=>{"use strict";De();Lg();yr();mu();aa();bu=class{constructor(n,t={},r,i){this.shouldThrowOnError=!1;let o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wu),t),this.fetch=Io(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return I(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(n);return{data:yield _r(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}getBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}createBucket(n){return I(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}updateBucket(n,t){return I(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}deleteBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(n){let t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}});function xA(e,n,t){let r=new URL(n,e);if(t)for(let[i,o]of Object.entries(t))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function TA(e){return m(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function OA(e){let n=e.fetchImpl??globalThis.fetch;return{request(l){return m(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=xA(e.baseUrl,i,o),u=yield TA(e.auth),p=yield n(c,{method:r,headers:S(S(S({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),v=yield p.text(),h=(p.headers.get("content-type")||"").includes("application/json"),_=h&&v?JSON.parse(v):v;if(!p.ok){let w=h?_:void 0,b=w?.error;throw new ua(b?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:b?.type,icebergCode:b?.code,details:w})}return{status:p.status,headers:p.headers,data:_}})}}}function Cu(e){return e.join("")}function xo(e){return e.join("")}var ua,AA,RA,Kb,Zb=j(()=>{"use strict";ua=class extends Error{constructor(e,n){super(e),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};AA=class{constructor(e,n=""){this.client=e,this.prefix=n}listNamespaces(e){return m(this,null,function*(){let n=e?{parent:Cu(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,n){return m(this,null,function*(){let t={namespace:e.namespace,properties:n?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data})}dropNamespace(e){return m(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cu(e.namespace)}`})})}loadNamespaceMetadata(e){return m(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cu(e.namespace)}`})).data.properties}})}namespaceExists(e){return m(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cu(e.namespace)}`}),!0}catch(n){if(n instanceof ua&&n.status===404)return!1;throw n}})}createNamespaceIfNotExists(e,n){return m(this,null,function*(){try{return yield this.createNamespace(e,n)}catch(t){if(t instanceof ua&&t.status===409)return;throw t}})}};RA=class{constructor(e,n="",t){this.client=e,this.prefix=n,this.accessDelegation=t}listTables(e){return m(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xo(e.namespace)}/tables`})).data.identifiers})}createTable(e,n){return m(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xo(e.namespace)}/tables`,body:n,headers:t})).data.metadata})}updateTable(e,n){return m(this,null,function*(){let t=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xo(e.namespace)}/tables/${e.name}`,body:n});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}})}dropTable(e,n){return m(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(n?.purge??!1)}})})}loadTable(e){return m(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xo(e.namespace)}/tables/${e.name}`,headers:n})).data.metadata})}tableExists(e){return m(this,null,function*(){let n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xo(e.namespace)}/tables/${e.name}`,headers:n}),!0}catch(t){if(t instanceof ua&&t.status===404)return!1;throw t}})}createTableIfNotExists(e,n){return m(this,null,function*(){try{return yield this.createTable(e,n)}catch(t){if(t instanceof ua&&t.status===409)return yield this.loadTable({namespace:e.namespace,name:n.name});throw t}})}},Kb=class{constructor(e){let n="v1";e.catalogName&&(n+=`/${e.catalogName}`);let t=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=OA({baseUrl:t,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new AA(this.client,n),this.tableOps=new RA(this.client,n,this.accessDelegation)}listNamespaces(e){return m(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,n){return m(this,null,function*(){return this.namespaceOps.createNamespace(e,n)})}dropNamespace(e){return m(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return m(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return m(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,n){return m(this,null,function*(){return this.tableOps.createTable(e,n)})}updateTable(e,n){return m(this,null,function*(){return this.tableOps.updateTable(e,n)})}dropTable(e,n){return m(this,null,function*(){yield this.tableOps.dropTable(e,n)})}loadTable(e){return m(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return m(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return m(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,n){return m(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,n)})}createTableIfNotExists(e,n){return m(this,null,function*(){return this.tableOps.createTableIfNotExists(e,n)})}}});var To,jg=j(()=>{"use strict";De();Zb();Lg();yr();mu();aa();To=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wu),t),this.fetch=Io(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}listBuckets(n){return I(this,void 0,void 0,function*(){try{let t=new URLSearchParams;n?.limit!==void 0&&t.set("limit",n.limit.toString()),n?.offset!==void 0&&t.set("offset",n.offset.toString()),n?.sortColumn&&t.set("sortColumn",n.sortColumn),n?.sortOrder&&t.set("sortOrder",n.sortOrder),n?.search&&t.set("search",n.search);let r=t.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield _r(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}deleteBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}from(n){if(!Vb(n))throw new Zn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let t=new Kb({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>I(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>I(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var Oo,Eu=j(()=>{"use strict";Fg();Oo={"X-Client-Info":`storage-js/${_u}`,"Content-Type":"application/json"}});function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ao,wr,Ro,Vg,No=j(()=>{"use strict";Ao=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};wr=class extends Ao{constructor(n,t,r){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ro=class extends Ao{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}},Vg=function(e){return e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",e}(Vg||{})});var br,Jb,Du,Yb,Qb,ko=j(()=>{"use strict";br=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),Jb=()=>Response,Du=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yb=e=>Array.from(new Float32Array(e)),Qb=(e,n)=>{if(n!==void 0&&e.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${e.float32.length}`)}});function PA(e,n,t,r,i,o){return I(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,kA(n,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>NA(l,a,r))})})}function rt(e,n,t,r,i){return I(this,void 0,void 0,function*(){return PA(e,"POST",n,r,i,t)})}var Xb,NA,kA,Su=j(()=>{"use strict";De();No();ko();Xb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NA=(e,n,t)=>I(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!t?.noResolveJson){let i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";n(new wr(Xb(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new wr(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new wr(a,i,s))}}else n(new Ro(Xb(e),e))}),kA=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"||!r?i:(Du(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),t))}});var Po,Ug=j(()=>{"use strict";De();Eu();No();Su();ko();Po=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oo),t),this.fetch=br(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return I(this,void 0,void 0,function*(){try{return{data:(yield rt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}getIndex(n,t){return I(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listIndexes(n){return I(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}deleteIndex(n,t){return I(this,void 0,void 0,function*(){try{return{data:(yield rt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}});var Fo,Bg=j(()=>{"use strict";De();Eu();No();Su();ko();Fo=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oo),t),this.fetch=br(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return I(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield rt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}getVectors(n){return I(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}listVectors(n){return I(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield rt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}queryVectors(n){return I(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}deleteVectors(n){return I(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield rt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}}});var Lo,$g=j(()=>{"use strict";De();Eu();No();Su();ko();Lo=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oo),t),this.fetch=br(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return I(this,void 0,void 0,function*(){try{return{data:(yield rt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}getBucket(n){return I(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}listBuckets(){return I(this,arguments,void 0,function*(n={}){try{return{data:yield rt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}deleteBucket(n){return I(this,void 0,void 0,function*(){try{return{data:(yield rt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ge(t))return{data:null,error:t};throw t}})}}});var jo,da,fa,eC=j(()=>{"use strict";De();Ug();Bg();$g();jo=class extends Lo{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new da(this.url,this.headers,n,this.fetch)}createBucket(n){let t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return I(this,void 0,void 0,function*(){return t.createBucket.call(this,n)})}getBucket(n){let t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return I(this,void 0,void 0,function*(){return t.getBucket.call(this,n)})}listBuckets(){let n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return I(this,arguments,void 0,function*(t={}){return n.listBuckets.call(this,t)})}deleteBucket(n){let t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return I(this,void 0,void 0,function*(){return t.deleteBucket.call(this,n)})}},da=class extends Po{constructor(n,t,r,i){super(n,t,i),this.vectorBucketName=r}createIndex(n){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(t={}){return n.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new fa(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},fa=class extends Fo{constructor(n,t,r,i,o){super(n,t,o),this.vectorBucketName=r,this.indexName=i}putVectors(n){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(t={}){return n.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var Hg=j(()=>{"use strict";eC();$g();Ug();Bg();No();ko()});var Iu,tC=j(()=>{"use strict";qb();Gb();jg();Hg();Iu=class extends bu{constructor(n,t={},r,i){super(n,t,r,i)}from(n){return new yu(this.url,this.headers,n,this.fetch)}get vectors(){return new jo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new To(this.url+"/iceberg",this.headers,this.fetch)}}});var nC=j(()=>{"use strict"});var rC={};Xo(rC,{StorageAnalyticsClient:()=>To,StorageApiError:()=>sa,StorageClient:()=>Iu,StorageError:()=>Zn,StorageUnknownError:()=>vr,StorageVectorsApiError:()=>wr,StorageVectorsClient:()=>jo,StorageVectorsError:()=>Ao,StorageVectorsErrorCode:()=>Vg,StorageVectorsUnknownError:()=>Ro,VectorBucketApi:()=>Lo,VectorBucketScope:()=>da,VectorDataApi:()=>Fo,VectorIndexApi:()=>Po,VectorIndexScope:()=>fa,isPlainObject:()=>Du,isStorageError:()=>pe,isStorageVectorsError:()=>Ge,normalizeToFloat32:()=>Yb,resolveFetch:()=>br,resolveResponse:()=>Jb,validateVectorDimension:()=>Qb});var iC=j(()=>{"use strict";tC();jg();nC();yr();Hg()});var oC=ft(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.version=void 0;Mu.version="2.87.1"});var sC=ft(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.DEFAULT_REALTIME_OPTIONS=Nt.DEFAULT_AUTH_OPTIONS=Nt.DEFAULT_DB_OPTIONS=Nt.DEFAULT_GLOBAL_OPTIONS=Nt.DEFAULT_HEADERS=void 0;var FA=oC(),ha="";typeof Deno<"u"?ha="deno":typeof document<"u"?ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ha="react-native":ha="node";Nt.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${ha}/${FA.version}`};Nt.DEFAULT_GLOBAL_OPTIONS={headers:Nt.DEFAULT_HEADERS};Nt.DEFAULT_DB_OPTIONS={schema:"public"};Nt.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};Nt.DEFAULT_REALTIME_OPTIONS={}});var aC=ft(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.fetchWithAuth=sn.resolveHeadersConstructor=sn.resolveFetch=void 0;var LA=e=>e?(...n)=>e(...n):(...n)=>fetch(...n);sn.resolveFetch=LA;var jA=()=>Headers;sn.resolveHeadersConstructor=jA;var VA=(e,n,t)=>{let r=(0,sn.resolveFetch)(t),i=(0,sn.resolveHeadersConstructor)();return(o,s)=>m(null,null,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};sn.fetchWithAuth=VA});var cC=ft(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.isBrowser=void 0;Cr.uuid=UA;Cr.ensureTrailingSlash=lC;Cr.applySettingDefaults=$A;Cr.validateSupabaseUrl=HA;function UA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=Math.random()*16|0,t=e=="x"?n:n&3|8;return t.toString(16)})}function lC(e){return e.endsWith("/")?e:e+"/"}var BA=()=>typeof window<"u";Cr.isBrowser=BA;function $A(e,n){var t,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:p}=n,v={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(t=p?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>m(null,null,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function HA(e){let n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lC(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var xu,zg=j(()=>{"use strict";xu="2.87.1"});var fi,Tu,Ou,uC,dC,fC,pa,Wg,hC,pC,Au=j(()=>{"use strict";zg();fi=30*1e3,Tu=3,Ou=Tu*fi,uC="http://localhost:9999",dC="supabase.auth.token",fC={"X-Client-Info":`gotrue-js/${xu}`},pa="X-Supabase-Api-Version",Wg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pC=10*60*1e3});function F(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}function qg(e){return F(e)&&e.name==="AuthApiError"}function Gg(e){return F(e)&&e.name==="AuthSessionMissingError"}function Kg(e){return F(e)&&e.name==="AuthImplicitGrantRedirectError"}function ma(e){return F(e)&&e.name==="AuthRetryableFetchError"}function zA(e){return F(e)&&e.name==="AuthWeakPasswordError"}var Jn,ga,kt,an,Ke,Mn,Er,Dr,Vo,hi,Uo,Sr,pi=j(()=>{"use strict";Jn=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};ga=class extends Jn{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};kt=class extends Jn{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},an=class extends Jn{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},Ke=class extends an{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};Mn=class extends an{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Er=class extends an{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Dr=class extends an{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};Vo=class extends an{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},hi=class extends an{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};Uo=class extends an{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};Sr=class extends an{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}});function mC(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Ru[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Ru[r]),n.queuedBits-=6}}function vC(e,n,t){let r=WA[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zg(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{KA(s,r,t)};for(let s=0;s<e.length;s+=1)vC(e.charCodeAt(s),i,o);return n.join("")}function qA(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GA(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}qA(r,n)}}function KA(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Ir(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)vC(e.charCodeAt(i),t,r);return new Uint8Array(n)}function yC(e){let n=[];return GA(e,t=>n.push(t)),new Uint8Array(n)}function Yn(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>mC(i,t,r)),mC(null,t,r),n.join("")}var Ru,gC,WA,Nu=j(()=>{"use strict";Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gC=` 	
\r=`.split(""),WA=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<gC.length;n+=1)e[gC[n].charCodeAt(0)]=-2;for(let n=0;n<Ru.length;n+=1)e[Ru[n].charCodeAt(0)]=n;return e})()});function _C(e){return Math.round(Date.now()/1e3)+e}function wC(){return Symbol("auth-callback")}function bC(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}function Fu(e){let n=e.split(".");if(n.length!==3)throw new Sr("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!hC.test(n[r]))throw new Sr("JWT not in base64url format");return{header:JSON.parse(Zg(n[0])),payload:JSON.parse(Zg(n[1])),signature:Ir(n[2]),raw:{header:n[0],payload:n[1]}}}function EC(e){return m(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function DC(e,n){return new Promise((r,i)=>{m(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function ZA(e){return("0"+e.toString(16)).substr(-2)}function JA(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,ZA).join("")}function YA(e){return m(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function QA(e){return m(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield YA(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function vi(e,n,t=!1){return m(this,null,function*(){let r=JA(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield mi(e,`${n}-code-verifier`,i);let o=yield QA(r);return[o,r===o?"plain":"s256"]})}function SC(e){let n=e.headers.get(pa);if(!n||!n.match(XA))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function IC(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function MC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function yi(e){if(!eR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lu(){let e={};return new Proxy(e,{get:(n,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xC(e,n){return new Proxy(e,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(t,r,i)}})}function Jg(e){return JSON.parse(JSON.stringify(e))}var We,gi,ku,Pu,CC,mi,Mr,Ze,va,XA,eR,Bo=j(()=>{"use strict";Au();pi();Nu();We=()=>typeof window<"u"&&typeof document<"u",gi={tested:!1,writable:!1},ku=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gi.tested)return gi.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gi.tested=!0,gi.writable=!0}catch{gi.tested=!0,gi.writable=!1}return gi.writable};Pu=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),CC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mi=(e,n,t)=>m(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),Mr=(e,n)=>m(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Ze=(e,n)=>m(null,null,function*(){yield e.removeItem(n)}),va=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};va.promiseConstructor=Promise;XA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;eR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function TC(e){return m(this,null,function*(){var n;if(!CC(e))throw new hi(_i(e),0);if(tR.includes(e.status))throw new hi(_i(e),e.status);let t;try{t=yield e.json()}catch(o){throw new kt(_i(o),o)}let r,i=SC(e);if(i&&i.getTime()>=Wg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Uo(_i(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Ke}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Uo(_i(t),e.status,t.weak_password.reasons);throw new ga(_i(t),e.status||500,r)})}function U(e,n,t,r){return m(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[pa]||(o[pa]=Wg["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield rR(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function rR(e,n,t,r,i,o){return m(this,null,function*(){let s=nR(n,r,i,o),a;try{a=yield e(t,Object.assign({},s))}catch(l){throw console.error(l),new hi(_i(l),0)}if(a.ok||(yield TC(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield TC(l)}})}function Kt(e){var n;let t=null;iR(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=_C(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function Yg(e){let n=Kt(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function xn(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function OC(e){return{data:e,error:null}}function AC(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=kn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Qg(e){return e}function iR(e){return e.access_token&&e.refresh_token&&e.expires_in}var _i,tR,nR,Xg=j(()=>{"use strict";De();Au();Bo();pi();_i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tR=[502,503,504];nR=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))}});var ya,em=j(()=>{"use strict";ya=["global","local","others"]});var xr,ju=j(()=>{"use strict";De();Xg();Bo();em();pi();xr=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Pu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return m(this,arguments,function*(n,t=ya[0]){if(ya.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ya.join(", ")}`);try{return yield U(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(F(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return m(this,arguments,function*(n,t={}){try{return yield U(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xn})}catch(i){if(F(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return m(this,null,function*(){try{let{options:t}=n,r=kn(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:AC,redirectTo:t?.redirectTo})}catch(t){if(F(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return m(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:xn})}catch(t){if(F(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return m(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Qg});if(u.error)throw u.error;let p=yield u.json(),v=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(_=>{let w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return m(this,null,function*(){yi(n);try{return yield U(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:xn})}catch(t){if(F(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return m(this,null,function*(){yi(n);try{return yield U(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:xn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return m(this,null,function*(){yi(n);try{return yield U(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:xn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return m(this,null,function*(){yi(n.userId);try{let{data:t,error:r}=yield U(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(F(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return m(this,null,function*(){yi(n.userId),yi(n.id);try{return{data:yield U(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}})}_listOAuthClients(n){return m(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Qg});if(u.error)throw u.error;let p=yield u.json(),v=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(_=>{let w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(F(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(n){return m(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(F(t))return{data:null,error:t};throw t}})}_getOAuthClient(n){return m(this,null,function*(){try{return yield U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(F(t))return{data:null,error:t};throw t}})}_updateOAuthClient(n,t){return m(this,null,function*(){try{return yield U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(n){return m(this,null,function*(){try{return yield U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(n){return m(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(F(t))return{data:null,error:t};throw t}})}}});function tm(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}var RC=j(()=>{"use strict"});function Vu(e,n,t){return m(this,null,function*(){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>m(null,null,function*(){if(i){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield t()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _a(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function kC(e,n,t){return m(this,null,function*(){var r;let i=(r=NC[e])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),n>=0?new Promise((s,a)=>{setTimeout(()=>{a(new nm(`Acquring process lock with name "${e}" timed out`))},n)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>m(null,null,function*(){return yield t()}));return NC[e]=o.catch(s=>m(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var Tr,$o,_a,nm,NC,rm=j(()=>{"use strict";Bo();Tr={debug:!!(globalThis&&ku()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},$o=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},_a=class extends $o{},nm=class extends $o{};NC={}});function PC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var FC=j(()=>{"use strict"});function im(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function LC(e){return parseInt(e,16)}function jC(e){let n=new TextEncoder().encode(e);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function VC(e){var n;let{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:p,version:v}=e;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((n=e.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let h=im(e.address),_=u?`${u}://${r}`:r,w=e.statement?`${e.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${h}

${w}`,E=`URI: ${p}
Version: ${v}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),a&&(E+=`
Not Before: ${a.toISOString()}`),l&&(E+=`
Request ID: ${l}`),c){let ne=`
Resources:`;for(let R of c){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);ne+=`
- ${R}`}E+=ne}return`${b}
${E}`}var UC=j(()=>{"use strict"});function BC({error:e,options:n}){var t,r,i;let{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(n.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(om(s)){if(o.rp.id!==s)return new Ie({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $C({error:e,options:n}){let{publicKey:t}=n;if(!t)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(om(r)){if(t.rpId!==r)return new Ie({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Ie,wi,HC=j(()=>{"use strict";sm();Ie=class extends Error{constructor({message:n,code:t,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}},wi=class extends Ie{constructor(n,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:n}),this.name="WebAuthnUnknownError",this.originalError=t}}});function WC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:n,user:t,excludeCredentials:r}=e,i=kn(e,["challenge","user","excludeCredentials"]),o=Ir(n).buffer,s=Object.assign(Object.assign({},t),{id:Ir(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ir(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function qC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:n,allowCredentials:t}=e,r=kn(e,["challenge","allowCredentials"]),i=Ir(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Ir(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function GC(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:Yn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Yn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function KC(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Yn(new Uint8Array(i.authenticatorData)),clientDataJSON:Yn(new Uint8Array(i.clientDataJSON)),signature:Yn(new Uint8Array(i.signature)),userHandle:i.userHandle?Yn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function om(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zC(){var e,n;return!!(We()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}function sR(e){return m(this,null,function*(){try{let n=yield navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new wi("Browser returned unexpected credential type",n)}:{data:null,error:new wi("Empty credential response",n)}}catch(n){return{data:null,error:BC({error:n,options:e})}}})}function aR(e){return m(this,null,function*(){try{let n=yield navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new wi("Browser returned unexpected credential type",n)}:{data:null,error:new wi("Empty credential response",n)}}catch(n){return{data:null,error:$C({error:n,options:e})}}})}function Uu(...e){let n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(n(s)){let a=r[o];n(a)?r[o]=Uu(a,s):r[o]=Uu(s)}else r[o]=s}return r}function uR(e,n){return Uu(lR,e,n||{})}function dR(e,n){return Uu(cR,e,n||{})}var am,oR,lR,cR,Bu,sm=j(()=>{"use strict";De();Nu();pi();Bo();HC();am=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){let n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}},oR=new am;lR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};Bu=class{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){return m(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})}_challenge(s,a){return m(this,arguments,function*({factorId:n,webauthn:t,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:n,webauthn:t});if(!l)return{data:null,error:c};let u=i??oR.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{let p=uR(l.webauthn.credential_options.publicKey,o?.create),{data:v,error:h}=yield sR({publicKey:p,signal:u});return v?{data:{factorId:n,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:v}},error:null}:{data:null,error:h}}case"request":{let p=dR(l.webauthn.credential_options.publicKey,o?.request),{data:v,error:h}=yield aR(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:u}));return v?{data:{factorId:n,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:v}},error:null}:{data:null,error:h}}}}catch(l){return F(l)?{data:null,error:l}:{data:null,error:new kt("Unexpected error in challenge",l)}}})}_verify(i){return m(this,arguments,function*({challengeId:n,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:n,webauthn:r})})}_authenticate(s,a){return m(this,arguments,function*({factorId:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Jn("rpId is required for WebAuthn authentication")};try{if(!zC())return{data:null,error:new kt("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:n,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:n,challengeId:l.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return F(l)?{data:null,error:l}:{data:null,error:new kt("Unexpected error in authenticate",l)}}})}_register(s,a){return m(this,arguments,function*({friendlyName:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Jn("rpId is required for WebAuthn registration")};try{if(!zC())return{data:null,error:new kt("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:n});if(!l)return yield this.client.mfa.listFactors().then(v=>{var h;return(h=v.data)===null||h===void 0?void 0:h.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:c};let{data:u,error:p}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:p}}catch(l){return F(l)?{data:null,error:l}:{data:null,error:new kt("Unexpected error in register",l)}}})}}});function ZC(e,n,t){return m(this,null,function*(){return yield t()})}var fR,Ho,hR,$u,lm=j(()=>{"use strict";ju();Au();pi();Xg();Bo();RC();rm();FC();zg();Nu();UC();sm();PC();fR={url:uC,storageKey:dC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};Ho={},hR=(()=>{class e{get jwks(){var t,r;return(r=(t=Ho[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ho[this.storageKey]=Object.assign(Object.assign({},Ho[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ho[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ho[this.storageKey]=Object.assign(Object.assign({},Ho[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},fR),t);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&We()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xr({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Pu(s.fetch),this.lock=s.lock||ZC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&We()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Vu:this.lock=ZC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Bu(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ku()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=tm(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>m(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xu}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}initialize(){return m(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=m(this,null,function*(){return yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return m(this,null,function*(){var t;try{let r={},i="none";if(We()&&(r=bC(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),We()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Kg(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>m(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?this._returnResult({error:r}):this._returnResult({error:new kt("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return m(this,null,function*(){var r,i,o;try{let s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Kt}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(t){return m(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:p,password:v,options:h}=t,_=null,w=null;this.flowType==="pkce"&&([_,w]=yield vi(this.storage,this.storageKey)),s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:p,password:v,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:_,code_challenge_method:w},xform:Kt})}else if("phone"in t){let{phone:p,password:v,options:h}=t;s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Kt})}else throw new Er("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield Ze(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(t){return m(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Yg})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Yg})}else throw new Er("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Mn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(t){return m(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return m(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>m(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return m(this,null,function*(){let{chain:r}=t;switch(r){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(t){return m(this,null,function*(){var r,i,o,s,a,l,c,u,p,v,h;let _,w;if("message"in t)_=t.message,w=t.signature;else{let{chain:b,wallet:E,statement:ne,options:R}=t,N;if(We())if(typeof E=="object")N=E;else{let Rn=window;if("ethereum"in Rn&&typeof Rn.ethereum=="object"&&"request"in Rn.ethereum&&typeof Rn.ethereum.request=="function")N=Rn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}let de=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),ln=yield N.request({method:"eth_requestAccounts"}).then(Rn=>Rn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ln||ln.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let _e=im(ln[0]),Ue=(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Ue){let Rn=yield N.request({method:"eth_chainId"});Ue=LC(Rn)}let er={domain:de.host,address:_e,statement:ne,uri:de.href,version:"1",chainId:Ue,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=R?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=R?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=R?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=VC(er),w=yield N.request({method:"personal_sign",params:[jC(_),_e]})}try{let{data:b,error:E}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Kt});if(E)throw E;if(!b||!b.session||!b.user){let ne=new Mn;return this._returnResult({data:{user:null,session:null},error:ne})}return b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:E})}catch(b){if(F(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}})}signInWithSolana(t){return m(this,null,function*(){var r,i,o,s,a,l,c,u,p,v,h,_;let w,b;if("message"in t)w=t.message,b=t.signature;else{let{chain:E,wallet:ne,statement:R,options:N}=t,de;if(We())if(typeof ne=="object")de=ne;else{let _e=window;if("solana"in _e&&typeof _e.solana=="object"&&("signIn"in _e.solana&&typeof _e.solana.signIn=="function"||"signMessage"in _e.solana&&typeof _e.solana.signMessage=="function"))de=_e.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ne!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");de=ne}let ln=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in de&&de.signIn){let _e=yield de.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:ln.host,uri:ln.href}),R?{statement:R}:null)),Ue;if(Array.isArray(_e)&&_e[0]&&typeof _e[0]=="object")Ue=_e[0];else if(_e&&typeof _e=="object"&&"signedMessage"in _e&&"signature"in _e)Ue=_e;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ue&&"signature"in Ue&&(typeof Ue.signedMessage=="string"||Ue.signedMessage instanceof Uint8Array)&&Ue.signature instanceof Uint8Array)w=typeof Ue.signedMessage=="string"?Ue.signedMessage:new TextDecoder().decode(Ue.signedMessage),b=Ue.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in de)||typeof de.signMessage!="function"||!("publicKey"in de)||typeof de!="object"||!de.publicKey||!("toBase58"in de.publicKey)||typeof de.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${ln.host} wants you to sign in with your Solana account:`,de.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${ln.href}`,`Issued At: ${(o=(i=N?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=N?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(p=N?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(Ue=>`- ${Ue}`)]:[]].join(`
`);let _e=yield de.signMessage(new TextEncoder().encode(w),"utf8");if(!_e||!(_e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=_e}}try{let{data:E,error:ne}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Yn(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Kt});if(ne)throw ne;if(!E||!E.session||!E.user){let R=new Mn;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(yield this._saveSession(E.session),yield this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:ne})}catch(E){if(F(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}})}_exchangeCodeForSession(t){return m(this,null,function*(){let r=yield Mr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Kt});if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new Mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),F(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(t){return m(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Kt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let p=new Mn;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(t){return m(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,p=null;this.flowType==="pkce"&&([u,p]=yield vi(this.storage,this.storageKey));let{error:v}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:p}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:p})}throw new Er("You must provide either an email or phone number.")}catch(l){if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(t){return m(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Kt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(F(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(t){return m(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield vi(this.storage,this.storageKey));let u=yield U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:OC});return!((s=u.data)===null||s===void 0)&&s.url&&We()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),F(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return m(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return m(this,null,function*(){try{return yield this._useSession(t=>m(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Ke;let{error:o}=yield U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(t){if(F(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}resend(t){return m(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Er("You must provide either an email or phone number and a type")}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return m(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return this._useSession(r=>m(this,null,function*(){return r}))}))})}_acquireLock(t,r){return m(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=m(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(m(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>m(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(m(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return m(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return m(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<Ou:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield Mr(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=Lu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=xC(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(t){return m(this,null,function*(){if(t)return yield this._getUser(t);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(t){return m(this,null,function*(){try{return t?yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xn}):yield this._useSession(r=>m(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ke}:yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:xn})}))}catch(r){if(F(r))return Gg(r)&&(yield this._removeSession(),yield Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return m(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return m(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>m(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Ke;let l=s.session,c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=yield vi(this.storage,this.storageKey));let{data:p,error:v}=yield U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:xn});if(v)throw v;return l.user=p.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),F(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(t){return m(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return m(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Ke;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Fu(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(t){return m(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Ke;let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(t,r){return m(this,null,function*(){try{if(!We())throw new Dr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vo("No code detected.");let{data:R,error:N}=yield this._exchangeCodeForSession(t.code);if(N)throw N;let de=new URL(window.location.href);return de.searchParams.delete("code"),window.history.replaceState(window.history.state,"",de.toString()),{data:{session:R.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Dr("No session defined in URL");let p=Math.round(Date.now()/1e3),v=parseInt(l),h=p+v;c&&(h=parseInt(c));let _=h-p;_*1e3<=fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);let w=h-v;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,p);let{data:b,error:E}=yield this._getUser(s);if(E)throw E;let ne={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:v,expires_at:h,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:ne,redirectType:t.type},error:null})}catch(i){if(F(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return m(this,null,function*(){let r=yield Mr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return m(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return m(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>m(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(qg(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(yield this._removeSession(),yield Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(t){let r=wC(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),m(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return m(this,null,function*(){return yield this._useSession(r=>m(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return m(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield vi(this.storage,this.storageKey,!0));try{return yield U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return m(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(t){return m(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return m(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>m(this,null,function*(){var a,l,c,u,p;let{data:v,error:h}=s;if(h)throw h;let _=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield U(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(u=v.session)===null||u===void 0?void 0:u.access_token)!==null&&p!==void 0?p:void 0})}));if(o)throw o;return We()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(F(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}})}linkIdentityIdToken(t){return m(this,null,function*(){return yield this._useSession(r=>m(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:p}=t,v=yield U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Kt}),{data:h,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mn}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:_}))}catch(o){if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),F(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(t){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(t){return m(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield DC(o=>m(this,null,function*(){return o>0&&(yield EC(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&ma(s)&&Date.now()+a-i<fi})}catch(i){if(this._debug(r,"error",i),F(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return m(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),We()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return m(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Mr(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield mi(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:Lu()}else if(o&&!o.user&&!o.user){let a=yield Mr(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Ze(this.storage,this.storageKey+"-user"),yield mi(this.storage,this.storageKey,o)):o.user=Lu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ou;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Ou}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),ma(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return m(this,null,function*(){var r,i;if(!t)throw new Ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new va;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Ke;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),F(s)){let a={data:null,error:s};return ma(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return m(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>m(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return m(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield Ze(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield mi(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Jg(o);yield mi(this.storage,this.storageKey,s)}else{let o=Jg(r);yield mi(this.storage,this.storageKey,o)}})}_removeSession(){return m(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Ze(this.storage,this.storageKey),yield Ze(this.storage,this.storageKey+"-code-verifier"),yield Ze(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ze(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&We()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return m(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),fi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>m(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return m(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return m(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return m(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return m(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>m(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>m(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${fi}ms, refresh threshold is ${Tu} ticks`),o<=Tu&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof $o)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return m(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!We()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>m(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return m(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return m(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield vi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(t){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=yield U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}_verify(t){return m(this,null,function*(){return this._acquireLock(-1,()=>m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GC(t.webauthn.credential_response):KC(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=yield U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(t){return m(this,null,function*(){return this._acquireLock(-1,()=>m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:WC(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:qC(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(t){return m(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return m(this,null,function*(){var t;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return m(this,null,function*(){var t,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Fu(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(t){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield U(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ke})}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(t,r){return m(this,null,function*(){try{return yield this._useSession(i=>m(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ke});let a=yield U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&We()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(t,r){return m(this,null,function*(){try{return yield this._useSession(i=>m(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ke});let a=yield U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&We()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(F(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return m(this,null,function*(){try{return yield this._useSession(t=>m(this,null,function*(){let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?yield U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ke})}))}catch(t){if(F(t))return this._returnResult({data:null,error:t});throw t}})}_revokeOAuthGrant(t){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ke})}))}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return m(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+pC>s)return o;let{data:a,error:l}=yield U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return m(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:w,error:b}=yield this.getSession();if(b||!w.session)return this._returnResult({data:null,error:b});o=w.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=Fu(o);r?.allowExpired||IC(a.exp);let p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){let{error:w}=yield this.getUser(o);if(w)throw w;return{data:{claims:a,header:s,signature:l},error:null}}let v=MC(s.alg),h=yield crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!(yield crypto.subtle.verify(v,h,l,yC(`${c}.${u}`))))throw new Sr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(F(o))return this._returnResult({data:null,error:o});throw o}})}}return e.nextInstanceID={},e})(),$u=hR});var pR,JC,YC=j(()=>{"use strict";ju();pR=xr,JC=pR});var gR,QC,XC=j(()=>{"use strict";lm();gR=$u,QC=gR});var cm={};Xo(cm,{AuthAdminApi:()=>JC,AuthApiError:()=>ga,AuthClient:()=>QC,AuthError:()=>Jn,AuthImplicitGrantRedirectError:()=>Dr,AuthInvalidCredentialsError:()=>Er,AuthInvalidJwtError:()=>Sr,AuthInvalidTokenResponseError:()=>Mn,AuthPKCEGrantCodeExchangeError:()=>Vo,AuthRetryableFetchError:()=>hi,AuthSessionMissingError:()=>Ke,AuthUnknownError:()=>kt,AuthWeakPasswordError:()=>Uo,CustomAuthError:()=>an,GoTrueAdminApi:()=>xr,GoTrueClient:()=>$u,NavigatorLockAcquireTimeoutError:()=>_a,SIGN_OUT_SCOPES:()=>ya,isAuthApiError:()=>qg,isAuthError:()=>F,isAuthImplicitGrantRedirectError:()=>Kg,isAuthRetryableFetchError:()=>ma,isAuthSessionMissingError:()=>Gg,isAuthWeakPasswordError:()=>zA,lockInternals:()=>Tr,navigatorLock:()=>Vu,processLock:()=>kC});var um=j(()=>{"use strict";ju();lm();YC();XC();em();pi();rm()});var eE=ft(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.SupabaseAuthClient=void 0;var mR=(um(),xt(cm)),dm=class extends mR.AuthClient{constructor(n){super(n)}};Hu.SupabaseAuthClient=dm});var pm=ft(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});var vR=(tg(),xt(eg)),yR=yg(),_R=(Ng(),xt(Rg)),wR=(iC(),xt(rC)),zu=sC(),bR=aC(),tE=cC(),CR=eE(),fm=class{constructor(n,t,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=t;let a=(0,tE.validateSupabaseUrl)(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:zu.DEFAULT_DB_OPTIONS,realtime:zu.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},zu.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:zu.DEFAULT_GLOBAL_OPTIONS},u=(0,tE.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,bR.fetchWithAuth)(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new yR.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new wR.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new vR.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return m(this,null,function*(){var n,t;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},p,v){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CR.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),p),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new _R.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};hm.default=fm});var iE=ft(Ce=>{"use strict";var ER=Ce&&Ce.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(n,t);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,i)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),nE=Ce&&Ce.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&ER(n,e,t)},rE=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.createClient=Ce.SupabaseClient=Ce.FunctionRegion=Ce.FunctionsError=Ce.FunctionsRelayError=Ce.FunctionsFetchError=Ce.FunctionsHttpError=Ce.PostgrestError=void 0;var DR=rE(pm());nE((um(),xt(cm)),Ce);var SR=yg();Object.defineProperty(Ce,"PostgrestError",{enumerable:!0,get:function(){return SR.PostgrestError}});var wa=(tg(),xt(eg));Object.defineProperty(Ce,"FunctionsHttpError",{enumerable:!0,get:function(){return wa.FunctionsHttpError}});Object.defineProperty(Ce,"FunctionsFetchError",{enumerable:!0,get:function(){return wa.FunctionsFetchError}});Object.defineProperty(Ce,"FunctionsRelayError",{enumerable:!0,get:function(){return wa.FunctionsRelayError}});Object.defineProperty(Ce,"FunctionsError",{enumerable:!0,get:function(){return wa.FunctionsError}});Object.defineProperty(Ce,"FunctionRegion",{enumerable:!0,get:function(){return wa.FunctionRegion}});nE((Ng(),xt(Rg)),Ce);var IR=pm();Object.defineProperty(Ce,"SupabaseClient",{enumerable:!0,get:function(){return rE(IR).default}});var MR=(e,n,t)=>new DR.default(e,n,t);Ce.createClient=MR;function xR(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}xR()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function Dd(e,n){return Object.is(e,n)}var Be=null,Ta=!1,Sd=1,Pt=Symbol("SIGNAL");function re(e){let n=Be;return Be=e,n}function Id(){return Be}var ts={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ns(e){if(Ta)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(e);let n=Be.nextProducerIndex++;if(Na(Be),n<Be.producerNode.length&&Be.producerNode[n]!==e&&es(Be)){let t=Be.producerNode[n];Ra(t,Be.producerIndexOfThis[n])}Be.producerNode[n]!==e&&(Be.producerNode[n]=e,Be.producerIndexOfThis[n]=es(Be)?Om(e,Be,n):0),Be.producerLastReadVersion[n]=e.version}function Tm(){Sd++}function Md(e){if(!(es(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Sd)){if(!e.producerMustRecompute(e)&&!Ad(e)){Ed(e);return}e.producerRecomputeValue(e),Ed(e)}}function xd(e){if(e.liveConsumerNode===void 0)return;let n=Ta;Ta=!0;try{for(let t of e.liveConsumerNode)t.dirty||VE(t)}finally{Ta=n}}function Td(){return Be?.consumerAllowSignalWrites!==!1}function VE(e){e.dirty=!0,xd(e),e.consumerMarkedDirty?.(e)}function Ed(e){e.dirty=!1,e.lastCleanEpoch=Sd}function Aa(e){return e&&(e.nextProducerIndex=0),re(e)}function Od(e,n){if(re(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(es(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Ra(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ad(e){Na(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Md(t),r!==t.version))return!0}return!1}function Rd(e){if(Na(e),es(e))for(let n=0;n<e.producerNode.length;n++)Ra(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Om(e,n,t){if(Am(e),e.liveConsumerNode.length===0&&Rm(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Om(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Ra(e,n){if(Am(e),e.liveConsumerNode.length===1&&Rm(e))for(let r=0;r<e.producerNode.length;r++)Ra(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Na(i),i.producerIndexOfThis[r]=n}}function es(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Na(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Am(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Rm(e){return e.producerNode!==void 0}function Nd(e,n){let t=Object.create(UE);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Md(t),ns(t),t.value===Oa)throw t.error;return t.value};return r[Pt]=t,r}var bd=Symbol("UNSET"),Cd=Symbol("COMPUTING"),Oa=Symbol("ERRORED"),UE=ee(S({},ts),{value:bd,dirty:!0,error:null,equal:Dd,kind:"computed",producerMustRecompute(e){return e.value===bd||e.value===Cd},producerRecomputeValue(e){if(e.value===Cd)throw new Error("Detected cycle in computations.");let n=e.value;e.value=Cd;let t=Aa(e),r,i=!1;try{r=e.computation(),re(null),i=n!==bd&&n!==Oa&&r!==Oa&&e.equal(n,r)}catch(o){r=Oa,e.error=o}finally{Od(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function BE(){throw new Error}var Nm=BE;function km(e){Nm(e)}function kd(e){Nm=e}var $E=null;function Pd(e,n){let t=Object.create(ka);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(ns(t),t.value);return r[Pt]=t,r}function rs(e,n){Td()||km(e),e.equal(e.value,n)||(e.value=n,HE(e))}function Fd(e,n){Td()||km(e),rs(e,n(e.value))}var ka=ee(S({},ts),{equal:Dd,value:void 0,kind:"signal"});function HE(e){e.version++,Tm(),xd(e),$E?.()}function Ld(e){let n=re(null);try{return e()}finally{re(n)}}var jd;function is(){return jd}function Nn(e){let n=jd;return jd=e,n}var Pa=Symbol("NotFound");function G(e){return typeof e=="function"}function Ci(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fa=Ci(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function os(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Ne=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){n=o instanceof Fa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Pm(o)}catch(s){n=n??[],s instanceof Fa?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Fa(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Pm(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&os(t,n)}remove(n){let{_finalizers:t}=this;t&&os(t,n),n instanceof e&&n._removeParent(this)}};Ne.EMPTY=(()=>{let e=new Ne;return e.closed=!0,e})();var Vd=Ne.EMPTY;function La(e){return e instanceof Ne||e&&"closed"in e&&G(e.remove)&&G(e.add)&&G(e.unsubscribe)}function Pm(e){G(e)?e():e.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ei={setTimeout(e,n,...t){let{delegate:r}=Ei;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Ei;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ja(e){Ei.setTimeout(()=>{let{onUnhandledError:n}=Zt;if(n)n(e);else throw e})}function ss(){}var Fm=Ud("C",void 0,void 0);function Lm(e){return Ud("E",void 0,e)}function jm(e){return Ud("N",e,void 0)}function Ud(e,n,t){return{kind:e,value:n,error:t}}var Nr=null;function Di(e){if(Zt.useDeprecatedSynchronousErrorHandling){let n=!Nr;if(n&&(Nr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Nr;if(Nr=null,t)throw r}}else e()}function Vm(e){Zt.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=e)}var kr=class extends Ne{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,La(n)&&n.add(this)):this.destination=ZE}static create(n,t,r){return new Si(n,t,r)}next(n){this.isStopped?$d(jm(n),this):this._next(n)}error(n){this.isStopped?$d(Lm(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?$d(Fm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GE=Function.prototype.bind;function Bd(e,n){return GE.call(e,n)}var Hd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Va(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Va(r)}else Va(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Va(t)}}},Si=class extends kr{constructor(n,t,r){super();let i;if(G(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Bd(n.next,o),error:n.error&&Bd(n.error,o),complete:n.complete&&Bd(n.complete,o)}):i=n}this.destination=new Hd(i)}};function Va(e){Zt.useDeprecatedSynchronousErrorHandling?Vm(e):ja(e)}function KE(e){throw e}function $d(e,n){let{onStoppedNotification:t}=Zt;t&&Ei.setTimeout(()=>t(e,n))}var ZE={closed:!0,next:ss,error:KE,complete:ss};var Ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(e){return e}function zd(...e){return Wd(e)}function Wd(e){return e.length===0?Tt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var fe=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=YE(t)?t:new Si(t,r,i);return Di(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Um(r),new r((i,o)=>{let s=new Si({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ii](){return this}pipe(...t){return Wd(t)(this)}toPromise(t){return t=Um(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Um(e){var n;return(n=e??Zt.Promise)!==null&&n!==void 0?n:Promise}function JE(e){return e&&G(e.next)&&G(e.error)&&G(e.complete)}function YE(e){return e&&e instanceof kr||JE(e)&&La(e)}function qd(e){return G(e?.lift)}function ae(e){return n=>{if(qd(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(e,n,t,r,i){return new Gd(e,n,t,r,i)}var Gd=class extends kr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Mi(){return ae((e,n)=>{let t=null;e._refCount++;let r=ie(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var xi=class extends fe{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ne;let t=this.getSubject();n.add(this.source.subscribe(ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ne.EMPTY)}return n}refCount(){return Mi()(this)}};var Bm=Ci(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class e extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ua(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Bm}next(t){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Vd:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,os(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new fe;return t.source=this,t}}return e.create=(n,t)=>new Ua(n,t),e})(),Ua=class extends ke{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Vd}};var $e=class extends ke{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var ht=new fe(e=>e.complete());function $m(e){return e&&G(e.schedule)}function Hm(e){return e[e.length-1]}function Ba(e){return G(Hm(e))?e.pop():void 0}function tr(e){return $m(Hm(e))?e.pop():void 0}De();var Ga=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ka(e){return G(e?.then)}function Za(e){return G(e[Ii])}function Ja(e){return Symbol.asyncIterator&&G(e?.[Symbol.asyncIterator])}function Ya(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qa=tD();function Xa(e){return G(e?.[Qa])}De();function el(e){return Wa(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield cn(t.read());if(i)return yield cn(void 0);yield yield cn(r)}}finally{t.releaseLock()}})}function tl(e){return G(e?.getReader)}function Pe(e){if(e instanceof fe)return e;if(e!=null){if(Za(e))return nD(e);if(Ga(e))return rD(e);if(Ka(e))return iD(e);if(Ja(e))return hv(e);if(Xa(e))return oD(e);if(tl(e))return sD(e)}throw Ya(e)}function nD(e){return new fe(n=>{let t=e[Ii]();if(G(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rD(e){return new fe(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function iD(e){return new fe(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ja)})}function oD(e){return new fe(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function hv(e){return new fe(n=>{aD(e,n).catch(t=>n.error(t))})}function sD(e){return hv(el(e))}function aD(e,n){var t,r,i,o;return I(this,void 0,void 0,function*(){try{for(t=qa(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function pt(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function nl(e,n=0){return ae((t,r)=>{t.subscribe(ie(r,i=>pt(r,e,()=>r.next(i),n),()=>pt(r,e,()=>r.complete(),n),i=>pt(r,e,()=>r.error(i),n)))})}function rl(e,n=0){return ae((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function pv(e,n){return Pe(e).pipe(rl(n),nl(n))}function gv(e,n){return Pe(e).pipe(rl(n),nl(n))}function mv(e,n){return new fe(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function vv(e,n){return new fe(t=>{let r;return pt(t,n,()=>{r=e[Qa](),pt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function il(e,n){if(!e)throw new Error("Iterable cannot be null");return new fe(t=>{pt(t,n,()=>{let r=e[Symbol.asyncIterator]();pt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yv(e,n){return il(el(e),n)}function _v(e,n){if(e!=null){if(Za(e))return pv(e,n);if(Ga(e))return mv(e,n);if(Ka(e))return gv(e,n);if(Ja(e))return il(e,n);if(Xa(e))return vv(e,n);if(tl(e))return yv(e,n)}throw Ya(e)}function Se(e,n){return n?_v(e,n):Pe(e)}function $(...e){let n=tr(e);return Se(e,n)}function Ti(e,n){let t=G(e)?e:()=>e,r=i=>i.error(t());return new fe(n?i=>n.schedule(r,0,i):r)}function Yd(e){return!!e&&(e instanceof fe||G(e.lift)&&G(e.subscribe))}var Pn=Ci(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(e,n){return ae((t,r)=>{let i=0;t.subscribe(ie(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:lD}=Array;function cD(e,n){return lD(n)?e(...n):e(n)}function ol(e){return oe(n=>cD(e,n))}var{isArray:uD}=Array,{getPrototypeOf:dD,prototype:fD,keys:hD}=Object;function sl(e){if(e.length===1){let n=e[0];if(uD(n))return{args:n,keys:null};if(pD(n)){let t=hD(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function pD(e){return e&&typeof e=="object"&&dD(e)===fD}function al(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function as(...e){let n=tr(e),t=Ba(e),{args:r,keys:i}=sl(e);if(r.length===0)return Se([],n);let o=new fe(gD(r,n,i?s=>al(i,s):Tt));return t?o.pipe(ol(t)):o}function gD(e,n,t=Tt){return r=>{wv(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)wv(n,()=>{let c=Se(e[l],n),u=!1;c.subscribe(ie(r,p=>{o[l]=p,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wv(e,n,t){e?pt(t,e,n):n()}function bv(e,n,t,r,i,o,s,a){let l=[],c=0,u=0,p=!1,v=()=>{p&&!l.length&&!c&&n.complete()},h=w=>c<r?_(w):l.push(w),_=w=>{o&&n.next(w),c++;let b=!1;Pe(t(w,u++)).subscribe(ie(n,E=>{i?.(E),o?h(E):n.next(E)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let E=l.shift();s?pt(n,s,()=>_(E)):_(E)}v()}catch(E){n.error(E)}}))};return e.subscribe(ie(n,h,()=>{p=!0,v()})),()=>{a?.()}}function xe(e,n,t=1/0){return G(n)?xe((r,i)=>oe((o,s)=>n(r,o,i,s))(Pe(e(r,i))),t):(typeof n=="number"&&(t=n),ae((r,i)=>bv(r,i,e,t)))}function Oi(e=1/0){return xe(Tt,e)}function Cv(){return Oi(1)}function Ai(...e){return Cv()(Se(e,tr(e)))}function ll(e){return new fe(n=>{Pe(e()).subscribe(n)})}function Qd(...e){let n=Ba(e),{args:t,keys:r}=sl(e),i=new fe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let p=!1;Pe(t[u]).subscribe(ie(o,v=>{p||(p=!0,c--),a[u]=v},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(r?al(r,a):a),o.complete())}))}});return n?i.pipe(ol(n)):i}function at(e,n){return ae((t,r)=>{let i=0;t.subscribe(ie(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Fn(e){return ae((n,t)=>{let r=null,i=!1,o;r=n.subscribe(ie(t,void 0,void 0,s=>{o=Pe(e(s,Fn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Ev(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(ie(s,u=>{let p=c++;l=a?e(l,u,p):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function nr(e,n){return G(n)?xe(e,n,1):xe(e,1)}function rr(e){return ae((n,t)=>{let r=!1;n.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Ln(e){return e<=0?()=>ht:ae((n,t)=>{let r=0;n.subscribe(ie(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function cl(e=mD){return ae((n,t)=>{let r=!1;n.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function mD(){return new Pn}function ls(e){return ae((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function jn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?at((i,o)=>e(i,o,r)):Tt,Ln(1),t?rr(n):cl(()=>new Pn))}function Ri(e){return e<=0?()=>ht:ae((n,t)=>{let r=[];n.subscribe(ie(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Xd(e,n){let t=arguments.length>=2;return r=>r.pipe(e?at((i,o)=>e(i,o,r)):Tt,Ri(1),t?rr(n):cl(()=>new Pn))}function ef(e,n){return ae(Ev(e,n,arguments.length>=2,!0))}function tf(...e){let n=tr(e);return ae((t,r)=>{(n?Ai(e,t,n):Ai(e,t)).subscribe(r)})}function Ft(e,n){return ae((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ie(r,l=>{i?.unsubscribe();let c=0,u=o++;Pe(e(l,u)).subscribe(i=ie(r,p=>r.next(n?n(l,p,u,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function nf(e){return ae((n,t)=>{Pe(e).subscribe(ie(t,()=>t.complete(),ss)),!t.closed&&n.subscribe(t)})}function Qe(e,n,t){let r=G(e)||n||t?{next:e,error:n,complete:t}:e;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ie(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Tt}var fy="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",k=class extends Error{code;constructor(n,t){super(hy(n,t)),this.code=n}};function vD(e){return`NG0${Math.abs(e)}`}function hy(e,n){return`${vD(e)}${n?": "+n:""}`}var py=Symbol("InputSignalNode#UNSET"),yD=ee(S({},ka),{transformFn:void 0,applyValueToInputSignal(e,n){rs(e,n)}});function gy(e,n){let t=Object.create(yD);t.value=e,t.transformFn=n?.transform;function r(){if(ns(t),t.value===py){let i=null;throw new k(-950,i)}return t.value}return r[Pt]=t,r}function ys(e){return{toString:e}.toString()}var ul="__parameters__";function _D(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function my(e,n,t){return ys(()=>{let r=_D(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let p=l.hasOwnProperty(ul)?l[ul]:Object.defineProperty(l,ul,{value:[]})[ul];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Lr=globalThis;function ve(e){for(let n in e)if(e[n]===ve)return n;throw Error("Could not find renamed property on target object.")}function wD(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function mt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(mt).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Dv(e,n){return e?n?`${e} ${n}`:e:n||""}var bD=ve({__forward_ref__:ve});function Bt(e){return e.__forward_ref__=Bt,e.toString=function(){return mt(this())},e}function lt(e){return vy(e)?e():e}function vy(e){return typeof e=="function"&&e.hasOwnProperty(bD)&&e.__forward_ref__===Bt}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Hn(e){return{providers:e.providers||[],imports:e.imports||[]}}function zl(e){return Sv(e,_y)||Sv(e,wy)}function yy(e){return zl(e)!==null}function Sv(e,n){return e.hasOwnProperty(n)?e[n]:null}function CD(e){let n=e&&(e[_y]||e[wy]);return n||null}function Iv(e){return e&&(e.hasOwnProperty(Mv)||e.hasOwnProperty(ED))?e[Mv]:null}var _y=ve({\u0275prov:ve}),Mv=ve({\u0275inj:ve}),wy=ve({ngInjectableDef:ve}),ED=ve({ngInjectorDef:ve}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function by(e){return e&&!!e.\u0275providers}var DD=ve({\u0275cmp:ve}),SD=ve({\u0275dir:ve}),ID=ve({\u0275pipe:ve}),MD=ve({\u0275mod:ve}),yl=ve({\u0275fac:ve}),fs=ve({__NG_ELEMENT_ID__:ve}),xv=ve({__NG_ENV_ID__:ve});function Vn(e){return typeof e=="string"?e:e==null?"":String(e)}function xD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Vn(e)}function Cy(e,n){throw new k(-200,e)}function sh(e,n){throw new k(-201,!1)}var Y=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Y||{}),yf;function Ey(){return yf}function gt(e){let n=yf;return yf=e,n}function Dy(e,n,t){let r=zl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Y.Optional)return null;if(n!==void 0)return n;sh(e,"Injector")}var TD={},jr=TD,_f="__NG_DI_FLAG__",_l=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?Pa:jr,r)}},wl="ngTempTokenPath",OD="ngTokenPath",AD=/\n/gm,RD="\u0275",Tv="__source";function ND(e,n=Y.Default){if(is()===void 0)throw new k(-203,!1);if(is()===null)return Dy(e,void 0,n);{let t=is(),r;return t instanceof _l?r=t.injector:r=t,r.get(e,n&Y.Optional?null:void 0,n)}}function V(e,n=Y.Default){return(Ey()||ND)(lt(e),n)}function D(e,n=Y.Default){return V(e,Wl(n))}function Wl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function wf(e){let n=[];for(let t=0;t<e.length;t++){let r=lt(e[t]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=Y.Default;for(let s=0;s<r.length;s++){let a=r[s],l=kD(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(V(i,o))}else n.push(V(r))}return n}function Sy(e,n){return e[_f]=n,e.prototype[_f]=n,e}function kD(e){return e[_f]}function PD(e,n,t,r){let i=e[wl];throw n[Tv]&&i.unshift(n[Tv]),e.message=FD(`
`+e.message,i,t,r),e[OD]=i,e[wl]=null,e}function FD(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==RD?e.slice(2):e;let i=mt(n);if(Array.isArray(n))i=n.map(mt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):mt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(AD,`
  `)}`}var LD=Sy(my("Optional"),8);var jD=Sy(my("SkipSelf"),4);function Ur(e,n){let t=e.hasOwnProperty(yl);return t?e[yl]:null}function ah(e,n){e.forEach(t=>Array.isArray(t)?ah(t,n):n(t))}function Iy(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function bl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function VD(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function UD(e,n,t){let r=_s(e,n);return r>=0?e[r|1]=t:(r=~r,VD(e,r,n,t)),r}function rf(e,n){let t=_s(e,n);if(t>=0)return e[t|1]}function _s(e,n){return BD(e,n,1)}function BD(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var Br={},Lt=[],hs=new L(""),My=new L("",-1),xy=new L(""),Cl=class{get(n,t=jr){if(t===jr){let r=new Error(`NullInjectorError: No provider for ${mt(n)}!`);throw r.name="NullInjectorError",r}return t}};function Ty(e,n){let t=e[MD]||null;if(!t&&n===!0)throw new Error(`Type ${mt(e)} does not have '\u0275mod' property.`);return t}function $r(e){return e[DD]||null}function $D(e){return e[SD]||null}function HD(e){return e[ID]||null}function lh(e){return{\u0275providers:e}}function zD(...e){return{\u0275providers:Oy(!0,e),\u0275fromNgModule:!0}}function Oy(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return ah(n,s=>{let a=s;bf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ay(i,o),t}function Ay(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];ch(i,o=>{n(o,r)})}}function bf(e,n,t,r){if(e=lt(e),!e)return!1;let i=null,o=Iv(e),s=!o&&$r(e);if(!o&&!s){let l=e.ngModule;if(o=Iv(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)bf(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{ah(o.imports,u=>{bf(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Ay(c,n)}if(!a){let c=Ur(i)||(()=>new i);n({provide:i,useFactory:c,deps:Lt},i),n({provide:xy,useValue:i,multi:!0},i),n({provide:hs,useValue:()=>V(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;ch(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function ch(e,n){for(let t of e)by(t)&&(t=t.\u0275providers),Array.isArray(t)?ch(t,n):n(t)}var WD=ve({provide:String,useValue:ve});function Ry(e){return e!==null&&typeof e=="object"&&WD in e}function qD(e){return!!(e&&e.useExisting)}function GD(e){return!!(e&&e.useFactory)}function Vi(e){return typeof e=="function"}function KD(e){return!!e.useClass}var ql=new L(""),hl={},Ov={},of;function uh(){return of===void 0&&(of=new Cl),of}var vt=class{},ps=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ef(n,s=>this.processProvider(s)),this.records.set(My,Ni(void 0,this)),i.has("environment")&&this.records.set(vt,Ni(void 0,this));let o=this.records.get(ql);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xy,Lt,Y.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?Pa:jr,r)}destroy(){us(this),this._destroyed=!0;let n=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(n)}}onDestroy(n){return us(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){us(this);let t=Nn(this),r=gt(void 0),i;try{return n()}finally{Nn(t),gt(r)}}get(n,t=jr,r=Y.Default){if(us(this),n.hasOwnProperty(xv))return n[xv](this);r=Wl(r);let i,o=Nn(this),s=gt(void 0);try{if(!(r&Y.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=XD(n)&&zl(n);c&&this.injectableDefInScope(c)?l=Ni(Cf(n),hl):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,r)}let a=r&Y.Self?uh():this.parent;return t=r&Y.Optional&&t===jr?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[wl]=a[wl]||[]).unshift(mt(n)),o)throw a;return PD(a,n,"R3InjectorError",this.source)}else throw a}finally{gt(s),Nn(o)}}resolveInjectorInitializers(){let n=re(null),t=Nn(this),r=gt(void 0),i;try{let o=this.get(hs,Lt,Y.Self);for(let s of o)s()}finally{Nn(t),gt(r),re(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(mt(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=lt(n);let t=Vi(n)?n:lt(n&&n.provide),r=JD(n);if(!Vi(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Ni(void 0,hl,!0),i.factory=()=>wf(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=re(null);try{return t.value===Ov?Cy(mt(n)):t.value===hl&&(t.value=Ov,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&QD(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{re(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=lt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cf(e){let n=zl(e),t=n!==null?n.factory:Ur(e);if(t!==null)return t;if(e instanceof L)throw new k(204,!1);if(e instanceof Function)return ZD(e);throw new k(204,!1)}function ZD(e){if(e.length>0)throw new k(204,!1);let t=CD(e);return t!==null?()=>t.factory(e):()=>new e}function JD(e){if(Ry(e))return Ni(void 0,e.useValue);{let n=Ny(e);return Ni(n,hl)}}function Ny(e,n,t){let r;if(Vi(e)){let i=lt(e);return Ur(i)||Cf(i)}else if(Ry(e))r=()=>lt(e.useValue);else if(GD(e))r=()=>e.useFactory(...wf(e.deps||[]));else if(qD(e))r=(i,o)=>V(lt(e.useExisting),o!==void 0&&o&Y.Optional?Y.Optional:void 0);else{let i=lt(e&&(e.useClass||e.provide));if(YD(e))r=()=>new i(...wf(e.deps));else return Ur(i)||Cf(i)}return r}function us(e){if(e.destroyed)throw new k(205,!1)}function Ni(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function YD(e){return!!e.deps}function QD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function XD(e){return typeof e=="function"||typeof e=="object"&&e instanceof L}function Ef(e,n){for(let t of e)Array.isArray(t)?Ef(t,n):t&&by(t)?Ef(t.\u0275providers,n):n(t)}function $t(e,n){let t;e instanceof ps?(us(e),t=e):t=new _l(e);let r,i=Nn(t),o=gt(void 0);try{return n()}finally{Nn(i),gt(o)}}function ky(){return Ey()!==void 0||is()!=null}function eS(e){if(!ky())throw new k(-203,!1)}function tS(e){return typeof e=="function"}var zn=0,se=1,K=2,ct=3,Yt=4,Qt=5,El=6,Dl=7,yt=8,Ui=9,Un=10,Oe=11,gs=12,Av=13,Ji=14,dn=15,Bi=16,ki=17,$i=18,Gl=19,Py=20,ir=21,sf=22,Sl=23,jt=24,Li=25,_t=26,Fy=1;var Hr=7,Il=8,Ml=9,Vt=10;function or(e){return Array.isArray(e)&&typeof e[Fy]=="object"}function Wn(e){return Array.isArray(e)&&e[Fy]===!0}function dh(e){return(e.flags&4)!==0}function Yi(e){return e.componentOffset>-1}function Kl(e){return(e.flags&1)===1}function fn(e){return!!e.template}function xl(e){return(e[K]&512)!==0}function Qi(e){return(e[K]&256)===256}var Df=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ly(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var sr=(()=>{let e=()=>jy;return e.ngInherit=!0,e})();function jy(e){return e.type.prototype.ngOnChanges&&(e.setInput=rS),nS}function nS(){let e=Uy(this),n=e?.current;if(n){let t=e.previous;if(t===Br)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function rS(e,n,t,r,i){let o=this.declaredInputs[r],s=Uy(e)||iS(e,{previous:Br,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Df(c&&c.currentValue,t,l===Br),Ly(e,n,i,t)}var Vy="__ngSimpleChanges__";function Uy(e){return e[Vy]||null}function iS(e,n){return e[Vy]=n}var Rv=null;var ge=function(e,n=null,t){Rv?.(e,n,t)},By="svg",oS="math";function hn(e){for(;Array.isArray(e);)e=e[zn];return e}function $y(e,n){return hn(n[e])}function vn(e,n){return hn(n[e.index])}function Hy(e,n){return e.data[n]}function fh(e,n){return e[n]}function sS(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function pn(e,n){let t=n[e];return or(t)?t:t[zn]}function hh(e){return(e[K]&128)===128}function aS(e){return Wn(e[ct])}function Hi(e,n){return n==null?null:e[n]}function zy(e){e[ki]=0}function Wy(e){e[K]&1024||(e[K]|=1024,hh(e)&&ws(e))}function lS(e,n){for(;e>0;)n=n[Ji],e--;return n}function Zl(e){return!!(e[K]&9216||e[jt]?.dirty)}function Sf(e){e[Un].changeDetectionScheduler?.notify(8),e[K]&64&&(e[K]|=1024),Zl(e)&&ws(e)}function ws(e){e[Un].changeDetectionScheduler?.notify(0);let n=zr(e);for(;n!==null&&!(n[K]&8192||(n[K]|=8192,!hh(n)));)n=zr(n)}function qy(e,n){if(Qi(e))throw new k(911,!1);e[ir]===null&&(e[ir]=[]),e[ir].push(n)}function cS(e,n){if(e[ir]===null)return;let t=e[ir].indexOf(n);t!==-1&&e[ir].splice(t,1)}function zr(e){let n=e[ct];return Wn(n)?n[ct]:n}function Gy(e){return e[Dl]??=[]}function Ky(e){return e.cleanup??=[]}var X={lFrame:n0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var If=!1;function uS(){return X.lFrame.elementDepthCount}function dS(){X.lFrame.elementDepthCount++}function fS(){X.lFrame.elementDepthCount--}function ph(){return X.bindingsEnabled}function hS(){return X.skipHydrationRootTNode!==null}function pS(e){return X.skipHydrationRootTNode===e}function gS(){X.skipHydrationRootTNode=null}function ce(){return X.lFrame.lView}function Xe(){return X.lFrame.tView}function W(e){return X.lFrame.contextLView=e,e[yt]}function q(e){return X.lFrame.contextLView=null,e}function ut(){let e=Zy();for(;e!==null&&e.type===64;)e=e.parent;return e}function Zy(){return X.lFrame.currentTNode}function mS(){let e=X.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Zr(e,n){let t=X.lFrame;t.currentTNode=e,t.isParent=n}function gh(){return X.lFrame.isParent}function Jy(){X.lFrame.isParent=!1}function vS(){return X.lFrame.contextLView}function Yy(){return If}function Nv(e){let n=If;return If=e,n}function mh(){let e=X.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Qy(){return X.lFrame.bindingIndex}function yS(e){return X.lFrame.bindingIndex=e}function Jl(){return X.lFrame.bindingIndex++}function vh(e){let n=X.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function _S(){return X.lFrame.inI18n}function wS(e,n){let t=X.lFrame;t.bindingIndex=t.bindingRootIndex=e,Mf(n)}function bS(){return X.lFrame.currentDirectiveIndex}function Mf(e){X.lFrame.currentDirectiveIndex=e}function CS(e){let n=X.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Xy(e){X.lFrame.currentQueryIndex=e}function ES(e){let n=e[se];return n.type===2?n.declTNode:n.type===1?e[Qt]:null}function e0(e,n,t){if(t&Y.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&Y.Host);)if(i=ES(o),i===null||(o=o[Ji],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=X.lFrame=t0();return r.currentTNode=n,r.lView=e,!0}function yh(e){let n=t0(),t=e[se];X.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function t0(){let e=X.lFrame,n=e===null?null:e.child;return n===null?n0(e):n}function n0(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function r0(){let e=X.lFrame;return X.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var i0=r0;function _h(){let e=r0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function DS(e){return(X.lFrame.contextLView=lS(e,X.lFrame.contextLView))[yt]}function ar(){return X.lFrame.selectedIndex}function Wr(e){X.lFrame.selectedIndex=e}function Yl(){let e=X.lFrame;return Hy(e.tView,e.selectedIndex)}function o0(){X.lFrame.currentNamespace=By}function SS(){return X.lFrame.currentNamespace}var s0=!0;function Ql(){return s0}function Xl(e){s0=e}function IS(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=jy(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function wh(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function pl(e,n,t){a0(e,n,3,t)}function gl(e,n,t,r){(e[K]&3)===t&&a0(e,n,t,r)}function af(e,n){let t=e[K];(t&3)===n&&(t&=16383,t+=1,e[K]=t)}function a0(e,n,t,r){let i=r!==void 0?e[ki]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[ki]+=65536),(a<o||o==-1)&&(MS(e,t,n,l),e[ki]=(e[ki]&4294901760)+l+2),l++}function kv(e,n){ge(4,e,n);let t=re(null);try{n.call(e)}finally{re(t),ge(5,e,n)}}function MS(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[K]>>14<e[ki]>>16&&(e[K]&3)===n&&(e[K]+=16384,kv(a,o)):kv(a,o)}var ji=-1,qr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function xS(e){return(e.flags&8)!==0}function TS(e){return(e.flags&16)!==0}function OS(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];AS(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function l0(e){return e===3||e===4||e===6}function AS(e){return e.charCodeAt(0)===64}function zi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Pv(e,t,i,null,n[++r]):Pv(e,t,i,null,null))}}return e}function Pv(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function c0(e){return e!==ji}function Tl(e){return e&32767}function RS(e){return e>>16}function Ol(e,n){let t=RS(e),r=n;for(;t>0;)r=r[Ji],t--;return r}var xf=!0;function Al(e){let n=xf;return xf=e,n}var NS=256,u0=NS-1,d0=5,kS=0,un={};function PS(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(fs)&&(r=t[fs]),r==null&&(r=t[fs]=kS++);let i=r&u0,o=1<<i;n.data[e+(i>>d0)]|=o}function Rl(e,n){let t=f0(e,n);if(t!==-1)return t;let r=n[se];r.firstCreatePass&&(e.injectorIndex=n.length,lf(r.data,e),lf(n,null),lf(r.blueprint,null));let i=bh(e,n),o=e.injectorIndex;if(c0(i)){let s=Tl(i),a=Ol(i,n),l=a[se].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function lf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function f0(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function bh(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=v0(i),r===null)return ji;if(t++,i=i[Ji],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ji}function Tf(e,n,t){PS(e,n,t)}function FS(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(l0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function h0(e,n,t){if(t&Y.Optional||e!==void 0)return e;sh(n,"NodeInjector")}function p0(e,n,t,r){if(t&Y.Optional&&r===void 0&&(r=null),(t&(Y.Self|Y.Host))===0){let i=e[Ui],o=gt(void 0);try{return i?i.get(n,r,t&Y.Optional):Dy(n,r,t&Y.Optional)}finally{gt(o)}}return h0(r,n,t)}function g0(e,n,t,r=Y.Default,i){if(e!==null){if(n[K]&2048&&!(r&Y.Self)){let s=BS(e,n,t,r,un);if(s!==un)return s}let o=m0(e,n,t,r,un);if(o!==un)return o}return p0(n,t,r,i)}function m0(e,n,t,r,i){let o=VS(t);if(typeof o=="function"){if(!e0(n,e,r))return r&Y.Host?h0(i,t,r):p0(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Y.Optional))sh(t);else return s}finally{i0()}}else if(typeof o=="number"){let s=null,a=f0(e,n),l=ji,c=r&Y.Host?n[dn][Qt]:null;for((a===-1||r&Y.SkipSelf)&&(l=a===-1?bh(e,n):n[a+8],l===ji||!Lv(r,!1)?a=-1:(s=n[se],a=Tl(l),n=Ol(l,n)));a!==-1;){let u=n[se];if(Fv(o,a,u.data)){let p=LS(a,n,t,s,r,c);if(p!==un)return p}l=n[a+8],l!==ji&&Lv(r,n[se].data[a+8]===c)&&Fv(o,a,n)?(s=u,a=Tl(l),n=Ol(l,n)):a=-1}}return i}function LS(e,n,t,r,i,o){let s=n[se],a=s.data[e+8],l=r==null?Yi(a)&&xf:r!=s&&(a.type&3)!==0,c=i&Y.Host&&o===a,u=jS(a,s,t,l,c);return u!==null?Nl(n,s,u,a,i):un}function jS(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,p=r?a:a+u,v=i?a+u:c;for(let h=p;h<v;h++){let _=s[h];if(h<l&&t===_||h>=l&&_.type===t)return h}if(i){let h=s[l];if(h&&fn(h)&&h.type===t)return l}return null}function Nl(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof qr){let a=o;a.resolving&&Cy(xD(s[t]));let l=Al(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?gt(a.injectImpl):null,p=e0(e,r,Y.Default);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&IS(t,s[t],n)}finally{u!==null&&gt(u),Al(l),a.resolving=!1,i0()}}return o}function VS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(fs)?e[fs]:void 0;return typeof n=="number"?n>=0?n&u0:US:n}function Fv(e,n,t){let r=1<<e;return!!(t[n+(e>>d0)]&r)}function Lv(e,n){return!(e&Y.Self)&&!(e&Y.Host&&n)}var Vr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return g0(this._tNode,this._lView,n,Wl(r),t)}};function US(){return new Vr(ut(),ce())}function Xt(e){return ys(()=>{let n=e.prototype.constructor,t=n[yl]||Of(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[yl]||Of(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Of(e){return vy(e)?()=>{let n=Of(lt(e));return n&&n()}:Ur(e)}function BS(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[K]&2048&&!xl(s);){let a=m0(o,s,t,r|Y.Self,un);if(a!==un)return a;let l=o.parent;if(!l){let c=s[Py];if(c){let u=c.get(t,un,r);if(u!==un)return u}l=v0(s),s=s[Ji]}o=l}return i}function v0(e){let n=e[se],t=n.type;return t===2?n.declTNode:t===1?e[Qt]:null}function Ch(e){return FS(ut(),e)}function jv(e,n=null,t=null,r){let i=y0(e,n,t,r);return i.resolveInjectorInitializers(),i}function y0(e,n=null,t=null,r,i=new Set){let o=[t||Lt,zD(e)];return r=r||(typeof e=="object"?void 0:mt(e)),new ps(o,n||uh(),r||null,i)}var Ut=class e{static THROW_IF_NOT_FOUND=jr;static NULL=new Cl;static create(n,t){if(Array.isArray(n))return jv({name:""},t,n,"");{let r=n.name??"";return jv({name:r},n.parent,n.providers,r)}}static \u0275prov=P({token:e,providedIn:"any",factory:()=>V(My)});static __NG_ELEMENT_ID__=-1};var $S=new L("");$S.__NG_ELEMENT_ID__=e=>{let n=ut();if(n===null)throw new k(204,!1);if(n.type&2)return n.value;if(e&Y.Optional)return null;throw new k(204,!1)};var _0=!1,bs=(()=>{class e{static __NG_ELEMENT_ID__=HS;static __NG_ENV_ID__=t=>t}return e})(),Af=class extends bs{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return Qi(t)?(n(),()=>{}):(qy(t,n),()=>cS(t,n))}};function HS(){return new Af(ce())}var Wi=class{},w0=new L("",{providedIn:"root",factory:()=>!1});var b0=new L(""),C0=new L(""),Xi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new $e(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})();var Rf=class extends ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,ky()&&(this.destroyRef=D(bs,{optional:!0})??void 0,this.pendingTasks=D(Xi,{optional:!0})??void 0)}emit(n){let t=re(null);try{super.next(n)}finally{re(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Ne&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Te=Rf;function kl(...e){}function E0(e){let n,t;function r(){e=kl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Vv(e){return queueMicrotask(()=>e()),()=>{e=kl}}var Eh="isAngularZone",Pl=Eh+"_ID",zS=0,Fe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Te(!1);onMicrotaskEmpty=new Te(!1);onStable=new Te(!1);onError=new Te(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_0}=n;if(typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,GS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Eh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new k(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,WS,kl,kl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},WS={};function Dh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){E0(()=>{e.callbackScheduled=!1,Nf(e),e.isCheckStableRunning=!0,Dh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Nf(e)}function GS(e){let n=()=>{qS(e)},t=zS++;e._inner=e._inner.fork({name:"angular",properties:{[Eh]:!0,[Pl]:t,[Pl+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(KS(l))return r.invokeTask(o,s,a,l);try{return Uv(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Bv(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Uv(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!ZS(l)&&n(),Bv(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Nf(e),Dh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Nf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Uv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bv(e){e._nesting--,Dh(e)}var kf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Te;onMicrotaskEmpty=new Te;onStable=new Te;onError=new Te;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function KS(e){return D0(e,"__ignore_ng_zone__")}function ZS(e){return D0(e,"__scheduler_tick__")}function D0(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var gn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},JS=new L("",{providedIn:"root",factory:()=>{let e=D(Fe),n=D(gn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function $v(e,n){return gy(e,n)}function YS(e){return gy(py,e)}var S0=($v.required=YS,$v);function QS(){return ec(ut(),ce())}function ec(e,n){return new en(vn(e,n))}var en=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=QS}return e})();function XS(e){return typeof e=="function"&&e[Pt]!==void 0}function Cs(e,n){let t=Pd(e,n?.equal),r=t[Pt];return t.set=i=>rs(r,i),t.update=i=>Fd(r,i),t.asReadonly=eI.bind(t),t}function eI(){let e=this[Pt];if(e.readonlyFn===void 0){let n=()=>this();n[Pt]=e,e.readonlyFn=n}return e.readonlyFn}function I0(e){return XS(e)&&typeof e.set=="function"}function M0(e){return(e.flags&128)===128}var x0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(x0||{}),T0=new Map,tI=0;function nI(){return tI++}function rI(e){T0.set(e[Gl],e)}function Pf(e){T0.delete(e[Gl])}var Hv="__ngContext__";function eo(e,n){or(n)?(e[Hv]=n[Gl],rI(n)):e[Hv]=n}function O0(e){return R0(e[gs])}function A0(e){return R0(e[Yt])}function R0(e){for(;e!==null&&!Wn(e);)e=e[Yt];return e}var Ff;function N0(e){Ff=e}function iI(){if(Ff!==void 0)return Ff;if(typeof document<"u")return document;throw new k(210,!1)}var Sh=new L("",{providedIn:"root",factory:()=>oI}),oI="ng",Ih=new L(""),to=new L("",{providedIn:"platform",factory:()=>"unknown"});var Mh=new L("",{providedIn:"root",factory:()=>iI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sI="h",aI="b";var k0=!1,lI=new L("",{providedIn:"root",factory:()=>k0});var xh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(xh||{}),no=new L(""),zv=new Set;function Es(e){zv.has(e)||(zv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var P0=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=cI}return e})();function cI(){return new P0(ce(),ut())}var Pi=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Pi||{}),F0=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})(),uI=[Pi.EarlyRead,Pi.Write,Pi.MixedReadWrite,Pi.Read],dI=(()=>{class e{ngZone=D(Fe);scheduler=D(Wi);errorHandler=D(gn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(no,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ge(16),this.executing=!0;for(let r of uI)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ge(17)}register(t){let{view:r}=t;r!==void 0?((r[Li]??=[]).push(t),ws(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(xh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})(),Lf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Li];n&&(this.view[Li]=n.filter(t=>t!==this))}};function Th(e,n){!n?.injector&&eS(Th);let t=n?.injector??D(Ut);return Es("NgAfterNextRender"),hI(e,t,n,!0)}function fI(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function hI(e,n,t,r){let i=n.get(F0);i.impl??=n.get(dI);let o=n.get(no,null,{optional:!0}),s=t?.phase??Pi.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(bs):null,l=n.get(P0,null,{optional:!0}),c=new Lf(i.impl,fI(e,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var pI=(e,n,t,r)=>{};function gI(e,n,t,r){pI(e,n,t,r)}var mI=()=>null;function L0(e,n,t=!1){return mI(e,n,t)}function j0(e,n){let t=e.contentQueries;if(t!==null){let r=re(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Xy(o),a.contentQueries(2,n[s],s)}}}finally{re(r)}}}function jf(e,n,t){Xy(0);let r=re(null);try{n(e,t)}finally{re(r)}}function Oh(e,n,t){if(dh(n)){let r=re(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{re(r)}}}var mn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(mn||{});var dl;function vI(){if(dl===void 0&&(dl=null,Lr.trustedTypes))try{dl=Lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dl}function Wv(e){return vI()?.createScriptURL(e)||e}var Fl=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fy})`}};function tc(e){return e instanceof Fl?e.changingThisBreaksApplicationSecurity:e}function V0(e,n){let t=yI(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${fy})`)}return t===n}function yI(e){return e instanceof Fl&&e.getTypeName()||null}var _I=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wI(e){return e=String(e),e.match(_I)?e:"unsafe:"+e}var bI=/^>|^->|<!--|-->|--!>|<!-$/g,CI=/(<|>)/g,EI="\u200B$1\u200B";function DI(e){return e.replace(bI,n=>n.replace(CI,EI))}function SI(e,n){return e.createText(n)}function II(e,n,t){e.setValue(n,t)}function MI(e,n){return e.createComment(DI(n))}function U0(e,n,t){return e.createElement(n,t)}function Ll(e,n,t,r,i){e.insertBefore(n,t,r,i)}function B0(e,n,t){e.appendChild(n,t)}function qv(e,n,t,r,i){r!==null?Ll(e,n,t,r,i):B0(e,n,t)}function xI(e,n,t){e.removeChild(null,n,t)}function TI(e,n,t){e.setAttribute(n,"style",t)}function OI(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function $0(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&OS(e,n,r),i!==null&&OI(e,n,i),o!==null&&TI(e,n,o)}var Ah=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ah||{});function et(e){let n=z0();return n?n.sanitize(Ah.URL,e)||"":V0(e,"URL")?tc(e):wI(Vn(e))}function AI(e){let n=z0();if(n)return Wv(n.sanitize(Ah.RESOURCE_URL,e)||"");if(V0(e,"ResourceURL"))return Wv(tc(e));throw new k(904,!1)}function RI(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?AI:et}function H0(e,n,t){return RI(n,t)(e)}function z0(){let e=ce();return e&&e[Un].sanitizer}function W0(e){return e instanceof Function?e():e}function NI(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var q0="ng-template";function kI(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&NI(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Rh(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Rh(e){return e.type===4&&e.value!==q0}function PI(e,n,t){let r=e.type===4&&!t?q0:e.value;return n===r}function FI(e,n,t){let r=4,i=e.attrs,o=i!==null?VI(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Jt(r)&&!Jt(l))return!1;if(s&&Jt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!PI(e,l,t)||l===""&&n.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!kI(e,i,l,t)){if(Jt(r))return!1;s=!0}}else{let c=n[++a],u=LI(l,i,Rh(e),t);if(u===-1){if(Jt(r))return!1;s=!0;continue}if(c!==""){let p;if(u>o?p="":p=i[u+1].toLowerCase(),r&2&&c!==p){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(e){return(e&1)===0}function LI(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return UI(n,e)}function jI(e,n,t=!1){for(let r=0;r<n.length;r++)if(FI(e,n[r],t))return!0;return!1}function VI(e){for(let n=0;n<e.length;n++){let t=e[n];if(l0(t))return n}return e.length}function UI(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Gv(e,n){return e?":not("+n.trim()+")":n}function BI(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(n+=Gv(o,i),i=""),r=s,o=o||!Jt(r);t++}return i!==""&&(n+=Gv(o,i)),n}function $I(e){return e.map(BI).join(",")}function HI(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Jt(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Ot={};function Nh(e,n,t,r,i,o,s,a,l,c,u){let p=_t+r,v=p+i,h=zI(p,v),_=typeof c=="function"?c():c;return h[se]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function zI(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ot);return t}function WI(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Nh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function kh(e,n,t,r,i,o,s,a,l,c,u){let p=n.blueprint.slice();return p[zn]=i,p[K]=r|4|128|8|64|1024,(c!==null||e&&e[K]&2048)&&(p[K]|=2048),zy(p),p[ct]=p[Ji]=e,p[yt]=t,p[Un]=s||e&&e[Un],p[Oe]=a||e&&e[Oe],p[Ui]=l||e&&e[Ui]||null,p[Qt]=o,p[Gl]=nI(),p[El]=u,p[Py]=c,p[dn]=n.type==2?e[dn]:p,p}function qI(e,n,t){let r=vn(n,e),i=WI(t),o=e[Un].rendererFactory,s=Ph(e,kh(e,i,null,G0(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function G0(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function K0(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ph(e,n){return e[gs]?e[Av][Yt]=n:e[gs]=n,e[Av]=n,n}function y(e=1){Z0(Xe(),ce(),ar()+e,!1)}function Z0(e,n,t,r){if(!r)if((n[K]&3)===3){let o=e.preOrderCheckHooks;o!==null&&pl(n,o,t)}else{let o=e.preOrderHooks;o!==null&&gl(n,o,0,t)}Wr(t)}var nc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(nc||{});function Vf(e,n,t,r){let i=re(null);try{let[o,s,a]=e.inputs[t],l=null;(s&nc.SignalBased)!==0&&(l=n[o][Pt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,o):Ly(n,l,o,r)}finally{re(i)}}function J0(e,n,t,r,i){let o=ar(),s=r&2;try{Wr(-1),s&&n.length>_t&&Z0(e,n,_t,!1),ge(s?2:0,i),t(r,i)}finally{Wr(o),ge(s?3:1,i)}}function rc(e,n,t){QI(e,n,t),(t.flags&64)===64&&XI(e,n,t)}function Fh(e,n,t=vn){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function GI(e,n,t,r){let o=r.get(lI,k0)||t===mn.ShadowDom,s=e.selectRootElement(n,o);return KI(s),s}function KI(e){ZI(e)}var ZI=()=>null;function JI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Lh(e,n,t,r,i,o,s,a){if(!a&&Vh(n,e,t,r,i)){Yi(n)&&YI(t,n.index);return}if(n.type&3){let l=vn(n,t);r=JI(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)}else n.type&12}function YI(e,n){let t=pn(n,e);t[K]&16||(t[K]|=64)}function QI(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Yi(t)&&qI(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Rl(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Nl(n,e,s,t);if(eo(l,n),o!==null&&rM(n,s-r,l,a,t,o),fn(a)){let c=pn(t.index,n);c[yt]=Nl(n,e,s,t)}}}function XI(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=bS();try{Wr(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];Mf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&eM(l,c)}}finally{Wr(-1),Mf(s)}}function eM(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function jh(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];jI(n,o.selectors,!1)&&(r??=[],fn(o)?r.unshift(o):r.push(o))}return r}function tM(e,n,t,r,i,o){let s=vn(e,n);nM(n[Oe],s,o,e.value,t,r,i)}function nM(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Vn(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function rM(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Vf(r,t,l,c)}}function iM(e,n){let t=e[Ui],r=t?t.get(gn,null):null;r&&r.handleError(n)}function Vh(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],p=n.data[c];Vf(p,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=n.data[l];Vf(u,c,r,i),a=!0}return a}function oM(e,n){let t=pn(n,e),r=t[se];sM(r,t);let i=t[zn];i!==null&&t[El]===null&&(t[El]=L0(i,t[Ui])),ge(18),Uh(r,t,t[yt]),ge(19,t[yt])}function sM(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Uh(e,n,t){yh(n);try{let r=e.viewQuery;r!==null&&jf(1,r,t);let i=e.template;i!==null&&J0(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[$i]?.finishViewCreation(e),e.staticContentQueries&&j0(e,n),e.staticViewQueries&&jf(2,e.viewQuery,t);let o=e.components;o!==null&&aM(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[K]&=-5,_h()}}function aM(e,n){for(let t=0;t<n.length;t++)oM(e,n[t])}function lM(e,n,t,r){let i=re(null);try{let o=n.tView,a=e[K]&4096?4096:16,l=kh(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[Bi]=c;let u=e[$i];return u!==null&&(l[$i]=u.createEmbeddedView(o)),Uh(o,l,t),l}finally{re(i)}}function Kv(e,n){return!n||n.firstChild===null||M0(e)}var cM;function Bh(e,n){return cM(e,n)}var Bn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bn||{});function Y0(e){return(e.flags&32)===32}function Fi(e,n,t,r,i){if(r!=null){let o,s=!1;Wn(r)?o=r:or(r)&&(s=!0,r=r[zn]);let a=hn(r);e===0&&t!==null?i==null?B0(n,t,a):Ll(n,t,a,i||null,!0):e===1&&t!==null?Ll(n,t,a,i||null,!0):e===2?xI(n,a,s):e===3&&n.destroyNode(a),o!=null&&bM(n,e,o,t,i)}}function uM(e,n){Q0(e,n),n[zn]=null,n[Qt]=null}function dM(e,n,t,r,i,o){r[zn]=i,r[Qt]=n,oc(e,r,t,1,i,o)}function Q0(e,n){n[Un].changeDetectionScheduler?.notify(9),oc(e,n,n[Oe],2,null,null)}function fM(e){let n=e[gs];if(!n)return cf(e[se],e);for(;n;){let t=null;if(or(n))t=n[gs];else{let r=n[Vt];r&&(t=r)}if(!t){for(;n&&!n[Yt]&&n!==e;)or(n)&&cf(n[se],n),n=n[ct];n===null&&(n=e),or(n)&&cf(n[se],n),t=n&&n[Yt]}n=t}}function $h(e,n){let t=e[Ml],r=t.indexOf(n);t.splice(r,1)}function X0(e,n){if(Qi(n))return;let t=n[Oe];t.destroyNode&&oc(e,n,t,3,null,null),fM(n)}function cf(e,n){if(Qi(n))return;let t=re(null);try{n[K]&=-129,n[K]|=256,n[jt]&&Rd(n[jt]),pM(e,n),hM(e,n),n[se].type===1&&n[Oe].destroy();let r=n[Bi];if(r!==null&&Wn(n[ct])){r!==n[ct]&&$h(r,n);let i=n[$i];i!==null&&i.detachView(e)}Pf(n)}finally{re(t)}}function hM(e,n){let t=e.cleanup,r=n[Dl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Dl]=null);let i=n[ir];if(i!==null){n[ir]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Sl];if(o!==null){n[Sl]=null;for(let s of o)s.destroy()}}function pM(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof qr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ge(4,a,l);try{l.call(a)}finally{ge(5,a,l)}}else{ge(4,i,o);try{o.call(i)}finally{ge(5,i,o)}}}}}function gM(e,n,t){return mM(e,n.parent,t)}function mM(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[zn];if(Yi(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===mn.None||i===mn.Emulated)return null}return vn(r,t)}function vM(e,n,t){return _M(e,n,t)}function yM(e,n,t){return e.type&40?vn(e,t):null}var _M=yM,Zv;function ic(e,n,t,r){let i=gM(e,r,n),o=n[Oe],s=r.parent||n[Qt],a=vM(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)qv(o,i,t[l],a,!1);else qv(o,i,t,a,!1);Zv!==void 0&&Zv(o,r,n,t,i)}function ds(e,n){if(n!==null){let t=n.type;if(t&3)return vn(n,e);if(t&4)return Uf(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return ds(e,r);{let i=e[n.index];return Wn(i)?Uf(-1,i):hn(i)}}else{if(t&128)return ds(e,n.next);if(t&32)return Bh(n,e)()||hn(e[n.index]);{let r=e_(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=zr(e[dn]);return ds(i,r)}else return ds(e,n.next)}}}return null}function e_(e,n){if(n!==null){let r=e[dn][Qt],i=n.projection;return r.projection[i]}return null}function Uf(e,n){let t=Vt+e+1;if(t<n.length){let r=n[t],i=r[se].firstChild;if(i!==null)return ds(r,i)}return n[Hr]}function Hh(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&eo(hn(a),r),t.flags|=2),!Y0(t))if(l&8)Hh(e,n,t.child,r,i,o,!1),Fi(n,e,i,a,o);else if(l&32){let c=Bh(t,r),u;for(;u=c();)Fi(n,e,i,u,o);Fi(n,e,i,a,o)}else l&16?wM(e,n,r,t,i,o):Fi(n,e,i,a,o);t=s?t.projectionNext:t.next}}function oc(e,n,t,r,i,o){Hh(t,r,e.firstChild,n,i,o,!1)}function wM(e,n,t,r,i,o){let s=t[dn],l=s[Qt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Fi(n,e,i,u,o)}else{let c=l,u=s[ct];M0(r)&&(c.flags|=128),Hh(e,n,c,u,i,o,!0)}}function bM(e,n,t,r,i){let o=t[Hr],s=hn(t);o!==s&&Fi(n,e,r,o,i);for(let a=Vt;a<t.length;a++){let l=t[a];oc(l[se],l,e,n,r,o)}}function CM(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),e.setStyle(t,r,i,o))}}function jl(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(hn(o)),Wn(o)&&EM(o,r);let s=t.type;if(s&8)jl(e,n,t.child,r);else if(s&32){let a=Bh(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=e_(n,t);if(Array.isArray(a))r.push(...a);else{let l=zr(n[dn]);jl(l[se],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function EM(e,n){for(let t=Vt;t<e.length;t++){let r=e[t],i=r[se].firstChild;i!==null&&jl(r[se],r,i,n)}e[Hr]!==e[zn]&&n.push(e[Hr])}function t_(e){if(e[Li]!==null){for(let n of e[Li])n.impl.addSequence(n);e[Li].length=0}}var n_=[];function DM(e){return e[jt]??SM(e)}function SM(e){let n=n_.pop()??Object.create(MM);return n.lView=e,n}function IM(e){e.lView[jt]!==e&&(e.lView=null,n_.push(e))}var MM=ee(S({},ts),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ws(e.lView)},consumerOnSignalRead(){this.lView[jt]=this}});function xM(e){let n=e[jt]??Object.create(TM);return n.lView=e,n}var TM=ee(S({},ts),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=zr(e.lView);for(;n&&!r_(n[se]);)n=zr(n);n&&Wy(n)},consumerOnSignalRead(){this.lView[jt]=this}});function r_(e){return e.type!==2}function i_(e){if(e[Sl]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Sl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[K]&8192)}}var OM=100;function o_(e,n=!0,t=0){let i=e[Un].rendererFactory,o=!1;o||i.begin?.();try{AM(e,t)}catch(s){throw n&&iM(e,s),s}finally{o||i.end?.()}}function AM(e,n){let t=Yy();try{Nv(!0),Bf(e,n);let r=0;for(;Zl(e);){if(r===OM)throw new k(103,!1);r++,Bf(e,1)}}finally{Nv(t)}}function RM(e,n,t,r){if(Qi(n))return;let i=n[K],o=!1,s=!1;yh(n);let a=!0,l=null,c=null;o||(r_(e)?(c=DM(n),l=Aa(c)):Id()===null?(a=!1,c=xM(n),l=Aa(c)):n[jt]&&(Rd(n[jt]),n[jt]=null));try{zy(n),yS(e.bindingStartIndex),t!==null&&J0(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&pl(n,h,null)}else{let h=e.preOrderHooks;h!==null&&gl(n,h,0,null),af(n,0)}if(s||NM(n),i_(n),s_(n,0),e.contentQueries!==null&&j0(e,n),!o)if(u){let h=e.contentCheckHooks;h!==null&&pl(n,h)}else{let h=e.contentHooks;h!==null&&gl(n,h,1),af(n,1)}PM(e,n);let p=e.components;p!==null&&l_(n,p,0);let v=e.viewQuery;if(v!==null&&jf(2,v,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&pl(n,h)}else{let h=e.viewHooks;h!==null&&gl(n,h,2),af(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[sf]){for(let h of n[sf])h();n[sf]=null}o||(t_(n),n[K]&=-73)}catch(u){throw o||ws(n),u}finally{c!==null&&(Od(c,l),a&&IM(c)),_h()}}function s_(e,n){for(let t=O0(e);t!==null;t=A0(t))for(let r=Vt;r<t.length;r++){let i=t[r];a_(i,n)}}function NM(e){for(let n=O0(e);n!==null;n=A0(n)){if(!(n[K]&2))continue;let t=n[Ml];for(let r=0;r<t.length;r++){let i=t[r];Wy(i)}}}function kM(e,n,t){ge(18);let r=pn(n,e);a_(r,t),ge(19,r[yt])}function a_(e,n){hh(e)&&Bf(e,n)}function Bf(e,n){let r=e[se],i=e[K],o=e[jt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ad(o)),s||=!1,o&&(o.dirty=!1),e[K]&=-9217,s)RM(r,e,r.template,e[yt]);else if(i&8192){i_(e),s_(e,1);let a=r.components;a!==null&&l_(e,a,1),t_(e)}}function l_(e,n,t){for(let r=0;r<n.length;r++)kM(e,n[r],t)}function PM(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Wr(~i);else{let o=i,s=t[++r],a=t[++r];wS(s,o);let l=n[o];ge(24,l),a(2,l),ge(25,l)}}}finally{Wr(-1)}}function zh(e,n){let t=Yy()?64:1088;for(e[Un].changeDetectionScheduler?.notify(n);e;){e[K]|=t;let r=zr(e);if(xl(e)&&!r)return e;e=r}return null}function c_(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function FM(e,n,t,r=!0){let i=n[se];if(LM(i,n,e,t),r){let s=Uf(t,e),a=n[Oe],l=a.parentNode(e[Hr]);l!==null&&dM(i,e[Qt],a,n,l,s)}let o=n[El];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $f(e,n){if(e.length<=Vt)return;let t=Vt+n,r=e[t];if(r){let i=r[Bi];i!==null&&i!==e&&$h(i,r),n>0&&(e[t-1][Yt]=r[Yt]);let o=bl(e,Vt+n);uM(r[se],r);let s=o[$i];s!==null&&s.detachView(o[se]),r[ct]=null,r[Yt]=null,r[K]&=-129}return r}function LM(e,n,t,r){let i=Vt+r,o=t.length;r>0&&(t[i-1][Yt]=n),r<o-Vt?(n[Yt]=t[i],Iy(t,Vt+r,n)):(t.push(n),n[Yt]=null),n[ct]=t;let s=n[Bi];s!==null&&t!==s&&u_(s,n);let a=n[$i];a!==null&&a.insertView(e),Sf(n),n[K]|=128}function u_(e,n){let t=e[Ml],r=n[ct];if(or(r))e[K]|=2;else{let i=r[ct][dn];n[dn]!==i&&(e[K]|=2)}t===null?e[Ml]=[n]:t.push(n)}var ms=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[se];return jl(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[yt]}set context(n){this._lView[yt]=n}get destroyed(){return Qi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ct];if(Wn(n)){let t=n[Il],r=t?t.indexOf(this):-1;r>-1&&($f(n,r),bl(t,r))}this._attachedToViewContainer=!1}X0(this._lView[se],this._lView)}onDestroy(n){qy(this._lView,n)}markForCheck(){zh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Sf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,o_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=xl(this._lView),t=this._lView[Bi];t!==null&&!n&&$h(t,this._lView),Q0(this._lView[se],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=n;let t=xl(this._lView),r=this._lView[Bi];r!==null&&!t&&u_(r,this._lView),Sf(this._lView)}};var sc=(()=>{class e{static __NG_ELEMENT_ID__=UM}return e})(),jM=sc,VM=class extends jM{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=lM(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new ms(i)}};function UM(){return d_(ut(),ce())}function d_(e,n){return e.type&4?new VM(n,e,ec(e,n)):null}function ac(e,n,t,r,i){let o=e.data[n];if(o===null)o=BM(e,n,t,r,i),_S()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=mS();o.injectorIndex=s===null?-1:s.injectorIndex}return Zr(o,!0),o}function BM(e,n,t,r,i){let o=Zy(),s=gh(),a=s?o:o&&o.parent,l=e.data[n]=HM(e,a,t,n,r,i);return $M(e,l,o,s),l}function $M(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function HM(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return hS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Yj=new RegExp(`^(\\d+)*(${aI}|${sI})*(.*)`);var zM=()=>null;function Jv(e,n){return zM(e,n)}var WM=class{},f_=class{},Hf=class{resolveComponentFactory(n){throw Error(`No component factory found for ${mt(n)}.`)}},lc=class{static NULL=new Hf},qi=class{},yn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>qM()}return e})();function qM(){let e=ce(),n=ut(),t=pn(n.index,e);return(or(t)?t:e)[Oe]}var GM=(()=>{class e{static \u0275prov=P({token:e,providedIn:"root",factory:()=>null})}return e})();var uf={},zf=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Wl(r);let i=this.injector.get(n,uf,r);return i!==uf||t===uf?i:this.parentInjector.get(n,t,r)}};function Wf(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Dv(i,a);else if(o==2){let l=a,c=n[++s];r=Dv(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function A(e,n=Y.Default){let t=ce();if(t===null)return V(e,n);let r=ut();return g0(r,t,lt(e),n)}function h_(){let e="invalid";throw new Error(e)}function Wh(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a,l=null,c=null,u=ZM(s);u===null?a=s:[a,l,c]=u,QM(e,n,t,a,o,l,c)}o!==null&&r!==null&&KM(t,r,o)}function KM(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new k(-301,!1);r.push(n[i],o)}}function ZM(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&fn(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,JM(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,i,o]):null}function JM(e,n,t,r){let i=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[i,n.length-1])}function YM(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function QM(e,n,t,r,i,o,s){let a=r.length,l=!1;for(let v=0;v<a;v++){let h=r[v];!l&&fn(h)&&(l=!0,YM(e,t,v)),Tf(Rl(t,n),e,h.type)}ix(t,e.data.length,a);for(let v=0;v<a;v++){let h=r[v];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,p=K0(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let h=r[v];if(t.mergedAttrs=zi(t.mergedAttrs,h.hostAttrs),ex(e,t,n,p,h),rx(p,h,i),s!==null&&s.has(h)){let[w,b]=s.get(h);t.directiveToIndex.set(h.type,[p,w+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,p);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let _=h.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),p++}XM(e,t,o)}function XM(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))Yv(0,n,i,r),Yv(1,n,i,r),Xv(n,r,!1);else{let o=t.get(i);Qv(0,n,o,r),Qv(1,n,o,r),Xv(n,r,!0)}}}function Yv(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),p_(n,o)}}function Qv(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),p_(n,s)}}function p_(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Xv(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Rh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ex(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new qr(o,fn(i),A);e.blueprint[r]=s,t[r]=s,tx(e,n,r,K0(e,t,i.hostVars,Ot),i)}function tx(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;nx(s)!=a&&s.push(a),s.push(t,r,o)}}function nx(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function rx(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;fn(n)&&(t[""]=e)}}function ix(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function g_(e,n,t,r,i,o,s,a){let l=n.consts,c=Hi(l,s),u=ac(n,e,2,r,c);return o&&Wh(n,t,u,Hi(l,a),i),u.mergedAttrs=zi(u.mergedAttrs,u.attrs),u.attrs!==null&&Wf(u,u.attrs,!1),u.mergedAttrs!==null&&Wf(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function m_(e,n){wh(e,n),dh(n)&&e.queries.elementEnd(n)}var Vl=class extends lc{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=$r(n);return new Gi(t,this.ngModule)}};function ox(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&nc.SignalBased)!==0};return i&&(o.transform=i),o})}function sx(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function ax(e,n,t){let r=n instanceof vt?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new zf(t,r):t}function lx(e){let n=e.get(qi,null);if(n===null)throw new k(407,!1);let t=e.get(GM,null),r=e.get(Wi,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function cx(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return U0(n,t,t==="svg"?By:t==="math"?oS:null)}var Gi=class extends f_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ox(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=sx(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=$I(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){ge(22);let o=re(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:HI(this.componentDef.selectors[0]),l=Nh(0,null,null,1,0,null,null,null,null,[a],null),c=ax(s,i||this.ngModule,n),u=lx(c),p=u.rendererFactory.createRenderer(null,s),v=r?GI(p,r,s.encapsulation,c):cx(s,p),h=kh(null,l,null,512|G0(s),null,null,u,p,c,null,L0(v,c,!0));h[_t]=v,yh(h);let _=null;try{let w=g_(_t,l,h,"#host",()=>[this.componentDef],!0,0);v&&($0(p,v,w),eo(v,h)),rc(l,h,w),Oh(l,w,h),m_(l,w),t!==void 0&&ux(w,this.ngContentSelectors,t),_=pn(w.index,h),h[yt]=_[yt],Uh(l,h,null)}catch(w){throw _!==null&&Pf(_),Pf(h),w}finally{ge(23),_h()}return new qf(this.componentType,h)}finally{re(o)}}},qf=class extends WM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Hy(t[se],_t),this.location=ec(this._tNode,t),this.instance=pn(this._tNode.index,t)[yt],this.hostView=this.changeDetectorRef=new ms(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=Vh(r,i[se],i,n,t);this.previousInputValues.set(n,t);let s=pn(r.index,i);zh(s,1)}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function ux(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ro=(()=>{class e{static __NG_ELEMENT_ID__=dx}return e})();function dx(){let e=ut();return hx(e,ce())}var fx=ro,v_=class extends fx{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ec(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let n=bh(this._hostTNode,this._hostLView);if(c0(n)){let t=Ol(n,this._hostLView),r=Tl(n),i=t[se].data[r+8];return new Vr(i,t)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=ey(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jv(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Kv(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!tS(n),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?n:new Gi($r(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?c:this.parentInjector).get(vt,null);w&&(o=w)}let u=$r(l.componentType??{}),p=Jv(this._lContainer,u?.id??null),v=p?.firstChild??null,h=l.create(c,i,v,o);return this.insertImpl(h.hostView,a,Kv(this._hostTNode,p)),h}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(aS(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[ct],c=new v_(l,l[Qt],l[ct]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return FM(s,i,o,r),n.attachToViewContainerRef(),Iy(df(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=ey(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=$f(this._lContainer,t);r&&(bl(df(this._lContainer),t),X0(r[se],r))}detach(n){let t=this._adjustIndex(n,-1),r=$f(this._lContainer,t);return r&&bl(df(this._lContainer),t)!=null?new ms(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function ey(e){return e[Il]}function df(e){return e[Il]||(e[Il]=[])}function hx(e,n){let t,r=n[e.index];return Wn(r)?t=r:(t=c_(r,n,null,e),n[e.index]=t,Ph(n,t)),gx(t,n,e,r),new v_(t,e,n)}function px(e,n){let t=e[Oe],r=t.createComment(""),i=vn(n,e),o=t.parentNode(i);return Ll(t,o,r,t.nextSibling(i),!1),r}var gx=yx,mx=()=>!1;function vx(e,n,t){return mx(e,n,t)}function yx(e,n,t,r){if(e[Hr])return;let i;t.type&8?i=hn(r):i=px(n,t),e[Hr]=i}var Ki=class{},qh=class{};var Gf=class extends Ki{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Vl(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Ty(n);this._bootstrapComponents=W0(o.bootstrap),this._r3Injector=y0(n,t,[{provide:Ki,useValue:this},{provide:lc,useValue:this.componentFactoryResolver},...r],mt(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Kf=class extends qh{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Gf(this.moduleType,n,[])}};var Ul=class extends Ki{injector;componentFactoryResolver=new Vl(this);instance=null;constructor(n){super();let t=new ps([...n.providers,{provide:Ki,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],n.parent||uh(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ds(e,n,t=null){return new Ul({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var _x=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Oy(!1,t.type),i=r.length>0?Ds([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(V(vt))})}return e})();function z(e){return ys(()=>{let n=y_(e),t=ee(S({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===x0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(_x).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||mn.Emulated,styles:e.styles||Lt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Es("NgStandalone"),__(t);let r=e.dependencies;return t.directiveDefs=ty(r,!1),t.pipeDefs=ty(r,!0),t.id=Dx(t),t})}function wx(e){return $r(e)||$D(e)}function bx(e){return e!==null}function qn(e){return ys(()=>({type:e.type,bootstrap:e.bootstrap||Lt,declarations:e.declarations||Lt,imports:e.imports||Lt,exports:e.exports||Lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Cx(e,n){if(e==null)return Br;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=nc.None,l=null),t[o]=[r,a,l],n[o]=s}return t}function Ex(e){if(e==null)return Br;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function we(e){return ys(()=>{let n=y_(e);return __(n),n})}function Gh(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function y_(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Br,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Lt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cx(e.inputs,n),outputs:Ex(e.outputs),debugInfo:null}}function __(e){e.features?.forEach(n=>n(e))}function ty(e,n){if(!e)return null;let t=n?HD:wx;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(bx)}function Dx(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Sx(e){return Object.getPrototypeOf(e.prototype).constructor}function wt(e){let n=Sx(e.type),t=!0,r=[e];for(;n;){let i;if(fn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new k(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=ff(e.inputs),s.declaredInputs=ff(e.declaredInputs),s.outputs=ff(e.outputs);let a=i.hostBindings;a&&Ox(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&xx(e,l),c&&Tx(e,c),Ix(e,i),wD(e.outputs,i.outputs),fn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===wt&&(t=!1)}}n=Object.getPrototypeOf(n)}Mx(r)}function Ix(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function Mx(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=zi(i.hostAttrs,t=zi(t,i.hostAttrs))}}function ff(e){return e===Br?{}:e===Lt?[]:e}function xx(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function Tx(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function Ox(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function w_(e){return Rx(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Ax(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function Rx(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Kh(e,n,t){return e[n]=t}function Nx(e,n){return e[n]}function $n(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Zh(e,n,t,r){let i=$n(e,n,t);return $n(e,n+1,r)||i}function kx(e,n,t,r,i){let o=Zh(e,n,t,r);return $n(e,n+2,i)||o}function Px(e,n,t,r,i,o,s,a,l){let c=n.consts,u=ac(n,e,4,s||null,a||null);ph()&&Wh(n,t,u,Hi(c,l),jh),u.mergedAttrs=zi(u.mergedAttrs,u.attrs),wh(n,u);let p=u.tView=Nh(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),p.queries=n.queries.embeddedTView(u)),u}function Fx(e,n,t,r,i,o,s,a,l,c){let u=t+_t,p=n.firstCreatePass?Px(u,n,e,r,i,o,s,a,l):n.data[u];Zr(p,!1);let v=Lx(n,e,p,t);Ql()&&ic(n,e,v,p),eo(v,e);let h=c_(v,e,v,p);return e[u]=h,Ph(e,h),vx(h,p,e),Kl(p)&&rc(n,e,p),l!=null&&Fh(e,p,c),p}function B(e,n,t,r,i,o,s,a){let l=ce(),c=Xe(),u=Hi(c.consts,o);return Fx(l,c,e,n,t,r,i,u,s,a),B}var Lx=jx;function jx(e,n,t,r){return Xl(!0),n[Oe].createComment("")}var b_=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var C_=new L("");var Vx=(()=>{class e{static \u0275prov=P({token:e,providedIn:"root",factory:()=>new Zf})}return e})(),Zf=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function lr(e){return!!e&&typeof e.then=="function"}function Jh(e){return!!e&&typeof e.subscribe=="function"}var E_=new L("");function Yh(e){return lh([{provide:E_,multi:!0,useValue:e}])}var D_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=D(E_,{optional:!0})??[];injector=D(Ut);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=$t(this.injector,i);if(lr(o))t.push(o);else if(Jh(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cc=new L("");function Ux(){kd(()=>{throw new k(600,!1)})}function Bx(e){return e.isBoundToModule}var $x=10;var Gr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(JS);afterRenderManager=D(F0);zonelessEnabled=D(w0);rootEffectScheduler=D(Vx);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ke;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=D(Xi).hasPendingTasks.pipe(oe(t=>!t));constructor(){D(no,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=D(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ut.NULL){ge(10);let o=t instanceof f_;if(!this._injector.get(D_).done){let h="";throw new k(405,h)}let a;o?a=t:a=this._injector.get(lc).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=Bx(a)?void 0:this._injector.get(Ki),c=r||a.selector,u=a.create(i,[],c,l),p=u.location.nativeElement,v=u.injector.get(C_,null);return v?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),ml(this.components,u),v?.unregisterApplication(p)}),this._loadComponent(u),ge(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new k(101,!1);let t=re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<$x;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Hx(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Zl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ml(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ml(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ml(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Hx(e,n,t,r){if(!t&&!Zl(e))return;o_(e,n,t&&!r?0:1)}function bt(e,n,t,r){let i=ce(),o=Jl();if($n(i,o,n)){let s=Xe(),a=Yl();tM(a,i,e,n,t,r)}return bt}function S_(e,n,t,r){return $n(e,Jl(),t)?n+Vn(t)+r:Ot}function zx(e,n,t,r,i,o){let s=Qy(),a=Zh(e,s,t,i);return vh(2),a?n+Vn(t)+r+Vn(i)+o:Ot}function Wx(e,n,t,r,i,o,s,a){let l=Qy(),c=kx(e,l,t,i,s);return vh(3),c?n+Vn(t)+r+Vn(i)+o+Vn(s)+a:Ot}function fl(e,n){return e<<17|n<<2}function Kr(e){return e>>17&32767}function qx(e){return(e&2)==2}function Gx(e,n){return e&131071|n<<17}function Jf(e){return e|2}function Zi(e){return(e&131068)>>2}function hf(e,n){return e&-131069|n<<2}function Kx(e){return(e&1)===1}function Yf(e){return e|1}function Zx(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Kr(s),l=Zi(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let p=t;u=p[1],(u===null||_s(p,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let v=Kr(e[a+1]);e[r+1]=fl(v,a),v!==0&&(e[v+1]=hf(e[v+1],r)),e[a+1]=Gx(e[a+1],r)}else e[r+1]=fl(a,0),a!==0&&(e[a+1]=hf(e[a+1],r)),a=r;else e[r+1]=fl(l,0),a===0?a=r:e[l+1]=hf(e[l+1],r),l=r;c&&(e[r+1]=Jf(e[r+1])),ny(e,u,r,!0),ny(e,u,r,!1),Jx(n,u,e,r,o),s=fl(a,l),o?n.classBindings=s:n.styleBindings=s}function Jx(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&_s(o,n)>=0&&(t[r+1]=Yf(t[r+1]))}function ny(e,n,t,r){let i=e[t+1],o=n===null,s=r?Kr(i):Zi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];Yx(l,n)&&(a=!0,e[s+1]=r?Yf(c):Jf(c)),s=r?Kr(c):Zi(c)}a&&(e[t+1]=r?Jf(i):Yf(i))}function Yx(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?_s(e,n)>=0:!1}function C(e,n,t){let r=ce(),i=Jl();if($n(r,i,n)){let o=Xe(),s=Yl();Lh(o,s,r,e,n,r[Oe],t,!1)}return C}function ry(e,n,t,r,i){Vh(n,e,t,i?"class":"style",r)}function Ss(e,n,t){return I_(e,n,t,!1),Ss}function cr(e,n){return I_(e,n,null,!0),cr}function I_(e,n,t,r){let i=ce(),o=Xe(),s=vh(2);if(o.firstUpdatePass&&Xx(o,e,s,r),n!==Ot&&$n(i,s,n)){let a=o.data[ar()];iT(o,a,i,i[Oe],e,i[s+1]=oT(n,t),r,s)}}function Qx(e,n){return n>=e.expandoStartIndex}function Xx(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[ar()],s=Qx(e,t);sT(o,r)&&n===null&&!s&&(n=!1),n=eT(i,o,n,r),Zx(i,o,n,t,s,r)}}function eT(e,n,t,r){let i=CS(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=pf(null,e,n,t,r),t=vs(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=pf(i,e,n,t,r),o===null){let l=tT(e,n,r);l!==void 0&&Array.isArray(l)&&(l=pf(null,e,n,l[1],r),l=vs(l,n.attrs,r),nT(e,n,r,l))}else o=rT(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function tT(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Zi(r)!==0)return e[Kr(r)]}function nT(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Kr(i)]=r}function rT(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=vs(r,s,t)}return vs(r,n.attrs,t)}function pf(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=vs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function vs(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),UD(e,s,t?!0:n[++o]))}return e===void 0?null:e}function iT(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=Kx(c)?iy(l,n,t,i,Zi(c),s):void 0;if(!Bl(u)){Bl(o)||qx(c)&&(o=iy(l,null,t,i,a,s));let p=$y(ar(),t);CM(r,s,p,i,o)}}function iy(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,p=u===null,v=t[i+1];v===Ot&&(v=p?Lt:void 0);let h=p?rf(v,r):u===r?v:void 0;if(c&&!Bl(h)&&(h=rf(l,r)),Bl(h)&&(a=h,s))return a;let _=e[i+1];i=s?Kr(_):Zi(_)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=rf(l,r))}return a}function Bl(e){return e!==void 0}function oT(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=mt(tc(e)))),e}function sT(e,n){return(e.flags&(n?8:16))!==0}function d(e,n,t,r){let i=ce(),o=Xe(),s=_t+e,a=i[Oe],l=o.firstCreatePass?g_(s,o,i,n,jh,ph(),t,r):o.data[s],c=aT(o,i,l,a,n,e);i[s]=c;let u=Kl(l);return Zr(l,!0),$0(a,c,l),!Y0(l)&&Ql()&&ic(o,i,c,l),(uS()===0||u)&&eo(c,i),dS(),u&&(rc(o,i,l),Oh(o,l,i)),r!==null&&Fh(i,l),d}function f(){let e=ut();gh()?Jy():(e=e.parent,Zr(e,!1));let n=e;pS(n)&&gS(),fS();let t=Xe();return t.firstCreatePass&&m_(t,n),n.classesWithoutHost!=null&&xS(n)&&ry(t,n,ce(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&TS(n)&&ry(t,n,ce(),n.stylesWithoutHost,!1),f}function M(e,n,t,r){return d(e,n,t,r),f(),M}var aT=(e,n,t,r,i,o)=>(Xl(!0),U0(r,i,SS()));function lT(e,n,t,r,i){let o=n.consts,s=Hi(o,r),a=ac(n,e,8,"ng-container",s);s!==null&&Wf(a,s,!0);let l=Hi(o,i);return ph()&&Wh(n,t,a,l,jh),a.mergedAttrs=zi(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function Jr(e,n,t){let r=ce(),i=Xe(),o=e+_t,s=i.firstCreatePass?lT(o,i,r,n,t):i.data[o];Zr(s,!0);let a=cT(i,r,s,e);return r[o]=a,Ql()&&ic(i,r,a,s),eo(a,r),Kl(s)&&(rc(i,r,s),Oh(i,s,r)),t!=null&&Fh(r,s),Jr}function Yr(){let e=ut(),n=Xe();return gh()?Jy():(e=e.parent,Zr(e,!1)),n.firstCreatePass&&(wh(n,e),dh(e)&&n.queries.elementEnd(e)),Yr}var cT=(e,n,t,r)=>(Xl(!0),MI(n[Oe],""));function Me(){return ce()}var Fr=void 0;function uT(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var dT=["en",[["a","p"],["AM","PM"],Fr],[["AM","PM"],Fr,Fr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fr,"{1} 'at' {0}",Fr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",uT],gf={};function Ht(e){let n=fT(e),t=oy(n);if(t)return t;let r=n.split("-")[0];if(t=oy(r),t)return t;if(r==="en")return dT;throw new k(701,!1)}function oy(e){return e in gf||(gf[e]=Lr.ng&&Lr.ng.common&&Lr.ng.common.locales&&Lr.ng.common.locales[e]),gf[e]}var Ae=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ae||{});function fT(e){return e.toLowerCase().replace(/_/g,"-")}var $l="en-US";var hT=$l;function pT(e){typeof e=="string"&&(hT=e.toLowerCase().replace(/_/g,"-"))}function sy(e,n,t){return function r(i){if(i===Function)return t;let o=Yi(e)?pn(e.index,n):n;zh(o,5);let s=n[yt],a=ay(n,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=ay(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function ay(e,n,t,r){let i=re(null);try{return ge(6,n,t),t(r)!==!1}catch(o){return gT(e,o),!1}finally{ge(7,n,t),re(i)}}function gT(e,n){let t=e[Ui],r=t?t.get(gn,null):null;r&&r.handleError(n)}function ly(e,n,t,r,i,o){let s=n[t],a=n[se],c=a.data[t].outputs[r],u=s[c],p=a.firstCreatePass?Ky(a):null,v=Gy(n),h=u.subscribe(o),_=v.length;v.push(o,h),p&&p.push(i,e.index,_,-(_+1))}function H(e,n,t,r){let i=ce(),o=Xe(),s=ut();return M_(o,i,i[Oe],s,e,n,r),H}function mT(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[Dl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function M_(e,n,t,r,i,o,s){let a=Kl(r),c=e.firstCreatePass?Ky(e):null,u=Gy(n),p=!0;if(r.type&3||s){let v=vn(r,n),h=s?s(v):v,_=u.length,w=s?E=>s(hn(E[r.index])):r.index,b=null;if(!s&&a&&(b=mT(e,n,i,r.index)),b!==null){let E=b.__ngLastListenerFn__||b;E.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,p=!1}else{o=sy(r,n,o),gI(n,h,i,o);let E=t.listen(h,i,o);u.push(o,E),c&&c.push(i,w,_,_+1)}}else o=sy(r,n,o);if(p){let v=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let _=0;_<h.length;_+=2){let w=h[_],b=h[_+1];ly(r,n,w,b,i,o)}if(v&&v.length)for(let _ of v)ly(r,n,_,i,i,o)}}function Q(e=1){return DS(e)}function Is(e,n,t){return uc(e,"",n,"",t),Is}function uc(e,n,t,r,i){let o=ce(),s=S_(o,n,t,r);if(s!==Ot){let a=Xe(),l=Yl();Lh(a,l,o,e,s,o[Oe],i,!1)}return uc}function io(e){let n=vS();return fh(n,_t+e)}function g(e,n=""){let t=ce(),r=Xe(),i=e+_t,o=r.firstCreatePass?ac(r,i,1,n,null):r.data[i],s=vT(r,t,o,n,e);t[i]=s,Ql()&&ic(r,t,s,o),Zr(o,!1)}var vT=(e,n,t,r,i)=>(Xl(!0),SI(n[Oe],r));function te(e){return Ct("",e,""),te}function Ct(e,n,t){let r=ce(),i=S_(r,e,n,t);return i!==Ot&&ep(r,ar(),i),Ct}function Qh(e,n,t,r,i){let o=ce(),s=zx(o,e,n,t,r,i);return s!==Ot&&ep(o,ar(),s),Qh}function Xh(e,n,t,r,i,o,s){let a=ce(),l=Wx(a,e,n,t,r,i,o,s);return l!==Ot&&ep(a,ar(),l),Xh}function ep(e,n,t){let r=$y(n,e);II(e[Oe],r,t)}function x(e,n,t){I0(n)&&(n=n());let r=ce(),i=Jl();if($n(r,i,n)){let o=Xe(),s=Yl();Lh(o,s,r,e,n,r[Oe],t,!1)}return x}function O(e,n){let t=I0(e);return t&&e.set(n),t}function T(e,n){let t=ce(),r=Xe(),i=ut();return M_(r,t,t[Oe],i,e,n),T}function yT(e,n,t){let r=Xe();if(r.firstCreatePass){let i=fn(e);Qf(t,r.data,r.blueprint,i,!0),Qf(n,r.data,r.blueprint,i,!1)}}function Qf(e,n,t,r,i){if(e=lt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Qf(e[o],n,t,r,i);else{let o=Xe(),s=ce(),a=ut(),l=Vi(e)?e:lt(e.provide),c=Ny(e),u=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(Vi(e)||!e.multi){let h=new qr(c,i,A),_=vf(l,n,i?u:u+v,p);_===-1?(Tf(Rl(a,s),o,l),mf(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[_]=h,s[_]=h)}else{let h=vf(l,n,u+v,p),_=vf(l,n,u,u+v),w=h>=0&&t[h],b=_>=0&&t[_];if(i&&!b||!i&&!w){Tf(Rl(a,s),o,l);let E=bT(i?wT:_T,t.length,i,r,c);!i&&b&&(t[_].providerFactory=E),mf(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(E),s.push(E)}else{let E=x_(t[i?_:h],c,!i&&r);mf(o,e,h>-1?h:_,E)}!i&&r&&b&&t[_].componentProviders++}}}function mf(e,n,t,r){let i=Vi(n),o=KD(n);if(i||o){let l=(o?lt(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function x_(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function vf(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function _T(e,n,t,r,i){return Xf(this.multi,[])}function wT(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Nl(r,r[se],this.providerFactory.index,i);s=l.slice(0,a),Xf(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Xf(o,s);return s}function Xf(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function bT(e,n,t,r,i){let o=new qr(e,t,A);return o.multi=[],o.index=n,o.componentProviders=0,x_(o,i,r&&!t),o}function _n(e,n=[]){return t=>{t.providersResolver=(r,i)=>yT(r,i?i(e):e,n)}}function T_(e,n,t){let r=mh()+e,i=ce();return i[r]===Ot?Kh(i,r,t?n.call(t):n()):Nx(i,r)}function O_(e,n){let t=e[n];return t===Ot?void 0:t}function CT(e,n,t,r,i,o){let s=n+t;return $n(e,s,i)?Kh(e,s+1,o?r.call(o,i):r(i)):O_(e,s+1)}function ET(e,n,t,r,i,o,s){let a=n+t;return Zh(e,a,i,o)?Kh(e,a+2,s?r.call(s,i,o):r(i,o)):O_(e,a+2)}function oo(e,n){let t=Xe(),r,i=e+_t;t.firstCreatePass?(r=DT(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ur(r.type,!0)),s,a=gt(A);try{let l=Al(!1),c=o();return Al(l),sS(t,ce(),i,c),c}finally{gt(a)}}function DT(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function dc(e,n,t){let r=e+_t,i=ce(),o=fh(i,r);return R_(i,r)?CT(i,mh(),n,o.transform,t,o):o.transform(t)}function A_(e,n,t,r){let i=e+_t,o=ce(),s=fh(o,i);return R_(o,i)?ET(o,mh(),n,s.transform,t,r,s):s.transform(t,r)}function R_(e,n){return e[se].data[n].pure}function N_(e,n){return d_(e,n)}var eh=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},k_=(()=>{class e{compileModuleSync(t){return new Kf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ty(t),o=W0(i.declarations).reduce((s,a)=>{let l=$r(a);return l&&s.push(new Gi(l)),s},[]);return new eh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ST=(()=>{class e{zone=D(Fe);changeDetectionScheduler=D(Wi);applicationRef=D(Gr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IT({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Fe(ee(S({},MT()),{scheduleInRootZone:t})),[{provide:Fe,useFactory:e},{provide:hs,multi:!0,useFactory:()=>{let r=D(ST,{optional:!0});return()=>r.initialize()}},{provide:hs,multi:!0,useFactory:()=>{let r=D(xT);return()=>{r.initialize()}}},n===!0?{provide:b0,useValue:!0}:[],{provide:C0,useValue:t??_0}]}function MT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var xT=(()=>{class e{subscription=new Ne;initialized=!1;zone=D(Fe);pendingTasks=D(Xi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var TT=(()=>{class e{appRef=D(Gr);taskService=D(Xi);ngZone=D(Fe);zonelessEnabled=D(w0);tracing=D(no,{optional:!0});disableScheduling=D(b0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(C0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Vv:E0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Vv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OT(){return typeof $localize<"u"&&$localize.locale||$l}var fc=new L("",{providedIn:"root",factory:()=>D(fc,Y.Optional|Y.SkipSelf)||OT()});var th=new L(""),AT=new L("");function cs(e){return!e.moduleRef}function RT(e){let n=cs(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Fe);return t.run(()=>{cs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(gn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),cs(e)){let o=()=>n.destroy(),s=e.platformInjector.get(th);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(th);s.add(o),e.moduleRef.onDestroy(()=>{ml(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return kT(r,t,()=>{let o=n.get(D_);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(fc,$l);if(pT(s||$l),!n.get(AT,!0))return cs(e)?n.get(Gr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(cs(e)){let l=n.get(Gr);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return NT(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function NT(e,n){let t=e.injector.get(Gr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new k(-403,!1);n.push(e)}function kT(e,n,t){try{let r=t();return lr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var vl=null;function PT(e=[],n){return Ut.create({name:n,providers:[{provide:ql,useValue:"platform"},{provide:th,useValue:new Set([()=>vl=null])},...e]})}function FT(e=[]){if(vl)return vl;let n=PT(e);return vl=n,Ux(),LT(n),n}function LT(e){let n=e.get(Ih,null);$t(e,()=>{n?.forEach(t=>t())})}var ur=(()=>{class e{static __NG_ELEMENT_ID__=jT}return e})();function jT(e){return VT(ut(),ce(),(e&16)===16)}function VT(e,n,t){if(Yi(e)&&!t){let r=pn(e.index,n);return new ms(r,r)}else if(e.type&175){let r=n[dn];return new ms(r,n)}return null}var nh=class{constructor(){}supports(n){return w_(n)}create(n){return new rh(n)}},UT=(e,n)=>n,rh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||UT}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<cy(r,i,o)?t:r,a=cy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let v=0;v<c;v++){let h=v<o.length?o[v]:o[v]=0,_=h+v;u<=_&&_<c&&(o[v]=h+1)}let p=s.previousIndex;o[p]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!w_(n))throw new k(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Ax(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new ih(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Hl),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},ih=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},oh=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Hl=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new oh,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cy(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function uy(){return new tp([new nh])}var tp=(()=>{class e{factories;static \u0275prov=P({token:e,providedIn:"root",factory:uy});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||uy()),deps:[[e,new jD,new LD]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new k(901,!1)}}return e})();function P_(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;ge(8);try{let o=i?.injector??FT(r),s=[IT({}),{provide:Wi,useExisting:TT},...t||[]],a=new Ul({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return RT({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{ge(9)}}function dr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function tn(e){return Ld(e)}function Ms(e,n){return Nd(e,n?.equal)}var dy=class{[Pt];constructor(n){this[Pt]=n}destroy(){this[Pt].destroy()}};function F_(e){let n=$r(e);if(!n)return null;let t=new Gi(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var qe=new L("");var V_=null;function zt(){return V_}function np(e){V_??=e}var xs=class{},Ts=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>D(U_),providedIn:"platform"})}return e})(),rp=new L(""),U_=(()=>{class e extends Ts{_location;_history;_doc=D(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zt().getBaseHref(this._doc)}onPopState(t){let r=zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function hc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function L_(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function nn(e){return e&&e[0]!=="?"?`?${e}`:e}var Wt=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>D(gc),providedIn:"root"})}return e})(),pc=new L(""),gc=(()=>{class e extends Wt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return hc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+nn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+nn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+nn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(V(Ts),V(pc,8))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wn=(()=>{class e{_subject=new ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=HT(L_(j_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+nn(r))}normalize(t){return e.stripTrailingSlash($T(this._basePath,j_(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=nn;static joinWithSlash=hc;static stripTrailingSlash=L_;static \u0275fac=function(r){return new(r||e)(V(Wt))};static \u0275prov=P({token:e,factory:()=>BT(),providedIn:"root"})}return e})();function BT(){return new wn(V(Wt))}function $T(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function j_(e){return e.replace(/\/index.html$/,"")}function HT(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Dc=(()=>{class e extends Wt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=hc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+nn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+nn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(V(Ts),V(pc,8))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();var nt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(nt||{}),me=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(me||{}),Et=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Et||{}),Kn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W_(e){return Ht(e)[Ae.LocaleId]}function q_(e,n,t){let r=Ht(e),i=[r[Ae.DayPeriodsFormat],r[Ae.DayPeriodsStandalone]],o=qt(i,n);return qt(o,t)}function G_(e,n,t){let r=Ht(e),i=[r[Ae.DaysFormat],r[Ae.DaysStandalone]],o=qt(i,n);return qt(o,t)}function K_(e,n,t){let r=Ht(e),i=[r[Ae.MonthsFormat],r[Ae.MonthsStandalone]],o=qt(i,n);return qt(o,t)}function Z_(e,n){let r=Ht(e)[Ae.Eras];return qt(r,n)}function Os(e,n){let t=Ht(e);return qt(t[Ae.DateFormat],n)}function As(e,n){let t=Ht(e);return qt(t[Ae.TimeFormat],n)}function Rs(e,n){let r=Ht(e)[Ae.DateTimeFormat];return qt(r,n)}function Ns(e,n){let t=Ht(e),r=t[Ae.NumberSymbols][n];if(typeof r>"u"){if(n===Kn.CurrencyDecimal)return t[Ae.NumberSymbols][Kn.Decimal];if(n===Kn.CurrencyGroup)return t[Ae.NumberSymbols][Kn.Group]}return r}function J_(e){if(!e[Ae.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ae.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Y_(e){let n=Ht(e);return J_(n),(n[Ae.ExtraData][2]||[]).map(r=>typeof r=="string"?ip(r):[ip(r[0]),ip(r[1])])}function Q_(e,n,t){let r=Ht(e);J_(r);let i=[r[Ae.ExtraData][0],r[Ae.ExtraData][1]],o=qt(i,n)||[];return qt(o,t)||[]}function qt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function ip(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var zT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mc={},WT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function X_(e,n,t,r){let i=e1(e);n=Gn(t,n)||n;let s=[],a;for(;n;)if(a=WT.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=tw(r,l),i=XT(i,r));let c="";return s.forEach(u=>{let p=YT(u);c+=p?p(i,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function bc(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Gn(e,n){let t=W_(e);if(mc[t]??={},mc[t][n])return mc[t][n];let r="";switch(n){case"shortDate":r=Os(e,Et.Short);break;case"mediumDate":r=Os(e,Et.Medium);break;case"longDate":r=Os(e,Et.Long);break;case"fullDate":r=Os(e,Et.Full);break;case"shortTime":r=As(e,Et.Short);break;case"mediumTime":r=As(e,Et.Medium);break;case"longTime":r=As(e,Et.Long);break;case"fullTime":r=As(e,Et.Full);break;case"short":let i=Gn(e,"shortTime"),o=Gn(e,"shortDate");r=vc(Rs(e,Et.Short),[i,o]);break;case"medium":let s=Gn(e,"mediumTime"),a=Gn(e,"mediumDate");r=vc(Rs(e,Et.Medium),[s,a]);break;case"long":let l=Gn(e,"longTime"),c=Gn(e,"longDate");r=vc(Rs(e,Et.Long),[l,c]);break;case"full":let u=Gn(e,"fullTime"),p=Gn(e,"fullDate");r=vc(Rs(e,Et.Full),[u,p]);break}return r&&(mc[t][n]=r),r}function vc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function rn(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function qT(e,n){return rn(e,3).substring(0,n)}function Le(e,n,t=0,r=!1,i=!1){return function(o,s){let a=GT(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return qT(a,n);let l=Ns(s,Kn.MinusSign);return rn(a,n,l,r,i)}}function GT(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function be(e,n,t=nt.Format,r=!1){return function(i,o){return KT(i,o,e,n,t,r)}}function KT(e,n,t,r,i,o){switch(t){case 2:return K_(n,i,r)[e.getMonth()];case 1:return G_(n,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=Y_(n),u=Q_(n,i,r),p=c.findIndex(v=>{if(Array.isArray(v)){let[h,_]=v,w=s>=h.hours&&a>=h.minutes,b=s<_.hours||s===_.hours&&a<_.minutes;if(h.hours<_.hours){if(w&&b)return!0}else if(w||b)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(p!==-1)return u[p]}return q_(n,i,r)[s<12?0:1];case 3:return Z_(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function yc(e){return function(n,t,r){let i=-1*r,o=Ns(t,Kn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+rn(s,2,o)+rn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+rn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+rn(s,2,o)+":"+rn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var ZT=0,wc=4;function JT(e){let n=bc(e,ZT,1).getDay();return bc(e,0,1+(n<=wc?wc:wc+7)-n)}function ew(e){let n=e.getDay(),t=n===0?-3:wc-n;return bc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function op(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ew(t),s=JT(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return rn(i,e,Ns(r,Kn.MinusSign))}}function _c(e,n=!1){return function(t,r){let o=ew(t).getFullYear();return rn(o,e,Ns(r,Kn.MinusSign),n)}}var sp={};function YT(e){if(sp[e])return sp[e];let n;switch(e){case"G":case"GG":case"GGG":n=be(3,me.Abbreviated);break;case"GGGG":n=be(3,me.Wide);break;case"GGGGG":n=be(3,me.Narrow);break;case"y":n=Le(0,1,0,!1,!0);break;case"yy":n=Le(0,2,0,!0,!0);break;case"yyy":n=Le(0,3,0,!1,!0);break;case"yyyy":n=Le(0,4,0,!1,!0);break;case"Y":n=_c(1);break;case"YY":n=_c(2,!0);break;case"YYY":n=_c(3);break;case"YYYY":n=_c(4);break;case"M":case"L":n=Le(1,1,1);break;case"MM":case"LL":n=Le(1,2,1);break;case"MMM":n=be(2,me.Abbreviated);break;case"MMMM":n=be(2,me.Wide);break;case"MMMMM":n=be(2,me.Narrow);break;case"LLL":n=be(2,me.Abbreviated,nt.Standalone);break;case"LLLL":n=be(2,me.Wide,nt.Standalone);break;case"LLLLL":n=be(2,me.Narrow,nt.Standalone);break;case"w":n=op(1);break;case"ww":n=op(2);break;case"W":n=op(1,!0);break;case"d":n=Le(2,1);break;case"dd":n=Le(2,2);break;case"c":case"cc":n=Le(7,1);break;case"ccc":n=be(1,me.Abbreviated,nt.Standalone);break;case"cccc":n=be(1,me.Wide,nt.Standalone);break;case"ccccc":n=be(1,me.Narrow,nt.Standalone);break;case"cccccc":n=be(1,me.Short,nt.Standalone);break;case"E":case"EE":case"EEE":n=be(1,me.Abbreviated);break;case"EEEE":n=be(1,me.Wide);break;case"EEEEE":n=be(1,me.Narrow);break;case"EEEEEE":n=be(1,me.Short);break;case"a":case"aa":case"aaa":n=be(0,me.Abbreviated);break;case"aaaa":n=be(0,me.Wide);break;case"aaaaa":n=be(0,me.Narrow);break;case"b":case"bb":case"bbb":n=be(0,me.Abbreviated,nt.Standalone,!0);break;case"bbbb":n=be(0,me.Wide,nt.Standalone,!0);break;case"bbbbb":n=be(0,me.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":n=be(0,me.Abbreviated,nt.Format,!0);break;case"BBBB":n=be(0,me.Wide,nt.Format,!0);break;case"BBBBB":n=be(0,me.Narrow,nt.Format,!0);break;case"h":n=Le(3,1,-12);break;case"hh":n=Le(3,2,-12);break;case"H":n=Le(3,1);break;case"HH":n=Le(3,2);break;case"m":n=Le(4,1);break;case"mm":n=Le(4,2);break;case"s":n=Le(5,1);break;case"ss":n=Le(5,2);break;case"S":n=Le(6,1);break;case"SS":n=Le(6,2);break;case"SSS":n=Le(6,3);break;case"Z":case"ZZ":case"ZZZ":n=yc(0);break;case"ZZZZZ":n=yc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=yc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=yc(2);break;default:return null}return sp[e]=n,n}function tw(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function QT(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function XT(e,n,t){let i=e.getTimezoneOffset(),o=tw(n,i);return QT(e,-1*(o-i))}function e1(e){if(B_(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return bc(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(zT))return t1(r)}let n=new Date(e);if(!B_(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function t1(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,c),n}function B_(e){return e instanceof Date&&!isNaN(e.valueOf())}var ap=/\s+/,$_=[],Qr=(()=>{class e{_ngEl;_renderer;initialClasses=$_;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(ap):$_}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ap):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(ap).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(A(en),A(yn))};static \u0275dir=we({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Cc=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},je=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Cc(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),H_(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);H_(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(A(ro),A(sc),A(tp))};static \u0275dir=we({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function H_(e,n){e.context.$implicit=n.item}var ye=(()=>{class e{_viewContainer;_context=new Ec;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){z_(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){z_(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(A(ro),A(sc))};static \u0275dir=we({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Ec=class{$implicit=null;ngIf=null};function z_(e,n){if(e&&!e.createEmbeddedView)throw new k(2020,!1)}function nw(e,n){return new k(2100,!1)}var lp=class{createSubscription(n,t){return tn(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){tn(()=>n.unsubscribe())}},cp=class{createSubscription(n,t){return n.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(n){n.unsubscribe()}},n1=new cp,r1=new lp,up=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(lr(t))return n1;if(Jh(t))return r1;throw nw(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(A(ur,16))};static \u0275pipe=Gh({name:"async",type:e,pure:!1})}return e})();var i1="mediumDate",rw=new L(""),iw=new L(""),dp=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??i1,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return X_(t,s,o||this.locale,a)}catch(s){throw nw(e,s.message)}}static \u0275fac=function(r){return new(r||e)(A(fc,16),A(rw,24),A(iw,24))};static \u0275pipe=Gh({name:"date",type:e,pure:!0})}return e})();var Z=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=qn({type:e});static \u0275inj=Hn({})}return e})();function fp(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var hp="browser",ow="server";function Sc(e){return e===ow}var ks=class{};var sw=(()=>{class e{static \u0275prov=P({token:e,providedIn:"root",factory:()=>new pp(D(qe),window)})}return e})(),pp=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=s1(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function s1(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var xc=new L(""),yp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(V(xc),V(Fe))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Ps=class{_doc;constructor(n){this._doc=n}manager},Ic="ng-app-id";function aw(e){for(let n of e)n.remove()}function lw(e,n){let t=n.createElement("style");return t.textContent=e,t}function a1(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Ic}="${n}"],link[${Ic}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Ic),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function mp(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var _p=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Sc(o),a1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,lw);r?.forEach(i=>this.addUsage(i,this.external,mp))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(aw(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])aw(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,lw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,mp(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ic,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(V(qe),V(Sh),V(Mh,8),V(to))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),gp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wp=/%COMP%/g;var uw="%COMP%",l1=`_nghost-${uw}`,c1=`_ngcontent-${uw}`,u1=!0,d1=new L("",{providedIn:"root",factory:()=>u1});function f1(e){return c1.replace(wp,e)}function h1(e){return l1.replace(wp,e)}function dw(e,n){return n.map(t=>t.replace(wp,e))}var bp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Sc(a),this.defaultRenderer=new Fs(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mn.ShadowDom&&(r=ee(S({},r),{encapsulation:mn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Mc?i.applyToHost(t):i instanceof Ls&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case mn.Emulated:o=new Mc(l,c,r,this.appId,u,s,a,p,v);break;case mn.ShadowDom:return new vp(l,c,t,r,s,a,this.nonce,p,v);default:o=new Ls(l,c,r,u,s,a,p,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(V(yp),V(_p),V(Sh),V(d1),V(qe),V(to),V(Fe),V(Mh),V(no,8))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Fs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(gp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(cw(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(cw(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new k(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=gp[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=gp[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Bn.DashCase|Bn.Important)?n.style.setProperty(t,r,i&Bn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Bn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=zt().getGlobalEventTarget(this.doc,n),!n))throw new k(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function cw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var vp=class extends Fs{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=dw(i.id,u);for(let v of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=v,this.shadowRoot.appendChild(h)}let p=i.getExternalStyles?.();if(p)for(let v of p){let h=mp(v,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ls=class extends Fs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?dw(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Mc=class extends Ls{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,t,r,o,s,a,l,c,u),this.contentAttr=f1(u),this.hostAttr=h1(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Tc=class e extends xs{supportsDOMEvents=!0;static makeCurrent(){np(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=p1();return t==null?null:g1(t)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return fp(document.cookie,n)}},js=null;function p1(){return js=js||document.head.querySelector("base"),js?js.getAttribute("href"):null}function g1(e){return new URL(e,document.baseURI).pathname}var m1=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),hw=(()=>{class e extends Ps{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(V(qe))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),fw=["alt","control","meta","shift"],v1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},pw=(()=>{class e extends Ps{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fw.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=v1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fw.forEach(s=>{if(s!==i){let a=y1[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(V(qe))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function Cp(e,n,t){return P_(S({rootComponent:e,platformRef:t?.platformRef},_1(n)))}function _1(e){return{appProviders:[...D1,...e?.providers??[]],platformProviders:E1}}function w1(){Tc.makeCurrent()}function b1(){return new gn}function C1(){return N0(document),document}var E1=[{provide:to,useValue:hp},{provide:Ih,useValue:w1,multi:!0},{provide:qe,useFactory:C1}];var D1=[{provide:ql,useValue:"root"},{provide:gn,useFactory:b1},{provide:xc,useClass:hw,multi:!0,deps:[qe]},{provide:xc,useClass:pw,multi:!0,deps:[qe]},bp,_p,yp,{provide:qi,useExisting:bp},{provide:ks,useClass:m1},[]];var gw=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(V(qe))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var J="primary",Ys=Symbol("RouteTitle"),Mp=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ti(e){return new Mp(e)}function Ew(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function I1(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!bn(e[t],n[t]))return!1;return!0}function bn(e,n){let t=e?xp(e):void 0,r=n?xp(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Dw(e[i],n[i]))return!1;return!0}function xp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Dw(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function Sw(e){return e.length>0?e[e.length-1]:null}function mr(e){return Yd(e)?e:lr(e)?Se(Promise.resolve(e)):$(e)}var M1={exact:Mw,subset:xw},Iw={exact:x1,subset:T1,ignored:()=>!0};function mw(e,n,t){return M1[t.paths](e.root,n.root,t.matrixParams)&&Iw[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function x1(e,n){return bn(e,n)}function Mw(e,n,t){if(!Xr(e.segments,n.segments)||!Rc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!Mw(e.children[r],n.children[r],t))return!1;return!0}function T1(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Dw(e[t],n[t]))}function xw(e,n,t){return Tw(e,n,n.segments,t)}function Tw(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Xr(i,t)||n.hasChildren()||!Rc(i,t,r))}else if(e.segments.length===t.length){if(!Xr(e.segments,t)||!Rc(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!xw(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Xr(e.segments,i)||!Rc(e.segments,i,r)||!e.children[J]?!1:Tw(e.children[J],n,o,r)}}function Rc(e,n,t){return n.every((r,i)=>Iw[t](e[i].parameters,r.parameters))}var En=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ue([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ti(this.queryParams),this._queryParamMap}toString(){return R1.serialize(this)}},ue=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nc(this)}},fr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=ti(this.parameters),this._parameterMap}toString(){return Aw(this)}};function O1(e,n){return Xr(e,n)&&e.every((t,r)=>bn(t.parameters,n[r].parameters))}function Xr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function A1(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===J&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==J&&(t=t.concat(n(i,r)))}),t}var ni=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>new hr,providedIn:"root"})}return e})(),hr=class{parse(n){let t=new Op(n);return new En(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Vs(n.root,!0)}`,r=P1(n.queryParams),i=typeof n.fragment=="string"?`#${N1(n.fragment)}`:"";return`${t}${r}${i}`}},R1=new hr;function Nc(e){return e.segments.map(n=>Aw(n)).join("/")}function Vs(e,n){if(!e.hasChildren())return Nc(e);if(n){let t=e.children[J]?Vs(e.children[J],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${Vs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=A1(e,(r,i)=>i===J?[Vs(e.children[J],!1)]:[`${i}:${Vs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[J]!=null?`${Nc(e)}/${t[0]}`:`${Nc(e)}/(${t.join("//")})`}}function Ow(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oc(e){return Ow(e).replace(/%3B/gi,";")}function N1(e){return encodeURI(e)}function Tp(e){return Ow(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kc(e){return decodeURIComponent(e)}function vw(e){return kc(e.replace(/\+/g,"%20"))}function Aw(e){return`${Tp(e.path)}${k1(e.parameters)}`}function k1(e){return Object.entries(e).map(([n,t])=>`;${Tp(n)}=${Tp(t)}`).join("")}function P1(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Oc(t)}=${Oc(i)}`).join("&"):`${Oc(t)}=${Oc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var F1=/^[^\/()?;#]+/;function Ep(e){let n=e.match(F1);return n?n[0]:""}var L1=/^[^\/()?;=#]+/;function j1(e){let n=e.match(L1);return n?n[0]:""}var V1=/^[^=?&#]+/;function U1(e){let n=e.match(V1);return n?n[0]:""}var B1=/^[^&#]+/;function $1(e){let n=e.match(B1);return n?n[0]:""}var Op=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[J]=new ue(n,t)),r}parseSegment(){let n=Ep(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(n),new fr(kc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=j1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ep(this.remaining);i&&(r=i,this.capture(r))}n[kc(t)]=kc(r)}parseQueryParam(n){let t=U1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=$1(this.remaining);s&&(r=s,this.capture(r))}let i=vw(t),o=vw(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ep(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=J);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[J]:new ue([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new k(4011,!1)}};function Rw(e){return e.segments.length>0?new ue([],{[J]:e}):e}function Nw(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=Nw(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ue(e.segments,n);return H1(t)}function H1(e){if(e.numberOfChildren===1&&e.children[J]){let n=e.children[J];return new ue(e.segments.concat(n.segments),n.children)}return e}function pr(e){return e instanceof En}function kw(e,n,t=null,r=null){let i=Pw(e);return Fw(i,n,t,r)}function Pw(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new ue(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=Rw(r);return n??i}function Fw(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return Dp(i,i,i,t,r);let o=z1(n);if(o.toRoot())return Dp(i,i,new ue([],{}),t,r);let s=W1(o,i,e),a=s.processChildren?Bs(s.segmentGroup,s.index,o.commands):jw(s.segmentGroup,s.index,o.commands);return Dp(i,s.segmentGroup,a,t,r)}function Fc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Hs(e){return typeof e=="object"&&e!=null&&e.outlets}function Dp(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=Lw(e,n,t);let a=Rw(Nw(s));return new En(a,o,i)}function Lw(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Lw(o,n,t)}),new ue(e.segments,r)}var Lc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Fc(r[0]))throw new k(4003,!1);let i=r.find(Hs);if(i&&i!==Sw(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function z1(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Lc(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Lc(t,n,r)}var lo=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function W1(e,n,t){if(e.isAbsolute)return new lo(n,!0,0);if(!t)return new lo(n,!1,NaN);if(t.parent===null)return new lo(t,!0,0);let r=Fc(e.commands[0])?0:1,i=t.segments.length-1+r;return q1(t,i,e.numberOfDoubleDots)}function q1(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new lo(r,!1,i-o)}function G1(e){return Hs(e[0])?e[0].outlets:{[J]:e}}function jw(e,n,t){if(e??=new ue([],{}),e.segments.length===0&&e.hasChildren())return Bs(e,n,t);let r=K1(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ue(e.segments.slice(0,r.pathIndex),{});return o.children[J]=new ue(e.segments.slice(r.pathIndex),e.children),Bs(o,0,i)}else return r.match&&i.length===0?new ue(e.segments,{}):r.match&&!e.hasChildren()?Ap(e,n,t):r.match?Bs(e,0,i):Ap(e,n,t)}function Bs(e,n,t){if(t.length===0)return new ue(e.segments,{});{let r=G1(t),i={};if(Object.keys(r).some(o=>o!==J)&&e.children[J]&&e.numberOfChildren===1&&e.children[J].segments.length===0){let o=Bs(e.children[J],n,t);return new ue(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=jw(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ue(e.segments,i)}}function K1(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(Hs(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!_w(l,c,s))return o;r+=2}else{if(!_w(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ap(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Hs(o)){let l=Z1(o.outlets);return new ue(r,l)}if(i===0&&Fc(t[0])){let l=e.segments[n];r.push(new fr(l.path,yw(t[0]))),i++;continue}let s=Hs(o)?o.outlets[J]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Fc(a)?(r.push(new fr(s,yw(a))),i+=2):(r.push(new fr(s,{})),i++)}return new ue(r,{})}function Z1(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Ap(new ue([],{}),0,r))}),n}function yw(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function _w(e,n,t){return e==t.path&&bn(n,t.parameters)}var Pc="imperative",ze=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ze||{}),Rt=class{id;url;constructor(n,t){this.id=n,this.url=t}},gr=class extends Rt{type=ze.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},St=class extends Rt{urlAfterRedirects;type=ze.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Dt||{}),uo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(uo||{}),Cn=class extends Rt{reason;code;type=ze.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dn=class extends Rt{reason;code;type=ze.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},fo=class extends Rt{error;target;type=ze.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zs=class extends Rt{urlAfterRedirects;state;type=ze.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jc=class extends Rt{urlAfterRedirects;state;type=ze.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vc=class extends Rt{urlAfterRedirects;state;shouldActivate;type=ze.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uc=class extends Rt{urlAfterRedirects;state;type=ze.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bc=class extends Rt{urlAfterRedirects;state;type=ze.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$c=class{route;type=ze.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hc=class{route;type=ze.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zc=class{snapshot;type=ze.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wc=class{snapshot;type=ze.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qc=class{snapshot;type=ze.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gc=class{snapshot;type=ze.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ho=class{routerEvent;position;anchor;type=ze.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Ws=class{},po=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function J1(e,n){return e.providers&&!e._injector&&(e._injector=Ds(e.providers,n,`Route: ${e.path}`)),e._injector??n}function on(e){return e.outlet||J}function Y1(e,n){let t=e.filter(r=>on(r)===n);return t.push(...e.filter(r=>on(r)!==n)),t}function Qs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Kc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Qs(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new ri(this.rootInjector)}},ri=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(V(vt))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Rp(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Rp(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Np(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Np(n,this._root).map(t=>t.value)}};function Rp(e,n){if(e===n.value)return n;for(let t of n.children){let r=Rp(e,t);if(r)return r}return null}function Np(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Np(e,t);if(r.length)return r.unshift(n),r}return[]}var At=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function ao(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var qs=class extends Zc{snapshot;constructor(n,t){super(n),this.snapshot=t,Bp(this,n)}toString(){return this.snapshot.toString()}};function Vw(e){let n=Q1(e),t=new $e([new fr("",{})]),r=new $e({}),i=new $e({}),o=new $e({}),s=new $e(""),a=new It(t,r,o,s,i,J,e,n.root);return a.snapshot=n.root,new qs(new At(a,[]),n)}function Q1(e){let n={},t={},r={},i="",o=new ei([],n,r,i,t,J,e,null,{});return new Gs("",new At(o,[]))}var It=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(oe(c=>c[Ys]))??$(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(n=>ti(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(n=>ti(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jc(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:S(S({},n.params),e.params),data:S(S({},n.data),e.data),resolve:S(S(S(S({},e.data),n.data),i?.data),e._resolvedData)}:r={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},i&&Bw(i)&&(r.resolve[Ys]=i.title),r}var ei=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ys]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ti(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ti(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Gs=class extends Zc{url;constructor(n,t){super(t),this.url=n,Bp(this,t)}toString(){return Uw(this._root)}};function Bp(e,n){n.value._routerState=e,n.children.forEach(t=>Bp(e,t))}function Uw(e){let n=e.children.length>0?` { ${e.children.map(Uw).join(", ")} } `:"";return`${e.value}${n}`}function Sp(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,bn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),bn(n.params,t.params)||e.paramsSubject.next(t.params),I1(n.url,t.url)||e.urlSubject.next(t.url),bn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function kp(e,n){let t=bn(e.params,n.params)&&O1(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||kp(e.parent,n.parent))}function Bw(e){return typeof e.title=="string"||e.title===null}var $w=new L(""),Xs=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new Te;deactivateEvents=new Te;attachEvents=new Te;detachEvents=new Te;routerOutletData=S0(void 0);parentContexts=D(ri);location=D(ro);changeDetector=D(ur);inputBinder=D(ea,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Pp(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=we({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[sr]})}return e})(),Pp=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===It?this.route:n===ri?this.childContexts:n===$w?this.outletData:this.parent.get(n,t)}},ea=new L(""),$p=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=as([r.queryParams,r.params,r.data]).pipe(Ft(([o,s,a],l)=>(a=S(S(S({},o),s),a),l===0?$(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=F_(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Hp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=z({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&M(0,"router-outlet")},dependencies:[Xs],encapsulation:2})}return e})();function zp(e){let n=e.children&&e.children.map(zp),t=n?ee(S({},e),{children:n}):S({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=Hp),t}function X1(e,n,t){let r=Ks(e,n._root,t?t._root:void 0);return new qs(r,n)}function Ks(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=eO(e,n,t);return new At(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ks(e,a)),s}}let r=tO(n.value),i=n.children.map(o=>Ks(e,o));return new At(r,i)}}function eO(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ks(e,r,i);return Ks(e,r)})}function tO(e){return new It(new $e(e.url),new $e(e.params),new $e(e.queryParams),new $e(e.fragment),new $e(e.data),e.outlet,e.component,e)}var go=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Hw="ngNavigationCancelingError";function Yc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=pr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=zw(!1,Dt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function zw(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Hw]=!0,t.cancellationCode=n,t}function nO(e){return Ww(e)&&pr(e.url)}function Ww(e){return!!e&&e[Hw]}var rO=(e,n,t,r)=>oe(i=>(new Fp(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Fp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Sp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=ao(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ao(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ao(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=ao(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Gc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Wc(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Sp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Sp(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Qc=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},co=class{component;route;constructor(n,t){this.component=n,this.route=t}};function iO(e,n,t){let r=e._root,i=n?n._root:null;return Us(r,i,t,[r.value])}function oO(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function vo(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!yy(e)?e:n.get(e):r}function Us(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ao(n);return e.children.forEach(s=>{sO(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$s(a,t.getContext(s),i)),i}function sO(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=aO(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Qc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Us(e,n,a?a.children:null,r,i):Us(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new co(a.outlet.component,s))}else s&&$s(n,a,i),i.canActivateChecks.push(new Qc(r)),o.component?Us(e,null,a?a.children:null,r,i):Us(e,null,t,r,i);return i}function aO(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Xr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Xr(e.url,n.url)||!bn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kp(e,n)||!bn(e.queryParams,n.queryParams);case"paramsChange":default:return!kp(e,n)}}function $s(e,n,t){let r=ao(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?$s(s,n.children.getContext(o),t):$s(s,null,t):$s(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new co(n.outlet.component,i)):t.canDeactivateChecks.push(new co(null,i)):t.canDeactivateChecks.push(new co(null,i))}function ta(e){return typeof e=="function"}function lO(e){return typeof e=="boolean"}function cO(e){return e&&ta(e.canLoad)}function uO(e){return e&&ta(e.canActivate)}function dO(e){return e&&ta(e.canActivateChild)}function fO(e){return e&&ta(e.canDeactivate)}function hO(e){return e&&ta(e.canMatch)}function qw(e){return e instanceof Pn||e?.name==="EmptyError"}var Ac=Symbol("INITIAL_VALUE");function mo(){return Ft(e=>as(e.map(n=>n.pipe(Ln(1),tf(Ac)))).pipe(oe(n=>{for(let t of n)if(t!==!0){if(t===Ac)return Ac;if(t===!1||pO(t))return t}return!0}),at(n=>n!==Ac),Ln(1)))}function pO(e){return pr(e)||e instanceof go}function gO(e,n){return xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?$(ee(S({},t),{guardsResult:!0})):mO(s,r,i,e).pipe(xe(a=>a&&lO(a)?vO(r,o,e,n):$(a)),oe(a=>ee(S({},t),{guardsResult:a})))})}function mO(e,n,t,r){return Se(e).pipe(xe(i=>CO(i.component,i.route,t,n,r)),jn(i=>i!==!0,!0))}function vO(e,n,t,r){return Se(n).pipe(nr(i=>Ai(_O(i.route.parent,r),yO(i.route,r),bO(e,i.path,t),wO(e,i.route,t))),jn(i=>i!==!0,!0))}function yO(e,n){return e!==null&&n&&n(new qc(e)),$(!0)}function _O(e,n){return e!==null&&n&&n(new zc(e)),$(!0)}function wO(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(o=>ll(()=>{let s=Qs(n)??t,a=vo(o,s),l=uO(a)?a.canActivate(n,e):$t(s,()=>a(n,e));return mr(l).pipe(jn())}));return $(i).pipe(mo())}function bO(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>oO(s)).filter(s=>s!==null).map(s=>ll(()=>{let a=s.guards.map(l=>{let c=Qs(s.node)??t,u=vo(l,c),p=dO(u)?u.canActivateChild(r,e):$t(c,()=>u(r,e));return mr(p).pipe(jn())});return $(a).pipe(mo())}));return $(o).pipe(mo())}function CO(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let l=Qs(n)??i,c=vo(a,l),u=fO(c)?c.canDeactivate(e,n,t,r):$t(l,()=>c(e,n,t,r));return mr(u).pipe(jn())});return $(s).pipe(mo())}function EO(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return $(!0);let o=i.map(s=>{let a=vo(s,e),l=cO(a)?a.canLoad(n,t):$t(e,()=>a(n,t));return mr(l)});return $(o).pipe(mo(),Gw(r))}function Gw(e){return zd(Qe(n=>{if(typeof n!="boolean")throw Yc(e,n)}),oe(n=>n===!0))}function DO(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return $(!0);let o=i.map(s=>{let a=vo(s,e),l=hO(a)?a.canMatch(n,t):$t(e,()=>a(n,t));return mr(l)});return $(o).pipe(mo(),Gw(r))}var Zs=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Js=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function so(e){return Ti(new Zs(e))}function SO(e){return Ti(new k(4e3,!1))}function IO(e){return Ti(zw(!1,Dt.GuardRejected))}var Lp=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[J])return SO(`${n.redirectTo}`);i=i.children[J]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:p,outlet:v,params:h,data:_,title:w}=i,b=$t(o,()=>a({params:h,data:_,queryParams:l,fragment:c,routeConfig:u,url:p,outlet:v,title:w}));if(b instanceof En)throw new Js(b);t=b}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Js(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new En(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ue(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},jp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MO(e,n,t,r,i){let o=Kw(e,n,t);return o.matched?(r=J1(n,r),DO(r,n,t,i).pipe(oe(s=>s===!0?o:S({},jp)))):$(o)}function Kw(e,n,t){if(n.path==="**")return xO(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?S({},jp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||Ew)(t,e,n);if(!i)return S({},jp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xO(e){return{matched:!0,parameters:e.length>0?Sw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function ww(e,n,t,r){return t.length>0&&AO(e,t,r)?{segmentGroup:new ue(n,OO(r,new ue(t,e.children))),slicedSegments:[]}:t.length===0&&RO(e,t,r)?{segmentGroup:new ue(e.segments,TO(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ue(e.segments,e.children),slicedSegments:t}}function TO(e,n,t,r){let i={};for(let o of t)if(eu(e,n,o)&&!r[on(o)]){let s=new ue([],{});i[on(o)]=s}return S(S({},r),i)}function OO(e,n){let t={};t[J]=n;for(let r of e)if(r.path===""&&on(r)!==J){let i=new ue([],{});t[on(r)]=i}return t}function AO(e,n,t){return t.some(r=>eu(e,n,r)&&on(r)!==J)}function RO(e,n,t){return t.some(r=>eu(e,n,r))}function eu(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function NO(e,n,t){return n.length===0&&!e.children[t]}var Vp=class{};function kO(e,n,t,r,i,o,s="emptyOnly"){return new Up(e,n,t,r,i,s,o).recognize()}var PO=31,Up=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Lp(this.urlSerializer,this.urlTree)}noMatchError(n){return new k(4002,`'${n.segmentGroup}'`)}recognize(){let n=ww(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new At(r,t),o=new Gs("",i),s=kw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new ei([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,J,t).pipe(oe(r=>({children:r,rootSnapshot:t})),Fn(r=>{if(r instanceof Js)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zs?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof At?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(nr(s=>{let a=r.children[s],l=Y1(t,s);return this.processSegmentGroup(n,l,a,s,i)}),ef((s,a)=>(s.push(...a),s)),rr(null),Xd(),xe(s=>{if(s===null)return so(r);let a=Zw(s);return FO(a),$(a)}))}processSegment(n,t,r,i,o,s,a){return Se(t).pipe(nr(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(Fn(c=>{if(c instanceof Zs)return $(null);throw c}))),jn(l=>!!l),Fn(l=>{if(qw(l))return NO(r,i,o)?$(new Vp):so(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return on(r)!==s&&(s===J||!eu(i,o,r))?so(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):so(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:p,remainingSegments:v}=Kw(t,i,o);if(!l)return so(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>PO&&(this.allowRedirects=!1));let h=new ei(o,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,bw(i),on(i),i.component??i._loadedComponent??null,i,Cw(i)),_=Jc(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(_.params),h.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,p,h,n);return this.applyRedirects.lineralizeSegments(i,w).pipe(xe(b=>this.processSegment(n,r,t,b.concat(v),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=MO(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ft(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(Ft(({routes:c})=>{let u=r._loadedInjector??n,{parameters:p,consumedSegments:v,remainingSegments:h}=l,_=new ei(v,p,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,bw(r),on(r),r.component??r._loadedComponent??null,r,Cw(r)),w=Jc(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:b,slicedSegments:E}=ww(t,v,h,c);if(E.length===0&&b.hasChildren())return this.processChildren(u,c,b,_).pipe(oe(R=>new At(_,R)));if(c.length===0&&E.length===0)return $(new At(_,[]));let ne=on(r)===o;return this.processSegment(u,c,b,E,ne?J:o,!0,_).pipe(oe(R=>new At(_,R instanceof At?[R]:[])))}))):so(t)))}getChildConfig(n,t,r){return t.children?$({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?$({routes:t._loadedRoutes,injector:t._loadedInjector}):EO(n,t,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(n,t).pipe(Qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):IO(t))):$({routes:[],injector:n})}};function FO(e){e.sort((n,t)=>n.value.outlet===J?-1:t.value.outlet===J?1:n.value.outlet.localeCompare(t.value.outlet))}function LO(e){let n=e.value.routeConfig;return n&&n.path===""}function Zw(e){let n=[],t=new Set;for(let r of e){if(!LO(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=Zw(r.children);n.push(new At(r.value,i))}return n.filter(r=>!t.has(r))}function bw(e){return e.data||{}}function Cw(e){return e.resolve||{}}function jO(e,n,t,r,i,o){return xe(s=>kO(e,n,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:l})=>ee(S({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function VO(e,n){return xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return $(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Jw(l))s.add(c);let a=0;return Se(s).pipe(nr(l=>o.has(l)?UO(l,r,e,n):(l.data=Jc(l,l.parent,e).resolve,$(void 0))),Qe(()=>a++),Ri(1),xe(l=>a===s.size?$(t):ht))})}function Jw(e){let n=e.children.map(t=>Jw(t)).flat();return[e,...n]}function UO(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Bw(i)&&(o[Ys]=i.title),BO(o,e,n,r).pipe(oe(s=>(e._resolvedData=s,e.data=Jc(e,e.parent,t).resolve,null)))}function BO(e,n,t,r){let i=xp(e);if(i.length===0)return $({});let o={};return Se(i).pipe(xe(s=>$O(e[s],n,t,r).pipe(jn(),Qe(a=>{if(a instanceof go)throw Yc(new hr,a);o[s]=a}))),Ri(1),oe(()=>o),Fn(s=>qw(s)?ht:Ti(s)))}function $O(e,n,t,r){let i=Qs(n)??r,o=vo(e,i),s=o.resolve?o.resolve(n,t):$t(i,()=>o(n,t));return mr(s)}function Ip(e){return Ft(n=>{let t=e(n);return t?Se(t).pipe(oe(()=>n)):$(n)})}var Wp=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(t){return t.data[Ys]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>D(Yw),providedIn:"root"})}return e})(),Yw=(()=>{class e extends Wp{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(V(gw))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ii=new L("",{providedIn:"root",factory:()=>({})}),oi=new L(""),tu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(k_);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return $(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=mr(t.loadComponent()).pipe(oe(Xw),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ls(()=>{this.componentLoaders.delete(t)})),i=new xi(r,()=>new ke).pipe(Mi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Qw(r,this.compiler,t,this.onLoadEndListener).pipe(ls(()=>{this.childrenLoaders.delete(r)})),s=new xi(o,()=>new ke).pipe(Mi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qw(e,n,t,r){return mr(e.loadChildren()).pipe(oe(Xw),xe(i=>i instanceof qh||Array.isArray(i)?$(i):Se(n.compileModuleAsync(i))),oe(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(oi,[],{optional:!0,self:!0}).flat()),{routes:s.map(zp),injector:o}}))}function HO(e){return e&&typeof e=="object"&&"default"in e}function Xw(e){return HO(e)?e.default:e}var nu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>D(zO),providedIn:"root"})}return e})(),zO=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qp=new L(""),Gp=new L("");function eb(e,n,t){let r=e.get(Gp),i=e.get(qe);return e.get(Fe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),WO(e))),{onViewTransitionCreated:l}=r;return l&&$t(e,()=>l({transition:a,from:n,to:t})),s})}function WO(e){return new Promise(n=>{Th({read:()=>setTimeout(n)},{injector:e})})}var Kp=new L(""),ru=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ke;transitionAbortSubject=new ke;configLoader=D(tu);environmentInjector=D(vt);destroyRef=D(bs);urlSerializer=D(ni);rootContexts=D(ri);location=D(wn);inputBindingEnabled=D(ea,{optional:!0})!==null;titleStrategy=D(Wp);options=D(ii,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(nu);createViewTransition=D(qp,{optional:!0});navigationErrorHandler=D(Kp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new $c(i)),r=i=>this.events.next(new Hc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ee(S({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new $e(null),this.transitions.pipe(at(r=>r!==null),Ft(r=>{let i=!1,o=!1;return $(r).pipe(Ft(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Dt.SupersededByNewNavigation),ht;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ee(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.rawUrl),c,uo.IgnoredSameUrlNavigation)),s.resolve(!1),ht}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return $(s).pipe(Ft(c=>(this.events.next(new gr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ht:Promise.resolve(c))),jO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ee(S({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new zs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:p,restoredState:v,extras:h}=s,_=new gr(c,this.urlSerializer.serialize(u),p,v);this.events.next(_);let w=Vw(this.rootComponentType).snapshot;return this.currentTransition=r=ee(S({},s),{targetSnapshot:w,urlAfterRedirects:u,extras:ee(S({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,$(r)}else{let c="";return this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,uo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ht}}),Qe(s=>{let a=new jc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),oe(s=>(this.currentTransition=r=ee(S({},s),{guards:iO(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),gO(this.environmentInjector,s=>this.events.next(s)),Qe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Yc(this.urlSerializer,s.guardsResult);let a=new Vc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),at(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Dt.GuardRejected),!1)),Ip(s=>{if(s.guards.canActivateChecks.length!==0)return $(s).pipe(Qe(a=>{let l=new Uc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ft(a=>{let l=!1;return $(a).pipe(VO(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Dt.NoDataFromResolver)}}))}),Qe(a=>{let l=new Bc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Ip(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Qe(u=>{l.component=u}),oe(()=>{})));for(let u of l.children)c.push(...a(u));return c};return as(a(s.targetSnapshot.root)).pipe(rr(null),Ln(1))}),Ip(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Se(l).pipe(oe(()=>r)):$(r)}),oe(s=>{let a=X1(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ee(S({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Qe(()=>{this.events.next(new Ws)}),rO(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ln(1),Qe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new St(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),nf(this.transitionAbortSubject.pipe(Qe(s=>{throw s}))),ls(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fn(s=>{if(this.destroyed)return r.resolve(!1),ht;if(o=!0,Ww(s))this.events.next(new Cn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),nO(s)?this.events.next(new po(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new fo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=$t(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof go){let{message:c,cancellationCode:u}=Yc(this.urlSerializer,l);this.events.next(new Cn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new po(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return ht}))}))}cancelNavigationTransition(t,r,i){let o=new Cn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qO(e){return e!==Pc}var tb=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>D(GO),providedIn:"root"})}return e})(),Xc=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},GO=(()=>{class e extends Xc{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nb=(()=>{class e{urlSerializer=D(ni);options=D(ii,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=D(wn);urlHandlingStrategy=D(nu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new En;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof En?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Vw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>D(KO),providedIn:"root"})}return e})(),KO=(()=>{class e extends nb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof gr?this.updateStateMemento():t instanceof Dn?this.commitTransition(r):t instanceof zs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ws?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Cn&&(t.code===Dt.GuardRejected||t.code===Dt.NoDataFromResolver)?this.restoreHistory(r):t instanceof fo?this.restoreHistory(r,!0):t instanceof St&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=S(S({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=S(S({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iu(e,n){e.events.pipe(at(t=>t instanceof St||t instanceof Cn||t instanceof fo||t instanceof Dn),oe(t=>t instanceof St||t instanceof Dn?0:(t instanceof Cn?t.code===Dt.Redirect||t.code===Dt.SupersededByNewNavigation:!1)?2:1),at(t=>t!==2),Ln(1)).subscribe(()=>{n()})}var ZO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},he=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(b_);stateManager=D(nb);options=D(ii,{optional:!0})||{};pendingTasks=D(Xi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(ru);urlSerializer=D(ni);location=D(wn);urlHandlingStrategy=D(nu);_events=new ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(tb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(oi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(ea,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cn&&r.code!==Dt.Redirect&&r.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof St)this.navigated=!0;else if(r instanceof po){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||qO(i.source)},s);this.scheduleNavigation(a,Pc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}QO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=S({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=Pw(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return Fw(p,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=pr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pc,null,r)}navigate(t,r={skipLocationChange:!1}){return YO(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=S({},ZO):r===!1?i=S({},JO):i=r,pr(t))return mw(this.currentUrlTree,t,i);let o=this.parseUrl(t);return mw(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,v)=>{a=p,l=v});let u=this.pendingTasks.add();return iu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function YO(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new k(4008,!1)}function QO(e){return!(e instanceof Ws)&&!(e instanceof po)}var ou=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ke;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof St&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:H0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:pr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(A(he),A(It),Ch("tabindex"),A(yn),A(en),A(Wt))};static \u0275dir=we({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&H("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&bt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",dr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",dr],replaceUrl:[2,"replaceUrl","replaceUrl",dr],routerLink:"routerLink"},features:[sr]})}return e})();var na=class{};var rb=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(at(t=>t instanceof St),nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ds(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(i).pipe(Oi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=$(null);let o=i.pipe(xe(s=>s===null?$(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Se([o,s]).pipe(Oi())}else return o})}static \u0275fac=function(r){return new(r||e)(V(he),V(vt),V(na),V(tu))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ib=new L(""),XO=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof St?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dn&&t.code===uo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ho&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ho(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){h_()};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function Jp(e,...n){return lh([{provide:oi,multi:!0,useValue:e},[],{provide:It,useFactory:ob,deps:[he]},{provide:cc,multi:!0,useFactory:sb},n.map(t=>t.\u0275providers)])}function ob(e){return e.routerState.root}function yo(e,n){return{\u0275kind:e,\u0275providers:n}}function sb(){let e=D(Ut);return n=>{let t=e.get(Gr);if(n!==t.components[0])return;let r=e.get(he),i=e.get(ab);e.get(Yp)===1&&r.initialNavigation(),e.get(ub,null,Y.Optional)?.setUpPreloading(),e.get(ib,null,Y.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ab=new L("",{factory:()=>new ke}),Yp=new L("",{providedIn:"root",factory:()=>1});function lb(){let e=[{provide:Yp,useValue:0},Yh(()=>{let n=D(Ut);return n.get(rp,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(he),o=n.get(ab);iu(i,()=>{r(!0)}),n.get(ru).afterPreactivation=()=>(r(!0),o.closed?$(void 0):o),i.initialNavigation()}))})];return yo(2,e)}function cb(){let e=[Yh(()=>{D(he).setUpLocationChangeListener()}),{provide:Yp,useValue:2}];return yo(3,e)}var ub=new L("");function db(e){return yo(0,[{provide:ub,useExisting:rb},{provide:na,useExisting:e}])}function Qp(){return yo(6,[{provide:Wt,useClass:Dc}])}function fb(){return yo(8,[$p,{provide:ea,useExisting:$p}])}function hb(e){Es("NgRouterViewTransitions");let n=[{provide:qp,useValue:eb},{provide:Gp,useValue:S({skipNextTransition:!!e?.skipInitialTransition},e)}];return yo(9,n)}var pb=[wn,{provide:ni,useClass:hr},he,ri,{provide:It,useFactory:ob,deps:[he]},tu,[]],si=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[pb,[],{provide:oi,multi:!0,useValue:t},[],r?.errorHandler?{provide:Kp,useValue:r.errorHandler}:[],{provide:ii,useValue:r||{}},r?.useHash?tA():nA(),eA(),r?.preloadingStrategy?db(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?rA(r):[],r?.bindToComponentInputs?fb().\u0275providers:[],r?.enableViewTransitions?hb().\u0275providers:[],iA()]}}static forChild(t){return{ngModule:e,providers:[{provide:oi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=qn({type:e});static \u0275inj=Hn({})}return e})();function eA(){return{provide:ib,useFactory:()=>{let e=D(sw),n=D(Fe),t=D(ii),r=D(ru),i=D(ni);return t.scrollOffset&&e.setOffset(t.scrollOffset),new XO(i,r,e,n,t)}}}function tA(){return{provide:Wt,useClass:Dc}}function nA(){return{provide:Wt,useClass:gc}}function rA(e){return[e.initialNavigation==="disabled"?cb().\u0275providers:[],e.initialNavigation==="enabledBlocking"?lb().\u0275providers:[]]}var Zp=new L("");function iA(){return[{provide:Zp,useFactory:sb},{provide:cc,multi:!0,useExisting:Zp}]}var gm=jE(iE(),1),{PostgrestError:z4,FunctionsHttpError:W4,FunctionsFetchError:q4,FunctionsRelayError:G4,FunctionsError:K4,FunctionRegion:Z4,SupabaseClient:J4,createClient:oE,GoTrueAdminApi:Y4,GoTrueClient:Q4,AuthAdminApi:X4,AuthClient:e8,navigatorLock:t8,NavigatorLockAcquireTimeoutError:n8,lockInternals:r8,processLock:i8,SIGN_OUT_SCOPES:o8,AuthError:s8,AuthApiError:a8,AuthUnknownError:l8,CustomAuthError:c8,AuthSessionMissingError:u8,AuthInvalidTokenResponseError:d8,AuthInvalidCredentialsError:f8,AuthImplicitGrantRedirectError:h8,AuthPKCEGrantCodeExchangeError:p8,AuthRetryableFetchError:g8,AuthWeakPasswordError:m8,AuthInvalidJwtError:v8,isAuthError:y8,isAuthApiError:_8,isAuthSessionMissingError:w8,isAuthImplicitGrantRedirectError:b8,isAuthRetryableFetchError:C8,isAuthWeakPasswordError:E8,RealtimePresence:D8,RealtimeChannel:S8,RealtimeClient:I8,REALTIME_LISTEN_TYPES:M8,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:x8,REALTIME_PRESENCE_LISTEN_EVENTS:T8,REALTIME_SUBSCRIBE_STATES:O8,REALTIME_CHANNEL_STATES:A8}=gm.default||gm;var it=class e{supabase;constructor(){this.supabase=oE("https://xnhkyqflvfqjbmcbzzct.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuaGt5cWZsdmZxamJtY2J6emN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MDE5NDUsImV4cCI6MjA4MDk3Nzk0NX0.0Wjj_6kClOznswEo2hijdOf9XQ75WwfhkeWXRfEw9jI")}signInWithEmail(n,t){return this.supabase.auth.signInWithPassword({email:n,password:t})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/sportscenterchampionships/"}})}get client(){return this.supabase}getUser(){return this.supabase.auth.getUser().then(n=>n.data.user)}signUp(n,t){return this.supabase.auth.signUp({email:n,password:t,options:{emailRedirectTo:window.location.origin+"/sportscenterchampionships/"}})}signIn(n,t){return this.supabase.auth.signInWithPassword({email:n,password:t})}signOut(){return this.supabase.auth.signOut()}getPublicAvatarUrl(n){return this.supabase.storage.from("avatars").getPublicUrl(n).data.publicUrl}uploadAvatar(n){return m(this,null,function*(){let t=yield this.getUser();if(!t)throw new Error("User not authenticated");let r=`avatars/${t.id}.jpg`,{error:i}=yield this.supabase.storage.from("avatars").upload(r,n,{upsert:!0});if(i)throw i;let{data:o}=this.supabase.storage.from("avatars").getPublicUrl(r);return o.publicUrl})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};var qu=class e{constructor(n){this.supabase=n}ngOnInit(){}static \u0275fac=function(t){return new(t||e)(A(it))};static \u0275cmp=z({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&M(0,"router-outlet")},dependencies:[Xs],encapsulation:2})};var Gu=class e{constructor(n,t){this.sb=n;this.router=t;this.sb.supabase.auth.getSession().then(({data:r})=>{this._user$.next(r.session?.user??null)}),this.sb.supabase.auth.onAuthStateChange((r,i)=>m(this,null,function*(){if(this._user$.next(i?.user??null),console.log(i?.user),i?.user){let{data:o}=yield this.sb.supabase.from("users").select("mail").eq("mail",this._user$.value.email).single();o?this.router.navigate(["/user-dashboard"]):this.router.navigate(["/user-onboarding"])}}))}_user$=new $e(null);user$=this._user$.asObservable();logout(){return m(this,null,function*(){yield this.sb.supabase.auth.signOut()})}static \u0275fac=function(t){return new(t||e)(V(it),V(he))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};function OR(e,n){if(e&1){let t=Me();Jr(0),d(1,"button",14),H("click",function(){W(t);let i=Q();return q(i.logout())}),g(2," Logout "),f(),M(3,"img",15),Yr()}if(e&2){let t=n.ngIf;y(3),C("src",(t.user_metadata==null?null:t.user_metadata.avatar_url)||"assets/images/default-avatar.png",et)}}function AR(e,n){if(e&1){let t=Me();d(0,"button",14),H("click",function(){W(t);let i=Q();return q(i.login())}),g(1," Login "),f()}}function RR(e,n){if(e&1){let t=Me();d(0,"li",16)(1,"button",14),H("click",function(){W(t);let i=Q();return q(i.logout())}),g(2," Logout "),f(),M(3,"img",15),f()}if(e&2){let t=n.ngIf;y(3),C("src",(t.user_metadata==null?null:t.user_metadata.avatar_url)||"assets/images/default-avatar.jpg",et)}}function NR(e,n){if(e&1){let t=Me();d(0,"li",16)(1,"button",14),H("click",function(){W(t);let i=Q();return q(i.login())}),g(2," Login "),f()()}}var Ku=class e{constructor(n,t,r){this.authService=n;this.supabase=t;this.router=r;this.user$=this.authService.user$}user$;login(){this.router.navigateByUrl("/login")}logout(){this.authService.logout()}loginWithGoogle(){this.supabase.signInWithGoogle()}static \u0275fac=function(t){return new(t||e)(A(Gu),A(it),A(he))};static \u0275cmp=z({type:e,selectors:[["app-header"]],decls:30,vars:10,consts:[["showLogin",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","main-navbar"],[1,"container-fluid","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler","d-lg-none","me-2"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand","fw-bold","d-none","d-lg-block"],[1,"flex-grow-1"],[1,"d-lg-none","d-flex","align-items-center","gap-2"],[4,"ngIf","ngIfElse"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0","align-items-center"],[1,"nav-item"],["href","#",1,"nav-link"],["class","nav-item ms-3 d-none d-lg-flex align-items-center gap-2",4,"ngIf"],[1,"btn","btn-light","btn-sm","rounded-pill","fw-bold",3,"click"],["alt","avatar",1,"user-avatar",3,"src"],[1,"nav-item","ms-3","d-none","d-lg-flex","align-items-center","gap-2"]],template:function(t,r){if(t&1&&(d(0,"nav",1)(1,"div",2)(2,"button",3),M(3,"span",4),f(),d(4,"a",5),g(5," Sports Championships "),f(),M(6,"div",6),d(7,"div",7),B(8,OR,4,1,"ng-container",8),oo(9,"async"),B(10,AR,2,0,"ng-template",null,0,N_),f(),d(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),g(16,"Inicio"),f()(),d(17,"li",11)(18,"a",12),g(19,"Campeonatos"),f()(),d(20,"li",11)(21,"a",12),g(22,"Equipos"),f()(),d(23,"li",11)(24,"a",12),g(25,"Resultados"),f()(),B(26,RR,4,1,"li",13),oo(27,"async"),B(28,NR,3,0,"li",13),oo(29,"async"),f()()()()),t&2){let i=io(11);y(8),C("ngIf",dc(9,4,r.user$))("ngIfElse",i),y(18),C("ngIf",dc(27,6,r.user$)),y(2),C("ngIf",dc(29,8,r.user$)===null)}},dependencies:[Z,ye,up],styles:[".main-navbar[_ngcontent-%COMP%]{background:transparent;padding:.75rem 1rem;z-index:3}.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.7);transition:all .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3}.btn-light[_ngcontent-%COMP%]{color:#333;transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border:2px solid #fff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px;border-radius:.5rem}.navbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.35rem 1rem;font-size:.875rem}.main-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 6px #00000040}.navbar-collapse[_ngcontent-%COMP%]{background-color:#0f172af2;margin-top:.5rem}"]})};var zo=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"app-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-links"],["href","#"],[1,"footer-bottom"]],template:function(t,r){t&1&&(d(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),g(4,"Sports Championships"),f(),d(5,"p"),g(6,"Organiza, compite y disfruta de tu deporte favorito"),f()(),d(7,"div",3)(8,"a",4),g(9,"Aviso legal"),f(),d(10,"a",4),g(11,"Privacidad"),f()()(),d(12,"div",5),g(13," \xA9 2025 Sports Center Championships \xB7 Todos los derechos reservados "),f()())},styles:[".app-footer[_ngcontent-%COMP%]{background:#0f172a;color:#cbd5e1;padding:1rem;margin-top:4rem}.footer-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:2rem;text-align:center}.footer-brand[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#fff}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;font-size:.9rem;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.8rem;color:#94a3b8}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;text-align:left}.footer-links[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};function kR(e,n){if(e&1&&(d(0,"div",1),M(1,"img",2),d(2,"div",3)(3,"div",4)(4,"small",5),g(5),f(),d(6,"div",6),g(7),f(),d(8,"small",7),g(9),oo(10,"date"),f(),M(11,"br"),d(12,"small",7),g(13),f()()()()),e&2){let t=Q();y(),C("src",t.getGameImage(t.game.sport_name||""),et),y(4),Ct(" ",t.game.type," "),y(2),Qh(" ",t.game.team1==null?null:t.game.team1.name," vs ",t.game.team2==null?null:t.game.team2.name," "),y(2),Ct(" ",A_(10,6,t.game.date,"dd MMM \xB7 HH:mm")," "),y(4),Ct(" \u{1F4CD} ",t.game.location," ")}}var Zu=class e{game=null;getGameImage(n){switch(n){case"tennis":return"assets/images/sports/tennis/tennis-field-1.jpeg";case"padel":return"assets/images/sports/padel/padel-field-1.jpeg";default:return"assets/images/default-field.jpeg"}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-game-card"]],inputs:{game:"game"},decls:1,vars:1,consts:[["class","next-game-card",4,"ngIf"],[1,"next-game-card"],["alt","Campo de juego",1,"next-game-img",3,"src"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"badge","bg-dark","text-uppercase","mb-1"],[1,"fw-semibold","small"],[1,"text-white-50"]],template:function(t,r){t&1&&B(0,kR,14,9,"div",0),t&2&&C("ngIf",r.game)},dependencies:[Z,ye,dp],styles:[".next-game-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.next-game-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}}"]})};function PR(e,n){if(e&1&&M(0,"app-game-card",5),e&2){let t=n.$implicit;C("game",t)}}var Wo=class e{games;ngOnInit(){if(!this.games){let n=[{id:1,competition_id:1,date:"2025-01-22T18:30:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:3,team1:{id:101,name:"Ace Masters",sport_id:1,sport_name:"1",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:102,name:"Clay Warriors",sport_id:1,sport_name:"1",image:"assets/images/team-default.png",gender:"mixed"}},{id:2,competition_id:2,date:"2025-01-25T19:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,team1:{id:201,name:"Padel Smash",sport_id:2,sport_name:"2",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:202,name:"Golden Racket",sport_id:2,sport_name:"2",image:"assets/images/team-default.png",gender:"mixed"}},{id:3,competition_id:1,date:"2025-01-24T20:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:3,team1:{id:103,name:"Topspin United",sport_id:1,sport_name:"1",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:104,name:"Baseline Kings",sport_id:1,sport_name:"1",image:"assets/images/team-default.png",gender:"mixed"}},{id:4,competition_id:2,date:"2025-01-27T21:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,team1:{id:203,name:"Red Net Padel",sport_id:2,sport_name:"2",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:204,name:"Vibora Team",sport_id:2,sport_name:"2",image:"assets/images/team-default.png",gender:"mixed"}},{id:5,competition_id:3,date:"2025-01-29T18:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:4,team1:{id:105,name:"Match Point",sport_id:1,sport_name:"pdael",image:"assets/images/team-default.png",gender:"mixed"},team2:{id:106,name:"Deuce Squad",sport_id:1,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"}}];this.games=n}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-my-games"]],inputs:{games:"games"},decls:6,vars:1,consts:[[1,"my-games-section"],[1,"container"],[1,"fw-bold","mb-3"],[1,"my-games-scroll"],[3,"game",4,"ngFor","ngForOf"],[3,"game"]],template:function(t,r){t&1&&(d(0,"section",0)(1,"div",1)(2,"h2",2),g(3,"Pr\xF3ximos partidos"),f(),d(4,"div",3),B(5,PR,1,1,"app-game-card",4),f()()()),t&2&&(y(5),C("ngForOf",r.games))},dependencies:[Z,je,Zu],styles:[".my-games-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-games-scroll[_ngcontent-%COMP%]   app-game-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.my-games-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.my-games-scroll[_ngcontent-%COMP%]   app-game-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem);scroll-snap-align:unset}}"]})};function FR(e,n){if(e&1&&(d(0,"div",17)(1,"div",18),M(2,"div",19),d(3,"div",20)(4,"h5",21),g(5),f(),d(6,"small",22),g(7),f()()()()),e&2){let t=n.$implicit;y(2),Ss("background-image","url("+t.image+")"),y(),C("ngClass",t.color),y(2),te(t.name),y(2),te(t.nextEvent)}}var Ju=class e{sports=[{id:4,name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",nextEvent:"28 Sep \xB7 21:00"},{id:3,name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",nextEvent:"25 Sep \xB7 10:00"},{id:2,name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",nextEvent:"22 Sep \xB7 19:30"},{id:1,name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",nextEvent:"20 Sep \xB7 18:00"}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-home"]],decls:43,vars:1,consts:[[1,"hero-header"],[1,"hero-overlay"],[1,"container","hero-content"],[1,"display-5","fw-bold","text-white"],[1,"text-white-50","mt-2"],[1,"sports-section"],[1,"container"],[1,"fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"features-section"],[1,"row","g-4","text-center"],[1,"col-12","col-md-4"],[1,"feature-item"],[1,"feature-icon","icon-league"],[1,"feature-icon","icon-notify"],[1,"feature-icon","icon-free"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"sport-card","shadow-sm","h-100"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],[1,"text-white","fw-bold","mb-1"],[1,"text-white-50"]],template:function(t,r){t&1&&(d(0,"section",0),M(1,"app-header")(2,"div",1),d(3,"div",2)(4,"h1",3),g(5," App organizador de eventos deportivos "),f(),d(6,"p",4),g(7," Crea, gestiona y compite en ligas de tu deporte favorito "),f()()(),M(8,"app-my-games"),d(9,"section",5)(10,"div",6)(11,"h2",7),g(12,"Deportes"),f(),d(13,"div",8),B(14,FR,8,5,"div",9),f()()(),d(15,"section",10)(16,"div",6)(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14),g(21,"\u{1F3C6}"),f(),d(22,"h5"),g(23,"Crea y compite"),f(),d(24,"p"),g(25,"Crea y ap\xFAntate a ligas de tu deporte favorito"),f()()(),d(26,"div",12)(27,"div",13)(28,"div",15),g(29,"\u{1F514}"),f(),d(30,"h5"),g(31,"Notificaciones"),f(),d(32,"p"),g(33,"Recibe avisos de partidos, resultados y cambios"),f()()(),d(34,"div",12)(35,"div",13)(36,"div",16),g(37,"\u{1F389}"),f(),d(38,"h5"),g(39,"100% gratis"),f(),d(40,"p"),g(41,"Sin costes ocultos, ahora y siempre"),f()()()()()(),M(42,"app-footer")),t&2&&(y(14),C("ngForOf",r.sports))},dependencies:[Z,Qr,je,Ku,zo,Wo],styles:[".hero-header[_ngcontent-%COMP%]{position:relative;min-height:45vh;background-image:url(/sportscenterchampionships/assets/images/homeHeader.jpeg);background-size:cover;background-position:center;display:flex;flex-direction:column}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0000,#00000080);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:auto;padding-bottom:3rem;max-width:720px}@media (max-width: 768px){.hero-header[_ngcontent-%COMP%]{min-height:23vh}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.title-section[_ngcontent-%COMP%]{position:relative;height:40vh;overflow:hidden;display:flex;align-items:center}.title-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}.title-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:720px}.sports-section[_ngcontent-%COMP%]{margin-top:.5rem}.sport-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.sport-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 25px #0003}.sport-image[_ngcontent-%COMP%]{height:180px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:16px}.features-section[_ngcontent-%COMP%]{padding:3rem 0;background-color:#f8f9fa}.feature-item[_ngcontent-%COMP%]{padding:1.75rem 1.25rem;border-radius:16px;background:#fff;height:100%;transition:transform .25s ease,box-shadow .25s ease}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014}.feature-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto .75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff}.feature-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.35rem;color:#222}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;line-height:1.4}@media (max-width: 576px){.feature-item[_ngcontent-%COMP%]{padding:1.25rem}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.icon-league[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7fa9c4,#6c96b1)}.icon-notify[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fbf9f,#7eaf90)}.icon-free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f2b36d,#c97a5a)}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:.5rem;font-weight:600;color:#222}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.5;margin:0}@media (min-width: 768px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.title-section[_ngcontent-%COMP%]{margin-top:3.4rem;height:10vh}.title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.sport-image[_ngcontent-%COMP%]{height:110px}@media (max-width: 576px){.sports-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.sport-body[_ngcontent-%COMP%]{padding:12px}.sport-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.95rem}.sport-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 768px){.sport-image[_ngcontent-%COMP%]{height:180px}}"]})};var gE=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(A(yn),A(en))};static \u0275dir=we({type:e})}return e})(),Ma=(()=>{class e extends gE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275dir=we({type:e,features:[wt]})}return e})(),Zo=new L(""),LR={provide:Zo,useExisting:Bt(()=>bi),multi:!0},bi=(()=>{class e extends Ma{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[_n([LR]),wt]})}return e})(),jR={provide:Zo,useExisting:Bt(()=>Je),multi:!0};function VR(){let e=zt()?zt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var UR=new L(""),Je=(()=>{class e extends gE{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!VR())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(A(yn),A(en),A(UR,8))};static \u0275dir=we({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&H("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[_n([jR]),wt]})}return e})();function BR(e){return e==null||$R(e)===0}function $R(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var id=new L(""),mE=new L("");function HR(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function zR(e){return BR(e.value)?{required:!0}:null}function sE(e){return null}function vE(e){return e!=null}function yE(e){return lr(e)?Se(e):e}function _E(e){let n={};return e.forEach(t=>{n=t!=null?S(S({},n),t):n}),Object.keys(n).length===0?null:n}function wE(e,n){return n.map(t=>t(e))}function WR(e){return!e.validate}function bE(e){return e.map(n=>WR(n)?n:t=>n.validate(t))}function qR(e){if(!e)return null;let n=e.filter(vE);return n.length==0?null:function(t){return _E(wE(t,n))}}function _m(e){return e!=null?qR(bE(e)):null}function GR(e){if(!e)return null;let n=e.filter(vE);return n.length==0?null:function(t){let r=wE(t,n).map(yE);return Qd(r).pipe(oe(_E))}}function wm(e){return e!=null?GR(bE(e)):null}function aE(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function KR(e){return e._rawValidators}function ZR(e){return e._rawAsyncValidators}function mm(e){return e?Array.isArray(e)?e:[e]:[]}function Qu(e,n){return Array.isArray(e)?e.includes(n):e===n}function lE(e,n){let t=mm(n);return mm(e).forEach(i=>{Qu(t,i)||t.push(i)}),t}function cE(e,n){return mm(n).filter(t=>!Qu(e,t))}var Xu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=_m(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=wm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Ko=class extends Xu{name;get formDirective(){return null}get path(){return null}},Ia=class extends Xu{_parent=null;name=null;valueAccessor=null},ed=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},g5=ee(S({},JR),{"[class.ng-submitted]":"isSubmitted"}),ot=(()=>{class e extends ed{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(A(Ia,2))};static \u0275dir=we({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&cr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[wt]})}return e})(),Ar=(()=>{class e extends ed{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(A(Ko,10))};static \u0275dir=we({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&cr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[wt]})}return e})();var ba="VALID",Yu="INVALID",qo="PENDING",Ca="DISABLED",Or=class{},td=class extends Or{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Da=class extends Or{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Sa=class extends Or{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Go=class extends Or{status;source;constructor(n,t){super(),this.status=n,this.source=t}},vm=class extends Or{source;constructor(n){super(),this.source=n}},ym=class extends Or{source;constructor(n){super(),this.source=n}};function CE(e){return(od(e)?e.validators:e)||null}function YR(e){return Array.isArray(e)?_m(e):e||null}function EE(e,n){return(od(n)?n.asyncValidators:e)||null}function QR(e){return Array.isArray(e)?wm(e):e||null}function od(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function XR(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new k(1e3,"");if(!r[t])throw new k(1001,"")}function eN(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new k(1002,"")})}var nd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return tn(this.statusReactive)}set status(n){tn(()=>this.statusReactive.set(n))}_status=Ms(()=>this.statusReactive());statusReactive=Cs(void 0);get valid(){return this.status===ba}get invalid(){return this.status===Yu}get pending(){return this.status==qo}get disabled(){return this.status===Ca}get enabled(){return this.status!==Ca}errors;get pristine(){return tn(this.pristineReactive)}set pristine(n){tn(()=>this.pristineReactive.set(n))}_pristine=Ms(()=>this.pristineReactive());pristineReactive=Cs(!0);get dirty(){return!this.pristine}get touched(){return tn(this.touchedReactive)}set touched(n){tn(()=>this.touchedReactive.set(n))}_touched=Ms(()=>this.touchedReactive());touchedReactive=Cs(!1);get untouched(){return!this.touched}_events=new ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(lE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(lE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(cE(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(cE(n,this._rawAsyncValidators))}hasValidator(n){return Qu(this._rawValidators,n)}hasAsyncValidator(n){return Qu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(ee(S({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Sa(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Sa(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(ee(S({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Da(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Da(!0,r))}markAsPending(n={}){this.status=qo;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Go(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(ee(S({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ca,this.errors=null,this._forEachChild(i=>{i.disable(ee(S({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new td(this.value,r)),this._events.next(new Go(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ba,this._forEachChild(r=>{r.enable(ee(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(ee(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ba||this.status===qo)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new td(this.value,t)),this._events.next(new Go(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(ee(S({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ca:ba}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=qo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=yE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Go(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Ca:this.errors?Yu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qo)?qo:this._anyControlsHaveStatus(Yu)?Yu:ba}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Da(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Sa(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){od(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=YR(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=QR(this._rawAsyncValidators)}},rd=class extends nd{constructor(n,t,r){super(CE(t),EE(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){eN(this,!0,n),Object.keys(n).forEach(r=>{XR(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var bm=new L("",{providedIn:"root",factory:()=>Cm}),Cm="always";function tN(e,n){return[...n.path,e]}function DE(e,n,t=Cm){SE(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),rN(e,n),oN(e,n),iN(e,n),nN(e,n)}function uE(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function nN(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function SE(e,n){let t=KR(e);n.validator!==null?e.setValidators(aE(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=ZR(e);n.asyncValidator!==null?e.setAsyncValidators(aE(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();uE(n._rawValidators,i),uE(n._rawAsyncValidators,i)}function rN(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&IE(e,n)})}function iN(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&IE(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function IE(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function oN(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function sN(e,n){e==null,SE(e,n)}function aN(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function lN(e){return Object.getPrototypeOf(e.constructor)===Ma}function cN(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function uN(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===Je?t=o:lN(o)?r=o:i=o}),i||r||t||null}var dN={provide:Ko,useExisting:Bt(()=>Qn)},Ea=Promise.resolve(),Qn=(()=>{class e extends Ko{callSetDisabledState;get submitted(){return tn(this.submittedReactive)}_submitted=Ms(()=>this.submittedReactive());submittedReactive=Cs(!1);_directives=new Set;form;ngSubmit=new Te;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new rd({},_m(t),wm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ea.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),DE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ea.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ea.then(()=>{let r=this._findContainer(t.path),i=new rd({});sN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ea.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ea.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),cN(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new vm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new ym(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(A(id,10),A(mE,10),A(bm,8))};static \u0275dir=we({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&H("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_n([dN]),wt]})}return e})();function dE(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function fE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var fN=class extends nd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(CE(t),EE(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),od(t)&&(t.nonNullable||t.initialValueIsDefault)&&(fE(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){dE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){dE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){fE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var hN={provide:Ia,useExisting:Bt(()=>tt)},hE=Promise.resolve(),tt=(()=>{class e extends Ia{_changeDetectorRef;callSetDisabledState;control=new fN;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Te;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uN(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),aN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){DE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){hE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&dr(r);hE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?tN(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(A(Ko,9),A(id,10),A(mE,10),A(Zo,10),A(ur,8),A(bm,8))};static \u0275dir=we({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[_n([hN]),wt,sr]})}return e})();var Rr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=we({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),pN={provide:Zo,useExisting:Bt(()=>Em),multi:!0},Em=(()=>{class e extends Ma{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&H("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[_n([pN]),wt]})}return e})();var gN={provide:Zo,useExisting:Bt(()=>Tn),multi:!0};function ME(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function mN(e){return e.split(":")[0]}var Tn=(()=>{class e extends Ma{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=ME(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=mN(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_n([gN]),wt]})}return e})(),On=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ME(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(A(en),A(yn),A(Tn,9))};static \u0275dir=we({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),vN={provide:Zo,useExisting:Bt(()=>xE),multi:!0};function pE(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function yN(e){return e.split(":")[0]}var xE=(()=>{class e extends Ma{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=yN(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_n([vN]),wt]})}return e})(),An=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(pE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(pE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(A(en),A(yn),A(xE,9))};static \u0275dir=we({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function _N(e){return typeof e=="number"?e:parseFloat(e)}var TE=(()=>{class e{_validator=sE;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=we({type:e,features:[sr]})}return e})();var wN={provide:id,useExisting:Bt(()=>Dm),multi:!0},Dm=(()=>{class e extends TE{min;inputName="min";normalizeInput=t=>_N(t);createValidator=t=>HR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&bt("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[_n([wN]),wt]})}return e})(),bN={provide:id,useExisting:Bt(()=>xa),multi:!0};var xa=(()=>{class e extends TE{required;inputName="required";normalizeInput=dr;createValidator=t=>zR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Xt(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&bt("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[_n([bN]),wt]})}return e})();var CN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=qn({type:e});static \u0275inj=Hn({})}return e})();var Ye=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:bm,useValue:t.callSetDisabledState??Cm}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=qn({type:e});static \u0275inj=Hn({imports:[CN]})}return e})();var sd=class e{sb=D(it);constructor(){}createUser(n){return m(this,null,function*(){let t=yield this.sb.getUser();if(!t)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").insert(S({id:t.id},n));if(r)throw r})}updateUser(n){return m(this,null,function*(){let t=yield this.sb.getUser();if(!t)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").update(n).eq("id",t.id);if(r)throw r})}deleteUserProfile(){return m(this,null,function*(){let n=yield this.sb.getUser();if(!n)throw new Error("User not authenticated");let{error:t}=yield this.sb.supabase.from("users").delete().eq("id",n.id);if(t)throw t})}getUserTeams(n){return m(this,null,function*(){return this.sb.supabase.from("teams").select("id, name, image, gender").eq("active",!0)})}getUpcomingGames(){return m(this,null,function*(){return this.sb.supabase.from("games").select(`
        id,
        date,
        type,
        team1:team1_id ( id, name, image ),
        team2:team2_id ( id, name, image )
      `).order("date",{ascending:!0})})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};function EN(e,n){if(e&1){let t=Me();d(0,"input",7),T("ngModelChange",function(i){W(t);let o=Q().$implicit;return O(o.level,i)||(o.level=i),q(i)}),f()}if(e&2){let t=Q().$implicit;uc("name","level-",t.key,""),x("ngModel",t.level)}}function DN(e,n){if(e&1){let t=Me();d(0,"div",2)(1,"div",3),H("click",function(){let i=W(t).$implicit,o=Q();return q(o.toggleSport(i))}),M(2,"div",4),d(3,"div",5)(4,"span"),g(5),f()()(),B(6,EN,1,3,"input",6),f()}if(e&2){let t=n.$implicit,r=Q();y(),cr("selected",t.selected)("disabled",t.disabled),y(),Ss("background-image","url("+t.image+")"),y(),C("ngClass",t.color),y(2),te(t.name),y(),C("ngIf",t.selected&&r.showLevel)}}var ad=class e{initialSports=null;showLevel=!1;sportsSelected=new Te;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];ngOnInit(){if(this.initialSports&&this.initialSports.length){let n=new Map(this.initialSports.map(t=>[t.key,t]));this.sports=this.sports.map(t=>{let r=n.get(t.key);return r?S(S({},t),r):t}),this.emitSelected()}}toggleSport(n){n.disabled||(n.selected=!n.selected,n.selected||(n.level=""),this.emitSelected())}emitSelected(){let n=this.sports.filter(t=>t.selected);this.sportsSelected.emit(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-sports-selector"]],inputs:{initialSports:"initialSports",showLevel:"showLevel"},outputs:{sportsSelected:"sportsSelected"},decls:2,vars:1,consts:[[1,"row","g-3","mb-4"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-3"],[1,"sport-card",3,"click"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],["type","text","class","form-control mt-2","placeholder","Nivel",3,"ngModel","name","ngModelChange",4,"ngIf"],["type","text","placeholder","Nivel",1,"form-control","mt-2",3,"ngModelChange","ngModel","name"]],template:function(t,r){t&1&&(d(0,"div",0),B(1,DN,7,9,"div",1),f()),t&2&&(y(),C("ngForOf",r.sports))},dependencies:[Z,Qr,je,ye,Ye,Je,ot,tt],styles:[".sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s,box-shadow .2s;background:#fff;border:1px solid #e5e7eb}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb33,0 10px 20px #00000014}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center;font-weight:600}"]})};var ld=class e{constructor(n,t){this.router=n;this.location=t;this.router.events.pipe(at(r=>r instanceof St)).subscribe(r=>{let i=r.urlAfterRedirects;this.stack[this.stack.length-1]!==i&&(this.stack.push(i),this.stack.length>this.max&&this.stack.shift())})}stack=[];max=50;canGoBack(){return this.stack.length>1}getPreviousUrl(){return this.stack.length>1?this.stack[this.stack.length-2]:null}goBack(n){this.canGoBack()?this.location.back():n?this.router.navigateByUrl(n):this.router.navigateByUrl("/")}getRouteFallback(n){return n.snapshot.data?.backTo}static \u0275fac=function(t){return new(t||e)(V(he),V(wn))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};function IN(e,n){if(e&1&&(d(0,"span",5),g(1),f()),e&2){let t=Q();y(),te(t.label)}}var st=class e{constructor(n,t,r){this.nav=n;this.route=t;this.router=r}label="Volver";iconOnly=!1;fallbackUrl;ariaLabel="Volver";onBack(){let n=this.fallbackUrl??this.nav.getRouteFallback(this.route)??"/";this.nav.goBack(n)}static \u0275fac=function(t){return new(t||e)(A(ld),A(It),A(he))};static \u0275cmp=z({type:e,selectors:[["app-back-button"]],inputs:{label:"label",iconOnly:"iconOnly",fallbackUrl:"fallbackUrl",ariaLabel:"ariaLabel"},decls:5,vars:2,consts:[["type","button",1,"back-btn",3,"click"],["aria-hidden","true",1,"icon"],["viewBox","0 0 24 24","width","20","height","20","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","15 18 9 12 15 6"],["class","label",4,"ngIf"],[1,"label"]],template:function(t,r){t&1&&(d(0,"button",0),H("click",function(){return r.onBack()}),d(1,"span",1),o0(),d(2,"svg",2),M(3,"polyline",3),f()(),B(4,IN,2,1,"span",4),f()),t&2&&(bt("aria-label",r.ariaLabel),y(4),C("ngIf",!r.iconOnly))},dependencies:[Z,ye],styles:[".back-btn[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid rgba(0,0,0,.08);border-radius:9999px;background:linear-gradient(180deg,#fff,#f6f7fb);color:#1f2937;box-shadow:0 2px 6px #00000014,inset 0 -1px #0000000a;cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .1s ease,box-shadow .15s ease,background .15s ease}.back-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #0000001a,inset 0 -1px #0000000a}.back-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.back-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center}.label[_ngcontent-%COMP%]{font-weight:600;font-size:14px}@media (prefers-color-scheme: dark){.back-btn[_ngcontent-%COMP%]{background:linear-gradient(180deg,#262b36,#1f2430);color:#e5e7eb;border-color:#ffffff14;box-shadow:0 2px 6px #00000080,inset 0 -1px #ffffff08}}"]})};function MN(e,n){e&1&&(d(0,"span"),g(1,"Crear cuenta"),f())}function xN(e,n){e&1&&M(0,"span",42)}function TN(e,n){e&1&&(d(0,"span"),g(1,"Siguiente TEST"),f())}var cd=class e{profile={name:"",email:"",password:"",phone:"",language:"es",avatar_url:"",zone:"",city:"",position:"",birthdate:"",gender:"",notifications:!0};loading=!1;avatarFile=null;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];selectedSports=[];supabase=D(it);userService=D(sd);router=D(he);constructor(){}onAvatarSelected(n){return m(this,null,function*(){let t=n.target.files[0];if(!t)return;let r=yield this.supabase.uploadAvatar(t);r&&(this.profile.avatar_url=r)})}onSportsSelected(n){this.selectedSports=n}saveProfile(){return m(this,null,function*(){try{this.loading=!0;let{data:n,error:t}=yield this.supabase.signUp(this.profile.email,this.profile.password);if(t)throw t;this.avatarFile&&(this.profile.avatar_url=yield this.supabase.uploadAvatar(this.avatarFile)),yield this.userService.createUser({name:this.profile.name,email:this.profile.email,avatar_url:this.profile.avatar_url,language:this.profile.language,birth_date:this.profile.birthdate,gender:this.profile.gender,position:this.profile.position,notifications:this.profile.notifications,city:this.profile.city,zone:this.profile.zone});let{data:r,error:i}=yield this.supabase.signInWithEmail(this.profile.email,this.profile.password);if(i)throw i;console.log("Login after sign up:",r)}catch(n){console.error(n)}finally{this.loading=!1,this.router.navigate(["/user_onboarding"])}})}goToNextTest(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-user-profile"]],decls:66,vars:17,consts:[["form","ngForm"],[1,"onboarding-hero"],[1,"overlay"],["label","Volver"],[1,"onboarding-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"avatar-upload"],["alt","Avatar",1,"avatar-preview",3,"src"],[1,"upload-btn"],["type","file","hidden","","accept","image/*",3,"change"],["placeholder","Nombre","name","name","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["placeholder","Email","name","email","required","",1,"form-control","mb-3",3,"ngModelChange","value","ngModel"],["type","password","placeholder","Contrase\xF1a","name","password","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","language",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","es"],["value","en"],["value","ca"],["type","date","name","birthdate","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","gender","required","",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","male"],["value","female"],["value","other"],["name","position",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","drive"],["value","reves"],["value","indiferente"],["type","text","placeholder","Poblaci\xF3n","name","city","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","zone","required","",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","north"],["value","center"],["value","south"],[1,"form-check","form-switch","mb-4"],["type","checkbox","id","notifications","name","notifications",1,"form-check-input",3,"ngModelChange","ngModel"],["for","notifications",1,"form-check-label"],[1,"section-title"],[3,"sportsSelected","showLevel"],["type","submit",1,"mobile-submit",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["type","submit",1,"mobile-submit",3,"click"],[1,"spinner"]],template:function(t,r){if(t&1){let i=Me();d(0,"div",1),M(1,"div",2)(2,"app-back-button",3),d(3,"div",4)(4,"h2"),g(5,"Bienvenido \u{1F44B}"),f(),d(6,"p",5),g(7,"Crea tu perfil y empieza a competir"),f(),d(8,"form",6,0),H("ngSubmit",function(){return W(i),q(r.saveProfile())}),d(10,"div",7),M(11,"img",8),d(12,"label",9),g(13," Cambiar foto "),d(14,"input",10),H("change",function(s){return W(i),q(r.onAvatarSelected(s))}),f()()(),d(15,"input",11),T("ngModelChange",function(s){return W(i),O(r.profile.name,s)||(r.profile.name=s),q(s)}),f(),d(16,"input",12),T("ngModelChange",function(s){return W(i),O(r.profile.email,s)||(r.profile.email=s),q(s)}),f(),d(17,"input",13),T("ngModelChange",function(s){return W(i),O(r.profile.password,s)||(r.profile.password=s),q(s)}),f(),d(18,"select",14),T("ngModelChange",function(s){return W(i),O(r.profile.language,s)||(r.profile.language=s),q(s)}),d(19,"option",15),g(20,"\u{1F1EA}\u{1F1F8} Espa\xF1ol"),f(),d(21,"option",16),g(22,"\u{1F1EC}\u{1F1E7} English"),f(),d(23,"option",17),g(24," Valenci\xE0"),f()(),d(25,"input",18),T("ngModelChange",function(s){return W(i),O(r.profile.birthdate,s)||(r.profile.birthdate=s),q(s)}),f(),d(26,"select",19),T("ngModelChange",function(s){return W(i),O(r.profile.gender,s)||(r.profile.gender=s),q(s)}),d(27,"option",20),g(28,"Sexo"),f(),d(29,"option",21),g(30,"Hombre"),f(),d(31,"option",22),g(32,"Mujer"),f(),d(33,"option",23),g(34,"Otro"),f()(),d(35,"select",24),T("ngModelChange",function(s){return W(i),O(r.profile.position,s)||(r.profile.position=s),q(s)}),d(36,"option",20),g(37,"Posici\xF3n"),f(),d(38,"option",25),g(39,"Drive"),f(),d(40,"option",26),g(41,"Rev\xE9s"),f(),d(42,"option",27),g(43,"Indiferente"),f()(),d(44,"input",28),T("ngModelChange",function(s){return W(i),O(r.profile.city,s)||(r.profile.city=s),q(s)}),f(),d(45,"select",29),T("ngModelChange",function(s){return W(i),O(r.profile.zone,s)||(r.profile.zone=s),q(s)}),d(46,"option",20),g(47,"Zona de preferencia"),f(),d(48,"option",30),g(49,"Zona Norte"),f(),d(50,"option",31),g(51,"Zona Centro"),f(),d(52,"option",32),g(53,"Zona Sur"),f()(),d(54,"div",33)(55,"input",34),T("ngModelChange",function(s){return W(i),O(r.profile.notifications,s)||(r.profile.notifications=s),q(s)}),f(),d(56,"label",35),g(57," Recibir notificaciones "),f()(),d(58,"h4",36),g(59,"Deportes que practicas"),f(),d(60,"app-sports-selector",37),H("sportsSelected",function(s){return W(i),q(r.onSportsSelected(s))}),f(),d(61,"button",38),B(62,MN,2,0,"span",39)(63,xN,1,0,"span",40),f(),d(64,"button",41),H("click",function(){return W(i),q(r.goToNextTest())}),B(65,TN,2,0,"span",39),f()()()()}if(t&2){let i=io(9);y(11),C("src",r.profile.avatar_url||"assets/images/default-avatar.jpg",et),y(4),x("ngModel",r.profile.name),y(),C("value",r.profile.email),x("ngModel",r.profile.email),y(),x("ngModel",r.profile.password),y(),x("ngModel",r.profile.language),y(7),x("ngModel",r.profile.birthdate),y(),x("ngModel",r.profile.gender),y(9),x("ngModel",r.profile.position),y(9),x("ngModel",r.profile.city),y(),x("ngModel",r.profile.zone),y(10),x("ngModel",r.profile.notifications),y(5),C("showLevel",!0),y(),C("disabled",r.loading||!i.valid),y(),C("ngIf",!r.loading),y(),C("ngIf",r.loading),y(2),C("ngIf",!r.loading)}},dependencies:[Z,ye,Ye,Rr,On,An,Je,bi,Tn,ot,Ar,xa,tt,Qn,ad,st],styles:[".onboarding-hero[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/images/homeHeader.jpeg) center / cover;display:flex;justify-content:center;align-items:center}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000008c}.onboarding-card[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:1rem;width:100%;max-width:520px;z-index:2}.avatar-upload[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.avatar-preview[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;object-fit:cover}.upload-btn[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#2563eb;cursor:pointer}.sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.mobile-submit[_ngcontent-%COMP%]{position:inherit;bottom:1rem;width:100%;padding:1rem;border-radius:999px;background:linear-gradient(135deg,#2563eb,#1e40af);color:#fff;font-size:1.05rem;font-weight:600;border:none;box-shadow:0 10px 25px #2563eb59;transition:transform .15s ease,box-shadow .15s ease,opacity .15s;z-index:5}.mobile-submit[_ngcontent-%COMP%]:active{transform:scale(.97);box-shadow:0 6px 16px #2563eb40}.mobile-submit[_ngcontent-%COMP%]:disabled{opacity:.5;box-shadow:none}.spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:3px solid rgba(255,255,255,.4);border-top-color:#fff;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function ON(e,n){if(e&1&&(d(0,"div",14),g(1),f()),e&2){let t=Q();y(),Ct(" ",t.error," ")}}var ud=class e{constructor(n,t){this.supabase=n;this.router=t}email="";password="";loading=!1;error=null;loginWithEmail(){return m(this,null,function*(){this.loading=!0,this.error=null;let{data:n,error:t}=yield this.supabase.signInWithEmail(this.email,this.password);this.loading=!1,t?this.error=t.message:n?.user&&this.router.navigate(["/dashboard"])})}loginWithGoogle(){return m(this,null,function*(){let{data:n,error:t}=yield this.supabase.signInWithGoogle();t?this.error=t.message:n?.url&&this.router.navigate(["/dashboard"])})}goToOnboarding(){this.router.navigate(["/user-profile"])}static \u0275fac=function(t){return new(t||e)(A(it),A(he))};static \u0275cmp=z({type:e,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"login-container"],[1,"login-card","shadow"],[1,"mb-4","text-center"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","tu@email.com",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"separator"],[1,"btn","btn-outline-dark","w-100","mb-3","d-flex","align-items-center","justify-content-center","gap-2",3,"click"],["src","assets/icons/google-icon.svg","width","18"],[1,"text-center","mt-3"],[1,"register-link",3,"click"],[1,"alert","alert-danger"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"div",1)(2,"h2",2),g(3,"Iniciar sesi\xF3n"),f(),B(4,ON,2,1,"div",3),d(5,"div",4)(6,"label",5),g(7,"Email"),f(),d(8,"input",6),T("ngModelChange",function(o){return O(r.email,o)||(r.email=o),o}),f()(),d(9,"div",4)(10,"label",5),g(11,"Contrase\xF1a"),f(),d(12,"input",7),T("ngModelChange",function(o){return O(r.password,o)||(r.password=o),o}),f()(),d(13,"button",8),H("click",function(){return r.loginWithEmail()}),g(14," Entrar "),f(),d(15,"div",9),g(16,"o"),f(),d(17,"button",10),H("click",function(){return r.loginWithGoogle()}),M(18,"img",11),g(19," Entrar con Google "),f(),d(20,"p",12),g(21," \xBFNo tienes cuenta? "),d(22,"a",13),H("click",function(){return r.goToOnboarding()}),g(23," Darse de alta "),f()()()()),t&2&&(y(4),C("ngIf",r.error),y(4),x("ngModel",r.email),y(4),x("ngModel",r.password),y(),C("disabled",r.loading))},dependencies:[Z,ye,Ye,Je,ot,tt],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#1e3c72,#2a5298)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;width:100%;max-width:400px;border-radius:12px}.separator[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;color:#888}.register-link[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;text-decoration:underline}"]})};var AN=()=>["/team"];function RN(e,n){if(e&1&&(Jr(0),d(1,"div",1)(2,"div",2),M(3,"img",3),d(4,"div",4)(5,"div",5)(6,"div",6),g(7),f()()()()(),Yr()),e&2){let t=Q();y(),C("routerLink",T_(5,AN)),bt("aria-label","Editar equipo "+t.team.name),y(2),Is("alt",t.team.name),C("src",t.team.image||"assets/images/team-default.png",et),y(4),te(t.team.name)}}var Jo=class e{team;isAdd=!1;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-team-card"]],inputs:{team:"team",isAdd:"isAdd"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"team-card",3,"routerLink"],[1,"image-wrap"],[3,"src","alt"],[1,"my-game-overlay"],[1,"my-game-info"],[1,"name"]],template:function(t,r){t&1&&B(0,RN,8,6,"ng-container",0),t&2&&C("ngIf",r.team)},dependencies:[Z,ye,si,ou],styles:[".team-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026;display:flex;flex-direction:column;gap:0}.image-wrap[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:0;overflow:hidden;box-shadow:none;background:linear-gradient(135deg,#f0f4ff,#e8f0fe);transform:translateZ(0)}.image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.team-card[_ngcontent-%COMP%]:hover   .image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#fff;text-align:left;padding:.75rem;text-shadow:1px 0 0 #000,-1px 0 0 #000,0 1px 0 #000,0 -1px 0 #000,1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000}.my-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.my-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.team-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}}"]})};function NN(e,n){if(e&1&&M(0,"app-team-card",11),e&2){let t=n.$implicit;C("team",t)}}var dd=class e{constructor(n){this.router=n}teams;ngOnInit(){this.teams||(this.teams=[{id:1,name:"Equipo ejemplo",sport_id:1,sport_name:"tennis",image:"assets/images/team-default.png",gender:"mixed"}])}onCreateTeam(){this.router.navigate(["/team"])}onJoinTeam(){this.router.navigate(["/team/join"])}static \u0275fac=function(t){return new(t||e)(A(he))};static \u0275cmp=z({type:e,selectors:[["app-my-teams"]],inputs:{teams:"teams"},decls:12,vars:1,consts:[[1,"my-games-section"],[1,"container"],[1,"section-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-0"],[1,"d-flex","align-items-center","gap-2"],["title","Crear equipo",1,"action-btn",3,"click"],["src","assets/icons/team-new.png","alt","Nuevo equipo",1,"button-icon"],["title","Unirse a equipo",1,"action-btn",3,"click"],["src","assets/icons/team-add.png","alt","Unirse a equipo",1,"button-icon"],[1,"my-games-scroll"],[3,"team",4,"ngFor","ngForOf"],[3,"team"]],template:function(t,r){t&1&&(d(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),g(4,"Mis equipos"),f(),d(5,"div",4)(6,"button",5),H("click",function(){return r.onCreateTeam()}),M(7,"img",6),f(),d(8,"button",7),H("click",function(){return r.onJoinTeam()}),M(9,"img",8),f()()(),d(10,"div",9),B(11,NN,1,1,"app-team-card",10),f()()()),t&2&&(y(11),C("ngForOf",r.teams))},dependencies:[Z,je,Jo],styles:[".my-games-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-games-scroll[_ngcontent-%COMP%]   app-team-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.button-icon[_ngcontent-%COMP%]{width:24px;height:24px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.4rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;box-shadow:0 1px 2px #0000000f;cursor:pointer;transition:background .2s ease,box-shadow .2s ease,transform .06s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7;box-shadow:0 2px 6px #0000001f}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}@media (min-width: 768px){.my-games-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.my-games-scroll[_ngcontent-%COMP%]   app-team-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem);scroll-snap-align:unset}}"]})};function kN(e,n){if(e&1){let t=Me();d(0,"button",8),H("click",function(i){W(t);let o=Q(2);return q(o.editCompetition(i))}),g(1," \u270F\uFE0F "),f()}}function PN(e,n){if(e&1){let t=Me();Jr(0),d(1,"div",1),H("click",function(){W(t);let i=Q();return q(i.goToClassification())}),B(2,kN,2,0,"button",2),d(3,"div",3),M(4,"img",4),d(5,"div",5)(6,"div",6)(7,"div",7),g(8),f()()()()(),Yr()}if(e&2){let t=Q();y(),bt("aria-label","Editar equipo desde campeonato "+t.competition.name),y(),C("ngIf",t.isCreator),y(2),Is("alt",t.competition.name),C("src",t.competition.image||"assets/images/sports-center.jpeg",et),y(4),te(t.competition.name)}}var Yo=class e{constructor(n){this.router=n}competition;isAdd=!1;isCreator=!1;editCompetition(n){n.stopPropagation(),this.competition&&this.router.navigate(["/competition"],{state:{competition:this.competition}})}goToClassification(){this.competition&&this.router.navigate(["/classification",this.competition.id])}static \u0275fac=function(t){return new(t||e)(A(he))};static \u0275cmp=z({type:e,selectors:[["app-competition-card"]],inputs:{competition:"competition",isAdd:"isAdd",isCreator:"isCreator"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"competition-card",3,"click"],["type","button","class","edit-btn","aria-label","Editar competici\xF3n",3,"click",4,"ngIf"],[1,"image-wrap"],[3,"src","alt"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"name"],["type","button","aria-label","Editar competici\xF3n",1,"edit-btn",3,"click"]],template:function(t,r){t&1&&B(0,PN,9,5,"ng-container",0),t&2&&C("ngIf",r.competition)},dependencies:[Z,ye,si],styles:[".competition-card[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026;display:grid;grid-template-rows:auto 1fr;gap:0;padding:0;background:#fff}.competition-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0000001f}.image-wrap[_ngcontent-%COMP%]{position:relative;width:100%;height:160px;padding-top:0;overflow:hidden;border-radius:0;background:#f3f4f6}.image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}.name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#fff;text-align:left;padding:.75rem;text-shadow:1px 0 0 #000,-1px 0 0 #000,0 1px 0 #000,0 -1px 0 #000,1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.competition-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}.name[_ngcontent-%COMP%]{font-size:1.05rem}}"]})};function FN(e,n){if(e&1&&M(0,"app-competition-card",11),e&2){let t=n.$implicit;C("competition",t)}}var fd=class e{constructor(n){this.router=n}competitions;ngOnInit(){this.competitions||(this.competitions=[{id:1,name:"Campeonato ejemplo",sport_id:1,sport_name:"tennis",image:"assets/images/sample-league-tennis.jpeg",is_open:!0}])}onCreateCompetition(){this.router.navigate(["/competition"])}onJoinCompetition(){this.router.navigate(["/competition/join"])}static \u0275fac=function(t){return new(t||e)(A(he))};static \u0275cmp=z({type:e,selectors:[["app-my-competitions"]],inputs:{competitions:"competitions"},decls:12,vars:1,consts:[[1,"my-competition-section"],[1,"container"],[1,"section-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold","mb-0"],[1,"d-flex","align-items-center","gap-2"],["title","Nuevo campeonato",1,"action-btn",3,"click"],["src","assets/icons/championship-new.png","alt","Nuevo",1,"button-icon"],["title","Unirse a campeonato",1,"action-btn",3,"click"],["src","assets/icons/championship-add.png","alt","Unirse",1,"button-icon"],[1,"my-competition-scroll"],[3,"competition",4,"ngFor","ngForOf"],[3,"competition"]],template:function(t,r){t&1&&(d(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),g(4,"Mis campeonatos"),f(),d(5,"div",4)(6,"button",5),H("click",function(){return r.onCreateCompetition()}),M(7,"img",6),f(),d(8,"button",7),H("click",function(){return r.onJoinCompetition()}),M(9,"img",8),f()()(),d(10,"div",9),B(11,FN,1,1,"app-competition-card",10),f()()()),t&2&&(y(11),C("ngForOf",r.competitions))},dependencies:[Z,je,Yo],styles:[".my-competition-section[_ngcontent-%COMP%]{margin-top:.5rem}.my-competition-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;scroll-snap-type:x mandatory}.my-competition-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-competition-scroll[_ngcontent-%COMP%]   app-competition-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;scroll-snap-align:start}.button-icon[_ngcontent-%COMP%]{width:24px;height:24px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.4rem;border:1px solid rgba(0,0,0,.1);border-radius:8px;background:#fff;box-shadow:0 1px 2px #0000000f;cursor:pointer;transition:background .2s ease,box-shadow .2s ease,transform .06s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f7f7f7;box-shadow:0 2px 6px #0000001f}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}@media (min-width: 768px){.my-competition-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.my-competition-scroll[_ngcontent-%COMP%]   app-competition-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem);scroll-snap-align:unset}}"]})};var hd=class e{user={name:"Albert",avatar:"assets/images/default-avatar.jpg"};teams=[{id:1,name:"Ace Masters",sport_id:1,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},{id:2,name:"Baseline Kings",sport_id:1,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"}];competitions=[{id:1,name:"Liga Club Tenis",image:null,sport_id:1,sport_name:"padel",type:"league",level:3,start_date:"2025-01-15",location:"Club Deportivo Central",is_open:!0},{id:2,name:"Torneo de Invierno",image:null,sport_id:1,sport_name:"padel",type:"tournament",level:3,start_date:"2025-02-01",location:"Real Club de Tenis",is_open:!1}];games=[{id:101,competition_id:1,date:"2025-01-22T18:30:00",type:"league",sport_id:"tennis",sport_name:"tennis",location:"Club Deportivo Central",level:3,team1:this.teams[0],team2:this.teams[1]},{id:102,competition_id:1,date:"2025-01-29T19:00:00",type:"league",sport_id:"tennis",sport_name:"tennis",location:"Club Deportivo Central",level:3,team1:this.teams[1],team2:this.teams[0]},{id:201,competition_id:2,date:"2025-02-05T20:00:00",type:"tournament",sport_id:"tennis",sport_name:"tennis",location:"Real Club de Tenis",level:3,team1:this.teams[0],team2:this.teams[1]},{id:202,competition_id:2,date:"2025-02-12T20:30:00",type:"tournament",sport_id:"tennis",sport_name:"tennis",location:"Real Club de Tenis",level:3,team1:this.teams[1],team2:this.teams[0]}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-user-dashboard"]],decls:18,vars:5,consts:[[1,"dashboard-header"],[1,"user-info"],[1,"avatar",3,"src"],[1,"subtitle"],[1,"notif-btn"],[1,"badge"],[1,"section"],[3,"games"],[3,"teams"],[3,"competitions"]],template:function(t,r){t&1&&(d(0,"header",0)(1,"div",1),M(2,"img",2),d(3,"div")(4,"h3"),g(5),f(),d(6,"span",3),g(7,"Bienvenido de nuevo"),f()()(),d(8,"button",4),g(9," \u{1F514} "),M(10,"span",5),f()(),d(11,"section",6),M(12,"app-my-games",7),f(),d(13,"section",6),M(14,"app-my-teams",8),f(),d(15,"section",6),M(16,"app-my-competitions",9),f(),M(17,"app-footer")),t&2&&(y(2),C("src",r.user.avatar,et),y(3),Ct("Hola, ",r.user.name,""),y(7),C("games",r.games),y(2),C("teams",r.teams),y(2),C("competitions",r.competitions))},dependencies:[Z,dd,fd,Wo,zo],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.user-info[_ngcontent-%COMP%]{display:flex;gap:.8rem}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%}.notif-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.3rem;position:relative}.badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:8px;height:8px;background:red;border-radius:50%}.section[_ngcontent-%COMP%]{padding:1rem}.section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .6rem;font-size:1rem;font-weight:700;color:#0f172a}.horizontal-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem}.carousel[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;overflow-x:auto;padding:.25rem .25rem .75rem;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}.carousel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.snap[_ngcontent-%COMP%]{scroll-snap-align:start}.card[_ngcontent-%COMP%]{min-width:160px;background:#fff;border-radius:1rem;padding:1rem;box-shadow:0 6px 20px #00000014}.add-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:2rem;color:#2563eb}.empty-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:.8rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.stat[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.8rem;padding:1rem;text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.dashboard-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;display:flex;justify-content:space-around;padding:.8rem;background:#fff;border-top:1px solid #eee}.add-card[_ngcontent-%COMP%]{min-width:60px;height:45px;border-radius:16px;border:2px dashed #93c5fd;background:#eff6ff;color:#2563eb;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.25rem;box-shadow:0 6px 20px #2563eb1f}.plus[_ngcontent-%COMP%]{font-size:2rem;line-height:1}.label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600}.button-icon[_ngcontent-%COMP%]{width:20px;height:20px}"]})};var pd=class e{center={name:"",google_maps_url:"",address:"",city:"",phone:"",website:""};submit(){console.log("Centro deportivo:",this.center)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-sports-center-form"]],decls:43,vars:7,consts:[["form","ngForm"],[1,"center-page"],[1,"container","py-5"],["label","Volver"],[1,"row","justify-content-center"],[1,"col-12","col-md-9","col-lg-6"],[1,"card","shadow-lg","center-card"],[1,"card-image"],["src","assets/images/sports-center.jpeg","alt","Centro deportivo"],[1,"card-body","p-4"],[1,"fw-bold","text-center","mb-2"],[1,"text-muted","text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","name","name","required","","placeholder","Ej. Centro Deportivo Municipal",1,"form-control",3,"ngModelChange","ngModel"],["type","url","name","google_maps_url","placeholder","https://maps.google.com/...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],["type","text","name","address","placeholder","Calle, n\xFAmero",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","city","placeholder","Ciudad",1,"form-control",3,"ngModelChange","ngModel"],["type","tel","name","phone","placeholder","+34 600 000 000",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["type","url","name","website","placeholder","https://...",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"]],template:function(t,r){if(t&1){let i=Me();d(0,"div",1)(1,"div",2),M(2,"app-back-button",3),d(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),M(7,"img",8),f(),d(8,"div",9)(9,"h2",10),g(10," A\xF1adir centro deportivo "),f(),d(11,"p",11),g(12," Introduce los datos b\xE1sicos o pega el enlace de Google Maps "),f(),d(13,"form",12,0),H("ngSubmit",function(){return W(i),q(r.submit())}),d(15,"div",13)(16,"label",14),g(17,"Nombre del centro *"),f(),d(18,"input",15),T("ngModelChange",function(s){return W(i),O(r.center.name,s)||(r.center.name=s),q(s)}),f()(),d(19,"div",13)(20,"label",14),g(21," Enlace de Google Maps "),f(),d(22,"input",16),T("ngModelChange",function(s){return W(i),O(r.center.google_maps_url,s)||(r.center.google_maps_url=s),q(s)}),f(),d(23,"small",17),g(24," Puedes copiarlo directamente desde Google Maps "),f()(),d(25,"div",13)(26,"label",14),g(27,"Direcci\xF3n"),f(),d(28,"input",18),T("ngModelChange",function(s){return W(i),O(r.center.address,s)||(r.center.address=s),q(s)}),f()(),d(29,"div",13)(30,"label",14),g(31,"Ciudad"),f(),d(32,"input",19),T("ngModelChange",function(s){return W(i),O(r.center.city,s)||(r.center.city=s),q(s)}),f()(),d(33,"div",13)(34,"label",14),g(35,"Tel\xE9fono"),f(),d(36,"input",20),T("ngModelChange",function(s){return W(i),O(r.center.phone,s)||(r.center.phone=s),q(s)}),f()(),d(37,"div",21)(38,"label",14),g(39,"P\xE1gina web"),f(),d(40,"input",22),T("ngModelChange",function(s){return W(i),O(r.center.website,s)||(r.center.website=s),q(s)}),f()(),d(41,"button",23),g(42," Guardar centro deportivo "),f()()()()()()()()}if(t&2){let i=io(14);y(18),x("ngModel",r.center.name),y(4),x("ngModel",r.center.google_maps_url),y(6),x("ngModel",r.center.address),y(4),x("ngModel",r.center.city),y(4),x("ngModel",r.center.phone),y(4),x("ngModel",r.center.website),y(),C("disabled",!i.valid)}},dependencies:[Z,Ye,Rr,Je,ot,Ar,xa,tt,Qn,st],styles:[".center-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e4ecf7)}.center-card[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden;border:none}.card-image[_ngcontent-%COMP%]{height:180px;overflow:hidden}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.form-control[_ngcontent-%COMP%]{border-radius:12px;padding:12px}.btn-primary[_ngcontent-%COMP%]{border-radius:14px;background:linear-gradient(135deg,#0d6efd,#0a58ca);border:none}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6}@media (max-width: 576px){.card-image[_ngcontent-%COMP%]{height:140px}}"]})};function LN(e,n){if(e&1){let t=Me();d(0,"div",9)(1,"div",10)(2,"span",11),g(3,"Ma\xF1ana"),f(),d(4,"div",12)(5,"input",13),T("ngModelChange",function(i){W(t);let o=Q().$implicit;return O(o.morning.start,i)||(o.morning.start=i),q(i)}),f(),d(6,"span"),g(7,"\u2013"),f(),d(8,"input",13),T("ngModelChange",function(i){W(t);let o=Q().$implicit;return O(o.morning.end,i)||(o.morning.end=i),q(i)}),f()()(),d(9,"div",10)(10,"span",11),g(11,"Tarde"),f(),d(12,"div",12)(13,"input",13),T("ngModelChange",function(i){W(t);let o=Q().$implicit;return O(o.afternoon.start,i)||(o.afternoon.start=i),q(i)}),f(),d(14,"span"),g(15,"\u2013"),f(),d(16,"input",13),T("ngModelChange",function(i){W(t);let o=Q().$implicit;return O(o.afternoon.end,i)||(o.afternoon.end=i),q(i)}),f()()()()}if(e&2){let t=Q().$implicit;y(5),x("ngModel",t.morning.start),y(3),x("ngModel",t.morning.end),y(5),x("ngModel",t.afternoon.start),y(3),x("ngModel",t.afternoon.end)}}function jN(e,n){if(e&1){let t=Me();d(0,"div",2)(1,"div",3)(2,"span",4),g(3),f(),d(4,"label",5)(5,"input",6),T("ngModelChange",function(i){let o=W(t).$implicit;return O(o.enabled,i)||(o.enabled=i),q(i)}),f(),M(6,"span",7),f()(),B(7,LN,17,4,"div",8),f()}if(e&2){let t=n.$implicit;y(3),te(t.label),y(2),x("ngModel",t.enabled),y(2),C("ngIf",t.enabled)}}var gd=class e{days=[{key:"mon",label:"Lunes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"tue",label:"Martes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"wed",label:"Mi\xE9rcoles",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"thu",label:"Jueves",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"fri",label:"Viernes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"sat",label:"S\xE1bado",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"sun",label:"Domingo",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-team-availability"]],decls:4,vars:1,consts:[[1,"availability-card"],["class","day-card",4,"ngFor","ngForOf"],[1,"day-card"],[1,"day-header"],[1,"day-name"],[1,"switch"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"slider"],["class","day-times",4,"ngIf"],[1,"day-times"],[1,"time-block"],[1,"block-label"],[1,"time-row"],["type","time",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"h5"),g(2,"Disponibilidad horaria"),f(),B(3,jN,8,3,"div",1),f()),t&2&&(y(3),C("ngForOf",r.days))},dependencies:[Z,je,ye,Ye,Je,bi,ot,tt],styles:['.availability-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:20px;box-shadow:inset 0 0 0 1px #e9ecef}.availability-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:16px}.day-card[_ngcontent-%COMP%]{border-radius:16px;background:#f8f9fa;padding:14px;margin-bottom:12px}.day-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.day-name[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem}.day-times[_ngcontent-%COMP%]{margin-top:12px;display:grid;gap:12px}.time-block[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:10px}.block-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;display:block;margin-bottom:6px}.time-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.time-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border-radius:10px;border:1px solid #ced4da;padding:6px;font-size:.75rem}.switch[_ngcontent-%COMP%]{position:relative;width:44px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ced4da;border-radius:999px;transition:.2s}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background:#fff;border-radius:50%;transition:.2s}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#1e88e5}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}@media (min-width: 768px){.day-times[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}']})};var md=class e{team={name:"",gender:"mixed",level:"",category:"",sport_id:null,max_players:null,image:""};submit(){console.log("Equipo:",this.team)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-team-form"]],decls:87,vars:0,consts:[[1,"team-page"],[1,"container","py-4"],["label","Volver","ariaLabel","Volver atr\xE1s"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-7"],[1,"card","team-card","shadow-lg"],[1,"team-header"],[1,"card-body","p-4"],[1,"form-section","text-center"],[1,"team-avatar-wrapper"],["src","assets/images/team-default.png","alt","Equipo",1,"team-avatar"],[1,"edit-avatar-btn"],[1,"text-muted","d-block","mt-2"],[1,"form-section"],["placeholder","Nombre del equipo",1,"form-control","mb-3"],[1,"form-select"],["value",""],[1,"level-selector"],[1,"level-pill","active"],[1,"level-pill"],[1,"form-select","mb-3"],["placeholder","Buscar jugador por nombre...",1,"form-control"],[1,"search-results","mt-2"],[1,"search-item"],[1,"players-list","mt-3"],[1,"player-chip"],[1,"btn","btn-primary","w-100","py-2","mt-4"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"div",1),M(2,"app-back-button",2),d(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),g(8,"Equipo"),f(),d(9,"p"),g(10,"Alta y edici\xF3n de equipo"),f()(),d(11,"div",7)(12,"section",8)(13,"div",9),M(14,"img",10),d(15,"button",11),g(16," \u270E "),f()(),d(17,"small",12),g(18," Cambiar imagen del equipo "),f()(),d(19,"section",13)(20,"h5"),g(21,"Datos del equipo"),f(),M(22,"input",14),d(23,"select",15)(24,"option",16),g(25,"G\xE9nero"),f(),d(26,"option"),g(27,"Mixto"),f(),d(28,"option"),g(29,"Masculino"),f(),d(30,"option"),g(31,"Femenino"),f()()(),d(32,"section",13)(33,"h5"),g(34,"Nivel del equipo"),f(),d(35,"div",17)(36,"button",18),g(37,"Principiante"),f(),d(38,"button",19),g(39,"Intermedio"),f(),d(40,"button",19),g(41,"Avanzado"),f(),d(42,"button",19),g(43,"Competici\xF3n"),f()()(),d(44,"section",13)(45,"h5"),g(46,"Deporte y centro"),f(),d(47,"select",20)(48,"option",16),g(49,"Deporte"),f(),d(50,"option"),g(51,"P\xE1del"),f(),d(52,"option"),g(53,"Tenis"),f(),d(54,"option"),g(55,"F\xFAtbol"),f()(),d(56,"select",15)(57,"option",16),g(58,"Centro deportivo"),f(),d(59,"option"),g(60,"Centro Deportivo Norte"),f(),d(61,"option"),g(62,"Club P\xE1del Indoor"),f()()(),d(63,"section",13)(64,"h5"),g(65,"Jugadores"),f(),M(66,"input",21),d(67,"div",22)(68,"div",23),g(69,"Juan P\xE9rez"),f(),d(70,"div",23),g(71,"Mar\xEDa L\xF3pez"),f()(),d(72,"div",24)(73,"div",25),g(74," Juan P\xE9rez "),d(75,"span"),g(76,"\u2715"),f()(),d(77,"div",25),g(78," Mar\xEDa L\xF3pez "),d(79,"span"),g(80,"\u2715"),f()()()(),d(81,"section",13),M(82,"app-team-availability"),f(),d(83,"button",26),g(84," Guardar "),f(),d(85,"button",26),g(86," Cancelar "),f()()()()()()())},dependencies:[Z,Ye,On,An,gd,st],styles:[".team-page[_ngcontent-%COMP%]{background:#f5f7fa;min-height:100vh}.team-card[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;border:none}.team-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e88e5,#42a5f5);color:#fff;padding:24px}.team-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.team-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:12px}.team-avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}.team-avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:4px solid #fff;box-shadow:0 8px 20px #00000026}.edit-avatar-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background:#1e88e5;border:none;width:36px;height:36px;border-radius:50%;color:#fff;font-size:.9rem;box-shadow:0 4px 10px #00000040}.level-selector[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.level-pill[_ngcontent-%COMP%]{border:1px solid #ced4da;background:#fff;border-radius:999px;padding:8px 14px;font-size:.8rem;font-weight:600}.level-pill.active[_ngcontent-%COMP%]{background:#1e88e5;color:#fff;border-color:#1e88e5}.players-list[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.player-chip[_ngcontent-%COMP%]{background:#e9ecef;border-radius:999px;padding:6px 12px;font-size:.75rem;display:flex;align-items:center;gap:6px}.player-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.search-results[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;overflow:hidden}.search-item[_ngcontent-%COMP%]{padding:10px 14px;font-size:.85rem;border-bottom:1px solid #f1f1f1}.search-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.team-card[_ngcontent-%COMP%]{border-radius:20px}}"]})};function VN(e,n){if(e&1&&(d(0,"div",60),g(1),f()),e&2){let t=Q();y(),te(t.error)}}function UN(e,n){e&1&&(d(0,"div",61),g(1,"Guardado correctamente"),f())}var vd=class e{supabase=D(it);router=D(he);competition={sport_id:null,name:"",type:null,level:null,min_teams:null,max_teams:null,min_players_per_team:null,max_players_per_team:null,start_date:null,end_date:null,location:null,timezone:"Europe/Madrid",organizer_name:"",organizer_email:"",organizer_phone:"",is_open:!0,status:"en_espera",back_to_back:!1,allow_draws:!0,points_win:3,points_draw:1,points_loss:0,fee_amount:null,fee_currency:"EUR",description:"",rules_url:"",prizes:"",banner_url:"",is_public:!0};saving=!1;error=null;success=!1;ngOnInit(){let t=this.router.getCurrentNavigation()?.extras?.state?.competition;t&&(this.competition=ee(S({},this.competition),{id:t.id,sport_id:t.sport_id??null,name:t.name??"",type:t.type??null,level:t.level??null,start_date:t.start_date??null,location:t.location??null,is_open:t.is_open??!0}))}save(){return m(this,null,function*(){this.error=null,this.success=!1,this.saving=!0;try{let n=this.supabase.client,t=S({},this.competition);if(Object.keys(t).forEach(r=>{t[r]===""&&(t[r]=null)}),this.competition.id){let{error:r}=yield n.from("competitions").update(t).eq("id",this.competition.id);if(r)throw r}else{let{data:r,error:i}=yield n.from("competitions").insert(t).select().single();if(i)throw i;this.competition.id=r.id}this.success=!0}catch(n){this.error=n?.message||"Error al guardar"}finally{this.saving=!1}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-competition-form"]],decls:163,vars:47,consts:[[1,"competition-page"],[1,"container","py-4"],["label","Volver"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-8"],[1,"card","competition-card","shadow-lg"],[1,"competition-header"],[1,"card-body","p-4"],[1,"form-section","text-center"],[1,"banner-wrapper"],["src","assets/images/sports-center.jpeg","alt","Banner",1,"banner-img"],["title","Cambiar banner",1,"edit-banner-btn"],[1,"text-muted","d-block","mt-2"],[1,"form-section"],[1,"row","g-3"],[1,"col-12"],["placeholder","Nombre de la competici\xF3n","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["name","sport_id",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],["name","type",1,"form-select",3,"ngModelChange","ngModel"],["name","level",1,"form-select",3,"ngModelChange","ngModel"],["name","status",1,"form-select",3,"ngModelChange","ngModel"],["value","en_espera"],["value","iniciada"],["value","finalizada"],[1,"col-12","d-flex","gap-3","flex-wrap","mt-1"],[1,"form-check","form-switch","m-0"],["type","checkbox","name","is_open",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"ms-2"],["type","checkbox","name","back_to_back",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"col-6"],["type","number","min","2","placeholder","M\xEDn. equipos","name","min_teams",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","2","placeholder","M\xE1x. equipos","name","max_teams",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","M\xEDn. jugadores por equipo","name","min_players_per_team",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","M\xE1x. jugadores por equipo","name","max_players_per_team",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label"],["type","date","name","start_date",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","end_date",1,"form-control",3,"ngModelChange","ngModel"],["name","location",1,"form-select",3,"ngModelChange","ngModel"],["placeholder","Direcci\xF3n / Pista","name","banner_url",1,"form-control",3,"ngModelChange","ngModel"],["name","timezone",1,"form-select",3,"ngModelChange","ngModel"],["value","Europe/Madrid"],["value","Atlantic/Canary"],["placeholder","Organizador","name","organizer_name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-3"],["type","email","placeholder","Email","name","organizer_email",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Tel\xE9fono","name","organizer_phone",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","placeholder","Descripci\xF3n / reglas","name","description",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Enlace a bases/reglamento (opcional)","name","rules_url",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Premios (opcional)","name","prizes",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","d-flex","gap-3","flex-wrap"],["type","checkbox","name","allow_draws",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"points-grid"],["type","number","name","points_win",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","points_draw",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","points_loss",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-2","style","color:#c62828;",4,"ngIf"],["class","mt-2","style","color:#2e7d32;",4,"ngIf"],[1,"btn","btn-primary","w-100","py-2","mt-2",3,"click","disabled"],[1,"mt-2",2,"color","#c62828"],[1,"mt-2",2,"color","#2e7d32"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"div",1),M(2,"app-back-button",2),d(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),g(8,"Competici\xF3n"),f(),d(9,"p"),g(10,"Alta y edici\xF3n de competici\xF3n"),f()(),d(11,"div",7)(12,"section",8)(13,"div",9),M(14,"img",10),d(15,"button",11),g(16,"\u270E"),f()(),d(17,"small",12),g(18,"Cambiar imagen/banner"),f()(),d(19,"section",13)(20,"h5"),g(21,"Datos b\xE1sicos"),f(),d(22,"div",14)(23,"div",15)(24,"input",16),T("ngModelChange",function(o){return O(r.competition.name,o)||(r.competition.name=o),o}),f()(),d(25,"div",17)(26,"select",18),T("ngModelChange",function(o){return O(r.competition.sport_id,o)||(r.competition.sport_id=o),o}),d(27,"option",19),g(28,"Deporte"),f(),d(29,"option",19),g(30,"P\xE1del"),f(),d(31,"option",19),g(32,"Tenis"),f(),d(33,"option",19),g(34,"F\xFAtbol"),f(),d(35,"option",19),g(36,"Basket"),f()()(),d(37,"div",17)(38,"select",20),T("ngModelChange",function(o){return O(r.competition.type,o)||(r.competition.type=o),o}),d(39,"option",19),g(40,"Tipo"),f(),d(41,"option",19),g(42,"Liga"),f(),d(43,"option",19),g(44,"Torneo"),f()()(),d(45,"div",17)(46,"select",21),T("ngModelChange",function(o){return O(r.competition.level,o)||(r.competition.level=o),o}),d(47,"option",19),g(48,"Nivel"),f(),d(49,"option",19),g(50,"Principiante"),f(),d(51,"option",19),g(52,"Intermedio"),f(),d(53,"option",19),g(54,"Avanzado"),f(),d(55,"option",19),g(56,"Competici\xF3n"),f()()(),d(57,"div",17)(58,"select",22),T("ngModelChange",function(o){return O(r.competition.status,o)||(r.competition.status=o),o}),d(59,"option",23),g(60,"En espera"),f(),d(61,"option",24),g(62,"Iniciada"),f(),d(63,"option",25),g(64,"Finalizada"),f()()(),d(65,"div",26)(66,"label",27)(67,"input",28),T("ngModelChange",function(o){return O(r.competition.is_open,o)||(r.competition.is_open=o),o}),f(),d(68,"span",29),g(69,"Inscripci\xF3n abierta (p\xFAblica)"),f()(),d(70,"label",27)(71,"input",30),T("ngModelChange",function(o){return O(r.competition.back_to_back,o)||(r.competition.back_to_back=o),o}),f(),d(72,"span",29),g(73,"Ida y vuelta"),f()()()()(),d(74,"section",13)(75,"h5"),g(76,"Equipos"),f(),d(77,"div",14)(78,"div",31)(79,"input",32),T("ngModelChange",function(o){return O(r.competition.min_teams,o)||(r.competition.min_teams=o),o}),f()(),d(80,"div",31)(81,"input",33),T("ngModelChange",function(o){return O(r.competition.max_teams,o)||(r.competition.max_teams=o),o}),f()(),d(82,"div",31)(83,"input",34),T("ngModelChange",function(o){return O(r.competition.min_players_per_team,o)||(r.competition.min_players_per_team=o),o}),f()(),d(84,"div",31)(85,"input",35),T("ngModelChange",function(o){return O(r.competition.max_players_per_team,o)||(r.competition.max_players_per_team=o),o}),f()()()(),d(86,"section",13)(87,"h5"),g(88,"Fechas"),f(),d(89,"div",14)(90,"div",17)(91,"label",36),g(92,"Inicio"),f(),d(93,"input",37),T("ngModelChange",function(o){return O(r.competition.start_date,o)||(r.competition.start_date=o),o}),f()(),d(94,"div",17)(95,"label",36),g(96,"Fin"),f(),d(97,"input",38),T("ngModelChange",function(o){return O(r.competition.end_date,o)||(r.competition.end_date=o),o}),f()()()(),d(98,"section",13)(99,"h5"),g(100,"Localizaci\xF3n"),f(),d(101,"div",14)(102,"div",17)(103,"select",39),T("ngModelChange",function(o){return O(r.competition.location,o)||(r.competition.location=o),o}),d(104,"option",19),g(105,"Zona / Centro"),f(),d(106,"option",19),g(107,"Centro Deportivo Norte"),f(),d(108,"option",19),g(109,"Club P\xE1del Indoor"),f()()(),d(110,"div",17)(111,"input",40),T("ngModelChange",function(o){return O(r.competition.banner_url,o)||(r.competition.banner_url=o),o}),f()(),d(112,"div",17)(113,"select",41),T("ngModelChange",function(o){return O(r.competition.timezone,o)||(r.competition.timezone=o),o}),d(114,"option",19),g(115,"Zona horaria"),f(),d(116,"option",42),g(117,"Europe/Madrid"),f(),d(118,"option",43),g(119,"Atlantic/Canary"),f()()()()(),d(120,"section",13)(121,"h5"),g(122,"Organizaci\xF3n"),f(),d(123,"div",14)(124,"div",17)(125,"input",44),T("ngModelChange",function(o){return O(r.competition.organizer_name,o)||(r.competition.organizer_name=o),o}),f()(),d(126,"div",45)(127,"input",46),T("ngModelChange",function(o){return O(r.competition.organizer_email,o)||(r.competition.organizer_email=o),o}),f()(),d(128,"div",45)(129,"input",47),T("ngModelChange",function(o){return O(r.competition.organizer_phone,o)||(r.competition.organizer_phone=o),o}),f()()()(),d(130,"section",13)(131,"h5"),g(132,"Reglas y puntuaci\xF3n"),f(),d(133,"div",14)(134,"div",15)(135,"textarea",48),T("ngModelChange",function(o){return O(r.competition.description,o)||(r.competition.description=o),o}),f()(),d(136,"div",17)(137,"input",49),T("ngModelChange",function(o){return O(r.competition.rules_url,o)||(r.competition.rules_url=o),o}),f()(),d(138,"div",17)(139,"input",50),T("ngModelChange",function(o){return O(r.competition.prizes,o)||(r.competition.prizes=o),o}),f()(),d(140,"div",51)(141,"label",27)(142,"input",52),T("ngModelChange",function(o){return O(r.competition.allow_draws,o)||(r.competition.allow_draws=o),o}),f(),d(143,"span",29),g(144,"Permitir empates"),f()()(),d(145,"div",15)(146,"div",53)(147,"div")(148,"label",36),g(149,"Puntos por victoria"),f(),d(150,"input",54),T("ngModelChange",function(o){return O(r.competition.points_win,o)||(r.competition.points_win=o),o}),f()(),d(151,"div")(152,"label",36),g(153,"Puntos por empate"),f(),d(154,"input",55),T("ngModelChange",function(o){return O(r.competition.points_draw,o)||(r.competition.points_draw=o),o}),f()(),d(155,"div")(156,"label",36),g(157,"Puntos por derrota"),f(),d(158,"input",56),T("ngModelChange",function(o){return O(r.competition.points_loss,o)||(r.competition.points_loss=o),o}),f()()()()()(),B(159,VN,2,1,"div",57)(160,UN,2,0,"div",58),d(161,"button",59),H("click",function(){return r.save()}),g(162),f()()()()()()()),t&2&&(y(24),x("ngModel",r.competition.name),y(2),x("ngModel",r.competition.sport_id),y(),C("ngValue",null),y(2),C("ngValue",1),y(2),C("ngValue",2),y(2),C("ngValue",3),y(2),C("ngValue",4),y(3),x("ngModel",r.competition.type),y(),C("ngValue",null),y(2),C("ngValue",1),y(2),C("ngValue",2),y(3),x("ngModel",r.competition.level),y(),C("ngValue",null),y(2),C("ngValue",1),y(2),C("ngValue",2),y(2),C("ngValue",3),y(2),C("ngValue",4),y(3),x("ngModel",r.competition.status),y(9),x("ngModel",r.competition.is_open),y(4),x("ngModel",r.competition.back_to_back),y(8),x("ngModel",r.competition.min_teams),y(2),x("ngModel",r.competition.max_teams),y(2),x("ngModel",r.competition.min_players_per_team),y(2),x("ngModel",r.competition.max_players_per_team),y(8),x("ngModel",r.competition.start_date),y(4),x("ngModel",r.competition.end_date),y(6),x("ngModel",r.competition.location),y(),C("ngValue",null),y(2),C("ngValue",1),y(2),C("ngValue",2),y(3),x("ngModel",r.competition.banner_url),y(2),x("ngModel",r.competition.timezone),y(),C("ngValue",null),y(11),x("ngModel",r.competition.organizer_name),y(2),x("ngModel",r.competition.organizer_email),y(2),x("ngModel",r.competition.organizer_phone),y(6),x("ngModel",r.competition.description),y(2),x("ngModel",r.competition.rules_url),y(2),x("ngModel",r.competition.prizes),y(3),x("ngModel",r.competition.allow_draws),y(8),x("ngModel",r.competition.points_win),y(4),x("ngModel",r.competition.points_draw),y(4),x("ngModel",r.competition.points_loss),y(),C("ngIf",r.error),y(),C("ngIf",r.success),y(),C("disabled",r.saving),y(),te(r.saving?"Guardando...":"Guardar competici\xF3n"))},dependencies:[Z,ye,Ye,On,An,Je,Em,bi,Tn,ot,Dm,tt,st],styles:[".competition-page[_ngcontent-%COMP%]{background:#f5f7fa;min-height:100vh}.competition-card[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;border:none}.competition-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e88e5,#42a5f5);color:#fff;padding:24px}.competition-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.competition-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:12px}.banner-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:220px;border-radius:16px;overflow:hidden;box-shadow:0 8px 20px #00000026}.banner-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.edit-banner-btn[_ngcontent-%COMP%]{position:absolute;bottom:12px;right:12px;background:#1e88e5;border:none;width:40px;height:40px;border-radius:50%;color:#fff;font-size:.95rem;box-shadow:0 4px 10px #00000040}.points-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:12px}@media (max-width: 768px){.competition-card[_ngcontent-%COMP%]{border-radius:20px}.banner-wrapper[_ngcontent-%COMP%]{height:160px}.points-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function BN(e,n){e&1&&(d(0,"div",7),g(1,"L"),f())}function $N(e,n){if(e&1&&(d(0,"div",7),g(1),f()),e&2){let t=Q().$implicit;y(),te(t.lost)}}function HN(e,n){if(e&1&&(d(0,"div",12)(1,"div",5)(2,"div",13),M(3,"img",14),d(4,"span",15),g(5),f()(),d(6,"span",16),g(7),f()(),d(8,"div",6),g(9),f(),d(10,"div",7),g(11),f(),d(12,"div",7),g(13),f(),B(14,$N,2,1,"div",8),d(15,"div",9),g(16),f()()),e&2){let t=n.$implicit,r=n.index,i=Q();cr("leader",r===0),C("ngClass",i.hasLoses?"cols-6":"cols-5"),y(3),C("src","/assets/images/team-default.png",et)("alt","Escudo "+t.team),y(),bt("aria-label","Posici\xF3n "+t.position),y(),te(t.position),y(),C("title",t.team),y(),te(t.team),y(2),te(t.played),y(2),te(t.won),y(2),te(t.draw),y(),C("ngIf",i.hasLoses),y(2),te(t.points)}}function zN(e,n){if(e&1&&(d(0,"a",25),g(1,"Ver reglas"),f()),e&2){let t=Q(2);C("href",t.competition.rules_url,et)}}function WN(e,n){e&1&&(d(0,"span"),g(1,"\u2014"),f())}function qN(e,n){if(e&1&&(d(0,"section",17)(1,"h2"),g(2,"Detalles de la competici\xF3n"),f(),d(3,"div",18)(4,"div",19)(5,"span",20),g(6,"Nivel:"),f(),d(7,"span",21),g(8),f()(),d(9,"div",19)(10,"span",20),g(11,"Estado:"),f(),d(12,"span",21),g(13),f()(),d(14,"div",19)(15,"span",20),g(16,"Ida y vuelta:"),f(),d(17,"span",21),g(18),f()(),d(19,"div",19)(20,"span",20),g(21,"P\xFAblica:"),f(),d(22,"span",21),g(23),f()(),d(24,"div",19)(25,"span",20),g(26,"Inscripci\xF3n abierta:"),f(),d(27,"span",21),g(28),f()(),d(29,"div",19)(30,"span",20),g(31,"Inicio:"),f(),d(32,"span",21),g(33),f()(),d(34,"div",19)(35,"span",20),g(36,"Fin:"),f(),d(37,"span",21),g(38),f()(),d(39,"div",19)(40,"span",20),g(41,"Localizaci\xF3n:"),f(),d(42,"span",21),g(43),f()(),d(44,"div",19)(45,"span",20),g(46,"Zona horaria:"),f(),d(47,"span",21),g(48),f()(),d(49,"div",19)(50,"span",20),g(51,"Organizador:"),f(),d(52,"span",21),g(53),f()(),d(54,"div",19)(55,"span",20),g(56,"Contacto:"),f(),d(57,"span",21),g(58),f()(),d(59,"div",19)(60,"span",20),g(61,"Reglas:"),f(),d(62,"span",21),B(63,zN,2,1,"a",22)(64,WN,2,0,"span",23),f()(),d(65,"div",19)(66,"span",20),g(67,"Puntuaci\xF3n:"),f(),d(68,"span",21),g(69),f()(),d(70,"div",24)(71,"span",20),g(72,"Descripci\xF3n:"),f(),d(73,"span",21),g(74),f()()()()),e&2){let t,r,i,o,s,a,l=Q();y(8),te((t=l.competition.level)!==null&&t!==void 0?t:"\u2014"),y(5),te(l.competition.status),y(5),te(l.competition.back_to_back?"S\xED":"No"),y(5),te(l.competition.is_public?"S\xED":"No"),y(5),te(l.competition.is_open?"S\xED":"No"),y(5),te((r=l.competition.start_date)!==null&&r!==void 0?r:"\u2014"),y(5),te((i=l.competition.end_date)!==null&&i!==void 0?i:"\u2014"),y(5),te((o=l.competition.location)!==null&&o!==void 0?o:"\u2014"),y(5),te((s=l.competition.timezone)!==null&&s!==void 0?s:"\u2014"),y(5),te((a=l.competition.organizer_name)!==null&&a!==void 0?a:"\u2014"),y(5),te(l.competition.organizer_email||l.competition.organizer_phone||"\u2014"),y(5),C("ngIf",l.competition.rules_url),y(),C("ngIf",!l.competition.rules_url),y(5),Xh("",l.competition.points_win," / ",l.competition.points_draw," / ",l.competition.points_loss," (W/D/L)"),y(5),te(l.competition.description||"\u2014")}}var yd=class e{constructor(n){this.route=n}competitionId;hasLoses=!0;rows=[];competition;ngOnInit(){let n=this.route.snapshot.paramMap.get("id");this.competitionId=n?Number(n):0,this.rows=[{position:1,team:"Equipo A",played:10,won:8,draw:1,lost:1,points:25},{position:2,team:"Equipo B",played:10,won:7,draw:2,lost:1,points:23},{position:3,team:"Equipo C",played:10,won:5,draw:3,lost:2,points:18}],this.competition={id:this.competitionId,sport_id:2,name:"Liga Municipal Invierno",type:1,level:2,min_teams:6,max_teams:12,min_players_per_team:5,max_players_per_team:12,start_date:"2025-01-15",end_date:"2025-03-30",location:1,timezone:"Europe/Madrid",organizer_name:"Ayuntamiento",organizer_email:"deportes@ciudad.es",organizer_phone:"+34 600 000 000",is_open:!0,status:"iniciada",back_to_back:!0,allow_draws:!0,points_win:3,points_draw:1,points_loss:0,fee_amount:null,fee_currency:null,description:"Liga local de tenis nivel intermedio.",rules_url:"https://example.com/reglas",prizes:"Trofeos y material deportivo",banner_url:null,is_public:!0}}getWinPct(n){let t=n.won+n.lost+n.draw;return t?Math.round(n.won/t*100):0}static \u0275fac=function(t){return new(t||e)(A(It))};static \u0275cmp=z({type:e,selectors:[["app-classification"]],decls:22,vars:5,consts:[[1,"classification"],["label","Volver"],[1,"subtitle"],["aria-label","Tabla de clasificaci\xF3n",1,"standings"],[1,"row","header",3,"ngClass"],[1,"cell","team"],[1,"cell","pj"],[1,"cell","num"],["class","cell num",4,"ngIf"],[1,"cell","pts"],["class","row",3,"leader","ngClass",4,"ngFor","ngForOf"],["class","competition-details",4,"ngIf"],[1,"row",3,"ngClass"],[1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"pos"],[1,"name",3,"title"],[1,"competition-details"],[1,"details-grid"],[1,"detail"],[1,"label"],[1,"value"],["target","_blank","rel","noopener",3,"href",4,"ngIf"],[4,"ngIf"],[1,"detail","full"],["target","_blank","rel","noopener",3,"href"]],template:function(t,r){t&1&&(d(0,"section",0),M(1,"app-back-button",1),d(2,"header")(3,"h1"),g(4,"Clasificaci\xF3n"),f(),d(5,"p",2),g(6),f()(),d(7,"div",3)(8,"div",4)(9,"div",5),g(10,"Equipo"),f(),d(11,"div",6),g(12,"PJ"),f(),d(13,"div",7),g(14,"W"),f(),d(15,"div",7),g(16,"D"),f(),B(17,BN,2,0,"div",8),d(18,"div",9),g(19,"PTOS"),f()(),B(20,HN,17,14,"div",10),f(),B(21,qN,75,17,"section",11),f()),t&2&&(y(6),Ct("Competici\xF3n: ",r.competitionId,""),y(2),C("ngClass",r.hasLoses?"cols-6":"cols-5"),y(9),C("ngIf",r.hasLoses),y(3),C("ngForOf",r.rows),y(),C("ngIf",r.competition))},dependencies:[Z,Qr,je,ye,si,st],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.classification[_ngcontent-%COMP%]{padding:8px}.standings[_ngcontent-%COMP%]{width:100%;max-width:960px;margin:0 auto;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;background:#fff;padding:.5rem}.row[_ngcontent-%COMP%]{display:grid;gap:4px;align-items:center;padding:4px 6px;font-size:.8rem}.row.header[_ngcontent-%COMP%]{background:#f8fafc;color:#475569;font-weight:600;font-size:.7rem}.row[_ngcontent-%COMP%] + .row[_ngcontent-%COMP%]{border-top:1px solid #f1f5f9}.row.cols-6[_ngcontent-%COMP%]{grid-template-columns:29.13% 13.59% 13.59% 13.59% 13.59% 16.51%}.row.cols-5[_ngcontent-%COMP%]{grid-template-columns:33.71% 15.73% 15.73% 15.73% 19.1%}.cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.cell.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;min-width:0}.cell.pj[_ngcontent-%COMP%], .cell.num[_ngcontent-%COMP%], .cell.pts[_ngcontent-%COMP%]{text-align:center;font-variant-numeric:tabular-nums}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:65px;height:65px;display:inline-block}.avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:block;width:65px;height:65px}.avatar-wrapper[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{position:absolute;top:4px;left:50%;transform:translate(-50%);z-index:1;font-weight:800;font-size:.9rem;line-height:1;color:#000;-webkit-text-stroke:1px #fff;text-shadow:0 1px 0 #fff,1px 0 0 #fff,0 -1px 0 #fff,-1px 0 0 #fff}.pos[_ngcontent-%COMP%]{min-width:30px;text-align:center;font-weight:600;color:#334155}.avatar[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:4px;object-fit:cover;border:1px solid #e5e7eb}.name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.row.leader[_ngcontent-%COMP%]   .cell.pts[_ngcontent-%COMP%]{color:#4f46e5;font-weight:700}"]})};function GN(e,n){if(e&1){let t=Me();d(0,"li"),M(1,"app-team-card",19),d(2,"button",20),H("click",function(){let i=W(t).$implicit,o=Q(2);return q(o.requestJoin(i))}),g(3,"Solicitar unirme"),f()()}if(e&2){let t=n.$implicit;y(),C("team",t)}}function KN(e,n){if(e&1&&(d(0,"div",17)(1,"h2"),g(2,"Resultados"),f(),d(3,"ul"),B(4,GN,4,1,"li",18),f()()),e&2){let t=Q();y(4),C("ngForOf",t.results)}}function ZN(e,n){e&1&&(d(0,"p",21),g(1,"Usa los filtros para encontrar un equipo."),f())}var _d=class e{filters={name:"",gender:"",level:"",sport:"",center:""};results=[];search(){this.results=[{id:1,name:"Los P\xE1delistas",sport_id:3,sport_name:"padel",image:"assets/images/team-default.png",gender:"mixed"},{id:2,name:"Futboleros",sport_id:2,sport_name:"football",image:"assets/images/team-default.png",gender:"male"},{id:3,name:"Volley Queens",sport_id:4,sport_name:"tennis",image:"assets/images/team-default.png",gender:"female"}]}requestJoin(n){console.log("Solicitar uni\xF3n al equipo",n),alert(`Solicitud enviada a "${n.name}"`)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-team-join"]],decls:31,vars:6,consts:[[1,"team-join"],[1,"filters",3,"ngSubmit"],["type","text","placeholder","Nombre del equipo","name","name",3,"ngModelChange","ngModel"],["name","sport",3,"ngModelChange","ngModel"],["value",""],["value","football"],["value","basket"],["value","tennis"],["value","padel"],["name","level",3,"ngModelChange","ngModel"],["value","beginner"],["value","intermediate"],["value","advanced"],["type","text","placeholder","Centro deportivo","name","center",3,"ngModelChange","ngModel"],["type","submit"],["class","results",4,"ngIf"],["class","empty",4,"ngIf"],[1,"results"],[4,"ngFor","ngForOf"],[3,"team"],[3,"click"],[1,"empty"]],template:function(t,r){t&1&&(d(0,"section",0),M(1,"app-back-button"),d(2,"h1"),g(3,"Unirse a un equipo"),f(),d(4,"form",1),H("ngSubmit",function(){return r.search()}),d(5,"input",2),T("ngModelChange",function(o){return O(r.filters.name,o)||(r.filters.name=o),o}),f(),d(6,"select",3),T("ngModelChange",function(o){return O(r.filters.sport,o)||(r.filters.sport=o),o}),d(7,"option",4),g(8,"Deporte"),f(),d(9,"option",5),g(10,"F\xFAtbol"),f(),d(11,"option",6),g(12,"Baloncesto"),f(),d(13,"option",7),g(14,"Tenis"),f(),d(15,"option",8),g(16,"P\xE1del"),f()(),d(17,"select",9),T("ngModelChange",function(o){return O(r.filters.level,o)||(r.filters.level=o),o}),d(18,"option",4),g(19,"Nivel"),f(),d(20,"option",10),g(21,"Iniciaci\xF3n"),f(),d(22,"option",11),g(23,"Intermedio"),f(),d(24,"option",12),g(25,"Avanzado"),f()(),d(26,"input",13),T("ngModelChange",function(o){return O(r.filters.center,o)||(r.filters.center=o),o}),f(),d(27,"button",14),g(28,"Buscar"),f()(),B(29,KN,5,1,"div",15)(30,ZN,2,0,"p",16),f()),t&2&&(y(5),x("ngModel",r.filters.name),y(),x("ngModel",r.filters.sport),y(11),x("ngModel",r.filters.level),y(9),x("ngModel",r.filters.center),y(3),C("ngIf",r.results.length),y(),C("ngIf",!r.results.length))},dependencies:[Z,je,ye,Ye,Rr,On,An,Je,Tn,ot,Ar,tt,Qn,st,Jo],styles:['[_ngcontent-%COMP%]:root{--bg: #0b0c10;--card-bg: #111318;--text: #e8eaf0;--muted: #9aa3af;--primary: #4f46e5;--primary-press: #4338ca;--border: #1f2330;--shadow: 0 6px 16px rgba(0, 0, 0, .25)}@media (prefers-color-scheme: light){[_ngcontent-%COMP%]:root{--bg: #f7f8fb;--card-bg: #ffffff;--text: #111318;--muted: #5b6574;--primary: #4f46e5;--primary-press: #4338ca;--border: #e5e7eb;--shadow: 0 6px 18px rgba(17, 19, 24, .07)}}.team-join[_ngcontent-%COMP%]{background:var(--bg);color:var(--text);min-height:100dvh;padding:calc(16px + env(safe-area-inset-top)) 16px calc(24px + env(safe-area-inset-bottom));display:block;max-width:720px;margin:0 auto}.team-join[_ngcontent-%COMP%]   app-back-button[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.team-join[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.2;font-weight:700;letter-spacing:-.01em;margin:4px 2px 16px}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;background:var(--card-bg);padding:12px;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;width:100%;padding:12px 14px;background:transparent;color:var(--text);border:1px solid var(--border);border-radius:12px;font-size:.95rem;outline:none;transition:border-color .2s ease,box-shadow .2s ease}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--muted)}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:color-mix(in oklab,var(--primary) 65%,var(--border));box-shadow:0 0 0 4px color-mix(in oklab,var(--primary) 18%,transparent)}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:4px;height:46px;border:0;border-radius:12px;background:var(--primary);color:#fff;font-weight:700;font-size:1rem;letter-spacing:.2px;box-shadow:0 8px 18px color-mix(in oklab,var(--primary) 28%,transparent);transition:transform .06s ease,background .15s ease,box-shadow .15s ease}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(1px);background:var(--primary-press);box-shadow:0 6px 14px color-mix(in oklab,var(--primary) 22%,transparent)}.results[_ngcontent-%COMP%]{margin-top:18px}.results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 4px 10px;color:var(--muted)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:10px}.team[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px;background:var(--card-bg);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);animation:_ngcontent-%COMP%_fadeUp .24s ease both}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.info[_ngcontent-%COMP%]{min-width:0;flex:1 1 auto}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:2px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:flex;gap:6px;flex-wrap:wrap;align-items:center}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;font-size:.78rem;font-weight:600;border-radius:999px;color:color-mix(in oklab,var(--primary) 86%,#ffffff);background:color-mix(in oklab,var(--primary) 15%,transparent);border:1px solid color-mix(in oklab,var(--primary) 28%,var(--border))}.center[_ngcontent-%COMP%]{color:var(--muted);font-size:.82rem}.center[_ngcontent-%COMP%]:before{content:"\\1f4cd";margin-right:4px}.team[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{white-space:nowrap;padding:10px 12px;min-height:38px;border-radius:10px;border:1px solid color-mix(in oklab,var(--primary) 50%,var(--border));background:color-mix(in oklab,var(--primary) 10%,transparent);color:color-mix(in oklab,var(--primary) 90%,#ffffff);font-weight:700;font-size:.92rem;transition:transform .06s ease,background .15s ease,border-color .15s ease}.team[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{transform:translateY(1px);background:color-mix(in oklab,var(--primary) 18%,transparent)}.empty[_ngcontent-%COMP%]{margin:18px 8px 0;color:var(--muted);text-align:center}@media (min-width: 420px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.filters[_ngcontent-%COMP%]   input[name=name][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{grid-column:1 / -1}}@media (prefers-reduced-motion: reduce){.team[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{transition:none!important;animation:none!important}}']})};function JN(e,n){if(e&1){let t=Me();d(0,"li")(1,"div",22),M(2,"app-competition-card",23),d(3,"button",24),H("click",function(){let i=W(t).$implicit,o=Q(2);return q(o.requestJoin(i))}),g(4),f()()()}if(e&2){let t=n.$implicit;y(2),C("competition",t),y(),C("disabled",!t.is_open),y(),Ct(" ",t.is_open?"Solicitar inscripci\xF3n":"Inscripci\xF3n cerrada"," ")}}function YN(e,n){if(e&1&&(d(0,"div",20)(1,"h2"),g(2,"Resultados"),f(),d(3,"ul"),B(4,JN,5,3,"li",21),f()()),e&2){let t=Q();y(4),C("ngForOf",t.results)}}function QN(e,n){e&1&&(d(0,"p",25),g(1,"Usa los filtros para encontrar un campeonato."),f())}var wd=class e{filters={name:"",sport:"",type:"",level:"",center:""};results=[];search(){this.results=[{id:101,name:"Liga Municipal",image:"assets/images/sample-league-tennis.jpeg",sport_id:2,sport_name:"2",type:"league",level:2,start_date:"2025-02-10",location:"Polideportivo Sur",is_open:!0},{id:202,name:"Open Padel Invierno",image:"assets/images/sample-league-padel.jpeg",sport_id:1,sport_name:"1",type:"tournament",level:3,start_date:"2025-01-20",location:"Real Club de Tenis",is_open:!1}]}requestJoin(n){console.log("Solicitar inscripci\xF3n a la competici\xF3n",n),alert(`Solicitud de inscripci\xF3n enviada a "${n.name}"`)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-competition-join"]],decls:38,vars:7,consts:[[1,"competition-join"],[1,"filters",3,"ngSubmit"],["type","text","placeholder","Nombre del campeonato","name","name",3,"ngModelChange","ngModel"],["name","sport",3,"ngModelChange","ngModel"],["value",""],["value","football"],["value","basket"],["value","tennis"],["value","padel"],["name","type",3,"ngModelChange","ngModel"],["value","league"],["value","tournament"],["name","level",3,"ngModelChange","ngModel"],["value","beginner"],["value","intermediate"],["value","advanced"],["type","text","placeholder","Centro deportivo","name","center",3,"ngModelChange","ngModel"],["type","submit"],["class","results",4,"ngIf"],["class","empty",4,"ngIf"],[1,"results"],[4,"ngFor","ngForOf"],[1,"competition"],[3,"competition"],[1,"",3,"click","disabled"],[1,"empty"]],template:function(t,r){t&1&&(d(0,"section",0),M(1,"app-back-button"),d(2,"h1"),g(3,"Unirse a un campeonato"),f(),d(4,"form",1),H("ngSubmit",function(){return r.search()}),d(5,"input",2),T("ngModelChange",function(o){return O(r.filters.name,o)||(r.filters.name=o),o}),f(),d(6,"select",3),T("ngModelChange",function(o){return O(r.filters.sport,o)||(r.filters.sport=o),o}),d(7,"option",4),g(8,"Deporte"),f(),d(9,"option",5),g(10,"F\xFAtbol"),f(),d(11,"option",6),g(12,"Baloncesto"),f(),d(13,"option",7),g(14,"Tenis"),f(),d(15,"option",8),g(16,"P\xE1del"),f()(),d(17,"select",9),T("ngModelChange",function(o){return O(r.filters.type,o)||(r.filters.type=o),o}),d(18,"option",4),g(19,"Tipo"),f(),d(20,"option",10),g(21,"Liga"),f(),d(22,"option",11),g(23,"Torneo"),f()(),d(24,"select",12),T("ngModelChange",function(o){return O(r.filters.level,o)||(r.filters.level=o),o}),d(25,"option",4),g(26,"Nivel"),f(),d(27,"option",13),g(28,"Iniciaci\xF3n"),f(),d(29,"option",14),g(30,"Intermedio"),f(),d(31,"option",15),g(32,"Avanzado"),f()(),d(33,"input",16),T("ngModelChange",function(o){return O(r.filters.center,o)||(r.filters.center=o),o}),f(),d(34,"button",17),g(35,"Buscar"),f()(),B(36,YN,5,1,"div",18)(37,QN,2,0,"p",19),f()),t&2&&(y(5),x("ngModel",r.filters.name),y(),x("ngModel",r.filters.sport),y(11),x("ngModel",r.filters.type),y(7),x("ngModel",r.filters.level),y(9),x("ngModel",r.filters.center),y(3),C("ngIf",r.results.length),y(),C("ngIf",!r.results.length))},dependencies:[Z,je,ye,Ye,Rr,On,An,Je,Tn,ot,Ar,tt,Qn,st,Yo],styles:['[_ngcontent-%COMP%]:root{--bg: #0b0c10;--card-bg: #111318;--text: #e8eaf0;--muted: #9aa3af;--primary: #2563eb;--primary-press: #1d4ed8;--border: #1f2330;--shadow: 0 6px 16px rgba(0, 0, 0, .25)}@media (prefers-color-scheme: light){[_ngcontent-%COMP%]:root{--bg: #f7f8fb;--card-bg: #ffffff;--text: #111318;--muted: #5b6574;--primary: #2563eb;--primary-press: #1d4ed8;--border: #e5e7eb;--shadow: 0 6px 18px rgba(17, 19, 24, .07)}}.competition-join[_ngcontent-%COMP%]{background:var(--bg);color:var(--text);min-height:100dvh;padding:calc(16px + env(safe-area-inset-top)) 16px calc(24px + env(safe-area-inset-bottom));display:block;max-width:720px;margin:0 auto}.competition-join[_ngcontent-%COMP%]   app-back-button[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.competition-join[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.2;font-weight:700;letter-spacing:-.01em;margin:4px 2px 16px}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;background:var(--card-bg);padding:12px;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;width:100%;padding:12px 14px;background:transparent;color:var(--text);border:1px solid var(--border);border-radius:12px;font-size:.95rem;outline:none;transition:border-color .2s ease,box-shadow .2s ease}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--muted)}.filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:color-mix(in oklab,var(--primary) 65%,var(--border));box-shadow:0 0 0 4px color-mix(in oklab,var(--primary) 18%,transparent)}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:4px;height:46px;border:0;border-radius:12px;background:var(--primary);color:#fff;font-weight:700;font-size:1rem;letter-spacing:.2px;box-shadow:0 8px 18px color-mix(in oklab,var(--primary) 28%,transparent);transition:transform .06s ease,background .15s ease,box-shadow .15s ease}.filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(1px);background:var(--primary-press);box-shadow:0 6px 14px color-mix(in oklab,var(--primary) 22%,transparent)}.results[_ngcontent-%COMP%]{margin-top:18px}.results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin:0 4px 10px;color:var(--muted)}.results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:10px}.competition[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px;background:var(--card-bg);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);animation:_ngcontent-%COMP%_fadeUp .24s ease both}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.info[_ngcontent-%COMP%]{min-width:0;flex:1 1 auto}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:2px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;display:flex;gap:6px;flex-wrap:wrap;align-items:center}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;font-size:.78rem;font-weight:600;border-radius:999px;color:color-mix(in oklab,var(--primary) 86%,#ffffff);background:color-mix(in oklab,var(--primary) 15%,transparent);border:1px solid color-mix(in oklab,var(--primary) 28%,var(--border))}.center[_ngcontent-%COMP%]{color:var(--muted);font-size:.82rem}.center[_ngcontent-%COMP%]:before{content:"\\1f4cd";margin-right:4px}.competition[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{white-space:normal;padding:10px 12px;min-height:38px;border-radius:10px;border:1px solid color-mix(in oklab,var(--primary) 50%,var(--border));background:color-mix(in oklab,var(--primary) 10%,transparent);color:color-mix(in oklab,var(--primary) 90%,#ffffff);font-weight:700;font-size:.92rem;transition:transform .06s ease,background .15s ease,border-color .15s ease;width:140px;max-width:45%;text-align:center;line-height:1.15;overflow-wrap:anywhere}.competition[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{transform:translateY(1px);background:color-mix(in oklab,var(--primary) 18%,transparent)}.empty[_ngcontent-%COMP%]{margin:18px 8px 0;color:var(--muted);text-align:center}@media (min-width: 420px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.filters[_ngcontent-%COMP%]   input[name=name][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{grid-column:1 / -1}}@media (prefers-reduced-motion: reduce){.competition[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{transition:none!important;animation:none!important}}']})};var OE=[{path:"",component:Ju},{path:"user-profile",component:cd,data:{backTo:"/dashboard"}},{path:"dashboard",component:hd},{path:"login",component:ud,data:{backTo:"/"}},{path:"sports-center",component:pd,data:{backTo:"/dashboard"}},{path:"team",component:md,data:{backTo:"/dashboard"}},{path:"team/join",component:_d,data:{backTo:"/dashboard"}},{path:"competition",component:vd,data:{backTo:"/dashboard"}},{path:"competition/join",component:wd,data:{backTo:"/dashboard"}},{path:"classification/:id",component:yd},{path:"**",redirectTo:""}];Cp(qu,{providers:[Jp(OE,Qp())]}).catch(e=>console.error(e));

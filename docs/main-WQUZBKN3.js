var wE=Object.create;var Ko=Object.defineProperty,bE=Object.defineProperties,CE=Object.getOwnPropertyDescriptor,EE=Object.getOwnPropertyDescriptors,DE=Object.getOwnPropertyNames,mm=Object.getOwnPropertySymbols,SE=Object.getPrototypeOf,ym=Object.prototype.hasOwnProperty,IE=Object.prototype.propertyIsEnumerable;var vm=(e,n,t)=>n in e?Ko(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,D=(e,n)=>{for(var t in n||={})ym.call(n,t)&&vm(e,t,n[t]);if(mm)for(var t of mm(n))IE.call(n,t)&&vm(e,t,n[t]);return e},Z=(e,n)=>bE(e,EE(n));var L=(e,n)=>()=>(e&&(n=e(e=0)),n);var it=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),Zo=(e,n)=>{for(var t in n)Ko(e,t,{get:n[t],enumerable:!0})},_m=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of DE(n))!ym.call(e,i)&&i!==t&&Ko(e,i,{get:()=>n[i],enumerable:!(r=CE(n,i))||r.enumerable});return e};var ME=(e,n,t)=>(t=e!=null?wE(SE(e)):{},_m(n||!e||!e.__esModule?Ko(t,"default",{value:e,enumerable:!0}):t,e)),_t=e=>_m(Ko({},"__esModule",{value:!0}),e);var g=(e,n,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(c){i(c)}},s=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(e,n)).next())});var Tr={};Zo(Tr,{__addDisposableResource:()=>tv,__assign:()=>Va,__asyncDelegator:()=>Km,__asyncGenerator:()=>$a,__asyncValues:()=>Ha,__await:()=>ln,__awaiter:()=>S,__classPrivateFieldGet:()=>Qm,__classPrivateFieldIn:()=>ev,__classPrivateFieldSet:()=>Xm,__createBinding:()=>Ba,__decorate:()=>Fm,__disposeResources:()=>nv,__esDecorate:()=>jm,__exportStar:()=>zm,__extends:()=>Pm,__generator:()=>Hm,__importDefault:()=>Jm,__importStar:()=>Ym,__makeTemplateObject:()=>Zm,__metadata:()=>$m,__param:()=>Lm,__propKey:()=>Um,__read:()=>Wd,__rest:()=>An,__rewriteRelativeImportExtension:()=>rv,__runInitializers:()=>Vm,__setFunctionName:()=>Bm,__spread:()=>Wm,__spreadArray:()=>Gm,__spreadArrays:()=>qm,__values:()=>Ua,default:()=>HE});function Pm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Hd(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function An(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t}function Fm(e,n,t,r){var i=arguments.length,o=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(n,t,o):s(n,t))||o);return i>3&&o&&Object.defineProperty(n,t,o),o}function Lm(e,n){return function(t,r){n(t,r,e)}}function jm(e,n,t,r,i,o){function s(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!n&&e?r.static?e:e.prototype:null,u=n||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,m=!1,d=t.length-1;d>=0;d--){var y={};for(var w in r)y[w]=w==="access"?{}:r[w];for(var w in r.access)y.access[w]=r.access[w];y.addInitializer=function(C){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(C||null))};var b=(0,t[d])(a==="accessor"?{get:u.get,set:u.set}:u[l],y);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=s(b.get))&&(u.get=f),(f=s(b.set))&&(u.set=f),(f=s(b.init))&&i.unshift(f)}else(f=s(b))&&(a==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,r.name,u),m=!0}function Vm(e,n,t){for(var r=arguments.length>2,i=0;i<n.length;i++)t=r?n[i].call(e,t):n[i].call(e);return r?t:void 0}function Um(e){return typeof e=="symbol"?e:"".concat(e)}function Bm(e,n,t){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",n):n})}function $m(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function S(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function Hm(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(e,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zm(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&Ba(n,e,t)}function Ua(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wd(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,o=[],s;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function Wm(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Wd(arguments[n]));return e}function qm(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),i=0,n=0;n<t;n++)for(var o=arguments[n],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Gm(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function ln(e){return this instanceof ln?(this.v=e,this):new ln(e)}function $a(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(d){return function(y){return Promise.resolve(y).then(d,f)}}function a(d,y){r[d]&&(i[d]=function(w){return new Promise(function(b,C){o.push([d,w,b,C])>1||l(d,w)})},y&&(i[d]=y(i[d])))}function l(d,y){try{c(r[d](y))}catch(w){m(o[0][3],w)}}function c(d){d.value instanceof ln?Promise.resolve(d.value.v).then(u,f):m(o[0][2],d)}function u(d){l("next",d)}function f(d){l("throw",d)}function m(d,y){d(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Km(e){var n,t;return n={},r("next"),r("throw",function(i){throw i}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(i,o){n[i]=e[i]?function(s){return(t=!t)?{value:ln(e[i](s)),done:!1}:o?o(s):s}:o}}function Ha(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Ua=="function"?Ua(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function Zm(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function Ym(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t=zd(e),r=0;r<t.length;r++)t[r]!=="default"&&Ba(n,e,t[r]);return BE(n,e),n}function Jm(e){return e&&e.__esModule?e:{default:e}}function Qm(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)}function Xm(e,n,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!i:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,t):i?i.value=t:n.set(e,t),t}function ev(e,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?n===e:e.has(n)}function tv(e,n,t){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],t&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:n,dispose:r,async:t})}else t&&e.stack.push({async:!0});return n}function nv(e){function n(o){e.error=e.hasError?new $E(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,r=0;function i(){for(;t=e.stack.pop();)try{if(!t.async&&r===1)return r=0,e.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(i,function(s){return n(s),i()})}else r|=1}catch(s){n(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function rv(e,n){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,i,o,s){return r?n?".jsx":".js":i&&(!o||!s)?t:i+o+"."+s.toLowerCase()+"js"}):e}var Hd,Va,Ba,BE,zd,$E,HE,be=L(()=>{"use strict";Hd=function(e,n){return Hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Hd(e,n)};Va=function(){return Va=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Va.apply(this,arguments)};Ba=Object.create?function(e,n,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(n,t);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,i)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]};BE=Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n},zd=function(e){return zd=Object.getOwnPropertyNames||function(n){var t=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[t.length]=r);return t},zd(e)};$E=typeof SuppressedError=="function"?SuppressedError:function(e,n,t){var r=new Error(t);return r.name="SuppressedError",r.error=e,r.suppressed=n,r};HE={__extends:Pm,__assign:Va,__rest:An,__decorate:Fm,__param:Lm,__esDecorate:jm,__runInitializers:Vm,__propKey:Um,__setFunctionName:Bm,__metadata:$m,__awaiter:S,__generator:Hm,__createBinding:Ba,__exportStar:zm,__values:Ua,__read:Wd,__spread:Wm,__spreadArrays:qm,__spreadArray:Gm,__await:ln,__asyncGenerator:$a,__asyncDelegator:Km,__asyncValues:Ha,__makeTemplateObject:Zm,__importStar:Ym,__importDefault:Jm,__classPrivateFieldGet:Qm,__classPrivateFieldSet:Xm,__classPrivateFieldIn:ev,__addDisposableResource:tv,__disposeResources:nv,__rewriteRelativeImportExtension:rv}});var ib,ob=L(()=>{"use strict";ib=e=>e?(...n)=>e(...n):(...n)=>fetch(...n)});var ei,po,ti,ni,Xs,zp=L(()=>{"use strict";ei=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},po=class extends ei{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},ti=class extends ei{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},ni=class extends ei{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Xs=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Xs||{})});var ru,sb=L(()=>{"use strict";be();ob();zp();ru=class{constructor(n,{headers:t={},customFetch:r,region:i=Xs.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=ib(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return S(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:f}=r,m={},{region:d}=r;d||(d=this.region);let y=new URL(`${this.url}/${t}`);d&&d!=="any"&&(m["x-region"]=d,y.searchParams.set("forceFunctionRegion",d));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(m["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(m["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let b=u;f&&(s=new AbortController,o=setTimeout(()=>s.abort(),f),u?(b=s.signal,u.addEventListener("abort",()=>s.abort())):b=s.signal);let C=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:w,signal:b}).catch(le=>{throw new po(le)}),Y=C.headers.get("x-relay-error");if(Y&&Y==="true")throw new ti(C);if(!C.ok)throw new ni(C);let M=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return M==="application/json"?T=yield C.json():M==="application/octet-stream"||M==="application/pdf"?T=yield C.blob():M==="text/event-stream"?T=C:M==="multipart/form-data"?T=yield C.formData():T=yield C.text(),{data:T,error:null,response:C}}catch(a){return{data:null,error:a,response:a instanceof ni||a instanceof ti?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var Wp={};Zo(Wp,{FunctionRegion:()=>Xs,FunctionsClient:()=>ru,FunctionsError:()=>ei,FunctionsFetchError:()=>po,FunctionsHttpError:()=>ni,FunctionsRelayError:()=>ti});var qp=L(()=>{"use strict";sb();zp()});var Zp=it(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var Gp=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Kp.default=Gp});var Qp=it(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var K1=(be(),_t(Tr)),Z1=K1.__importDefault(Zp()),Yp=class{constructor(n){var t,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>g(this,null,function*(){var s,a,l,c;let u=null,f=null,m=null,d=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){let Y=yield o.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=Y:f=JSON.parse(Y))}let b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&C&&C.length>1&&(m=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,d=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{let b=yield o.text();try{u=JSON.parse(b),Array.isArray(u)&&o.status===404&&(f=[],u=null,d=200,y="OK")}catch{o.status===404&&b===""?(d=204,y="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,y="OK"),u&&this.shouldThrowOnError)throw new Z1.default(u)}return{error:u,data:f,count:m,status:d,statusText:y}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,f;let m="",d=o?.cause;if(d){let y=(s=d?.message)!==null&&s!==void 0?s:"",w=(a=d?.code)!==null&&a!==void 0?a:"";m=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,m+=`

Caused by: ${(c=d?.name)!==null&&c!==void 0?c:"Error"}: ${y}`,w&&(m+=` (${w})`),d?.stack&&(m+=`
${d.stack}`)}else m=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}returns(){return this}overrideTypes(){return this}};Jp.default=Yp});var tg=it(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});var Y1=(be(),_t(Tr)),J1=Y1.__importDefault(Qp()),Xp=class extends J1.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};eg.default=Xp});var iu=it(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});var Q1=(be(),_t(Tr)),X1=Q1.__importDefault(tg()),eO=new RegExp("[,()]"),ng=class extends X1.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&eO.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};rg.default=ng});var sg=it(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});var tO=(be(),_t(Tr)),ea=tO.__importDefault(iu()),ig=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(n,t){let{head:r=!1,count:i}=t??{},o=r?"HEAD":"GET",s=!1,a=(n??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new ea.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:r=!0}={}){var i;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ea.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ea.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:t}={}){var r;let i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ea.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var t;let r="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new ea.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};og.default=ig});var lb=it(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});var ab=(be(),_t(Tr)),nO=ab.__importDefault(sg()),rO=ab.__importDefault(iu()),ag=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let t=new URL(`${this.url}/${n}`);return new nO.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${n}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{l.searchParams.append(f,m)})):(a="POST",c=t);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new rO.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};lg.default=ag});var cg=it(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;var go=(be(),_t(Tr)),cb=go.__importDefault(lb());nt.PostgrestClient=cb.default;var ub=go.__importDefault(sg());nt.PostgrestQueryBuilder=ub.default;var db=go.__importDefault(iu());nt.PostgrestFilterBuilder=db.default;var fb=go.__importDefault(tg());nt.PostgrestTransformBuilder=fb.default;var hb=go.__importDefault(Qp());nt.PostgrestBuilder=hb.default;var pb=go.__importDefault(Zp());nt.PostgrestError=pb.default;nt.default={PostgrestClient:cb.default,PostgrestQueryBuilder:ub.default,PostgrestFilterBuilder:db.default,PostgrestTransformBuilder:fb.default,PostgrestBuilder:hb.default,PostgrestError:pb.default}});var ug,ou,dg=L(()=>{"use strict";ug=class{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`

Suggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){let r=this.getWebSocketConstructor();return new r(n,t)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},ou=ug});var gb,mb=L(()=>{"use strict";gb="2.87.1"});var vb,fg,yb,hg,ta,_b,wb,ri,Pe,zt,pg,ii,su=L(()=>{"use strict";mb();vb=`realtime-js/${gb}`,fg="1.0.0",yb="2.0.0",hg=fg,ta=1e4,_b=1e3,wb=100,ri=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(ri||{}),Pe=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Pe||{}),zt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(zt||{}),pg=function(e){return e.websocket="websocket",e}(pg||{}),ii=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(ii||{})});var au,bb=L(()=>{"use strict";au=class{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,t){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var t;return this._isArrayBuffer((t=n.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(n,t,r){var i,o;let s=n.topic,a=(i=n.ref)!==null&&i!==void 0?i:"",l=(o=n.join_ref)!==null&&o!==void 0?o:"",c=n.payload.event,u=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);let m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+f.length,d=new ArrayBuffer(this.HEADER_LENGTH+m),y=new DataView(d),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,s.length),y.setUint8(w++,c.length),y.setUint8(w++,f.length),y.setUint8(w++,t),Array.from(l,C=>y.setUint8(w++,C.charCodeAt(0))),Array.from(a,C=>y.setUint8(w++,C.charCodeAt(0))),Array.from(s,C=>y.setUint8(w++,C.charCodeAt(0))),Array.from(c,C=>y.setUint8(w++,C.charCodeAt(0))),Array.from(f,C=>y.setUint8(w++,C.charCodeAt(0)));var b=new Uint8Array(d.byteLength+r.byteLength);return b.set(new Uint8Array(d),0),b.set(new Uint8Array(r),d.byteLength),b.buffer}decode(n,t){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return t(r)}if(typeof n=="string"){let r=JSON.parse(n),[i,o,s,a,l]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:l})}return t({})}_binaryDecode(n){let t=new DataView(n),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,t,i)}}_decodeUserBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(n.slice(l,l+i));l=l+i;let u=r.decode(n.slice(l,l+o));l=l+o;let f=r.decode(n.slice(l,l+s));l=l+s;let m=n.slice(l,n.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,y={type:this.BROADCAST_EVENT,event:u,payload:d};return s>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(n){var t;return n instanceof ArrayBuffer||((t=n?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(n,t){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>t.includes(r)))}}});var mo,gg=L(()=>{"use strict";mo=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var we,vg,iO,Cb,mg,oO,sO,aO,lO,cO,lu,cu=L(()=>{"use strict";we=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(we||{}),vg=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=iO(s,e,n,i),o),{}):{}},iO=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?Cb(o,s):mg(s)},Cb=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return lO(n,t)}switch(e){case we.bool:return oO(n);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return sO(n);case we.json:case we.jsonb:return aO(n);case we.timestamp:return cO(n);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return mg(n);default:return mg(n)}},mg=e=>e,oO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sO=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},aO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},lO=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Cb(n,a))}return e},cO=e=>typeof e=="string"?e.replace(" ","T"):e,lu=e=>{let n=new URL(e);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href}});var vo,Eb=L(()=>{"use strict";su();vo=class{constructor(n,t,r={},i=ta){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}});var yg,yo,_g=L(()=>{"use strict";yg=function(e){return e.SYNC="sync",e.JOIN="join",e.LEAVE="leave",e}(yg||{}),yo=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let f=o[c];if(f){let m=u.map(b=>b.presence_ref),d=f.map(b=>b.presence_ref),y=u.filter(b=>d.indexOf(b.presence_ref)<0),w=f.filter(b=>m.indexOf(b.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let f=n[a].map(d=>d.presence_ref),m=u.filter(d=>f.indexOf(d.presence_ref)<0);n[a].unshift(...m)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var wg,_o,Sn,Db,wo,bg=L(()=>{"use strict";su();Eb();gg();_g();cu();cu();wg=function(e){return e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE",e}(wg||{}),_o=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(_o||{}),Sn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Sn||{}),Db=Pe,wo=class e{constructor(n,t={config:{}},r){var i,o;if(this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new vo(this,zt.join,this.params,this.timeout),this.rejoinTimer=new mo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new yo(this),this.broadcastEndpointURL=lu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[_o.PRESENCE]&&this.bindings[_o.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>n?.(Sn.CHANNEL_ERROR,d)),this._onClose(()=>n?.(Sn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",y=>g(this,[y],function*({postgres_changes:d}){var w;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){n?.(Sn.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,C=(w=b?.length)!==null&&w!==void 0?w:0,Y=[];for(let M=0;M<C;M++){let T=b[M],{filter:{event:le,schema:an,table:me,filter:Fe}}=T,qn=d&&d[M];if(qn&&qn.event===le&&e.isFilterValueEqual(qn.schema,an)&&e.isFilterValueEqual(qn.table,me)&&e.isFilterValueEqual(qn.filter,Fe))Y.push(Object.assign(Object.assign({},T),{id:qn.id}));else{this.unsubscribe(),this.state=Pe.errored,n?.(Sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,n&&n(Sn.SUBSCRIBED);return}})).receive("error",d=>{this.state=Pe.errored,n?.(Sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{n?.(Sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return g(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return g(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this.state===Pe.joined&&n===_o.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>g(this,null,function*(){return yield this.subscribe()}))),this._on(n,t,r)}httpSend(i,o){return g(this,arguments,function*(n,t,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:t,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let f=yield c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return g(this,arguments,function*(n,t={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Pe.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new vo(this,zt.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}_fetchWithTimeout(n,t,r){return g(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vo(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>wb){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=zt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var y,w,b;return((y=d.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=d.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(d=>d.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(d=>{var y,w,b,C,Y,M;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){let T=d.id,le=(y=d.filter)===null||y===void 0?void 0:y.event;return T&&((w=t.ids)===null||w===void 0?void 0:w.includes(T))&&(le==="*"||le?.toLocaleLowerCase()===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let T=(Y=(C=d?.filter)===null||C===void 0?void 0:C.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return T==="*"||T===((M=t?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof m=="object"&&"ids"in m){let y=m.data,{schema:w,table:b,commit_timestamp:C,type:Y,errors:M}=y;m=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:C,eventType:Y,new:{},old:{},errors:M}),this._getPayloadRecords(y))}d.callback(m,r)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}static isFilterValueEqual(n,t){return(n??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(zt.close,{},n)}_onError(n){this._on(zt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=vg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=vg(n.columns,n.old_record)),t}}});var Cg,uu,dO,fO,hO,du,Sb=L(()=>{"use strict";dg();su();bb();gg();cu();bg();Cg=()=>{},uu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dO=[1e3,2e3,5e3,1e4],fO=1e4,hO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,du=class{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ta,this.transport=null,this.heartbeatIntervalMs=uu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cg,this.ref=0,this.reconnectTimer=null,this.vsn=hg,this.logger=Cg,this.conn=null,this.sendBuffer=[],this.serializer=new au,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${pg.websocket}`,this.httpEndpoint=lu(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ou.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let t=n.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return g(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return g(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ri.connecting:return ii.Connecting;case ri.open:return ii.Open;case ri.closing:return ii.Closing;default:return ii.Closed}}isConnected(){return this.connectionState()===ii.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,t={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new wo(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return g(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return g(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(_b,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},uu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ri.open||this.conn.readyState===ri.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(zt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([hO],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(n=null){return g(this,null,function*(){let t,r=!1;if(n)t=n,r=!0;else if(this.accessToken)try{t=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{let o={access_token:t,version:vb};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(zt.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return g(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mo(()=>g(this,null,function*(){setTimeout(()=>g(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),uu.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,l,c,u,f,m,d;switch(this.transport=(t=n?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:ta,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:uu.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:Cg,this.vsn=(l=n?.vsn)!==null&&l!==void 0?l:hg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=n?.reconnectAfterMs)!==null&&c!==void 0?c:y=>dO[y-1]||fO,this.vsn){case fg:this.encode=(u=n?.encode)!==null&&u!==void 0?u:(y,w)=>w(JSON.stringify(y)),this.decode=(f=n?.decode)!==null&&f!==void 0?f:(y,w)=>w(JSON.parse(y));break;case yb:this.encode=(m=n?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(d=n?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}});var Eg={};Zo(Eg,{REALTIME_CHANNEL_STATES:()=>Db,REALTIME_LISTEN_TYPES:()=>_o,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>wg,REALTIME_PRESENCE_LISTEN_EVENTS:()=>yg,REALTIME_SUBSCRIBE_STATES:()=>Sn,RealtimeChannel:()=>wo,RealtimeClient:()=>du,RealtimePresence:()=>yo,WebSocketFactory:()=>ou});var Dg=L(()=>{"use strict";Sb();bg();_g();dg()});function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Hn,na,fr,hr=L(()=>{"use strict";Hn=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};na=class extends Hn{constructor(n,t,r){super(n),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fr=class extends Hn{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}});var bo,Ib,fu,Mb,Tb,ra=L(()=>{"use strict";bo=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),Ib=()=>Response,fu=e=>{if(Array.isArray(e))return e.map(t=>fu(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=fu(r)}),n},Mb=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)});function ia(e,n,t,r,i,o){return S(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,gO(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>pO(l,a,r))})})}function pr(e,n,t,r){return S(this,void 0,void 0,function*(){return ia(e,"GET",n,t,r)})}function mt(e,n,t,r,i){return S(this,void 0,void 0,function*(){return ia(e,"POST",n,r,i,t)})}function oa(e,n,t,r,i){return S(this,void 0,void 0,function*(){return ia(e,"PUT",n,r,i,t)})}function xb(e,n,t,r){return S(this,void 0,void 0,function*(){return ia(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Co(e,n,t,r,i){return S(this,void 0,void 0,function*(){return ia(e,"DELETE",n,r,i,t)})}var Sg,pO,gO,hu=L(()=>{"use strict";be();hr();ra();Sg=e=>{var n;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(n=e.error)===null||n===void 0?void 0:n.message)||JSON.stringify(e)},pO=(e,n,t)=>S(void 0,void 0,void 0,function*(){let r=yield Ib();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{let o=e.status||500,s=i?.statusCode||o+"";n(new na(Sg(i),o,s))}).catch(i=>{n(new fr(Sg(i),i))}):n(new fr(Sg(e),e))}),gO=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"||!r?i:(Mb(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),t))}});var pu,Ab=L(()=>{"use strict";be();hr();pu=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}execute(){return S(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}})}}});var Ob,Ig,Rb,Nb=L(()=>{"use strict";be();hr();Ab();Ig=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Ob]="BlobDownloadBuilder",this.promise=null}asStream(){return new pu(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return S(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(de(n))return{data:null,error:n};throw n}})}};Ob=Symbol.toStringTag;Rb=Ig});var mO,kb,gu,Pb=L(()=>{"use strict";be();hr();hu();ra();Nb();mO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},gu=class{constructor(n,t={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=r,this.fetch=bo(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,t,r,i){return S(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},kb),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),f=yield(n=="PUT"?oa:mt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(de(o))return{data:null,error:o};throw o}})}upload(n,t,r){return S(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return S(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:kb.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let f=yield oa(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(de(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return S(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield mt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Hn("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}update(n,t,r){return S(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return S(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(de(i))return{data:null,error:i};throw i}})}copy(n,t,r){return S(this,void 0,void 0,function*(){try{return{data:{path:(yield mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(de(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return S(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield mt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(de(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return S(this,void 0,void 0,function*(){try{let i=yield mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(de(i))return{data:null,error:i};throw i}})}download(n,t){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(n),l=()=>pr(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Rb(l,this.shouldThrowOnError)}info(n){return S(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield pr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:fu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}exists(n){return S(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield xb(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r)&&r instanceof fr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return S(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}})}list(n,t,r){return S(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},mO),t),{prefix:n||""});return{data:yield mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(de(i))return{data:null,error:i};throw i}})}listV2(n,t){return S(this,void 0,void 0,function*(){try{let r=Object.assign({},n);return{data:yield mt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}});var mu,Mg=L(()=>{"use strict";mu="2.87.1"});var vu,Tg=L(()=>{"use strict";Mg();vu={"X-Client-Info":`storage-js/${mu}`}});var yu,Fb=L(()=>{"use strict";be();Tg();hr();hu();ra();yu=class{constructor(n,t={},r,i){this.shouldThrowOnError=!1;let o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vu),t),this.fetch=bo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return S(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(n);return{data:yield pr(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}})}getBucket(n){return S(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}})}createBucket(n){return S(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(de(i))return{data:null,error:i};throw i}})}updateBucket(n,t){return S(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(de(r))return{data:null,error:r};throw r}})}emptyBucket(n){return S(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}})}deleteBucket(n){return S(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(n){let t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}});function vO(e,n,t){let r=new URL(n,e);if(t)for(let[i,o]of Object.entries(t))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function yO(e){return g(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function _O(e){let n=e.fetchImpl??globalThis.fetch;return{request(l){return g(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=vO(e.baseUrl,i,o),u=yield yO(e.auth),f=yield n(c,{method:r,headers:D(D(D({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),m=yield f.text(),d=(f.headers.get("content-type")||"").includes("application/json"),y=d&&m?JSON.parse(m):m;if(!f.ok){let w=d?y:void 0,b=w?.error;throw new sa(b?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:b?.type,icebergCode:b?.code,details:w})}return{status:f.status,headers:f.headers,data:y}})}}}function _u(e){return e.join("")}function Eo(e){return e.join("")}var sa,wO,bO,Lb,jb=L(()=>{"use strict";sa=class extends Error{constructor(e,n){super(e),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};wO=class{constructor(e,n=""){this.client=e,this.prefix=n}listNamespaces(e){return g(this,null,function*(){let n=e?{parent:_u(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,n){return g(this,null,function*(){let t={namespace:e.namespace,properties:n?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data})}dropNamespace(e){return g(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_u(e.namespace)}`})})}loadNamespaceMetadata(e){return g(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_u(e.namespace)}`})).data.properties}})}namespaceExists(e){return g(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_u(e.namespace)}`}),!0}catch(n){if(n instanceof sa&&n.status===404)return!1;throw n}})}createNamespaceIfNotExists(e,n){return g(this,null,function*(){try{return yield this.createNamespace(e,n)}catch(t){if(t instanceof sa&&t.status===409)return;throw t}})}};bO=class{constructor(e,n="",t){this.client=e,this.prefix=n,this.accessDelegation=t}listTables(e){return g(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables`})).data.identifiers})}createTable(e,n){return g(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables`,body:n,headers:t})).data.metadata})}updateTable(e,n){return g(this,null,function*(){let t=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,body:n});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}})}dropTable(e,n){return g(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(n?.purge??!1)}})})}loadTable(e){return g(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,headers:n})).data.metadata})}tableExists(e){return g(this,null,function*(){let n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,headers:n}),!0}catch(t){if(t instanceof sa&&t.status===404)return!1;throw t}})}createTableIfNotExists(e,n){return g(this,null,function*(){try{return yield this.createTable(e,n)}catch(t){if(t instanceof sa&&t.status===409)return yield this.loadTable({namespace:e.namespace,name:n.name});throw t}})}},Lb=class{constructor(e){let n="v1";e.catalogName&&(n+=`/${e.catalogName}`);let t=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=_O({baseUrl:t,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new wO(this.client,n),this.tableOps=new bO(this.client,n,this.accessDelegation)}listNamespaces(e){return g(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,n){return g(this,null,function*(){return this.namespaceOps.createNamespace(e,n)})}dropNamespace(e){return g(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return g(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return g(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,n){return g(this,null,function*(){return this.tableOps.createTable(e,n)})}updateTable(e,n){return g(this,null,function*(){return this.tableOps.updateTable(e,n)})}dropTable(e,n){return g(this,null,function*(){yield this.tableOps.dropTable(e,n)})}loadTable(e){return g(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return g(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return g(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,n){return g(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,n)})}createTableIfNotExists(e,n){return g(this,null,function*(){return this.tableOps.createTableIfNotExists(e,n)})}}});var Do,xg=L(()=>{"use strict";be();jb();Tg();hr();hu();ra();Do=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vu),t),this.fetch=bo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return S(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}})}listBuckets(n){return S(this,void 0,void 0,function*(){try{let t=new URLSearchParams;n?.limit!==void 0&&t.set("limit",n.limit.toString()),n?.offset!==void 0&&t.set("offset",n.offset.toString()),n?.sortColumn&&t.set("sortColumn",n.sortColumn),n?.sortOrder&&t.set("sortOrder",n.sortOrder),n?.search&&t.set("search",n.search);let r=t.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield pr(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}})}deleteBucket(n){return S(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(de(t))return{data:null,error:t};throw t}})}from(n){if(!Tb(n))throw new Hn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let t=new Lb({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>S(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>S(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var So,wu=L(()=>{"use strict";Mg();So={"X-Client-Info":`storage-js/${mu}`,"Content-Type":"application/json"}});function ze(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Io,gr,Mo,Ag,To=L(()=>{"use strict";Io=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};gr=class extends Io{constructor(n,t,r){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mo=class extends Io{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}},Ag=function(e){return e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",e}(Ag||{})});var mr,Vb,bu,Ub,Bb,xo=L(()=>{"use strict";mr=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),Vb=()=>Response,bu=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ub=e=>Array.from(new Float32Array(e)),Bb=(e,n)=>{if(n!==void 0&&e.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${e.float32.length}`)}});function DO(e,n,t,r,i,o){return S(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,EO(n,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>CO(l,a,r))})})}function Je(e,n,t,r,i){return S(this,void 0,void 0,function*(){return DO(e,"POST",n,r,i,t)})}var $b,CO,EO,Cu=L(()=>{"use strict";be();To();xo();$b=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CO=(e,n,t)=>S(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!t?.noResolveJson){let i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";n(new gr($b(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new gr(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;n(new gr(a,i,s))}}else n(new Mo($b(e),e))}),EO=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"||!r?i:(bu(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),t))}});var Ao,Og=L(()=>{"use strict";be();wu();To();Cu();xo();Ao=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},So),t),this.fetch=mr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return S(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}getIndex(n,t){return S(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}listIndexes(n){return S(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}deleteIndex(n,t){return S(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}}});var Oo,Rg=L(()=>{"use strict";be();wu();To();Cu();xo();Oo=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},So),t),this.fetch=mr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return S(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}getVectors(n){return S(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}listVectors(n){return S(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Je(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}queryVectors(n){return S(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}deleteVectors(n){return S(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}}});var Ro,Ng=L(()=>{"use strict";be();wu();To();Cu();xo();Ro=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},So),t),this.fetch=mr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return S(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}getBucket(n){return S(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}listBuckets(){return S(this,arguments,void 0,function*(n={}){try{return{data:yield Je(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}deleteBucket(n){return S(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}})}}});var No,aa,la,Hb=L(()=>{"use strict";be();Og();Rg();Ng();No=class extends Ro{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new aa(this.url,this.headers,n,this.fetch)}createBucket(n){let t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return S(this,void 0,void 0,function*(){return t.createBucket.call(this,n)})}getBucket(n){let t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return S(this,void 0,void 0,function*(){return t.getBucket.call(this,n)})}listBuckets(){let n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return S(this,arguments,void 0,function*(t={}){return n.listBuckets.call(this,t)})}deleteBucket(n){let t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return S(this,void 0,void 0,function*(){return t.deleteBucket.call(this,n)})}},aa=class extends Ao{constructor(n,t,r,i){super(n,t,i),this.vectorBucketName=r}createIndex(n){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return S(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return S(this,arguments,void 0,function*(t={}){return n.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return S(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return S(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new la(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},la=class extends Oo{constructor(n,t,r,i,o){super(n,t,o),this.vectorBucketName=r,this.indexName=i}putVectors(n){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return S(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return S(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return S(this,arguments,void 0,function*(t={}){return n.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return S(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return S(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var kg=L(()=>{"use strict";Hb();Ng();Og();Rg();To();xo()});var Eu,zb=L(()=>{"use strict";Pb();Fb();xg();kg();Eu=class extends yu{constructor(n,t={},r,i){super(n,t,r,i)}from(n){return new gu(this.url,this.headers,n,this.fetch)}get vectors(){return new No(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Do(this.url+"/iceberg",this.headers,this.fetch)}}});var Wb=L(()=>{"use strict"});var qb={};Zo(qb,{StorageAnalyticsClient:()=>Do,StorageApiError:()=>na,StorageClient:()=>Eu,StorageError:()=>Hn,StorageUnknownError:()=>fr,StorageVectorsApiError:()=>gr,StorageVectorsClient:()=>No,StorageVectorsError:()=>Io,StorageVectorsErrorCode:()=>Ag,StorageVectorsUnknownError:()=>Mo,VectorBucketApi:()=>Ro,VectorBucketScope:()=>aa,VectorDataApi:()=>Oo,VectorIndexApi:()=>Ao,VectorIndexScope:()=>la,isPlainObject:()=>bu,isStorageError:()=>de,isStorageVectorsError:()=>ze,normalizeToFloat32:()=>Ub,resolveFetch:()=>mr,resolveResponse:()=>Vb,validateVectorDimension:()=>Bb});var Gb=L(()=>{"use strict";zb();xg();Wb();hr();kg()});var Kb=it(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.version=void 0;Du.version="2.87.1"});var Zb=it(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.DEFAULT_REALTIME_OPTIONS=St.DEFAULT_AUTH_OPTIONS=St.DEFAULT_DB_OPTIONS=St.DEFAULT_GLOBAL_OPTIONS=St.DEFAULT_HEADERS=void 0;var SO=Kb(),ca="";typeof Deno<"u"?ca="deno":typeof document<"u"?ca="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ca="react-native":ca="node";St.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${ca}/${SO.version}`};St.DEFAULT_GLOBAL_OPTIONS={headers:St.DEFAULT_HEADERS};St.DEFAULT_DB_OPTIONS={schema:"public"};St.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};St.DEFAULT_REALTIME_OPTIONS={}});var Yb=it(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.fetchWithAuth=on.resolveHeadersConstructor=on.resolveFetch=void 0;var IO=e=>e?(...n)=>e(...n):(...n)=>fetch(...n);on.resolveFetch=IO;var MO=()=>Headers;on.resolveHeadersConstructor=MO;var TO=(e,n,t)=>{let r=(0,on.resolveFetch)(t),i=(0,on.resolveHeadersConstructor)();return(o,s)=>g(null,null,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};on.fetchWithAuth=TO});var Qb=it(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.isBrowser=void 0;vr.uuid=xO;vr.ensureTrailingSlash=Jb;vr.applySettingDefaults=OO;vr.validateSupabaseUrl=RO;function xO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=Math.random()*16|0,t=e=="x"?n:n&3|8;return t.toString(16)})}function Jb(e){return e.endsWith("/")?e:e+"/"}var AO=()=>typeof window<"u";vr.isBrowser=AO;function OO(e,n){var t,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:f}=n,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(t=f?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>g(null,null,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function RO(e){let n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jb(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var Su,Pg=L(()=>{"use strict";Su="2.87.1"});var oi,Iu,Mu,Xb,eC,tC,ua,Fg,nC,rC,Tu=L(()=>{"use strict";Pg();oi=30*1e3,Iu=3,Mu=Iu*oi,Xb="http://localhost:9999",eC="supabase.auth.token",tC={"X-Client-Info":`gotrue-js/${Su}`},ua="X-Supabase-Api-Version",Fg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rC=10*60*1e3});function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}function Lg(e){return A(e)&&e.name==="AuthApiError"}function jg(e){return A(e)&&e.name==="AuthSessionMissingError"}function Vg(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}function fa(e){return A(e)&&e.name==="AuthRetryableFetchError"}function NO(e){return A(e)&&e.name==="AuthWeakPasswordError"}var zn,da,It,sn,We,In,yr,_r,ko,si,Po,wr,ai=L(()=>{"use strict";zn=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};da=class extends zn{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};It=class extends zn{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},sn=class extends zn{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},We=class extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};In=class extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},yr=class extends sn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},_r=class extends sn{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};ko=class extends sn{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},si=class extends sn{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};Po=class extends sn{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};wr=class extends sn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}});function oC(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(xu[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(xu[r]),n.queuedBits-=6}}function sC(e,n,t){let r=kO[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ug(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{LO(s,r,t)};for(let s=0;s<e.length;s+=1)sC(e.charCodeAt(s),i,o);return n.join("")}function PO(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FO(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}PO(r,n)}}function LO(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function br(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)sC(e.charCodeAt(i),t,r);return new Uint8Array(n)}function aC(e){let n=[];return FO(e,t=>n.push(t)),new Uint8Array(n)}function Wn(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>oC(i,t,r)),oC(null,t,r),n.join("")}var xu,iC,kO,Au=L(()=>{"use strict";xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iC=` 	
\r=`.split(""),kO=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<iC.length;n+=1)e[iC[n].charCodeAt(0)]=-2;for(let n=0;n<xu.length;n+=1)e[xu[n].charCodeAt(0)]=n;return e})()});function lC(e){return Math.round(Date.now()/1e3)+e}function cC(){return Symbol("auth-callback")}function uC(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}function Nu(e){let n=e.split(".");if(n.length!==3)throw new wr("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!nC.test(n[r]))throw new wr("JWT not in base64url format");return{header:JSON.parse(Ug(n[0])),payload:JSON.parse(Ug(n[1])),signature:br(n[2]),raw:{header:n[0],payload:n[1]}}}function fC(e){return g(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function hC(e,n){return new Promise((r,i)=>{g(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function jO(e){return("0"+e.toString(16)).substr(-2)}function VO(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,jO).join("")}function UO(e){return g(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function BO(e){return g(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield UO(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ui(e,n,t=!1){return g(this,null,function*(){let r=VO(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield ci(e,`${n}-code-verifier`,i);let o=yield BO(r);return[o,r===o?"plain":"s256"]})}function pC(e){let n=e.headers.get(ua);if(!n||!n.match($O))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function gC(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function mC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function di(e){if(!HO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ku(){let e={};return new Proxy(e,{get:(n,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vC(e,n){return new Proxy(e,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(t,r,i)}})}function Bg(e){return JSON.parse(JSON.stringify(e))}var Be,li,Ou,Ru,dC,ci,Cr,qe,ha,$O,HO,Fo=L(()=>{"use strict";Tu();ai();Au();Be=()=>typeof window<"u"&&typeof document<"u",li={tested:!1,writable:!1},Ou=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(li.tested)return li.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),li.tested=!0,li.writable=!0}catch{li.tested=!0,li.writable=!1}return li.writable};Ru=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),dC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ci=(e,n,t)=>g(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),Cr=(e,n)=>g(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),qe=(e,n)=>g(null,null,function*(){yield e.removeItem(n)}),ha=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};ha.promiseConstructor=Promise;$O=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;HO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function yC(e){return g(this,null,function*(){var n;if(!dC(e))throw new si(fi(e),0);if(zO.includes(e.status))throw new si(fi(e),e.status);let t;try{t=yield e.json()}catch(o){throw new It(fi(o),o)}let r,i=pC(e);if(i&&i.getTime()>=Fg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Po(fi(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Po(fi(t),e.status,t.weak_password.reasons);throw new da(fi(t),e.status||500,r)})}function j(e,n,t,r){return g(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[ua]||(o[ua]=Fg["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield qO(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function qO(e,n,t,r,i,o){return g(this,null,function*(){let s=WO(n,r,i,o),a;try{a=yield e(t,Object.assign({},s))}catch(l){throw console.error(l),new si(fi(l),0)}if(a.ok||(yield yC(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield yC(l)}})}function Wt(e){var n;let t=null;GO(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=lC(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function $g(e){let n=Wt(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Mn(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function _C(e){return{data:e,error:null}}function wC(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=An(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Hg(e){return e}function GO(e){return e.access_token&&e.refresh_token&&e.expires_in}var fi,zO,WO,zg=L(()=>{"use strict";be();Tu();Fo();ai();fi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zO=[502,503,504];WO=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))}});var pa,Wg=L(()=>{"use strict";pa=["global","local","others"]});var Er,Pu=L(()=>{"use strict";be();zg();Fo();Wg();ai();Er=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Ru(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return g(this,arguments,function*(n,t=pa[0]){if(pa.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pa.join(", ")}`);try{return yield j(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(A(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return g(this,arguments,function*(n,t={}){try{return yield j(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Mn})}catch(i){if(A(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return g(this,null,function*(){try{let{options:t}=n,r=An(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wC,redirectTo:t?.redirectTo})}catch(t){if(A(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return g(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Mn})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return g(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Hg});if(u.error)throw u.error;let f=yield u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(y=>{let w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(A(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return g(this,null,function*(){di(n);try{return yield j(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Mn})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return g(this,null,function*(){di(n);try{return yield j(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Mn})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return g(this,null,function*(){di(n);try{return yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Mn})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return g(this,null,function*(){di(n.userId);try{let{data:t,error:r}=yield j(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(A(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return g(this,null,function*(){di(n.userId),di(n.id);try{return{data:yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}})}_listOAuthClients(n){return g(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield j(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Hg});if(u.error)throw u.error;let f=yield u.json(),m=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(y=>{let w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(A(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(n){return g(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}_getOAuthClient(n){return g(this,null,function*(){try{return yield j(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}_updateOAuthClient(n,t){return g(this,null,function*(){try{return yield j(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(n){return g(this,null,function*(){try{return yield j(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(n){return g(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}}});function qg(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}var bC=L(()=>{"use strict"});function Fu(e,n,t){return g(this,null,function*(){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>g(null,null,function*(){if(i){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield t()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ga(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function EC(e,n,t){return g(this,null,function*(){var r;let i=(r=CC[e])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),n>=0?new Promise((s,a)=>{setTimeout(()=>{a(new Gg(`Acquring process lock with name "${e}" timed out`))},n)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>g(null,null,function*(){return yield t()}));return CC[e]=o.catch(s=>g(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var Dr,Lo,ga,Gg,CC,Kg=L(()=>{"use strict";Fo();Dr={debug:!!(globalThis&&Ou()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Lo=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},ga=class extends Lo{},Gg=class extends Lo{};CC={}});function DC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var SC=L(()=>{"use strict"});function Zg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function IC(e){return parseInt(e,16)}function MC(e){let n=new TextEncoder().encode(e);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function TC(e){var n;let{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:f,version:m}=e;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((n=e.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let d=Zg(e.address),y=u?`${u}://${r}`:r,w=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${d}

${w}`,C=`URI: ${f}
Version: ${m}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),a&&(C+=`
Not Before: ${a.toISOString()}`),l&&(C+=`
Request ID: ${l}`),c){let Y=`
Resources:`;for(let M of c){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);Y+=`
- ${M}`}C+=Y}return`${b}
${C}`}var xC=L(()=>{"use strict"});function AC({error:e,options:n}){var t,r,i;let{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new De({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new De({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(n.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new De({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new De({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new De({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new De({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new De({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new De({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Yg(s)){if(o.rp.id!==s)return new De({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new De({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function OC({error:e,options:n}){let{publicKey:t}=n;if(!t)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new De({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new De({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Yg(r)){if(t.rpId!==r)return new De({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var De,hi,RC=L(()=>{"use strict";Jg();De=class extends Error{constructor({message:n,code:t,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}},hi=class extends De{constructor(n,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:n}),this.name="WebAuthnUnknownError",this.originalError=t}}});function kC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:n,user:t,excludeCredentials:r}=e,i=An(e,["challenge","user","excludeCredentials"]),o=br(n).buffer,s=Object.assign(Object.assign({},t),{id:br(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:br(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function PC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:n,allowCredentials:t}=e,r=An(e,["challenge","allowCredentials"]),i=br(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:br(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function FC(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:Wn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Wn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function LC(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Wn(new Uint8Array(i.authenticatorData)),clientDataJSON:Wn(new Uint8Array(i.clientDataJSON)),signature:Wn(new Uint8Array(i.signature)),userHandle:i.userHandle?Wn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Yg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function NC(){var e,n;return!!(Be()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}function ZO(e){return g(this,null,function*(){try{let n=yield navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new hi("Browser returned unexpected credential type",n)}:{data:null,error:new hi("Empty credential response",n)}}catch(n){return{data:null,error:AC({error:n,options:e})}}})}function YO(e){return g(this,null,function*(){try{let n=yield navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new hi("Browser returned unexpected credential type",n)}:{data:null,error:new hi("Empty credential response",n)}}catch(n){return{data:null,error:OC({error:n,options:e})}}})}function Lu(...e){let n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(n(s)){let a=r[o];n(a)?r[o]=Lu(a,s):r[o]=Lu(s)}else r[o]=s}return r}function XO(e,n){return Lu(JO,e,n||{})}function eR(e,n){return Lu(QO,e,n||{})}var Qg,KO,JO,QO,ju,Jg=L(()=>{"use strict";be();Au();ai();Fo();RC();Qg=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){let n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}},KO=new Qg;JO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};ju=class{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){return g(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})}_challenge(s,a){return g(this,arguments,function*({factorId:n,webauthn:t,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:n,webauthn:t});if(!l)return{data:null,error:c};let u=i??KO.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{let f=XO(l.webauthn.credential_options.publicKey,o?.create),{data:m,error:d}=yield ZO({publicKey:f,signal:u});return m?{data:{factorId:n,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:d}}case"request":{let f=eR(l.webauthn.credential_options.publicKey,o?.request),{data:m,error:d}=yield YO(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:n,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:d}}}}catch(l){return A(l)?{data:null,error:l}:{data:null,error:new It("Unexpected error in challenge",l)}}})}_verify(i){return g(this,arguments,function*({challengeId:n,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:n,webauthn:r})})}_authenticate(s,a){return g(this,arguments,function*({factorId:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new zn("rpId is required for WebAuthn authentication")};try{if(!NC())return{data:null,error:new It("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:n,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:n,challengeId:l.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return A(l)?{data:null,error:l}:{data:null,error:new It("Unexpected error in authenticate",l)}}})}_register(s,a){return g(this,arguments,function*({friendlyName:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new zn("rpId is required for WebAuthn registration")};try{if(!NC())return{data:null,error:new It("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:n});if(!l)return yield this.client.mfa.listFactors().then(m=>{var d;return(d=m.data)===null||d===void 0?void 0:d.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===n&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};let{data:u,error:f}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(l){return A(l)?{data:null,error:l}:{data:null,error:new It("Unexpected error in register",l)}}})}}});function jC(e,n,t){return g(this,null,function*(){return yield t()})}var tR,jo,nR,Vu,Xg=L(()=>{"use strict";Pu();Tu();ai();zg();Fo();bC();Kg();SC();Pg();Au();xC();Jg();DC();tR={url:Xb,storageKey:eC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};jo={},nR=(()=>{class e{get jwks(){var t,r;return(r=(t=jo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},tR),t);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Be()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Er({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ru(s.fetch),this.lock=s.lock||jC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Be()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Fu:this.lock=jC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ju(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ou()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=qg(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>g(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Su}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}initialize(){return g(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=g(this,null,function*(){return yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return g(this,null,function*(){var t;try{let r={},i="none";if(Be()&&(r=uC(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),Be()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Vg(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>g(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new It("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return g(this,null,function*(){var r,i,o;try{let s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Wt}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(t){return g(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:f,password:m,options:d}=t,y=null,w=null;this.flowType==="pkce"&&([y,w]=yield ui(this.storage,this.storageKey)),s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:f,password:m,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:y,code_challenge_method:w},xform:Wt})}else if("phone"in t){let{phone:f,password:m,options:d}=t;s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(i=d?.data)!==null&&i!==void 0?i:{},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Wt})}else throw new yr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield qe(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(t){return g(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$g})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$g})}else throw new yr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new In;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(t){return g(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return g(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>g(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return g(this,null,function*(){let{chain:r}=t;switch(r){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(t){return g(this,null,function*(){var r,i,o,s,a,l,c,u,f,m,d;let y,w;if("message"in t)y=t.message,w=t.signature;else{let{chain:b,wallet:C,statement:Y,options:M}=t,T;if(Be())if(typeof C=="object")T=C;else{let Tn=window;if("ethereum"in Tn&&typeof Tn.ethereum=="object"&&"request"in Tn.ethereum&&typeof Tn.ethereum.request=="function")T=Tn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}let le=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href),an=yield T.request({method:"eth_requestAccounts"}).then(Tn=>Tn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!an||an.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let me=Zg(an[0]),Fe=(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Fe){let Tn=yield T.request({method:"eth_chainId"});Fe=IC(Tn)}let qn={domain:le.host,address:me,statement:Y,uri:le.href,version:"1",chainId:Fe,nonce:(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=M?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=M?.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=TC(qn),w=yield T.request({method:"personal_sign",params:[MC(y),me]})}try{let{data:b,error:C}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Wt});if(C)throw C;if(!b||!b.session||!b.user){let Y=new In;return this._returnResult({data:{user:null,session:null},error:Y})}return b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:C})}catch(b){if(A(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}})}signInWithSolana(t){return g(this,null,function*(){var r,i,o,s,a,l,c,u,f,m,d,y;let w,b;if("message"in t)w=t.message,b=t.signature;else{let{chain:C,wallet:Y,statement:M,options:T}=t,le;if(Be())if(typeof Y=="object")le=Y;else{let me=window;if("solana"in me&&typeof me.solana=="object"&&("signIn"in me.solana&&typeof me.solana.signIn=="function"||"signMessage"in me.solana&&typeof me.solana.signMessage=="function"))le=me.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");le=Y}let an=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in le&&le.signIn){let me=yield le.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:an.host,uri:an.href}),M?{statement:M}:null)),Fe;if(Array.isArray(me)&&me[0]&&typeof me[0]=="object")Fe=me[0];else if(me&&typeof me=="object"&&"signedMessage"in me&&"signature"in me)Fe=me;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Fe&&"signature"in Fe&&(typeof Fe.signedMessage=="string"||Fe.signedMessage instanceof Uint8Array)&&Fe.signature instanceof Uint8Array)w=typeof Fe.signedMessage=="string"?Fe.signedMessage:new TextDecoder().decode(Fe.signedMessage),b=Fe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in le)||typeof le.signMessage!="function"||!("publicKey"in le)||typeof le!="object"||!le.publicKey||!("toBase58"in le.publicKey)||typeof le.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${an.host} wants you to sign in with your Solana account:`,le.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${an.href}`,`Issued At: ${(o=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=T?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((a=T?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((m=(f=T?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...T.signInWithSolana.resources.map(Fe=>`- ${Fe}`)]:[]].join(`
`);let me=yield le.signMessage(new TextEncoder().encode(w),"utf8");if(!me||!(me instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=me}}try{let{data:C,error:Y}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Wn(b)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Wt});if(Y)throw Y;if(!C||!C.session||!C.user){let M=new In;return this._returnResult({data:{user:null,session:null},error:M})}return C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:Y})}catch(C){if(A(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}})}_exchangeCodeForSession(t){return g(this,null,function*(){let r=yield Cr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Wt});if(yield qe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new In;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield qe(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(t){return g(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Wt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let f=new In;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(t){return g(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,f=null;this.flowType==="pkce"&&([u,f]=yield ui(this.storage,this.storageKey));let{error:m}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:f}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new yr("You must provide either an email or phone number.")}catch(l){if(yield qe(this.storage,`${this.storageKey}-code-verifier`),A(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(t){return g(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Wt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(t){return g(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield ui(this.storage,this.storageKey));let u=yield j(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:_C});return!((s=u.data)===null||s===void 0)&&s.url&&Be()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield qe(this.storage,`${this.storageKey}-code-verifier`),A(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return g(this,null,function*(){try{return yield this._useSession(t=>g(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new We;let{error:o}=yield j(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(t){if(A(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}resend(t){return g(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new yr("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return this._useSession(r=>g(this,null,function*(){return r}))}))})}_acquireLock(t,r){return g(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=g(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(g(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>g(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(g(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return g(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return g(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<Mu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield Cr(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=ku()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=vC(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(t){return g(this,null,function*(){if(t)return yield this._getUser(t);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(t){return g(this,null,function*(){try{return t?yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mn}):yield this._useSession(r=>g(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Mn})}))}catch(r){if(A(r))return jg(r)&&(yield this._removeSession(),yield qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return g(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return g(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>g(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new We;let l=s.session,c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=yield ui(this.storage,this.storageKey));let{data:f,error:m}=yield j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Mn});if(m)throw m;return l.user=f.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield qe(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(t){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return g(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new We;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Nu(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(t){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new We;let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(t,r){return g(this,null,function*(){try{if(!Be())throw new _r("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _r(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ko("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _r("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ko("No code detected.");let{data:M,error:T}=yield this._exchangeCodeForSession(t.code);if(T)throw T;let le=new URL(window.location.href);return le.searchParams.delete("code"),window.history.replaceState(window.history.state,"",le.toString()),{data:{session:M.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new _r("No session defined in URL");let f=Math.round(Date.now()/1e3),m=parseInt(l),d=f+m;c&&(d=parseInt(c));let y=d-f;y*1e3<=oi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);let w=d-m;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,d,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,d,f);let{data:b,error:C}=yield this._getUser(s);if(C)throw C;let Y={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:d,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:t.type},error:null})}catch(i){if(A(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return g(this,null,function*(){let r=yield Cr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return g(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return g(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>g(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(Lg(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(yield this._removeSession(),yield qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(t){let r=cC(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),g(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return g(this,null,function*(){return yield this._useSession(r=>g(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return g(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield ui(this.storage,this.storageKey,!0));try{return yield j(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield qe(this.storage,`${this.storageKey}-code-verifier`),A(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return g(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(t){return g(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return g(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>g(this,null,function*(){var a,l,c,u,f;let{data:m,error:d}=s;if(d)throw d;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield j(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})}));if(o)throw o;return Be()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(A(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}})}linkIdentityIdToken(t){return g(this,null,function*(){return yield this._useSession(r=>g(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:f}=t,m=yield j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Wt}),{data:d,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new In}):(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:y}))}catch(o){if(yield qe(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield j(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(t){return g(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield hC(o=>g(this,null,function*(){return o>0&&(yield fC(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&fa(s)&&Date.now()+a-i<oi})}catch(i){if(this._debug(r,"error",i),A(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return g(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Be()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return g(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Cr(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Cr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield ci(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:ku()}else if(o&&!o.user&&!o.user){let a=yield Cr(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield qe(this.storage,this.storageKey+"-user"),yield ci(this.storage,this.storageKey,o)):o.user=ku()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mu;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Mu}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),fa(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return g(this,null,function*(){var r,i;if(!t)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ha;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new We;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),A(s)){let a={data:null,error:s};return fa(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return g(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>g(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return g(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield qe(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield ci(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Bg(o);yield ci(this.storage,this.storageKey,s)}else{let o=Bg(r);yield ci(this.storage,this.storageKey,o)}})}_removeSession(){return g(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield qe(this.storage,this.storageKey),yield qe(this.storage,this.storageKey+"-code-verifier"),yield qe(this.storage,this.storageKey+"-user"),this.userStorage&&(yield qe(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return g(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),oi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>g(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return g(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return g(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return g(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return g(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>g(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>g(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/oi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${oi}ms, refresh threshold is ${Iu} ticks`),o<=Iu&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Lo)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return g(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>g(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return g(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return g(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield ui(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield j(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=yield j(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_verify(t){return g(this,null,function*(){return this._acquireLock(-1,()=>g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FC(t.webauthn.credential_response):LC(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(t){return g(this,null,function*(){return this._acquireLock(-1,()=>g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:kC(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:PC(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(t){return g(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return g(this,null,function*(){var t;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return g(this,null,function*(){var t,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Nu(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield j(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new We})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(t,r){return g(this,null,function*(){try{return yield this._useSession(i=>g(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new We});let a=yield j(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Be()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(t,r){return g(this,null,function*(){try{return yield this._useSession(i=>g(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new We});let a=yield j(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Be()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return g(this,null,function*(){try{return yield this._useSession(t=>g(this,null,function*(){let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?yield j(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new We})}))}catch(t){if(A(t))return this._returnResult({data:null,error:t});throw t}})}_revokeOAuthGrant(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield j(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new We})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return g(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+rC>s)return o;let{data:a,error:l}=yield j(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return g(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:w,error:b}=yield this.getSession();if(b||!w.session)return this._returnResult({data:null,error:b});o=w.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=Nu(o);r?.allowExpired||gC(a.exp);let f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){let{error:w}=yield this.getUser(o);if(w)throw w;return{data:{claims:a,header:s,signature:l},error:null}}let m=mC(s.alg),d=yield crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!(yield crypto.subtle.verify(m,d,l,aC(`${c}.${u}`))))throw new wr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(A(o))return this._returnResult({data:null,error:o});throw o}})}}return e.nextInstanceID={},e})(),Vu=nR});var rR,VC,UC=L(()=>{"use strict";Pu();rR=Er,VC=rR});var iR,BC,$C=L(()=>{"use strict";Xg();iR=Vu,BC=iR});var em={};Zo(em,{AuthAdminApi:()=>VC,AuthApiError:()=>da,AuthClient:()=>BC,AuthError:()=>zn,AuthImplicitGrantRedirectError:()=>_r,AuthInvalidCredentialsError:()=>yr,AuthInvalidJwtError:()=>wr,AuthInvalidTokenResponseError:()=>In,AuthPKCEGrantCodeExchangeError:()=>ko,AuthRetryableFetchError:()=>si,AuthSessionMissingError:()=>We,AuthUnknownError:()=>It,AuthWeakPasswordError:()=>Po,CustomAuthError:()=>sn,GoTrueAdminApi:()=>Er,GoTrueClient:()=>Vu,NavigatorLockAcquireTimeoutError:()=>ga,SIGN_OUT_SCOPES:()=>pa,isAuthApiError:()=>Lg,isAuthError:()=>A,isAuthImplicitGrantRedirectError:()=>Vg,isAuthRetryableFetchError:()=>fa,isAuthSessionMissingError:()=>jg,isAuthWeakPasswordError:()=>NO,lockInternals:()=>Dr,navigatorLock:()=>Fu,processLock:()=>EC});var tm=L(()=>{"use strict";Pu();Xg();UC();$C();Wg();ai();Kg()});var HC=it(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.SupabaseAuthClient=void 0;var oR=(tm(),_t(em)),nm=class extends oR.AuthClient{constructor(n){super(n)}};Uu.SupabaseAuthClient=nm});var om=it(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});var sR=(qp(),_t(Wp)),aR=cg(),lR=(Dg(),_t(Eg)),cR=(Gb(),_t(qb)),Bu=Zb(),uR=Yb(),zC=Qb(),dR=HC(),rm=class{constructor(n,t,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=t;let a=(0,zC.validateSupabaseUrl)(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Bu.DEFAULT_DB_OPTIONS,realtime:Bu.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Bu.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Bu.DEFAULT_GLOBAL_OPTIONS},u=(0,zC.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,uR.fetchWithAuth)(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new aR.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new cR.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new sR.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return g(this,null,function*(){var n,t;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},f,m){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dR.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),f),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new lR.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};im.default=rm});var GC=it(_e=>{"use strict";var fR=_e&&_e.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(n,t);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,i)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),WC=_e&&_e.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&fR(n,e,t)},qC=_e&&_e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});_e.createClient=_e.SupabaseClient=_e.FunctionRegion=_e.FunctionsError=_e.FunctionsRelayError=_e.FunctionsFetchError=_e.FunctionsHttpError=_e.PostgrestError=void 0;var hR=qC(om());WC((tm(),_t(em)),_e);var pR=cg();Object.defineProperty(_e,"PostgrestError",{enumerable:!0,get:function(){return pR.PostgrestError}});var ma=(qp(),_t(Wp));Object.defineProperty(_e,"FunctionsHttpError",{enumerable:!0,get:function(){return ma.FunctionsHttpError}});Object.defineProperty(_e,"FunctionsFetchError",{enumerable:!0,get:function(){return ma.FunctionsFetchError}});Object.defineProperty(_e,"FunctionsRelayError",{enumerable:!0,get:function(){return ma.FunctionsRelayError}});Object.defineProperty(_e,"FunctionsError",{enumerable:!0,get:function(){return ma.FunctionsError}});Object.defineProperty(_e,"FunctionRegion",{enumerable:!0,get:function(){return ma.FunctionRegion}});WC((Dg(),_t(Eg)),_e);var gR=om();Object.defineProperty(_e,"SupabaseClient",{enumerable:!0,get:function(){return qC(gR).default}});var mR=(e,n,t)=>new hR.default(e,n,t);_e.createClient=mR;function vR(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}vR()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function _d(e,n){return Object.is(e,n)}var Le=null,Ia=!1,wd=1,Tt=Symbol("SIGNAL");function J(e){let n=Le;return Le=e,n}function bd(){return Le}var Jo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qo(e){if(Ia)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(e);let n=Le.nextProducerIndex++;if(Aa(Le),n<Le.producerNode.length&&Le.producerNode[n]!==e&&Yo(Le)){let t=Le.producerNode[n];xa(t,Le.producerIndexOfThis[n])}Le.producerNode[n]!==e&&(Le.producerNode[n]=e,Le.producerIndexOfThis[n]=Yo(Le)?bm(e,Le,n):0),Le.producerLastReadVersion[n]=e.version}function wm(){wd++}function Cd(e){if(!(Yo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===wd)){if(!e.producerMustRecompute(e)&&!Id(e)){yd(e);return}e.producerRecomputeValue(e),yd(e)}}function Ed(e){if(e.liveConsumerNode===void 0)return;let n=Ia;Ia=!0;try{for(let t of e.liveConsumerNode)t.dirty||TE(t)}finally{Ia=n}}function Dd(){return Le?.consumerAllowSignalWrites!==!1}function TE(e){e.dirty=!0,Ed(e),e.consumerMarkedDirty?.(e)}function yd(e){e.dirty=!1,e.lastCleanEpoch=wd}function Ta(e){return e&&(e.nextProducerIndex=0),J(e)}function Sd(e,n){if(J(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Yo(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)xa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Id(e){Aa(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Cd(t),r!==t.version))return!0}return!1}function Md(e){if(Aa(e),Yo(e))for(let n=0;n<e.producerNode.length;n++)xa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function bm(e,n,t){if(Cm(e),e.liveConsumerNode.length===0&&Em(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=bm(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function xa(e,n){if(Cm(e),e.liveConsumerNode.length===1&&Em(e))for(let r=0;r<e.producerNode.length;r++)xa(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Aa(i),i.producerIndexOfThis[r]=n}}function Yo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Aa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Cm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Em(e){return e.producerNode!==void 0}function Td(e,n){let t=Object.create(xE);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Cd(t),Qo(t),t.value===Ma)throw t.error;return t.value};return r[Tt]=t,r}var md=Symbol("UNSET"),vd=Symbol("COMPUTING"),Ma=Symbol("ERRORED"),xE=Z(D({},Jo),{value:md,dirty:!0,error:null,equal:_d,kind:"computed",producerMustRecompute(e){return e.value===md||e.value===vd},producerRecomputeValue(e){if(e.value===vd)throw new Error("Detected cycle in computations.");let n=e.value;e.value=vd;let t=Ta(e),r,i=!1;try{r=e.computation(),J(null),i=n!==md&&n!==Ma&&r!==Ma&&e.equal(n,r)}catch(o){r=Ma,e.error=o}finally{Sd(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function AE(){throw new Error}var Dm=AE;function Sm(e){Dm(e)}function xd(e){Dm=e}var OE=null;function Ad(e,n){let t=Object.create(Oa);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(Qo(t),t.value);return r[Tt]=t,r}function Xo(e,n){Dd()||Sm(e),e.equal(e.value,n)||(e.value=n,RE(e))}function Od(e,n){Dd()||Sm(e),Xo(e,n(e.value))}var Oa=Z(D({},Jo),{equal:_d,value:void 0,kind:"signal"});function RE(e){e.version++,wm(),Ed(e),OE?.()}function Rd(e){let n=J(null);try{return e()}finally{J(n)}}var Nd;function es(){return Nd}function xn(e){let n=Nd;return Nd=e,n}var Ra=Symbol("NotFound");function $(e){return typeof e=="function"}function mi(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Na=mi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ts(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Ae=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if($(r))try{r()}catch(o){n=o instanceof Na?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Im(o)}catch(s){n=n??[],s instanceof Na?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Na(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Im(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ts(t,n)}remove(n){let{_finalizers:t}=this;t&&ts(t,n),n instanceof e&&n._removeParent(this)}};Ae.EMPTY=(()=>{let e=new Ae;return e.closed=!0,e})();var kd=Ae.EMPTY;function ka(e){return e instanceof Ae||e&&"closed"in e&&$(e.remove)&&$(e.add)&&$(e.unsubscribe)}function Im(e){$(e)?e():e.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vi={setTimeout(e,n,...t){let{delegate:r}=vi;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=vi;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Pa(e){vi.setTimeout(()=>{let{onUnhandledError:n}=Gt;if(n)n(e);else throw e})}function ns(){}var Mm=Pd("C",void 0,void 0);function Tm(e){return Pd("E",void 0,e)}function xm(e){return Pd("N",e,void 0)}function Pd(e,n,t){return{kind:e,value:n,error:t}}var Ir=null;function yi(e){if(Gt.useDeprecatedSynchronousErrorHandling){let n=!Ir;if(n&&(Ir={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Ir;if(Ir=null,t)throw r}}else e()}function Am(e){Gt.useDeprecatedSynchronousErrorHandling&&Ir&&(Ir.errorThrown=!0,Ir.error=e)}var Mr=class extends Ae{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ka(n)&&n.add(this)):this.destination=jE}static create(n,t,r){return new _i(n,t,r)}next(n){this.isStopped?Ld(xm(n),this):this._next(n)}error(n){this.isStopped?Ld(Tm(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ld(Mm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FE=Function.prototype.bind;function Fd(e,n){return FE.call(e,n)}var jd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Fa(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Fa(r)}else Fa(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Fa(t)}}},_i=class extends Mr{constructor(n,t,r){super();let i;if($(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Gt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Fd(n.next,o),error:n.error&&Fd(n.error,o),complete:n.complete&&Fd(n.complete,o)}):i=n}this.destination=new jd(i)}};function Fa(e){Gt.useDeprecatedSynchronousErrorHandling?Am(e):Pa(e)}function LE(e){throw e}function Ld(e,n){let{onStoppedNotification:t}=Gt;t&&vi.setTimeout(()=>t(e,n))}var jE={closed:!0,next:ns,error:LE,complete:ns};var wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(e){return e}function Vd(...e){return Ud(e)}function Ud(e){return e.length===0?wt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var ce=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=UE(t)?t:new _i(t,r,i);return yi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Om(r),new r((i,o)=>{let s=new _i({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[wi](){return this}pipe(...t){return Ud(t)(this)}toPromise(t){return t=Om(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Om(e){var n;return(n=e??Gt.Promise)!==null&&n!==void 0?n:Promise}function VE(e){return e&&$(e.next)&&$(e.error)&&$(e.complete)}function UE(e){return e&&e instanceof Mr||VE(e)&&ka(e)}function Bd(e){return $(e?.lift)}function ne(e){return n=>{if(Bd(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(e,n,t,r,i){return new $d(e,n,t,r,i)}var $d=class extends Mr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function bi(){return ne((e,n)=>{let t=null;e._refCount++;let r=Q(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Ci=class extends ce{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Bd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ae;let t=this.getSubject();n.add(this.source.subscribe(Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ae.EMPTY)}return n}refCount(){return bi()(this)}};var Rm=mi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class e extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new La(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Rm}next(t){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?kd:(this.currentObservers=null,o.push(t),new Ae(()=>{this.currentObservers=null,ts(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return e.create=(n,t)=>new La(n,t),e})(),La=class extends Oe{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:kd}};var je=class extends Oe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var ot=new ce(e=>e.complete());function Nm(e){return e&&$(e.schedule)}function km(e){return e[e.length-1]}function ja(e){return $(km(e))?e.pop():void 0}function Gn(e){return Nm(km(e))?e.pop():void 0}be();var za=e=>e&&typeof e.length=="number"&&typeof e!="function";function Wa(e){return $(e?.then)}function qa(e){return $(e[wi])}function Ga(e){return Symbol.asyncIterator&&$(e?.[Symbol.asyncIterator])}function Ka(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Za=zE();function Ya(e){return $(e?.[Za])}be();function Ja(e){return $a(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield ln(t.read());if(i)return yield ln(void 0);yield yield ln(r)}}finally{t.releaseLock()}})}function Qa(e){return $(e?.getReader)}function Re(e){if(e instanceof ce)return e;if(e!=null){if(qa(e))return WE(e);if(za(e))return qE(e);if(Wa(e))return GE(e);if(Ga(e))return iv(e);if(Ya(e))return KE(e);if(Qa(e))return ZE(e)}throw Ka(e)}function WE(e){return new ce(n=>{let t=e[wi]();if($(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qE(e){return new ce(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function GE(e){return new ce(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Pa)})}function KE(e){return new ce(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function iv(e){return new ce(n=>{YE(e,n).catch(t=>n.error(t))})}function ZE(e){return iv(Ja(e))}function YE(e,n){var t,r,i,o;return S(this,void 0,void 0,function*(){try{for(t=Ha(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function st(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Xa(e,n=0){return ne((t,r)=>{t.subscribe(Q(r,i=>st(r,e,()=>r.next(i),n),()=>st(r,e,()=>r.complete(),n),i=>st(r,e,()=>r.error(i),n)))})}function el(e,n=0){return ne((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function ov(e,n){return Re(e).pipe(el(n),Xa(n))}function sv(e,n){return Re(e).pipe(el(n),Xa(n))}function av(e,n){return new ce(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function lv(e,n){return new ce(t=>{let r;return st(t,n,()=>{r=e[Za](),st(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>$(r?.return)&&r.return()})}function tl(e,n){if(!e)throw new Error("Iterable cannot be null");return new ce(t=>{st(t,n,()=>{let r=e[Symbol.asyncIterator]();st(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function cv(e,n){return tl(Ja(e),n)}function uv(e,n){if(e!=null){if(qa(e))return ov(e,n);if(za(e))return av(e,n);if(Wa(e))return sv(e,n);if(Ga(e))return tl(e,n);if(Ya(e))return lv(e,n);if(Qa(e))return cv(e,n)}throw Ka(e)}function Ce(e,n){return n?uv(e,n):Re(e)}function B(...e){let n=Gn(e);return Ce(e,n)}function Ei(e,n){let t=$(e)?e:()=>e,r=i=>i.error(t());return new ce(n?i=>n.schedule(r,0,i):r)}function qd(e){return!!e&&(e instanceof ce||$(e.lift)&&$(e.subscribe))}var On=mi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function X(e,n){return ne((t,r)=>{let i=0;t.subscribe(Q(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:JE}=Array;function QE(e,n){return JE(n)?e(...n):e(n)}function nl(e){return X(n=>QE(e,n))}var{isArray:XE}=Array,{getPrototypeOf:eD,prototype:tD,keys:nD}=Object;function rl(e){if(e.length===1){let n=e[0];if(XE(n))return{args:n,keys:null};if(rD(n)){let t=nD(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function rD(e){return e&&typeof e=="object"&&eD(e)===tD}function il(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function rs(...e){let n=Gn(e),t=ja(e),{args:r,keys:i}=rl(e);if(r.length===0)return Ce([],n);let o=new ce(iD(r,n,i?s=>il(i,s):wt));return t?o.pipe(nl(t)):o}function iD(e,n,t=wt){return r=>{dv(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)dv(n,()=>{let c=Ce(e[l],n),u=!1;c.subscribe(Q(r,f=>{o[l]=f,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dv(e,n,t){e?st(t,e,n):n()}function fv(e,n,t,r,i,o,s,a){let l=[],c=0,u=0,f=!1,m=()=>{f&&!l.length&&!c&&n.complete()},d=w=>c<r?y(w):l.push(w),y=w=>{o&&n.next(w),c++;let b=!1;Re(t(w,u++)).subscribe(Q(n,C=>{i?.(C),o?d(C):n.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let C=l.shift();s?st(n,s,()=>y(C)):y(C)}m()}catch(C){n.error(C)}}))};return e.subscribe(Q(n,d,()=>{f=!0,m()})),()=>{a?.()}}function Ie(e,n,t=1/0){return $(n)?Ie((r,i)=>X((o,s)=>n(r,o,i,s))(Re(e(r,i))),t):(typeof n=="number"&&(t=n),ne((r,i)=>fv(r,i,e,t)))}function Di(e=1/0){return Ie(wt,e)}function hv(){return Di(1)}function Si(...e){return hv()(Ce(e,Gn(e)))}function ol(e){return new ce(n=>{Re(e()).subscribe(n)})}function Gd(...e){let n=ja(e),{args:t,keys:r}=rl(e),i=new ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let f=!1;Re(t[u]).subscribe(Q(o,m=>{f||(f=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?il(r,a):a),o.complete())}))}});return n?i.pipe(nl(n)):i}function bt(e,n){return ne((t,r)=>{let i=0;t.subscribe(Q(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Rn(e){return ne((n,t)=>{let r=null,i=!1,o;r=n.subscribe(Q(t,void 0,void 0,s=>{o=Re(e(s,Rn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function pv(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(Q(s,u=>{let f=c++;l=a?e(l,u,f):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Kn(e,n){return $(n)?Ie(e,n,1):Ie(e,1)}function Zn(e){return ne((n,t)=>{let r=!1;n.subscribe(Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Nn(e){return e<=0?()=>ot:ne((n,t)=>{let r=0;n.subscribe(Q(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function sl(e=oD){return ne((n,t)=>{let r=!1;n.subscribe(Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function oD(){return new On}function is(e){return ne((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function kn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?bt((i,o)=>e(i,o,r)):wt,Nn(1),t?Zn(n):sl(()=>new On))}function Ii(e){return e<=0?()=>ot:ne((n,t)=>{let r=[];n.subscribe(Q(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Kd(e,n){let t=arguments.length>=2;return r=>r.pipe(e?bt((i,o)=>e(i,o,r)):wt,Ii(1),t?Zn(n):sl(()=>new On))}function Zd(e,n){return ne(pv(e,n,arguments.length>=2,!0))}function Yd(...e){let n=Gn(e);return ne((t,r)=>{(n?Si(e,t,n):Si(e,t)).subscribe(r)})}function xt(e,n){return ne((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Q(r,l=>{i?.unsubscribe();let c=0,u=o++;Re(e(l,u)).subscribe(i=Q(r,f=>r.next(n?n(l,f,u,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Jd(e){return ne((n,t)=>{Re(e).subscribe(Q(t,()=>t.complete(),ns)),!t.closed&&n.subscribe(t)})}function Ge(e,n,t){let r=$(e)||n||t?{next:e,error:n,complete:t}:e;return r?ne((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Q(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):wt}var ry="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",x=class extends Error{code;constructor(n,t){super(iy(n,t)),this.code=n}};function sD(e){return`NG0${Math.abs(e)}`}function iy(e,n){return`${sD(e)}${n?": "+n:""}`}var oy=Symbol("InputSignalNode#UNSET"),aD=Z(D({},Oa),{transformFn:void 0,applyValueToInputSignal(e,n){Xo(e,n)}});function sy(e,n){let t=Object.create(aD);t.value=e,t.transformFn=n?.transform;function r(){if(Qo(t),t.value===oy){let i=null;throw new x(-950,i)}return t.value}return r[Tt]=t,r}function ps(e){return{toString:e}.toString()}var al="__parameters__";function lD(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function ay(e,n,t){return ps(()=>{let r=lD(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let f=l.hasOwnProperty(al)?l[al]:Object.defineProperty(l,al,{value:[]})[al];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Ar=globalThis;function pe(e){for(let n in e)if(e[n]===pe)return n;throw Error("Could not find renamed property on target object.")}function cD(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function lt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(lt).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function gv(e,n){return e?n?`${e} ${n}`:e:n||""}var uD=pe({__forward_ref__:pe});function kt(e){return e.__forward_ref__=kt,e.toString=function(){return lt(this())},e}function Xe(e){return ly(e)?e():e}function ly(e){return typeof e=="function"&&e.hasOwnProperty(uD)&&e.__forward_ref__===kt}function O(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ln(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bl(e){return mv(e,uy)||mv(e,dy)}function cy(e){return Bl(e)!==null}function mv(e,n){return e.hasOwnProperty(n)?e[n]:null}function dD(e){let n=e&&(e[uy]||e[dy]);return n||null}function vv(e){return e&&(e.hasOwnProperty(yv)||e.hasOwnProperty(fD))?e[yv]:null}var uy=pe({\u0275prov:pe}),yv=pe({\u0275inj:pe}),dy=pe({ngInjectableDef:pe}),fD=pe({ngInjectorDef:pe}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fy(e){return e&&!!e.\u0275providers}var hD=pe({\u0275cmp:pe}),pD=pe({\u0275dir:pe}),gD=pe({\u0275pipe:pe}),mD=pe({\u0275mod:pe}),gl=pe({\u0275fac:pe}),ls=pe({__NG_ELEMENT_ID__:pe}),_v=pe({__NG_ENV_ID__:pe});function Ni(e){return typeof e=="string"?e:e==null?"":String(e)}function vD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ni(e)}function hy(e,n){throw new x(-200,e)}function th(e,n){throw new x(-201,!1)}var W=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(W||{}),hf;function py(){return hf}function at(e){let n=hf;return hf=e,n}function gy(e,n,t){let r=Bl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&W.Optional)return null;if(n!==void 0)return n;th(e,"Injector")}var yD={},Or=yD,pf="__NG_DI_FLAG__",ml=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?Ra:Or,r)}},vl="ngTempTokenPath",_D="ngTokenPath",wD=/\n/gm,bD="\u0275",wv="__source";function CD(e,n=W.Default){if(es()===void 0)throw new x(-203,!1);if(es()===null)return gy(e,void 0,n);{let t=es(),r;return t instanceof ml?r=t.injector:r=t,r.get(e,n&W.Optional?null:void 0,n)}}function U(e,n=W.Default){return(py()||CD)(Xe(e),n)}function E(e,n=W.Default){return U(e,$l(n))}function $l(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function gf(e){let n=[];for(let t=0;t<e.length;t++){let r=Xe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=W.Default;for(let s=0;s<r.length;s++){let a=r[s],l=ED(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(U(i,o))}else n.push(U(r))}return n}function my(e,n){return e[pf]=n,e.prototype[pf]=n,e}function ED(e){return e[pf]}function DD(e,n,t,r){let i=e[vl];throw n[wv]&&i.unshift(n[wv]),e.message=SD(`
`+e.message,i,t,r),e[_D]=i,e[vl]=null,e}function SD(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==bD?e.slice(2):e;let i=lt(n);if(Array.isArray(n))i=n.map(lt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):lt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(wD,`
  `)}`}var ID=my(ay("Optional"),8);var MD=my(ay("SkipSelf"),4);function Nr(e,n){let t=e.hasOwnProperty(gl);return t?e[gl]:null}function nh(e,n){e.forEach(t=>Array.isArray(t)?nh(t,n):n(t))}function vy(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function yl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function TD(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function xD(e,n,t){let r=gs(e,n);return r>=0?e[r|1]=t:(r=~r,TD(e,r,n,t)),r}function Qd(e,n){let t=gs(e,n);if(t>=0)return e[t|1]}function gs(e,n){return AD(e,n,1)}function AD(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var kr={},At=[],cs=new P(""),yy=new P("",-1),_y=new P(""),_l=class{get(n,t=Or){if(t===Or){let r=new Error(`NullInjectorError: No provider for ${lt(n)}!`);throw r.name="NullInjectorError",r}return t}};function wy(e,n){let t=e[mD]||null;if(!t&&n===!0)throw new Error(`Type ${lt(e)} does not have '\u0275mod' property.`);return t}function Pr(e){return e[hD]||null}function OD(e){return e[pD]||null}function RD(e){return e[gD]||null}function rh(e){return{\u0275providers:e}}function ND(...e){return{\u0275providers:by(!0,e),\u0275fromNgModule:!0}}function by(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return nh(n,s=>{let a=s;mf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Cy(i,o),t}function Cy(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];ih(i,o=>{n(o,r)})}}function mf(e,n,t,r){if(e=Xe(e),!e)return!1;let i=null,o=vv(e),s=!o&&Pr(e);if(!o&&!s){let l=e.ngModule;if(o=vv(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)mf(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{nh(o.imports,u=>{mf(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Cy(c,n)}if(!a){let c=Nr(i)||(()=>new i);n({provide:i,useFactory:c,deps:At},i),n({provide:_y,useValue:i,multi:!0},i),n({provide:cs,useValue:()=>U(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;ih(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function ih(e,n){for(let t of e)fy(t)&&(t=t.\u0275providers),Array.isArray(t)?ih(t,n):n(t)}var kD=pe({provide:String,useValue:pe});function Ey(e){return e!==null&&typeof e=="object"&&kD in e}function PD(e){return!!(e&&e.useExisting)}function FD(e){return!!(e&&e.useFactory)}function ki(e){return typeof e=="function"}function LD(e){return!!e.useClass}var Hl=new P(""),ul={},bv={},Xd;function oh(){return Xd===void 0&&(Xd=new _l),Xd}var ct=class{},us=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,yf(n,s=>this.processProvider(s)),this.records.set(yy,Mi(void 0,this)),i.has("environment")&&this.records.set(ct,Mi(void 0,this));let o=this.records.get(Hl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_y,At,W.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?Ra:Or,r)}destroy(){ss(this),this._destroyed=!0;let n=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(n)}}onDestroy(n){return ss(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ss(this);let t=xn(this),r=at(void 0),i;try{return n()}finally{xn(t),at(r)}}get(n,t=Or,r=W.Default){if(ss(this),n.hasOwnProperty(_v))return n[_v](this);r=$l(r);let i,o=xn(this),s=at(void 0);try{if(!(r&W.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=$D(n)&&Bl(n);c&&this.injectableDefInScope(c)?l=Mi(vf(n),ul):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,r)}let a=r&W.Self?oh():this.parent;return t=r&W.Optional&&t===Or?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[vl]=a[vl]||[]).unshift(lt(n)),o)throw a;return DD(a,n,"R3InjectorError",this.source)}else throw a}finally{at(s),xn(o)}}resolveInjectorInitializers(){let n=J(null),t=xn(this),r=at(void 0),i;try{let o=this.get(cs,At,W.Self);for(let s of o)s()}finally{xn(t),at(r),J(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(lt(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Xe(n);let t=ki(n)?n:Xe(n&&n.provide),r=VD(n);if(!ki(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Mi(void 0,ul,!0),i.factory=()=>gf(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=J(null);try{return t.value===bv?hy(lt(n)):t.value===ul&&(t.value=bv,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&BD(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Xe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vf(e){let n=Bl(e),t=n!==null?n.factory:Nr(e);if(t!==null)return t;if(e instanceof P)throw new x(204,!1);if(e instanceof Function)return jD(e);throw new x(204,!1)}function jD(e){if(e.length>0)throw new x(204,!1);let t=dD(e);return t!==null?()=>t.factory(e):()=>new e}function VD(e){if(Ey(e))return Mi(void 0,e.useValue);{let n=Dy(e);return Mi(n,ul)}}function Dy(e,n,t){let r;if(ki(e)){let i=Xe(e);return Nr(i)||vf(i)}else if(Ey(e))r=()=>Xe(e.useValue);else if(FD(e))r=()=>e.useFactory(...gf(e.deps||[]));else if(PD(e))r=(i,o)=>U(Xe(e.useExisting),o!==void 0&&o&W.Optional?W.Optional:void 0);else{let i=Xe(e&&(e.useClass||e.provide));if(UD(e))r=()=>new i(...gf(e.deps));else return Nr(i)||vf(i)}return r}function ss(e){if(e.destroyed)throw new x(205,!1)}function Mi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function UD(e){return!!e.deps}function BD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function $D(e){return typeof e=="function"||typeof e=="object"&&e instanceof P}function yf(e,n){for(let t of e)Array.isArray(t)?yf(t,n):t&&fy(t)?yf(t.\u0275providers,n):n(t)}function Pt(e,n){let t;e instanceof us?(ss(e),t=e):t=new ml(e);let r,i=xn(t),o=at(void 0);try{return n()}finally{xn(i),at(o)}}function Sy(){return py()!==void 0||es()!=null}function HD(e){if(!Sy())throw new x(-203,!1)}function zD(e){return typeof e=="function"}var jn=0,ee=1,H=2,et=3,Zt=4,Yt=5,wl=6,bl=7,ut=8,Pi=9,Pn=10,Te=11,ds=12,Cv=13,Wi=14,un=15,Fi=16,Ti=17,Li=18,zl=19,Iy=20,Yn=21,ef=22,Cl=23,Ot=24,Oi=25,dt=26,My=1;var Fr=7,El=8,Dl=9,Rt=10;function Jn(e){return Array.isArray(e)&&typeof e[My]=="object"}function Vn(e){return Array.isArray(e)&&e[My]===!0}function sh(e){return(e.flags&4)!==0}function qi(e){return e.componentOffset>-1}function Wl(e){return(e.flags&1)===1}function dn(e){return!!e.template}function Sl(e){return(e[H]&512)!==0}function Gi(e){return(e[H]&256)===256}var _f=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ty(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Xn=(()=>{let e=()=>xy;return e.ngInherit=!0,e})();function xy(e){return e.type.prototype.ngOnChanges&&(e.setInput=qD),WD}function WD(){let e=Oy(this),n=e?.current;if(n){let t=e.previous;if(t===kr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function qD(e,n,t,r,i){let o=this.declaredInputs[r],s=Oy(e)||GD(e,{previous:kr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new _f(c&&c.currentValue,t,l===kr),Ty(e,n,i,t)}var Ay="__ngSimpleChanges__";function Oy(e){return e[Ay]||null}function GD(e,n){return e[Ay]=n}var Ev=null;var fe=function(e,n=null,t){Ev?.(e,n,t)},KD="svg",ZD="math";function fn(e){for(;Array.isArray(e);)e=e[jn];return e}function Ry(e,n){return fn(n[e])}function mn(e,n){return fn(n[e.index])}function Ny(e,n){return e.data[n]}function ah(e,n){return e[n]}function YD(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function hn(e,n){let t=n[e];return Jn(t)?t:t[jn]}function lh(e){return(e[H]&128)===128}function JD(e){return Vn(e[et])}function ji(e,n){return n==null?null:e[n]}function ky(e){e[Ti]=0}function Py(e){e[H]&1024||(e[H]|=1024,lh(e)&&ms(e))}function QD(e,n){for(;e>0;)n=n[Wi],e--;return n}function ql(e){return!!(e[H]&9216||e[Ot]?.dirty)}function wf(e){e[Pn].changeDetectionScheduler?.notify(8),e[H]&64&&(e[H]|=1024),ql(e)&&ms(e)}function ms(e){e[Pn].changeDetectionScheduler?.notify(0);let n=Lr(e);for(;n!==null&&!(n[H]&8192||(n[H]|=8192,!lh(n)));)n=Lr(n)}function Fy(e,n){if(Gi(e))throw new x(911,!1);e[Yn]===null&&(e[Yn]=[]),e[Yn].push(n)}function XD(e,n){if(e[Yn]===null)return;let t=e[Yn].indexOf(n);t!==-1&&e[Yn].splice(t,1)}function Lr(e){let n=e[et];return Vn(n)?n[et]:n}function Ly(e){return e[bl]??=[]}function jy(e){return e.cleanup??=[]}var K={lFrame:qy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bf=!1;function eS(){return K.lFrame.elementDepthCount}function tS(){K.lFrame.elementDepthCount++}function nS(){K.lFrame.elementDepthCount--}function ch(){return K.bindingsEnabled}function rS(){return K.skipHydrationRootTNode!==null}function iS(e){return K.skipHydrationRootTNode===e}function oS(){K.skipHydrationRootTNode=null}function oe(){return K.lFrame.lView}function Ke(){return K.lFrame.tView}function q(e){return K.lFrame.contextLView=e,e[ut]}function G(e){return K.lFrame.contextLView=null,e}function tt(){let e=Vy();for(;e!==null&&e.type===64;)e=e.parent;return e}function Vy(){return K.lFrame.currentTNode}function sS(){let e=K.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function $r(e,n){let t=K.lFrame;t.currentTNode=e,t.isParent=n}function uh(){return K.lFrame.isParent}function Uy(){K.lFrame.isParent=!1}function aS(){return K.lFrame.contextLView}function By(){return bf}function Dv(e){let n=bf;return bf=e,n}function dh(){let e=K.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function lS(){return K.lFrame.bindingIndex}function cS(e){return K.lFrame.bindingIndex=e}function Gl(){return K.lFrame.bindingIndex++}function $y(e){let n=K.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function uS(){return K.lFrame.inI18n}function dS(e,n){let t=K.lFrame;t.bindingIndex=t.bindingRootIndex=e,Cf(n)}function fS(){return K.lFrame.currentDirectiveIndex}function Cf(e){K.lFrame.currentDirectiveIndex=e}function hS(e){let n=K.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Hy(e){K.lFrame.currentQueryIndex=e}function pS(e){let n=e[ee];return n.type===2?n.declTNode:n.type===1?e[Yt]:null}function zy(e,n,t){if(t&W.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&W.Host);)if(i=pS(o),i===null||(o=o[Wi],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=K.lFrame=Wy();return r.currentTNode=n,r.lView=e,!0}function fh(e){let n=Wy(),t=e[ee];K.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Wy(){let e=K.lFrame,n=e===null?null:e.child;return n===null?qy(e):n}function qy(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Gy(){let e=K.lFrame;return K.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ky=Gy;function hh(){let e=Gy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gS(e){return(K.lFrame.contextLView=QD(e,K.lFrame.contextLView))[ut]}function Hr(){return K.lFrame.selectedIndex}function jr(e){K.lFrame.selectedIndex=e}function Kl(){let e=K.lFrame;return Ny(e.tView,e.selectedIndex)}function mS(){return K.lFrame.currentNamespace}var Zy=!0;function Zl(){return Zy}function Yl(e){Zy=e}function vS(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=xy(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function ph(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function dl(e,n,t){Yy(e,n,3,t)}function fl(e,n,t,r){(e[H]&3)===t&&Yy(e,n,t,r)}function tf(e,n){let t=e[H];(t&3)===n&&(t&=16383,t+=1,e[H]=t)}function Yy(e,n,t,r){let i=r!==void 0?e[Ti]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[Ti]+=65536),(a<o||o==-1)&&(yS(e,t,n,l),e[Ti]=(e[Ti]&4294901760)+l+2),l++}function Sv(e,n){fe(4,e,n);let t=J(null);try{n.call(e)}finally{J(t),fe(5,e,n)}}function yS(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[H]>>14<e[Ti]>>16&&(e[H]&3)===n&&(e[H]+=16384,Sv(a,o)):Sv(a,o)}var Ri=-1,Vr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function _S(e){return(e.flags&8)!==0}function wS(e){return(e.flags&16)!==0}function bS(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];CS(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Jy(e){return e===3||e===4||e===6}function CS(e){return e.charCodeAt(0)===64}function Vi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Iv(e,t,i,null,n[++r]):Iv(e,t,i,null,null))}}return e}function Iv(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function Qy(e){return e!==Ri}function Il(e){return e&32767}function ES(e){return e>>16}function Ml(e,n){let t=ES(e),r=n;for(;t>0;)r=r[Wi],t--;return r}var Ef=!0;function Tl(e){let n=Ef;return Ef=e,n}var DS=256,Xy=DS-1,e0=5,SS=0,cn={};function IS(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ls)&&(r=t[ls]),r==null&&(r=t[ls]=SS++);let i=r&Xy,o=1<<i;n.data[e+(i>>e0)]|=o}function xl(e,n){let t=t0(e,n);if(t!==-1)return t;let r=n[ee];r.firstCreatePass&&(e.injectorIndex=n.length,nf(r.data,e),nf(n,null),nf(r.blueprint,null));let i=gh(e,n),o=e.injectorIndex;if(Qy(i)){let s=Il(i),a=Ml(i,n),l=a[ee].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function nf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function t0(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function gh(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=s0(i),r===null)return Ri;if(t++,i=i[Wi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ri}function Df(e,n,t){IS(e,n,t)}function MS(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Jy(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function n0(e,n,t){if(t&W.Optional||e!==void 0)return e;th(n,"NodeInjector")}function r0(e,n,t,r){if(t&W.Optional&&r===void 0&&(r=null),(t&(W.Self|W.Host))===0){let i=e[Pi],o=at(void 0);try{return i?i.get(n,r,t&W.Optional):gy(n,r,t&W.Optional)}finally{at(o)}}return n0(r,n,t)}function i0(e,n,t,r=W.Default,i){if(e!==null){if(n[H]&2048&&!(r&W.Self)){let s=RS(e,n,t,r,cn);if(s!==cn)return s}let o=o0(e,n,t,r,cn);if(o!==cn)return o}return r0(n,t,r,i)}function o0(e,n,t,r,i){let o=AS(t);if(typeof o=="function"){if(!zy(n,e,r))return r&W.Host?n0(i,t,r):r0(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&W.Optional))th(t);else return s}finally{Ky()}}else if(typeof o=="number"){let s=null,a=t0(e,n),l=Ri,c=r&W.Host?n[un][Yt]:null;for((a===-1||r&W.SkipSelf)&&(l=a===-1?gh(e,n):n[a+8],l===Ri||!Tv(r,!1)?a=-1:(s=n[ee],a=Il(l),n=Ml(l,n)));a!==-1;){let u=n[ee];if(Mv(o,a,u.data)){let f=TS(a,n,t,s,r,c);if(f!==cn)return f}l=n[a+8],l!==Ri&&Tv(r,n[ee].data[a+8]===c)&&Mv(o,a,n)?(s=u,a=Il(l),n=Ml(l,n)):a=-1}}return i}function TS(e,n,t,r,i,o){let s=n[ee],a=s.data[e+8],l=r==null?qi(a)&&Ef:r!=s&&(a.type&3)!==0,c=i&W.Host&&o===a,u=xS(a,s,t,l,c);return u!==null?Al(n,s,u,a,i):cn}function xS(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,f=r?a:a+u,m=i?a+u:c;for(let d=f;d<m;d++){let y=s[d];if(d<l&&t===y||d>=l&&y.type===t)return d}if(i){let d=s[l];if(d&&dn(d)&&d.type===t)return l}return null}function Al(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof Vr){let a=o;a.resolving&&hy(vD(s[t]));let l=Tl(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?at(a.injectImpl):null,f=zy(e,r,W.Default);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&vS(t,s[t],n)}finally{u!==null&&at(u),Tl(l),a.resolving=!1,Ky()}}return o}function AS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(ls)?e[ls]:void 0;return typeof n=="number"?n>=0?n&Xy:OS:n}function Mv(e,n,t){let r=1<<e;return!!(t[n+(e>>e0)]&r)}function Tv(e,n){return!(e&W.Self)&&!(e&W.Host&&n)}var Rr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return i0(this._tNode,this._lView,n,$l(r),t)}};function OS(){return new Rr(tt(),oe())}function Jt(e){return ps(()=>{let n=e.prototype.constructor,t=n[gl]||Sf(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[gl]||Sf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sf(e){return ly(e)?()=>{let n=Sf(Xe(e));return n&&n()}:Nr(e)}function RS(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[H]&2048&&!Sl(s);){let a=o0(o,s,t,r|W.Self,cn);if(a!==cn)return a;let l=o.parent;if(!l){let c=s[Iy];if(c){let u=c.get(t,cn,r);if(u!==cn)return u}l=s0(s),s=s[Wi]}o=l}return i}function s0(e){let n=e[ee],t=n.type;return t===2?n.declTNode:t===1?e[Yt]:null}function mh(e){return MS(tt(),e)}function xv(e,n=null,t=null,r){let i=a0(e,n,t,r);return i.resolveInjectorInitializers(),i}function a0(e,n=null,t=null,r,i=new Set){let o=[t||At,ND(e)];return r=r||(typeof e=="object"?void 0:lt(e)),new us(o,n||oh(),r||null,i)}var Nt=class e{static THROW_IF_NOT_FOUND=Or;static NULL=new _l;static create(n,t){if(Array.isArray(n))return xv({name:""},t,n,"");{let r=n.name??"";return xv({name:r},n.parent,n.providers,r)}}static \u0275prov=O({token:e,providedIn:"any",factory:()=>U(yy)});static __NG_ELEMENT_ID__=-1};var NS=new P("");NS.__NG_ELEMENT_ID__=e=>{let n=tt();if(n===null)throw new x(204,!1);if(n.type&2)return n.value;if(e&W.Optional)return null;throw new x(204,!1)};var l0=!1,vs=(()=>{class e{static __NG_ELEMENT_ID__=kS;static __NG_ENV_ID__=t=>t}return e})(),If=class extends vs{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return Gi(t)?(n(),()=>{}):(Fy(t,n),()=>XD(t,n))}};function kS(){return new If(oe())}var Ui=class{},c0=new P("",{providedIn:"root",factory:()=>!1});var u0=new P(""),d0=new P(""),Ki=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new je(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})();var Mf=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Sy()&&(this.destroyRef=E(vs,{optional:!0})??void 0,this.pendingTasks=E(Ki,{optional:!0})??void 0)}emit(n){let t=J(null);try{super.next(n)}finally{J(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Ae&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=Mf;function Ol(...e){}function f0(e){let n,t;function r(){e=Ol;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Av(e){return queueMicrotask(()=>e()),()=>{e=Ol}}var vh="isAngularZone",Rl=vh+"_ID",PS=0,Ne=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=l0}=n;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,jS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new x(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,FS,Ol,Ol);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},FS={};function yh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function LS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){f0(()=>{e.callbackScheduled=!1,Tf(e),e.isCheckStableRunning=!0,yh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Tf(e)}function jS(e){let n=()=>{LS(e)},t=PS++;e._inner=e._inner.fork({name:"angular",properties:{[vh]:!0,[Rl]:t,[Rl+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(VS(l))return r.invokeTask(o,s,a,l);try{return Ov(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Rv(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Ov(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!US(l)&&n(),Rv(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Tf(e),yh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Tf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Ov(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Rv(e){e._nesting--,yh(e)}var xf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function VS(e){return h0(e,"__ignore_ng_zone__")}function US(e){return h0(e,"__scheduler_tick__")}function h0(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var pn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},BS=new P("",{providedIn:"root",factory:()=>{let e=E(Ne),n=E(pn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function Nv(e,n){return sy(e,n)}function $S(e){return sy(oy,e)}var p0=(Nv.required=$S,Nv);function HS(){return Jl(tt(),oe())}function Jl(e,n){return new Qt(mn(e,n))}var Qt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=HS}return e})();function zS(e){return typeof e=="function"&&e[Tt]!==void 0}function ys(e,n){let t=Ad(e,n?.equal),r=t[Tt];return t.set=i=>Xo(r,i),t.update=i=>Od(r,i),t.asReadonly=WS.bind(t),t}function WS(){let e=this[Tt];if(e.readonlyFn===void 0){let n=()=>this();n[Tt]=e,e.readonlyFn=n}return e.readonlyFn}function g0(e){return zS(e)&&typeof e.set=="function"}function m0(e){return(e.flags&128)===128}var v0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(v0||{}),y0=new Map,qS=0;function GS(){return qS++}function KS(e){y0.set(e[zl],e)}function Af(e){y0.delete(e[zl])}var kv="__ngContext__";function Zi(e,n){Jn(n)?(e[kv]=n[zl],KS(n)):e[kv]=n}function _0(e){return b0(e[ds])}function w0(e){return b0(e[Zt])}function b0(e){for(;e!==null&&!Vn(e);)e=e[Zt];return e}var Of;function C0(e){Of=e}function ZS(){if(Of!==void 0)return Of;if(typeof document<"u")return document;throw new x(210,!1)}var _h=new P("",{providedIn:"root",factory:()=>YS}),YS="ng",wh=new P(""),Yi=new P("",{providedIn:"platform",factory:()=>"unknown"});var bh=new P("",{providedIn:"root",factory:()=>ZS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JS="h",QS="b";var E0=!1,XS=new P("",{providedIn:"root",factory:()=>E0});var Ch=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Ch||{}),Ji=new P(""),Pv=new Set;function _s(e){Pv.has(e)||(Pv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var D0=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=eI}return e})();function eI(){return new D0(oe(),tt())}var xi=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(xi||{}),S0=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),tI=[xi.EarlyRead,xi.Write,xi.MixedReadWrite,xi.Read],nI=(()=>{class e{ngZone=E(Ne);scheduler=E(Ui);errorHandler=E(pn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(Ji,{optional:!0})}execute(){let t=this.sequences.size>0;t&&fe(16),this.executing=!0;for(let r of tI)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&fe(17)}register(t){let{view:r}=t;r!==void 0?((r[Oi]??=[]).push(t),ms(r),r[H]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ch.AFTER_NEXT_RENDER,t):t()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),Rf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Oi];n&&(this.view[Oi]=n.filter(t=>t!==this))}};function Eh(e,n){!n?.injector&&HD(Eh);let t=n?.injector??E(Nt);return _s("NgAfterNextRender"),iI(e,t,n,!0)}function rI(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function iI(e,n,t,r){let i=n.get(S0);i.impl??=n.get(nI);let o=n.get(Ji,null,{optional:!0}),s=t?.phase??xi.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(vs):null,l=n.get(D0,null,{optional:!0}),c=new Rf(i.impl,rI(e,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var oI=(e,n,t,r)=>{};function sI(e,n,t,r){oI(e,n,t,r)}var aI=()=>null;function I0(e,n,t=!1){return aI(e,n,t)}function M0(e,n){let t=e.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Hy(o),a.contentQueries(2,n[s],s)}}}finally{J(r)}}}function Nf(e,n,t){Hy(0);let r=J(null);try{n(e,t)}finally{J(r)}}function Dh(e,n,t){if(sh(n)){let r=J(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{J(r)}}}var gn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gn||{});var ll;function lI(){if(ll===void 0&&(ll=null,Ar.trustedTypes))try{ll=Ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ll}function Fv(e){return lI()?.createScriptURL(e)||e}var Nl=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ry})`}};function Ql(e){return e instanceof Nl?e.changingThisBreaksApplicationSecurity:e}function T0(e,n){let t=cI(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${ry})`)}return t===n}function cI(e){return e instanceof Nl&&e.getTypeName()||null}var uI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dI(e){return e=String(e),e.match(uI)?e:"unsafe:"+e}var fI=/^>|^->|<!--|-->|--!>|<!-$/g,hI=/(<|>)/g,pI="\u200B$1\u200B";function gI(e){return e.replace(fI,n=>n.replace(hI,pI))}function mI(e,n){return e.createText(n)}function vI(e,n,t){e.setValue(n,t)}function yI(e,n){return e.createComment(gI(n))}function x0(e,n,t){return e.createElement(n,t)}function kl(e,n,t,r,i){e.insertBefore(n,t,r,i)}function A0(e,n,t){e.appendChild(n,t)}function Lv(e,n,t,r,i){r!==null?kl(e,n,t,r,i):A0(e,n,t)}function _I(e,n,t){e.removeChild(null,n,t)}function wI(e,n,t){e.setAttribute(n,"style",t)}function bI(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function O0(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&bS(e,n,r),i!==null&&bI(e,n,i),o!==null&&wI(e,n,o)}var Sh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Sh||{});function Ze(e){let n=N0();return n?n.sanitize(Sh.URL,e)||"":T0(e,"URL")?Ql(e):dI(Ni(e))}function CI(e){let n=N0();if(n)return Fv(n.sanitize(Sh.RESOURCE_URL,e)||"");if(T0(e,"ResourceURL"))return Fv(Ql(e));throw new x(904,!1)}function EI(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?CI:Ze}function R0(e,n,t){return EI(n,t)(e)}function N0(){let e=oe();return e&&e[Pn].sanitizer}function k0(e){return e instanceof Function?e():e}function DI(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var P0="ng-template";function SI(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&DI(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ih(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ih(e){return e.type===4&&e.value!==P0}function II(e,n,t){let r=e.type===4&&!t?P0:e.value;return n===r}function MI(e,n,t){let r=4,i=e.attrs,o=i!==null?AI(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Kt(r)&&!Kt(l))return!1;if(s&&Kt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!II(e,l,t)||l===""&&n.length===1){if(Kt(r))return!1;s=!0}}else if(r&8){if(i===null||!SI(e,i,l,t)){if(Kt(r))return!1;s=!0}}else{let c=n[++a],u=TI(l,i,Ih(e),t);if(u===-1){if(Kt(r))return!1;s=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(Kt(r))return!1;s=!0}}}}return Kt(r)||s}function Kt(e){return(e&1)===0}function TI(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return OI(n,e)}function xI(e,n,t=!1){for(let r=0;r<n.length;r++)if(MI(e,n[r],t))return!0;return!1}function AI(e){for(let n=0;n<e.length;n++){let t=e[n];if(Jy(t))return n}return e.length}function OI(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function jv(e,n){return e?":not("+n.trim()+")":n}function RI(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kt(s)&&(n+=jv(o,i),i=""),r=s,o=o||!Kt(r);t++}return i!==""&&(n+=jv(o,i)),n}function NI(e){return e.map(RI).join(",")}function kI(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Kt(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Xt={};function Mh(e,n,t,r,i,o,s,a,l,c,u){let f=dt+r,m=f+i,d=PI(f,m),y=typeof c=="function"?c():c;return d[ee]={type:e,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:n,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}function PI(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Xt);return t}function FI(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Mh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Th(e,n,t,r,i,o,s,a,l,c,u){let f=n.blueprint.slice();return f[jn]=i,f[H]=r|4|128|8|64|1024,(c!==null||e&&e[H]&2048)&&(f[H]|=2048),ky(f),f[et]=f[Wi]=e,f[ut]=t,f[Pn]=s||e&&e[Pn],f[Te]=a||e&&e[Te],f[Pi]=l||e&&e[Pi]||null,f[Yt]=o,f[zl]=GS(),f[wl]=u,f[Iy]=c,f[un]=n.type==2?e[un]:f,f}function LI(e,n,t){let r=mn(n,e),i=FI(t),o=e[Pn].rendererFactory,s=xh(e,Th(e,i,null,F0(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function F0(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function L0(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function xh(e,n){return e[ds]?e[Cv][Zt]=n:e[ds]=n,e[Cv]=n,n}function _(e=1){j0(Ke(),oe(),Hr()+e,!1)}function j0(e,n,t,r){if(!r)if((n[H]&3)===3){let o=e.preOrderCheckHooks;o!==null&&dl(n,o,t)}else{let o=e.preOrderHooks;o!==null&&fl(n,o,0,t)}jr(t)}var Xl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Xl||{});function kf(e,n,t,r){let i=J(null);try{let[o,s,a]=e.inputs[t],l=null;(s&Xl.SignalBased)!==0&&(l=n[o][Tt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,o):Ty(n,l,o,r)}finally{J(i)}}function V0(e,n,t,r,i){let o=Hr(),s=r&2;try{jr(-1),s&&n.length>dt&&j0(e,n,dt,!1),fe(s?2:0,i),t(r,i)}finally{jr(o),fe(s?3:1,i)}}function ec(e,n,t){HI(e,n,t),(t.flags&64)===64&&zI(e,n,t)}function Ah(e,n,t=mn){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function jI(e,n,t,r){let o=r.get(XS,E0)||t===gn.ShadowDom,s=e.selectRootElement(n,o);return VI(s),s}function VI(e){UI(e)}var UI=()=>null;function BI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Oh(e,n,t,r,i,o,s,a){if(!a&&Nh(n,e,t,r,i)){qi(n)&&$I(t,n.index);return}if(n.type&3){let l=mn(n,t);r=BI(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)}else n.type&12}function $I(e,n){let t=hn(n,e);t[H]&16||(t[H]|=64)}function HI(e,n,t){let r=t.directiveStart,i=t.directiveEnd;qi(t)&&LI(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||xl(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Al(n,e,s,t);if(Zi(l,n),o!==null&&KI(n,s-r,l,a,t,o),dn(a)){let c=hn(t.index,n);c[ut]=Al(n,e,s,t)}}}function zI(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=fS();try{jr(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];Cf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&WI(l,c)}}finally{jr(-1),Cf(s)}}function WI(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Rh(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xI(n,o.selectors,!1)&&(r??=[],dn(o)?r.unshift(o):r.push(o))}return r}function qI(e,n,t,r,i,o){let s=mn(e,n);GI(n[Te],s,o,e.value,t,r,i)}function GI(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Ni(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function KI(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];kf(r,t,l,c)}}function ZI(e,n){let t=e[Pi],r=t?t.get(pn,null):null;r&&r.handleError(n)}function Nh(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],f=n.data[c];kf(f,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=n.data[l];kf(u,c,r,i),a=!0}return a}function YI(e,n){let t=hn(n,e),r=t[ee];JI(r,t);let i=t[jn];i!==null&&t[wl]===null&&(t[wl]=I0(i,t[Pi])),fe(18),kh(r,t,t[ut]),fe(19,t[ut])}function JI(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function kh(e,n,t){fh(n);try{let r=e.viewQuery;r!==null&&Nf(1,r,t);let i=e.template;i!==null&&V0(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Li]?.finishViewCreation(e),e.staticContentQueries&&M0(e,n),e.staticViewQueries&&Nf(2,e.viewQuery,t);let o=e.components;o!==null&&QI(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[H]&=-5,hh()}}function QI(e,n){for(let t=0;t<n.length;t++)YI(e,n[t])}function XI(e,n,t,r){let i=J(null);try{let o=n.tView,a=e[H]&4096?4096:16,l=Th(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[Fi]=c;let u=e[Li];return u!==null&&(l[Li]=u.createEmbeddedView(o)),kh(o,l,t),l}finally{J(i)}}function Vv(e,n){return!n||n.firstChild===null||m0(e)}var eM;function Ph(e,n){return eM(e,n)}var Fn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Fn||{});function U0(e){return(e.flags&32)===32}function Ai(e,n,t,r,i){if(r!=null){let o,s=!1;Vn(r)?o=r:Jn(r)&&(s=!0,r=r[jn]);let a=fn(r);e===0&&t!==null?i==null?A0(n,t,a):kl(n,t,a,i||null,!0):e===1&&t!==null?kl(n,t,a,i||null,!0):e===2?_I(n,a,s):e===3&&n.destroyNode(a),o!=null&&fM(n,e,o,t,i)}}function tM(e,n){B0(e,n),n[jn]=null,n[Yt]=null}function nM(e,n,t,r,i,o){r[jn]=i,r[Yt]=n,nc(e,r,t,1,i,o)}function B0(e,n){n[Pn].changeDetectionScheduler?.notify(9),nc(e,n,n[Te],2,null,null)}function rM(e){let n=e[ds];if(!n)return rf(e[ee],e);for(;n;){let t=null;if(Jn(n))t=n[ds];else{let r=n[Rt];r&&(t=r)}if(!t){for(;n&&!n[Zt]&&n!==e;)Jn(n)&&rf(n[ee],n),n=n[et];n===null&&(n=e),Jn(n)&&rf(n[ee],n),t=n&&n[Zt]}n=t}}function Fh(e,n){let t=e[Dl],r=t.indexOf(n);t.splice(r,1)}function $0(e,n){if(Gi(n))return;let t=n[Te];t.destroyNode&&nc(e,n,t,3,null,null),rM(n)}function rf(e,n){if(Gi(n))return;let t=J(null);try{n[H]&=-129,n[H]|=256,n[Ot]&&Md(n[Ot]),oM(e,n),iM(e,n),n[ee].type===1&&n[Te].destroy();let r=n[Fi];if(r!==null&&Vn(n[et])){r!==n[et]&&Fh(r,n);let i=n[Li];i!==null&&i.detachView(e)}Af(n)}finally{J(t)}}function iM(e,n){let t=e.cleanup,r=n[bl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[bl]=null);let i=n[Yn];if(i!==null){n[Yn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Cl];if(o!==null){n[Cl]=null;for(let s of o)s.destroy()}}function oM(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof Vr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];fe(4,a,l);try{l.call(a)}finally{fe(5,a,l)}}else{fe(4,i,o);try{o.call(i)}finally{fe(5,i,o)}}}}}function sM(e,n,t){return aM(e,n.parent,t)}function aM(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[jn];if(qi(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===gn.None||i===gn.Emulated)return null}return mn(r,t)}function lM(e,n,t){return uM(e,n,t)}function cM(e,n,t){return e.type&40?mn(e,t):null}var uM=cM,Uv;function tc(e,n,t,r){let i=sM(e,r,n),o=n[Te],s=r.parent||n[Yt],a=lM(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Lv(o,i,t[l],a,!1);else Lv(o,i,t,a,!1);Uv!==void 0&&Uv(o,r,n,t,i)}function as(e,n){if(n!==null){let t=n.type;if(t&3)return mn(n,e);if(t&4)return Pf(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return as(e,r);{let i=e[n.index];return Vn(i)?Pf(-1,i):fn(i)}}else{if(t&128)return as(e,n.next);if(t&32)return Ph(n,e)()||fn(e[n.index]);{let r=H0(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Lr(e[un]);return as(i,r)}else return as(e,n.next)}}}return null}function H0(e,n){if(n!==null){let r=e[un][Yt],i=n.projection;return r.projection[i]}return null}function Pf(e,n){let t=Rt+e+1;if(t<n.length){let r=n[t],i=r[ee].firstChild;if(i!==null)return as(r,i)}return n[Fr]}function Lh(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&Zi(fn(a),r),t.flags|=2),!U0(t))if(l&8)Lh(e,n,t.child,r,i,o,!1),Ai(n,e,i,a,o);else if(l&32){let c=Ph(t,r),u;for(;u=c();)Ai(n,e,i,u,o);Ai(n,e,i,a,o)}else l&16?dM(e,n,r,t,i,o):Ai(n,e,i,a,o);t=s?t.projectionNext:t.next}}function nc(e,n,t,r,i,o){Lh(t,r,e.firstChild,n,i,o,!1)}function dM(e,n,t,r,i,o){let s=t[un],l=s[Yt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ai(n,e,i,u,o)}else{let c=l,u=s[et];m0(r)&&(c.flags|=128),Lh(e,n,c,u,i,o,!0)}}function fM(e,n,t,r,i){let o=t[Fr],s=fn(t);o!==s&&Ai(n,e,r,o,i);for(let a=Rt;a<t.length;a++){let l=t[a];nc(l[ee],l,e,n,r,o)}}function hM(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Fn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fn.Important),e.setStyle(t,r,i,o))}}function Pl(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(fn(o)),Vn(o)&&pM(o,r);let s=t.type;if(s&8)Pl(e,n,t.child,r);else if(s&32){let a=Ph(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=H0(n,t);if(Array.isArray(a))r.push(...a);else{let l=Lr(n[un]);Pl(l[ee],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function pM(e,n){for(let t=Rt;t<e.length;t++){let r=e[t],i=r[ee].firstChild;i!==null&&Pl(r[ee],r,i,n)}e[Fr]!==e[jn]&&n.push(e[Fr])}function z0(e){if(e[Oi]!==null){for(let n of e[Oi])n.impl.addSequence(n);e[Oi].length=0}}var W0=[];function gM(e){return e[Ot]??mM(e)}function mM(e){let n=W0.pop()??Object.create(yM);return n.lView=e,n}function vM(e){e.lView[Ot]!==e&&(e.lView=null,W0.push(e))}var yM=Z(D({},Jo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ms(e.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function _M(e){let n=e[Ot]??Object.create(wM);return n.lView=e,n}var wM=Z(D({},Jo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Lr(e.lView);for(;n&&!q0(n[ee]);)n=Lr(n);n&&Py(n)},consumerOnSignalRead(){this.lView[Ot]=this}});function q0(e){return e.type!==2}function G0(e){if(e[Cl]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Cl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[H]&8192)}}var bM=100;function K0(e,n=!0,t=0){let i=e[Pn].rendererFactory,o=!1;o||i.begin?.();try{CM(e,t)}catch(s){throw n&&ZI(e,s),s}finally{o||i.end?.()}}function CM(e,n){let t=By();try{Dv(!0),Ff(e,n);let r=0;for(;ql(e);){if(r===bM)throw new x(103,!1);r++,Ff(e,1)}}finally{Dv(t)}}function EM(e,n,t,r){if(Gi(n))return;let i=n[H],o=!1,s=!1;fh(n);let a=!0,l=null,c=null;o||(q0(e)?(c=gM(n),l=Ta(c)):bd()===null?(a=!1,c=_M(n),l=Ta(c)):n[Ot]&&(Md(n[Ot]),n[Ot]=null));try{ky(n),cS(e.bindingStartIndex),t!==null&&V0(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let d=e.preOrderCheckHooks;d!==null&&dl(n,d,null)}else{let d=e.preOrderHooks;d!==null&&fl(n,d,0,null),tf(n,0)}if(s||DM(n),G0(n),Z0(n,0),e.contentQueries!==null&&M0(e,n),!o)if(u){let d=e.contentCheckHooks;d!==null&&dl(n,d)}else{let d=e.contentHooks;d!==null&&fl(n,d,1),tf(n,1)}IM(e,n);let f=e.components;f!==null&&J0(n,f,0);let m=e.viewQuery;if(m!==null&&Nf(2,m,r),!o)if(u){let d=e.viewCheckHooks;d!==null&&dl(n,d)}else{let d=e.viewHooks;d!==null&&fl(n,d,2),tf(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[ef]){for(let d of n[ef])d();n[ef]=null}o||(z0(n),n[H]&=-73)}catch(u){throw o||ms(n),u}finally{c!==null&&(Sd(c,l),a&&vM(c)),hh()}}function Z0(e,n){for(let t=_0(e);t!==null;t=w0(t))for(let r=Rt;r<t.length;r++){let i=t[r];Y0(i,n)}}function DM(e){for(let n=_0(e);n!==null;n=w0(n)){if(!(n[H]&2))continue;let t=n[Dl];for(let r=0;r<t.length;r++){let i=t[r];Py(i)}}}function SM(e,n,t){fe(18);let r=hn(n,e);Y0(r,t),fe(19,r[ut])}function Y0(e,n){lh(e)&&Ff(e,n)}function Ff(e,n){let r=e[ee],i=e[H],o=e[Ot],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Id(o)),s||=!1,o&&(o.dirty=!1),e[H]&=-9217,s)EM(r,e,r.template,e[ut]);else if(i&8192){G0(e),Z0(e,1);let a=r.components;a!==null&&J0(e,a,1),z0(e)}}function J0(e,n,t){for(let r=0;r<n.length;r++)SM(e,n[r],t)}function IM(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)jr(~i);else{let o=i,s=t[++r],a=t[++r];dS(s,o);let l=n[o];fe(24,l),a(2,l),fe(25,l)}}}finally{jr(-1)}}function jh(e,n){let t=By()?64:1088;for(e[Pn].changeDetectionScheduler?.notify(n);e;){e[H]|=t;let r=Lr(e);if(Sl(e)&&!r)return e;e=r}return null}function Q0(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function MM(e,n,t,r=!0){let i=n[ee];if(TM(i,n,e,t),r){let s=Pf(t,e),a=n[Te],l=a.parentNode(e[Fr]);l!==null&&nM(i,e[Yt],a,n,l,s)}let o=n[wl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lf(e,n){if(e.length<=Rt)return;let t=Rt+n,r=e[t];if(r){let i=r[Fi];i!==null&&i!==e&&Fh(i,r),n>0&&(e[t-1][Zt]=r[Zt]);let o=yl(e,Rt+n);tM(r[ee],r);let s=o[Li];s!==null&&s.detachView(o[ee]),r[et]=null,r[Zt]=null,r[H]&=-129}return r}function TM(e,n,t,r){let i=Rt+r,o=t.length;r>0&&(t[i-1][Zt]=n),r<o-Rt?(n[Zt]=t[i],vy(t,Rt+r,n)):(t.push(n),n[Zt]=null),n[et]=t;let s=n[Fi];s!==null&&t!==s&&X0(s,n);let a=n[Li];a!==null&&a.insertView(e),wf(n),n[H]|=128}function X0(e,n){let t=e[Dl],r=n[et];if(Jn(r))e[H]|=2;else{let i=r[et][un];n[un]!==i&&(e[H]|=2)}t===null?e[Dl]=[n]:t.push(n)}var fs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[ee];return Pl(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ut]}set context(n){this._lView[ut]=n}get destroyed(){return Gi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[et];if(Vn(n)){let t=n[El],r=t?t.indexOf(this):-1;r>-1&&(Lf(n,r),yl(t,r))}this._attachedToViewContainer=!1}$0(this._lView[ee],this._lView)}onDestroy(n){Fy(this._lView,n)}markForCheck(){jh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){wf(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,K0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Sl(this._lView),t=this._lView[Fi];t!==null&&!n&&Fh(t,this._lView),B0(this._lView[ee],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=n;let t=Sl(this._lView),r=this._lView[Fi];r!==null&&!t&&X0(r,this._lView),wf(this._lView)}};var rc=(()=>{class e{static __NG_ELEMENT_ID__=OM}return e})(),xM=rc,AM=class extends xM{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=XI(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new fs(i)}};function OM(){return e_(tt(),oe())}function e_(e,n){return e.type&4?new AM(n,e,Jl(e,n)):null}function ic(e,n,t,r,i){let o=e.data[n];if(o===null)o=RM(e,n,t,r,i),uS()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=sS();o.injectorIndex=s===null?-1:s.injectorIndex}return $r(o,!0),o}function RM(e,n,t,r,i){let o=Vy(),s=uh(),a=s?o:o&&o.parent,l=e.data[n]=kM(e,a,t,n,r,i);return NM(e,l,o,s),l}function NM(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function kM(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return rS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var RV=new RegExp(`^(\\d+)*(${QS}|${JS})*(.*)`);var PM=()=>null;function Bv(e,n){return PM(e,n)}var FM=class{},t_=class{},jf=class{resolveComponentFactory(n){throw Error(`No component factory found for ${lt(n)}.`)}},oc=class{static NULL=new jf},Bi=class{},vn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>LM()}return e})();function LM(){let e=oe(),n=tt(),t=hn(n.index,e);return(Jn(t)?t:e)[Te]}var jM=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>null})}return e})();var of={},Vf=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=$l(r);let i=this.injector.get(n,of,r);return i!==of||t===of?i:this.parentInjector.get(n,t,r)}};function Uf(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=gv(i,a);else if(o==2){let l=a,c=n[++s];r=gv(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function F(e,n=W.Default){let t=oe();if(t===null)return U(e,n);let r=tt();return i0(r,t,Xe(e),n)}function n_(){let e="invalid";throw new Error(e)}function Vh(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a,l=null,c=null,u=UM(s);u===null?a=s:[a,l,c]=u,HM(e,n,t,a,o,l,c)}o!==null&&r!==null&&VM(t,r,o)}function VM(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new x(-301,!1);r.push(n[i],o)}}function UM(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&dn(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,BM(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,i,o]):null}function BM(e,n,t,r){let i=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[i,n.length-1])}function $M(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function HM(e,n,t,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let d=r[m];!l&&dn(d)&&(l=!0,$M(e,t,m)),Df(xl(t,n),e,d.type)}ZM(t,e.data.length,a);for(let m=0;m<a;m++){let d=r[m];d.providersResolver&&d.providersResolver(d)}let c=!1,u=!1,f=L0(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let d=r[m];if(t.mergedAttrs=Vi(t.mergedAttrs,d.hostAttrs),WM(e,t,n,f,d),KM(f,d,i),s!==null&&s.has(d)){let[w,b]=s.get(d);t.directiveToIndex.set(d.type,[f,w+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(d))&&t.directiveToIndex.set(d.type,f);d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let y=d.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}zM(e,t,o)}function zM(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))$v(0,n,i,r),$v(1,n,i,r),zv(n,r,!1);else{let o=t.get(i);Hv(0,n,o,r),Hv(1,n,o,r),zv(n,r,!0)}}}function $v(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),r_(n,o)}}function Hv(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),r_(n,s)}}function r_(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function zv(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Ih(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function WM(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=Nr(i.type,!0)),s=new Vr(o,dn(i),F);e.blueprint[r]=s,t[r]=s,qM(e,n,r,L0(e,t,i.hostVars,Xt),i)}function qM(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;GM(s)!=a&&s.push(a),s.push(t,r,o)}}function GM(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function KM(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;dn(n)&&(t[""]=e)}}function ZM(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function i_(e,n,t,r,i,o,s,a){let l=n.consts,c=ji(l,s),u=ic(n,e,2,r,c);return o&&Vh(n,t,u,ji(l,a),i),u.mergedAttrs=Vi(u.mergedAttrs,u.attrs),u.attrs!==null&&Uf(u,u.attrs,!1),u.mergedAttrs!==null&&Uf(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function o_(e,n){ph(e,n),sh(n)&&e.queries.elementEnd(n)}var Fl=class extends oc{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Pr(n);return new $i(t,this.ngModule)}};function YM(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&Xl.SignalBased)!==0};return i&&(o.transform=i),o})}function JM(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function QM(e,n,t){let r=n instanceof ct?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Vf(t,r):t}function XM(e){let n=e.get(Bi,null);if(n===null)throw new x(407,!1);let t=e.get(jM,null),r=e.get(Ui,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function eT(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return x0(n,t,t==="svg"?KD:t==="math"?ZD:null)}var $i=class extends t_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=YM(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=JM(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=NI(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){fe(22);let o=J(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:kI(this.componentDef.selectors[0]),l=Mh(0,null,null,1,0,null,null,null,null,[a],null),c=QM(s,i||this.ngModule,n),u=XM(c),f=u.rendererFactory.createRenderer(null,s),m=r?jI(f,r,s.encapsulation,c):eT(s,f),d=Th(null,l,null,512|F0(s),null,null,u,f,c,null,I0(m,c,!0));d[dt]=m,fh(d);let y=null;try{let w=i_(dt,l,d,"#host",()=>[this.componentDef],!0,0);m&&(O0(f,m,w),Zi(m,d)),ec(l,d,w),Dh(l,w,d),o_(l,w),t!==void 0&&tT(w,this.ngContentSelectors,t),y=hn(w.index,d),d[ut]=y[ut],kh(l,d,null)}catch(w){throw y!==null&&Af(y),Af(d),w}finally{fe(23),hh()}return new Bf(this.componentType,d)}finally{J(o)}}},Bf=class extends FM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Ny(t[ee],dt),this.location=Jl(this._tNode,t),this.instance=hn(this._tNode.index,t)[ut],this.hostView=this.changeDetectorRef=new fs(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=Nh(r,i[ee],i,n,t);this.previousInputValues.set(n,t);let s=hn(r.index,i);jh(s,1)}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function tT(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Qi=(()=>{class e{static __NG_ELEMENT_ID__=nT}return e})();function nT(){let e=tt();return iT(e,oe())}var rT=Qi,s_=class extends rT{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Jl(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){let n=gh(this._hostTNode,this._hostLView);if(Qy(n)){let t=Ml(n,this._hostLView),r=Il(n),i=t[ee].data[r+8];return new Rr(i,t)}else return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Wv(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Bv(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Vv(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!zD(n),a;if(s)a=t;else{let y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let l=s?n:new $i(Pr(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?c:this.parentInjector).get(ct,null);w&&(o=w)}let u=Pr(l.componentType??{}),f=Bv(this._lContainer,u?.id??null),m=f?.firstChild??null,d=l.create(c,i,m,o);return this.insertImpl(d.hostView,a,Vv(this._hostTNode,f)),d}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(JD(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[et],c=new s_(l,l[Yt],l[et]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return MM(s,i,o,r),n.attachToViewContainerRef(),vy(sf(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Wv(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Lf(this._lContainer,t);r&&(yl(sf(this._lContainer),t),$0(r[ee],r))}detach(n){let t=this._adjustIndex(n,-1),r=Lf(this._lContainer,t);return r&&yl(sf(this._lContainer),t)!=null?new fs(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Wv(e){return e[El]}function sf(e){return e[El]||(e[El]=[])}function iT(e,n){let t,r=n[e.index];return Vn(r)?t=r:(t=Q0(r,n,null,e),n[e.index]=t,xh(n,t)),sT(t,n,e,r),new s_(t,e,n)}function oT(e,n){let t=e[Te],r=t.createComment(""),i=mn(n,e),o=t.parentNode(i);return kl(t,o,r,t.nextSibling(i),!1),r}var sT=cT,aT=()=>!1;function lT(e,n,t){return aT(e,n,t)}function cT(e,n,t,r){if(e[Fr])return;let i;t.type&8?i=fn(r):i=oT(n,t),e[Fr]=i}var Hi=class{},Uh=class{};var $f=class extends Hi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fl(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=wy(n);this._bootstrapComponents=k0(o.bootstrap),this._r3Injector=a0(n,t,[{provide:Hi,useValue:this},{provide:oc,useValue:this.componentFactoryResolver},...r],lt(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Hf=class extends Uh{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new $f(this.moduleType,n,[])}};var Ll=class extends Hi{injector;componentFactoryResolver=new Fl(this);instance=null;constructor(n){super();let t=new us([...n.providers,{provide:Hi,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],n.parent||oh(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ws(e,n,t=null){return new Ll({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var uT=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=by(!1,t.type),i=r.length>0?ws([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:e,providedIn:"environment",factory:()=>new e(U(ct))})}return e})();function re(e){return ps(()=>{let n=a_(e),t=Z(D({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===v0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(uT).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gn.Emulated,styles:e.styles||At,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&_s("NgStandalone"),l_(t);let r=e.dependencies;return t.directiveDefs=qv(r,!1),t.pipeDefs=qv(r,!0),t.id=gT(t),t})}function dT(e){return Pr(e)||OD(e)}function fT(e){return e!==null}function Un(e){return ps(()=>({type:e.type,bootstrap:e.bootstrap||At,declarations:e.declarations||At,imports:e.imports||At,exports:e.exports||At,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function hT(e,n){if(e==null)return kr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Xl.None,l=null),t[o]=[r,a,l],n[o]=s}return t}function pT(e){if(e==null)return kr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function ve(e){return ps(()=>{let n=a_(e);return l_(n),n})}function Bh(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function a_(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||kr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||At,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hT(e.inputs,n),outputs:pT(e.outputs),debugInfo:null}}function l_(e){e.features?.forEach(n=>n(e))}function qv(e,n){if(!e)return null;let t=n?RD:dT;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(fT)}function gT(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function mT(e){return Object.getPrototypeOf(e.prototype).constructor}function ft(e){let n=mT(e.type),t=!0,r=[e];for(;n;){let i;if(dn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new x(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=af(e.inputs),s.declaredInputs=af(e.declaredInputs),s.outputs=af(e.outputs);let a=i.hostBindings;a&&bT(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&_T(e,l),c&&wT(e,c),vT(e,i),cD(e.outputs,i.outputs),dn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ft&&(t=!1)}}n=Object.getPrototypeOf(n)}yT(r)}function vT(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function yT(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Vi(i.hostAttrs,t=Vi(t,i.hostAttrs))}}function af(e){return e===kr?{}:e===At?[]:e}function _T(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function wT(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function bT(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function c_(e){return ET(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function CT(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function ET(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function $h(e,n,t){return e[n]=t}function DT(e,n){return e[n]}function Qn(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function u_(e,n,t,r){let i=Qn(e,n,t);return Qn(e,n+1,r)||i}function ST(e,n,t,r,i,o,s,a,l){let c=n.consts,u=ic(n,e,4,s||null,a||null);ch()&&Vh(n,t,u,ji(c,l),Rh),u.mergedAttrs=Vi(u.mergedAttrs,u.attrs),ph(n,u);let f=u.tView=Mh(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),f.queries=n.queries.embeddedTView(u)),u}function IT(e,n,t,r,i,o,s,a,l,c){let u=t+dt,f=n.firstCreatePass?ST(u,n,e,r,i,o,s,a,l):n.data[u];$r(f,!1);let m=MT(n,e,f,t);Zl()&&tc(n,e,m,f),Zi(m,e);let d=Q0(m,e,m,f);return e[u]=d,xh(e,d),lT(d,f,e),Wl(f)&&ec(n,e,f),l!=null&&Ah(e,f,c),f}function te(e,n,t,r,i,o,s,a){let l=oe(),c=Ke(),u=ji(c.consts,o);return IT(l,c,e,n,t,r,i,u,s,a),te}var MT=TT;function TT(e,n,t,r){return Yl(!0),n[Te].createComment("")}var d_=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var f_=new P("");var xT=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>new zf})}return e})(),zf=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function er(e){return!!e&&typeof e.then=="function"}function Hh(e){return!!e&&typeof e.subscribe=="function"}var h_=new P("");function zh(e){return rh([{provide:h_,multi:!0,useValue:e}])}var p_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=E(h_,{optional:!0})??[];injector=E(Nt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Pt(this.injector,i);if(er(o))t.push(o);else if(Hh(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sc=new P("");function AT(){xd(()=>{throw new x(600,!1)})}function OT(e){return e.isBoundToModule}var RT=10;var Ur=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(BS);afterRenderManager=E(S0);zonelessEnabled=E(c0);rootEffectScheduler=E(xT);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Oe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(Ki).hasPendingTasks.pipe(X(t=>!t));constructor(){E(Ji,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=E(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Nt.NULL){fe(10);let o=t instanceof t_;if(!this._injector.get(p_).done){let d="";throw new x(405,d)}let a;o?a=t:a=this._injector.get(oc).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=OT(a)?void 0:this._injector.get(Hi),c=r||a.selector,u=a.create(i,[],c,l),f=u.location.nativeElement,m=u.injector.get(f_,null);return m?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),hl(this.components,u),m?.unregisterApplication(f)}),this._loadComponent(u),fe(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ch.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new x(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<RT;)fe(14),this.synchronizeOnce(),fe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)NT(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ql(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;hl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(sc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hl(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function NT(e,n,t,r){if(!t&&!ql(e))return;K0(e,n,t&&!r?0:1)}function Ft(e,n,t,r){let i=oe(),o=Gl();if(Qn(i,o,n)){let s=Ke(),a=Kl();qI(a,i,e,n,t,r)}return Ft}function g_(e,n,t,r){return Qn(e,Gl(),t)?n+Ni(t)+r:Xt}function kT(e,n,t,r,i,o){let s=lS(),a=u_(e,s,t,i);return $y(2),a?n+Ni(t)+r+Ni(i)+o:Xt}function cl(e,n){return e<<17|n<<2}function Br(e){return e>>17&32767}function PT(e){return(e&2)==2}function FT(e,n){return e&131071|n<<17}function Wf(e){return e|2}function zi(e){return(e&131068)>>2}function lf(e,n){return e&-131069|n<<2}function LT(e){return(e&1)===1}function qf(e){return e|1}function jT(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Br(s),l=zi(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||gs(f,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let m=Br(e[a+1]);e[r+1]=cl(m,a),m!==0&&(e[m+1]=lf(e[m+1],r)),e[a+1]=FT(e[a+1],r)}else e[r+1]=cl(a,0),a!==0&&(e[a+1]=lf(e[a+1],r)),a=r;else e[r+1]=cl(l,0),a===0?a=r:e[l+1]=lf(e[l+1],r),l=r;c&&(e[r+1]=Wf(e[r+1])),Gv(e,u,r,!0),Gv(e,u,r,!1),VT(n,u,e,r,o),s=cl(a,l),o?n.classBindings=s:n.styleBindings=s}function VT(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&gs(o,n)>=0&&(t[r+1]=qf(t[r+1]))}function Gv(e,n,t,r){let i=e[t+1],o=n===null,s=r?Br(i):zi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];UT(l,n)&&(a=!0,e[s+1]=r?qf(c):Wf(c)),s=r?Br(c):zi(c)}a&&(e[t+1]=r?Wf(i):qf(i))}function UT(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?gs(e,n)>=0:!1}function I(e,n,t){let r=oe(),i=Gl();if(Qn(r,i,n)){let o=Ke(),s=Kl();Oh(o,s,r,e,n,r[Te],t,!1)}return I}function Kv(e,n,t,r,i){Nh(n,e,t,i?"class":"style",r)}function bs(e,n,t){return m_(e,n,t,!1),bs}function tr(e,n){return m_(e,n,null,!0),tr}function m_(e,n,t,r){let i=oe(),o=Ke(),s=$y(2);if(o.firstUpdatePass&&$T(o,e,s,r),n!==Xt&&Qn(i,s,n)){let a=o.data[Hr()];GT(o,a,i,i[Te],e,i[s+1]=KT(n,t),r,s)}}function BT(e,n){return n>=e.expandoStartIndex}function $T(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[Hr()],s=BT(e,t);ZT(o,r)&&n===null&&!s&&(n=!1),n=HT(i,o,n,r),jT(i,o,n,t,s,r)}}function HT(e,n,t,r){let i=hS(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=cf(null,e,n,t,r),t=hs(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=cf(i,e,n,t,r),o===null){let l=zT(e,n,r);l!==void 0&&Array.isArray(l)&&(l=cf(null,e,n,l[1],r),l=hs(l,n.attrs,r),WT(e,n,r,l))}else o=qT(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function zT(e,n,t){let r=t?n.classBindings:n.styleBindings;if(zi(r)!==0)return e[Br(r)]}function WT(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Br(i)]=r}function qT(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=hs(r,s,t)}return hs(r,n.attrs,t)}function cf(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=hs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function hs(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),xD(e,s,t?!0:n[++o]))}return e===void 0?null:e}function GT(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=LT(c)?Zv(l,n,t,i,zi(c),s):void 0;if(!jl(u)){jl(o)||PT(c)&&(o=Zv(l,null,t,i,a,s));let f=Ry(Hr(),t);hM(r,s,f,i,o)}}function Zv(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,m=t[i+1];m===Xt&&(m=f?At:void 0);let d=f?Qd(m,r):u===r?m:void 0;if(c&&!jl(d)&&(d=Qd(l,r)),jl(d)&&(a=d,s))return a;let y=e[i+1];i=s?Br(y):zi(y)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Qd(l,r))}return a}function jl(e){return e!==void 0}function KT(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=lt(Ql(e)))),e}function ZT(e,n){return(e.flags&(n?8:16))!==0}function h(e,n,t,r){let i=oe(),o=Ke(),s=dt+e,a=i[Te],l=o.firstCreatePass?i_(s,o,i,n,Rh,ch(),t,r):o.data[s],c=YT(o,i,l,a,n,e);i[s]=c;let u=Wl(l);return $r(l,!0),O0(a,c,l),!U0(l)&&Zl()&&tc(o,i,c,l),(eS()===0||u)&&Zi(c,i),tS(),u&&(ec(o,i,l),Dh(o,l,i)),r!==null&&Ah(i,l),h}function p(){let e=tt();uh()?Uy():(e=e.parent,$r(e,!1));let n=e;iS(n)&&oS(),nS();let t=Ke();return t.firstCreatePass&&o_(t,n),n.classesWithoutHost!=null&&_S(n)&&Kv(t,n,oe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&wS(n)&&Kv(t,n,oe(),n.stylesWithoutHost,!1),p}function V(e,n,t,r){return h(e,n,t,r),p(),V}var YT=(e,n,t,r,i,o)=>(Yl(!0),x0(r,i,mS()));function JT(e,n,t,r,i){let o=n.consts,s=ji(o,r),a=ic(n,e,8,"ng-container",s);s!==null&&Uf(a,s,!0);let l=ji(o,i);return ch()&&Vh(n,t,a,l,Rh),a.mergedAttrs=Vi(a.mergedAttrs,a.attrs),n.queries!==null&&n.queries.elementStart(n,a),a}function yn(e,n,t){let r=oe(),i=Ke(),o=e+dt,s=i.firstCreatePass?JT(o,i,r,n,t):i.data[o];$r(s,!0);let a=QT(i,r,s,e);return r[o]=a,Zl()&&tc(i,r,a,s),Zi(a,r),Wl(s)&&(ec(i,r,s),Dh(i,s,r)),t!=null&&Ah(r,s),yn}function _n(){let e=tt(),n=Ke();return uh()?Uy():(e=e.parent,$r(e,!1)),n.firstCreatePass&&(ph(n,e),sh(e)&&n.queries.elementEnd(e)),_n}var QT=(e,n,t,r)=>(Yl(!0),yI(n[Te],""));function $e(){return oe()}var xr=void 0;function XT(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var ex=["en",[["a","p"],["AM","PM"],xr],[["AM","PM"],xr,xr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xr,"{1} 'at' {0}",xr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",XT],uf={};function Lt(e){let n=tx(e),t=Yv(n);if(t)return t;let r=n.split("-")[0];if(t=Yv(r),t)return t;if(r==="en")return ex;throw new x(701,!1)}function Yv(e){return e in uf||(uf[e]=Ar.ng&&Ar.ng.common&&Ar.ng.common.locales&&Ar.ng.common.locales[e]),uf[e]}var xe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(xe||{});function tx(e){return e.toLowerCase().replace(/_/g,"-")}var Vl="en-US";var nx=Vl;function rx(e){typeof e=="string"&&(nx=e.toLowerCase().replace(/_/g,"-"))}function Jv(e,n,t){return function r(i){if(i===Function)return t;let o=qi(e)?hn(e.index,n):n;jh(o,5);let s=n[ut],a=Qv(n,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=Qv(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Qv(e,n,t,r){let i=J(null);try{return fe(6,n,t),t(r)!==!1}catch(o){return ix(e,o),!1}finally{fe(7,n,t),J(i)}}function ix(e,n){let t=e[Pi],r=t?t.get(pn,null):null;r&&r.handleError(n)}function Xv(e,n,t,r,i,o){let s=n[t],a=n[ee],c=a.data[t].outputs[r],u=s[c],f=a.firstCreatePass?jy(a):null,m=Ly(n),d=u.subscribe(o),y=m.length;m.push(o,d),f&&f.push(i,e.index,y,-(y+1))}function ie(e,n,t,r){let i=oe(),o=Ke(),s=tt();return v_(o,i,i[Te],s,e,n,r),ie}function ox(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[bl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function v_(e,n,t,r,i,o,s){let a=Wl(r),c=e.firstCreatePass?jy(e):null,u=Ly(n),f=!0;if(r.type&3||s){let m=mn(r,n),d=s?s(m):m,y=u.length,w=s?C=>s(fn(C[r.index])):r.index,b=null;if(!s&&a&&(b=ox(e,n,i,r.index)),b!==null){let C=b.__ngLastListenerFn__||b;C.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,f=!1}else{o=Jv(r,n,o),sI(n,d,i,o);let C=t.listen(d,i,o);u.push(o,C),c&&c.push(i,w,y,y+1)}}else o=Jv(r,n,o);if(f){let m=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let y=0;y<d.length;y+=2){let w=d[y],b=d[y+1];Xv(r,n,w,b,i,o)}if(m&&m.length)for(let y of m)Xv(r,n,y,i,i,o)}}function se(e=1){return gS(e)}function Cs(e,n,t){return ac(e,"",n,"",t),Cs}function ac(e,n,t,r,i){let o=oe(),s=g_(o,n,t,r);if(s!==Xt){let a=Ke(),l=Kl();Oh(a,l,o,e,s,o[Te],i,!1)}return ac}function nr(e){let n=aS();return ah(n,dt+e)}function v(e,n=""){let t=oe(),r=Ke(),i=e+dt,o=r.firstCreatePass?ic(r,i,1,n,null):r.data[i],s=sx(r,t,o,n,e);t[i]=s,Zl()&&tc(r,t,s,o),$r(o,!1)}var sx=(e,n,t,r,i)=>(Yl(!0),mI(n[Te],r));function Ee(e){return jt("",e,""),Ee}function jt(e,n,t){let r=oe(),i=g_(r,e,n,t);return i!==Xt&&y_(r,Hr(),i),jt}function Wh(e,n,t,r,i){let o=oe(),s=kT(o,e,n,t,r,i);return s!==Xt&&y_(o,Hr(),s),Wh}function y_(e,n,t){let r=Ry(n,e);vI(e[Te],r,t)}function R(e,n,t){g0(n)&&(n=n());let r=oe(),i=Gl();if(Qn(r,i,n)){let o=Ke(),s=Kl();Oh(o,s,r,e,n,r[Te],t,!1)}return R}function k(e,n){let t=g0(e);return t&&e.set(n),t}function N(e,n){let t=oe(),r=Ke(),i=tt();return v_(r,t,t[Te],i,e,n),N}function ax(e,n,t){let r=Ke();if(r.firstCreatePass){let i=dn(e);Gf(t,r.data,r.blueprint,i,!0),Gf(n,r.data,r.blueprint,i,!1)}}function Gf(e,n,t,r,i){if(e=Xe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Gf(e[o],n,t,r,i);else{let o=Ke(),s=oe(),a=tt(),l=ki(e)?e:Xe(e.provide),c=Dy(e),u=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(ki(e)||!e.multi){let d=new Vr(c,i,F),y=ff(l,n,i?u:u+m,f);y===-1?(Df(xl(a,s),o,l),df(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(d),s.push(d)):(t[y]=d,s[y]=d)}else{let d=ff(l,n,u+m,f),y=ff(l,n,u,u+m),w=d>=0&&t[d],b=y>=0&&t[y];if(i&&!b||!i&&!w){Df(xl(a,s),o,l);let C=ux(i?cx:lx,t.length,i,r,c);!i&&b&&(t[y].providerFactory=C),df(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else{let C=__(t[i?y:d],c,!i&&r);df(o,e,d>-1?d:y,C)}!i&&r&&b&&t[y].componentProviders++}}}function df(e,n,t,r){let i=ki(n),o=LD(n);if(i||o){let l=(o?Xe(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function __(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function ff(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function lx(e,n,t,r,i){return Kf(this.multi,[])}function cx(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Al(r,r[ee],this.providerFactory.index,i);s=l.slice(0,a),Kf(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Kf(o,s);return s}function Kf(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function ux(e,n,t,r,i){let o=new Vr(e,t,F);return o.multi=[],o.index=n,o.componentProviders=0,__(o,i,r&&!t),o}function wn(e,n=[]){return t=>{t.providersResolver=(r,i)=>ax(r,i?i(e):e,n)}}function zr(e,n,t){let r=dh()+e,i=oe();return i[r]===Xt?$h(i,r,t?n.call(t):n()):DT(i,r)}function w_(e,n){let t=e[n];return t===Xt?void 0:t}function dx(e,n,t,r,i,o){let s=n+t;return Qn(e,s,i)?$h(e,s+1,o?r.call(o,i):r(i)):w_(e,s+1)}function fx(e,n,t,r,i,o,s){let a=n+t;return u_(e,a,i,o)?$h(e,a+2,s?r.call(s,i,o):r(i,o)):w_(e,a+2)}function Xi(e,n){let t=Ke(),r,i=e+dt;t.firstCreatePass?(r=hx(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Nr(r.type,!0)),s,a=at(F);try{let l=Tl(!1),c=o();return Tl(l),YD(t,oe(),i,c),c}finally{at(a)}}function hx(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function lc(e,n,t){let r=e+dt,i=oe(),o=ah(i,r);return C_(i,r)?dx(i,dh(),n,o.transform,t,o):o.transform(t)}function b_(e,n,t,r){let i=e+dt,o=oe(),s=ah(o,i);return C_(o,i)?fx(o,dh(),n,s.transform,t,r,s):s.transform(t,r)}function C_(e,n){return e[ee].data[n].pure}function cc(e,n){return e_(e,n)}var Zf=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},E_=(()=>{class e{compileModuleSync(t){return new Hf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=wy(t),o=k0(i.declarations).reduce((s,a)=>{let l=Pr(a);return l&&s.push(new $i(l)),s},[]);return new Zf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var px=(()=>{class e{zone=E(Ne);changeDetectionScheduler=E(Ui);applicationRef=E(Ur);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gx({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Ne(Z(D({},mx()),{scheduleInRootZone:t})),[{provide:Ne,useFactory:e},{provide:cs,multi:!0,useFactory:()=>{let r=E(px,{optional:!0});return()=>r.initialize()}},{provide:cs,multi:!0,useFactory:()=>{let r=E(vx);return()=>{r.initialize()}}},n===!0?{provide:u0,useValue:!0}:[],{provide:d0,useValue:t??l0}]}function mx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var vx=(()=>{class e{subscription=new Ae;initialized=!1;zone=E(Ne);pendingTasks=E(Ki);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var yx=(()=>{class e{appRef=E(Ur);taskService=E(Ki);ngZone=E(Ne);zonelessEnabled=E(c0);tracing=E(Ji,{optional:!0});disableScheduling=E(u0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ae;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(d0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Av:f0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Av(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _x(){return typeof $localize<"u"&&$localize.locale||Vl}var uc=new P("",{providedIn:"root",factory:()=>E(uc,W.Optional|W.SkipSelf)||_x()});var Yf=new P(""),wx=new P("");function os(e){return!e.moduleRef}function bx(e){let n=os(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Ne);return t.run(()=>{os(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(pn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),os(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Yf);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Yf);s.add(o),e.moduleRef.onDestroy(()=>{hl(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return Ex(r,t,()=>{let o=n.get(p_);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(uc,Vl);if(rx(s||Vl),!n.get(wx,!0))return os(e)?n.get(Ur):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(os(e)){let l=n.get(Ur);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return Cx(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function Cx(e,n){let t=e.injector.get(Ur);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new x(-403,!1);n.push(e)}function Ex(e,n,t){try{let r=t();return er(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var pl=null;function Dx(e=[],n){return Nt.create({name:n,providers:[{provide:Hl,useValue:"platform"},{provide:Yf,useValue:new Set([()=>pl=null])},...e]})}function Sx(e=[]){if(pl)return pl;let n=Dx(e);return pl=n,AT(),Ix(n),n}function Ix(e){let n=e.get(wh,null);Pt(e,()=>{n?.forEach(t=>t())})}var rr=(()=>{class e{static __NG_ELEMENT_ID__=Mx}return e})();function Mx(e){return Tx(tt(),oe(),(e&16)===16)}function Tx(e,n,t){if(qi(e)&&!t){let r=hn(e.index,n);return new fs(r,r)}else if(e.type&175){let r=n[un];return new fs(r,n)}return null}var Jf=class{constructor(){}supports(n){return c_(n)}create(n){return new Qf(n)}},xx=(e,n)=>n,Qf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||xx}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ey(r,i,o)?t:r,a=ey(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let m=0;m<c;m++){let d=m<o.length?o[m]:o[m]=0,y=d+m;u<=y&&y<c&&(o[m]=d+1)}let f=s.previousIndex;o[f]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!c_(n))throw new x(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,CT(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new Xf(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Ul),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ul),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Xf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},eh=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ul=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new eh,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ey(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function ty(){return new qh([new Jf])}var qh=(()=>{class e{factories;static \u0275prov=O({token:e,providedIn:"root",factory:ty});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||ty()),deps:[[e,new MD,new ID]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new x(901,!1)}}return e})();function D_(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;fe(8);try{let o=i?.injector??Sx(r),s=[gx({}),{provide:Ui,useExisting:yx},...t||[]],a=new Ll({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return bx({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{fe(9)}}function ir(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function en(e){return Rd(e)}function Es(e,n){return Td(e,n?.equal)}var ny=class{[Tt];constructor(n){this[Tt]=n}destroy(){this[Tt].destroy()}};function S_(e){let n=Pr(e);if(!n)return null;let t=new $i(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var He=new P("");var T_=null;function Vt(){return T_}function Gh(e){T_??=e}var Ds=class{},Ss=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>E(x_),providedIn:"platform"})}return e})(),Kh=new P(""),x_=(()=>{class e extends Ss{_location;_history;_doc=E(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vt().getBaseHref(this._doc)}onPopState(t){let r=Vt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Vt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function dc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function I_(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function tn(e){return e&&e[0]!=="?"?`?${e}`:e}var Ut=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>E(hc),providedIn:"root"})}return e})(),fc=new P(""),hc=(()=>{class e extends Ut{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return dc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+tn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+tn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+tn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(U(Ss),U(fc,8))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),or=(()=>{class e{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Rx(I_(M_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tn(r))}normalize(t){return e.stripTrailingSlash(Ox(this._basePath,M_(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=tn;static joinWithSlash=dc;static stripTrailingSlash=I_;static \u0275fac=function(r){return new(r||e)(U(Ut))};static \u0275prov=O({token:e,factory:()=>Ax(),providedIn:"root"})}return e})();function Ax(){return new or(U(Ut))}function Ox(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function M_(e){return e.replace(/\/index.html$/,"")}function Rx(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Cc=(()=>{class e extends Ut{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=dc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+tn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+tn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(U(Ss),U(fc,8))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();var Ye=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ye||{}),he=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(he||{}),ht=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(ht||{}),$n={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function k_(e){return Lt(e)[xe.LocaleId]}function P_(e,n,t){let r=Lt(e),i=[r[xe.DayPeriodsFormat],r[xe.DayPeriodsStandalone]],o=Bt(i,n);return Bt(o,t)}function F_(e,n,t){let r=Lt(e),i=[r[xe.DaysFormat],r[xe.DaysStandalone]],o=Bt(i,n);return Bt(o,t)}function L_(e,n,t){let r=Lt(e),i=[r[xe.MonthsFormat],r[xe.MonthsStandalone]],o=Bt(i,n);return Bt(o,t)}function j_(e,n){let r=Lt(e)[xe.Eras];return Bt(r,n)}function Is(e,n){let t=Lt(e);return Bt(t[xe.DateFormat],n)}function Ms(e,n){let t=Lt(e);return Bt(t[xe.TimeFormat],n)}function Ts(e,n){let r=Lt(e)[xe.DateTimeFormat];return Bt(r,n)}function xs(e,n){let t=Lt(e),r=t[xe.NumberSymbols][n];if(typeof r>"u"){if(n===$n.CurrencyDecimal)return t[xe.NumberSymbols][$n.Decimal];if(n===$n.CurrencyGroup)return t[xe.NumberSymbols][$n.Group]}return r}function V_(e){if(!e[xe.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[xe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function U_(e){let n=Lt(e);return V_(n),(n[xe.ExtraData][2]||[]).map(r=>typeof r=="string"?Zh(r):[Zh(r[0]),Zh(r[1])])}function B_(e,n,t){let r=Lt(e);V_(r);let i=[r[xe.ExtraData][0],r[xe.ExtraData][1]],o=Bt(i,n)||[];return Bt(o,t)||[]}function Bt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Zh(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var Nx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pc={},kx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function $_(e,n,t,r){let i=Hx(e);n=Bn(t,n)||n;let s=[],a;for(;n;)if(a=kx.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=z_(r,l),i=$x(i,r));let c="";return s.forEach(u=>{let f=Ux(u);c+=f?f(i,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function _c(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Bn(e,n){let t=k_(e);if(pc[t]??={},pc[t][n])return pc[t][n];let r="";switch(n){case"shortDate":r=Is(e,ht.Short);break;case"mediumDate":r=Is(e,ht.Medium);break;case"longDate":r=Is(e,ht.Long);break;case"fullDate":r=Is(e,ht.Full);break;case"shortTime":r=Ms(e,ht.Short);break;case"mediumTime":r=Ms(e,ht.Medium);break;case"longTime":r=Ms(e,ht.Long);break;case"fullTime":r=Ms(e,ht.Full);break;case"short":let i=Bn(e,"shortTime"),o=Bn(e,"shortDate");r=gc(Ts(e,ht.Short),[i,o]);break;case"medium":let s=Bn(e,"mediumTime"),a=Bn(e,"mediumDate");r=gc(Ts(e,ht.Medium),[s,a]);break;case"long":let l=Bn(e,"longTime"),c=Bn(e,"longDate");r=gc(Ts(e,ht.Long),[l,c]);break;case"full":let u=Bn(e,"fullTime"),f=Bn(e,"fullDate");r=gc(Ts(e,ht.Full),[u,f]);break}return r&&(pc[t][n]=r),r}function gc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function nn(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function Px(e,n){return nn(e,3).substring(0,n)}function ke(e,n,t=0,r=!1,i=!1){return function(o,s){let a=Fx(e,o);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return Px(a,n);let l=xs(s,$n.MinusSign);return nn(a,n,l,r,i)}}function Fx(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function ye(e,n,t=Ye.Format,r=!1){return function(i,o){return Lx(i,o,e,n,t,r)}}function Lx(e,n,t,r,i,o){switch(t){case 2:return L_(n,i,r)[e.getMonth()];case 1:return F_(n,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=U_(n),u=B_(n,i,r),f=c.findIndex(m=>{if(Array.isArray(m)){let[d,y]=m,w=s>=d.hours&&a>=d.minutes,b=s<y.hours||s===y.hours&&a<y.minutes;if(d.hours<y.hours){if(w&&b)return!0}else if(w||b)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(f!==-1)return u[f]}return P_(n,i,r)[s<12?0:1];case 3:return j_(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function mc(e){return function(n,t,r){let i=-1*r,o=xs(t,$n.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+nn(s,2,o)+nn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+nn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+nn(s,2,o)+":"+nn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+nn(s,2,o)+":"+nn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var jx=0,yc=4;function Vx(e){let n=_c(e,jx,1).getDay();return _c(e,0,1+(n<=yc?yc:yc+7)-n)}function H_(e){let n=e.getDay(),t=n===0?-3:yc-n;return _c(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Yh(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=H_(t),s=Vx(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return nn(i,e,xs(r,$n.MinusSign))}}function vc(e,n=!1){return function(t,r){let o=H_(t).getFullYear();return nn(o,e,xs(r,$n.MinusSign),n)}}var Jh={};function Ux(e){if(Jh[e])return Jh[e];let n;switch(e){case"G":case"GG":case"GGG":n=ye(3,he.Abbreviated);break;case"GGGG":n=ye(3,he.Wide);break;case"GGGGG":n=ye(3,he.Narrow);break;case"y":n=ke(0,1,0,!1,!0);break;case"yy":n=ke(0,2,0,!0,!0);break;case"yyy":n=ke(0,3,0,!1,!0);break;case"yyyy":n=ke(0,4,0,!1,!0);break;case"Y":n=vc(1);break;case"YY":n=vc(2,!0);break;case"YYY":n=vc(3);break;case"YYYY":n=vc(4);break;case"M":case"L":n=ke(1,1,1);break;case"MM":case"LL":n=ke(1,2,1);break;case"MMM":n=ye(2,he.Abbreviated);break;case"MMMM":n=ye(2,he.Wide);break;case"MMMMM":n=ye(2,he.Narrow);break;case"LLL":n=ye(2,he.Abbreviated,Ye.Standalone);break;case"LLLL":n=ye(2,he.Wide,Ye.Standalone);break;case"LLLLL":n=ye(2,he.Narrow,Ye.Standalone);break;case"w":n=Yh(1);break;case"ww":n=Yh(2);break;case"W":n=Yh(1,!0);break;case"d":n=ke(2,1);break;case"dd":n=ke(2,2);break;case"c":case"cc":n=ke(7,1);break;case"ccc":n=ye(1,he.Abbreviated,Ye.Standalone);break;case"cccc":n=ye(1,he.Wide,Ye.Standalone);break;case"ccccc":n=ye(1,he.Narrow,Ye.Standalone);break;case"cccccc":n=ye(1,he.Short,Ye.Standalone);break;case"E":case"EE":case"EEE":n=ye(1,he.Abbreviated);break;case"EEEE":n=ye(1,he.Wide);break;case"EEEEE":n=ye(1,he.Narrow);break;case"EEEEEE":n=ye(1,he.Short);break;case"a":case"aa":case"aaa":n=ye(0,he.Abbreviated);break;case"aaaa":n=ye(0,he.Wide);break;case"aaaaa":n=ye(0,he.Narrow);break;case"b":case"bb":case"bbb":n=ye(0,he.Abbreviated,Ye.Standalone,!0);break;case"bbbb":n=ye(0,he.Wide,Ye.Standalone,!0);break;case"bbbbb":n=ye(0,he.Narrow,Ye.Standalone,!0);break;case"B":case"BB":case"BBB":n=ye(0,he.Abbreviated,Ye.Format,!0);break;case"BBBB":n=ye(0,he.Wide,Ye.Format,!0);break;case"BBBBB":n=ye(0,he.Narrow,Ye.Format,!0);break;case"h":n=ke(3,1,-12);break;case"hh":n=ke(3,2,-12);break;case"H":n=ke(3,1);break;case"HH":n=ke(3,2);break;case"m":n=ke(4,1);break;case"mm":n=ke(4,2);break;case"s":n=ke(5,1);break;case"ss":n=ke(5,2);break;case"S":n=ke(6,1);break;case"SS":n=ke(6,2);break;case"SSS":n=ke(6,3);break;case"Z":case"ZZ":case"ZZZ":n=mc(0);break;case"ZZZZZ":n=mc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=mc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=mc(2);break;default:return null}return Jh[e]=n,n}function z_(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function Bx(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function $x(e,n,t){let i=e.getTimezoneOffset(),o=z_(n,i);return Bx(e,-1*(o-i))}function Hx(e){if(A_(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return _c(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(Nx))return zx(r)}let n=new Date(e);if(!A_(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function zx(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,s,a,l,c),n}function A_(e){return e instanceof Date&&!isNaN(e.valueOf())}var Qh=/\s+/,O_=[],Wr=(()=>{class e{_ngEl;_renderer;initialClasses=O_;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Qh):O_}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Qh):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Qh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(F(Qt),F(vn))};static \u0275dir=ve({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var wc=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pt=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new wc(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),R_(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);R_(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(F(Qi),F(rc),F(qh))};static \u0275dir=ve({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function R_(e,n){e.context.$implicit=n.item}var Ve=(()=>{class e{_viewContainer;_context=new bc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N_(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N_(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(F(Qi),F(rc))};static \u0275dir=ve({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),bc=class{$implicit=null;ngIf=null};function N_(e,n){if(e&&!e.createEmbeddedView)throw new x(2020,!1)}function W_(e,n){return new x(2100,!1)}var Xh=class{createSubscription(n,t){return en(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){en(()=>n.unsubscribe())}},ep=class{createSubscription(n,t){return n.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(n){n.unsubscribe()}},Wx=new ep,qx=new Xh,tp=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(er(t))return Wx;if(Hh(t))return qx;throw W_(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(F(rr,16))};static \u0275pipe=Bh({name:"async",type:e,pure:!1})}return e})();var Gx="mediumDate",q_=new P(""),G_=new P(""),np=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??Gx,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return $_(t,s,o||this.locale,a)}catch(s){throw W_(e,s.message)}}static \u0275fac=function(r){return new(r||e)(F(uc,16),F(q_,24),F(G_,24))};static \u0275pipe=Bh({name:"date",type:e,pure:!0})}return e})();var ue=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Un({type:e});static \u0275inj=Ln({})}return e})();function rp(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ip="browser",K_="server";function Ec(e){return e===K_}var As=class{};var Z_=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>new op(E(He),window)})}return e})(),op=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=Zx(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Zx(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Ic=new P(""),cp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(U(Ic),U(Ne))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),Os=class{_doc;constructor(n){this._doc=n}manager},Dc="ng-app-id";function Y_(e){for(let n of e)n.remove()}function J_(e,n){let t=n.createElement("style");return t.textContent=e,t}function Yx(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Dc}="${n}"],link[${Dc}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Dc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ap(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var up=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Ec(o),Yx(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,J_);r?.forEach(i=>this.addUsage(i,this.external,ap))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Y_(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Y_(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,J_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ap(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Dc,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(U(He),U(_h),U(bh,8),U(Yi))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dp=/%COMP%/g;var X_="%COMP%",Jx=`_nghost-${X_}`,Qx=`_ngcontent-${X_}`,Xx=!0,eA=new P("",{providedIn:"root",factory:()=>Xx});function tA(e){return Qx.replace(dp,e)}function nA(e){return Jx.replace(dp,e)}function ew(e,n){return n.map(t=>t.replace(dp,e))}var fp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Ec(a),this.defaultRenderer=new Rs(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gn.ShadowDom&&(r=Z(D({},r),{encapsulation:gn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Sc?i.applyToHost(t):i instanceof Ns&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case gn.Emulated:o=new Sc(l,c,r,this.appId,u,s,a,f,m);break;case gn.ShadowDom:return new lp(l,c,t,r,s,a,this.nonce,f,m);default:o=new Ns(l,c,r,u,s,a,f,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(U(cp),U(up),U(_h),U(eA),U(He),U(Yi),U(Ne),U(bh),U(Ji,8))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),Rs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(sp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Q_(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Q_(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=sp[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=sp[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Fn.DashCase|Fn.Important)?n.style.setProperty(t,r,i&Fn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Fn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=Vt().getGlobalEventTarget(this.doc,n),!n))throw new x(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Q_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var lp=class extends Rs{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=ew(i.id,u);for(let m of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=m,this.shadowRoot.appendChild(d)}let f=i.getExternalStyles?.();if(f)for(let m of f){let d=ap(m,o);a&&d.setAttribute("nonce",a),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ns=class extends Rs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?ew(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Sc=class extends Ns{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,t,r,o,s,a,l,c,u),this.contentAttr=tA(u),this.hostAttr=nA(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Mc=class e extends Ds{supportsDOMEvents=!0;static makeCurrent(){Gh(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=rA();return t==null?null:iA(t)}resetBaseElement(){ks=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return rp(document.cookie,n)}},ks=null;function rA(){return ks=ks||document.head.querySelector("base"),ks?ks.getAttribute("href"):null}function iA(e){return new URL(e,document.baseURI).pathname}var oA=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),nw=(()=>{class e extends Os{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(U(He))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),tw=["alt","control","meta","shift"],sA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},rw=(()=>{class e extends Os{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tw.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=sA[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tw.forEach(s=>{if(s!==i){let a=aA[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(U(He))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();function hp(e,n,t){return D_(D({rootComponent:e,platformRef:t?.platformRef},lA(n)))}function lA(e){return{appProviders:[...hA,...e?.providers??[]],platformProviders:fA}}function cA(){Mc.makeCurrent()}function uA(){return new pn}function dA(){return C0(document),document}var fA=[{provide:Yi,useValue:ip},{provide:wh,useValue:cA,multi:!0},{provide:He,useFactory:dA}];var hA=[{provide:Hl,useValue:"root"},{provide:pn,useFactory:uA},{provide:Ic,useClass:nw,multi:!0,deps:[He]},{provide:Ic,useClass:rw,multi:!0,deps:[He]},fp,up,cp,{provide:Bi,useExisting:fp},{provide:As,useClass:oA},[]];var iw=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(U(He))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z="primary",Gs=Symbol("RouteTitle"),yp=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Kr(e){return new yp(e)}function fw(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function gA(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!bn(e[t],n[t]))return!1;return!0}function bn(e,n){let t=e?_p(e):void 0,r=n?_p(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!hw(e[i],n[i]))return!1;return!0}function _p(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function hw(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function pw(e){return e.length>0?e[e.length-1]:null}function ur(e){return qd(e)?e:er(e)?Ce(Promise.resolve(e)):B(e)}var mA={exact:mw,subset:vw},gw={exact:vA,subset:yA,ignored:()=>!0};function ow(e,n,t){return mA[t.paths](e.root,n.root,t.matrixParams)&&gw[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function vA(e,n){return bn(e,n)}function mw(e,n,t){if(!qr(e.segments,n.segments)||!Ac(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!mw(e.children[r],n.children[r],t))return!1;return!0}function yA(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>hw(e[t],n[t]))}function vw(e,n,t){return yw(e,n,n.segments,t)}function yw(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!qr(i,t)||n.hasChildren()||!Ac(i,t,r))}else if(e.segments.length===t.length){if(!qr(e.segments,t)||!Ac(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!vw(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!qr(e.segments,i)||!Ac(e.segments,i,r)||!e.children[z]?!1:yw(e.children[z],n,o,r)}}function Ac(e,n,t){return n.every((r,i)=>gw[t](e[i].parameters,r.parameters))}var En=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ae([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){return bA.serialize(this)}},ae=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oc(this)}},sr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Kr(this.parameters),this._parameterMap}toString(){return ww(this)}};function _A(e,n){return qr(e,n)&&e.every((t,r)=>bn(t.parameters,n[r].parameters))}function qr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function wA(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===z&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==z&&(t=t.concat(n(i,r)))}),t}var Zr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>new ar,providedIn:"root"})}return e})(),ar=class{parse(n){let t=new bp(n);return new En(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Ps(n.root,!0)}`,r=DA(n.queryParams),i=typeof n.fragment=="string"?`#${CA(n.fragment)}`:"";return`${t}${r}${i}`}},bA=new ar;function Oc(e){return e.segments.map(n=>ww(n)).join("/")}function Ps(e,n){if(!e.hasChildren())return Oc(e);if(n){let t=e.children[z]?Ps(e.children[z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${Ps(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=wA(e,(r,i)=>i===z?[Ps(e.children[z],!1)]:[`${i}:${Ps(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[z]!=null?`${Oc(e)}/${t[0]}`:`${Oc(e)}/(${t.join("//")})`}}function _w(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tc(e){return _w(e).replace(/%3B/gi,";")}function CA(e){return encodeURI(e)}function wp(e){return _w(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(e){return decodeURIComponent(e)}function sw(e){return Rc(e.replace(/\+/g,"%20"))}function ww(e){return`${wp(e.path)}${EA(e.parameters)}`}function EA(e){return Object.entries(e).map(([n,t])=>`;${wp(n)}=${wp(t)}`).join("")}function DA(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Tc(t)}=${Tc(i)}`).join("&"):`${Tc(t)}=${Tc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var SA=/^[^\/()?;#]+/;function pp(e){let n=e.match(SA);return n?n[0]:""}var IA=/^[^\/()?;=#]+/;function MA(e){let n=e.match(IA);return n?n[0]:""}var TA=/^[^=?&#]+/;function xA(e){let n=e.match(TA);return n?n[0]:""}var AA=/^[^&#]+/;function OA(e){let n=e.match(AA);return n?n[0]:""}var bp=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[z]=new ae(n,t)),r}parseSegment(){let n=pp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(n),new sr(Rc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=MA(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=pp(this.remaining);i&&(r=i,this.capture(r))}n[Rc(t)]=Rc(r)}parseQueryParam(n){let t=xA(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=OA(this.remaining);s&&(r=s,this.capture(r))}let i=sw(t),o=sw(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=z);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[z]:new ae([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new x(4011,!1)}};function bw(e){return e.segments.length>0?new ae([],{[z]:e}):e}function Cw(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=Cw(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ae(e.segments,n);return RA(t)}function RA(e){if(e.numberOfChildren===1&&e.children[z]){let n=e.children[z];return new ae(e.segments.concat(n.segments),n.children)}return e}function lr(e){return e instanceof En}function Ew(e,n,t=null,r=null){let i=Dw(e);return Sw(i,n,t,r)}function Dw(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new ae(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=bw(r);return n??i}function Sw(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return gp(i,i,i,t,r);let o=NA(n);if(o.toRoot())return gp(i,i,new ae([],{}),t,r);let s=kA(o,i,e),a=s.processChildren?Ls(s.segmentGroup,s.index,o.commands):Mw(s.segmentGroup,s.index,o.commands);return gp(i,s.segmentGroup,a,t,r)}function kc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Vs(e){return typeof e=="object"&&e!=null&&e.outlets}function gp(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=Iw(e,n,t);let a=bw(Cw(s));return new En(a,o,i)}function Iw(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Iw(o,n,t)}),new ae(e.segments,r)}var Pc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&kc(r[0]))throw new x(4003,!1);let i=r.find(Vs);if(i&&i!==pw(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NA(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Pc(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pc(t,n,r)}var no=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function kA(e,n,t){if(e.isAbsolute)return new no(n,!0,0);if(!t)return new no(n,!1,NaN);if(t.parent===null)return new no(t,!0,0);let r=kc(e.commands[0])?0:1,i=t.segments.length-1+r;return PA(t,i,e.numberOfDoubleDots)}function PA(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new no(r,!1,i-o)}function FA(e){return Vs(e[0])?e[0].outlets:{[z]:e}}function Mw(e,n,t){if(e??=new ae([],{}),e.segments.length===0&&e.hasChildren())return Ls(e,n,t);let r=LA(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ae(e.segments.slice(0,r.pathIndex),{});return o.children[z]=new ae(e.segments.slice(r.pathIndex),e.children),Ls(o,0,i)}else return r.match&&i.length===0?new ae(e.segments,{}):r.match&&!e.hasChildren()?Cp(e,n,t):r.match?Ls(e,0,i):Cp(e,n,t)}function Ls(e,n,t){if(t.length===0)return new ae(e.segments,{});{let r=FA(t),i={};if(Object.keys(r).some(o=>o!==z)&&e.children[z]&&e.numberOfChildren===1&&e.children[z].segments.length===0){let o=Ls(e.children[z],n,t);return new ae(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Mw(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ae(e.segments,i)}}function LA(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(Vs(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!lw(l,c,s))return o;r+=2}else{if(!lw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cp(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Vs(o)){let l=jA(o.outlets);return new ae(r,l)}if(i===0&&kc(t[0])){let l=e.segments[n];r.push(new sr(l.path,aw(t[0]))),i++;continue}let s=Vs(o)?o.outlets[z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&kc(a)?(r.push(new sr(s,aw(a))),i+=2):(r.push(new sr(s,{})),i++)}return new ae(r,{})}function jA(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Cp(new ae([],{}),0,r))}),n}function aw(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function lw(e,n,t){return e==t.path&&bn(n,t.parameters)}var Nc="imperative",Ue=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ue||{}),Dt=class{id;url;constructor(n,t){this.id=n,this.url=t}},cr=class extends Dt{type=Ue.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$t=class extends Dt{urlAfterRedirects;type=Ue.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(gt||{}),io=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(io||{}),Cn=class extends Dt{reason;code;type=Ue.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dn=class extends Dt{reason;code;type=Ue.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},oo=class extends Dt{error;target;type=Ue.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Us=class extends Dt{urlAfterRedirects;state;type=Ue.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fc=class extends Dt{urlAfterRedirects;state;type=Ue.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lc=class extends Dt{urlAfterRedirects;state;shouldActivate;type=Ue.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jc=class extends Dt{urlAfterRedirects;state;type=Ue.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vc=class extends Dt{urlAfterRedirects;state;type=Ue.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uc=class{route;type=Ue.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bc=class{route;type=Ue.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$c=class{snapshot;type=Ue.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hc=class{snapshot;type=Ue.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zc=class{snapshot;type=Ue.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wc=class{snapshot;type=Ue.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},so=class{routerEvent;position;anchor;type=Ue.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Bs=class{},ao=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function VA(e,n){return e.providers&&!e._injector&&(e._injector=ws(e.providers,n,`Route: ${e.path}`)),e._injector??n}function rn(e){return e.outlet||z}function UA(e,n){let t=e.filter(r=>rn(r)===n);return t.push(...e.filter(r=>rn(r)!==n)),t}function Ks(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var qc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ks(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Yr(this.rootInjector)}},Yr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(U(ct))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Ep(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Ep(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Dp(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Dp(n,this._root).map(t=>t.value)}};function Ep(e,n){if(e===n.value)return n;for(let t of n.children){let r=Ep(e,t);if(r)return r}return null}function Dp(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Dp(e,t);if(r.length)return r.unshift(n),r}return[]}var Et=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function to(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var $s=class extends Gc{snapshot;constructor(n,t){super(n),this.snapshot=t,Rp(this,n)}toString(){return this.snapshot.toString()}};function Tw(e){let n=BA(e),t=new je([new sr("",{})]),r=new je({}),i=new je({}),o=new je({}),s=new je(""),a=new Ht(t,r,o,s,i,z,e,n.root);return a.snapshot=n.root,new $s(new Et(a,[]),n)}function BA(e){let n={},t={},r={},i="",o=new Gr([],n,r,i,t,z,e,null,{});return new Hs("",new Et(o,[]))}var Ht=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(X(c=>c[Gs]))??B(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(n=>Kr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(n=>Kr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kc(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:D(D({},n.params),e.params),data:D(D({},n.data),e.data),resolve:D(D(D(D({},e.data),n.data),i?.data),e._resolvedData)}:r={params:D({},e.params),data:D({},e.data),resolve:D(D({},e.data),e._resolvedData??{})},i&&Aw(i)&&(r.resolve[Gs]=i.title),r}var Gr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Gs]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Hs=class extends Gc{url;constructor(n,t){super(t),this.url=n,Rp(this,t)}toString(){return xw(this._root)}};function Rp(e,n){n.value._routerState=e,n.children.forEach(t=>Rp(e,t))}function xw(e){let n=e.children.length>0?` { ${e.children.map(xw).join(", ")} } `:"";return`${e.value}${n}`}function mp(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,bn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),bn(n.params,t.params)||e.paramsSubject.next(t.params),gA(n.url,t.url)||e.urlSubject.next(t.url),bn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Sp(e,n){let t=bn(e.params,n.params)&&_A(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Sp(e.parent,n.parent))}function Aw(e){return typeof e.title=="string"||e.title===null}var Ow=new P(""),Zs=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=p0(void 0);parentContexts=E(Yr);location=E(Qi);changeDetector=E(rr);inputBinder=E(Ys,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ip(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ve({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xn]})}return e})(),Ip=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Ht?this.route:n===Yr?this.childContexts:n===Ow?this.outletData:this.parent.get(n,t)}},Ys=new P(""),Np=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=rs([r.queryParams,r.params,r.data]).pipe(xt(([o,s,a],l)=>(a=D(D(D({},o),s),a),l===0?B(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=S_(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),kp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=re({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&V(0,"router-outlet")},dependencies:[Zs],encapsulation:2})}return e})();function Pp(e){let n=e.children&&e.children.map(Pp),t=n?Z(D({},e),{children:n}):D({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==z&&(t.component=kp),t}function $A(e,n,t){let r=zs(e,n._root,t?t._root:void 0);return new $s(r,n)}function zs(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=HA(e,n,t);return new Et(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>zs(e,a)),s}}let r=zA(n.value),i=n.children.map(o=>zs(e,o));return new Et(r,i)}}function HA(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return zs(e,r,i);return zs(e,r)})}function zA(e){return new Ht(new je(e.url),new je(e.params),new je(e.queryParams),new je(e.fragment),new je(e.data),e.outlet,e.component,e)}var lo=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Rw="ngNavigationCancelingError";function Zc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=lr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Nw(!1,gt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Nw(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Rw]=!0,t.cancellationCode=n,t}function WA(e){return kw(e)&&lr(e.url)}function kw(e){return!!e&&e[Rw]}var qA=(e,n,t,r)=>X(i=>(new Mp(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Mp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),mp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=to(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=to(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=to(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=to(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Hc(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(mp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mp(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Yc=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ro=class{component;route;constructor(n,t){this.component=n,this.route=t}};function GA(e,n,t){let r=e._root,i=n?n._root:null;return Fs(r,i,t,[r.value])}function KA(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function uo(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!cy(e)?e:n.get(e):r}function Fs(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=to(n);return e.children.forEach(s=>{ZA(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>js(a,t.getContext(s),i)),i}function ZA(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=YA(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Yc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fs(e,n,a?a.children:null,r,i):Fs(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ro(a.outlet.component,s))}else s&&js(n,a,i),i.canActivateChecks.push(new Yc(r)),o.component?Fs(e,null,a?a.children:null,r,i):Fs(e,null,t,r,i);return i}function YA(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!qr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!qr(e.url,n.url)||!bn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sp(e,n)||!bn(e.queryParams,n.queryParams);case"paramsChange":default:return!Sp(e,n)}}function js(e,n,t){let r=to(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?js(s,n.children.getContext(o),t):js(s,null,t):js(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new ro(n.outlet.component,i)):t.canDeactivateChecks.push(new ro(null,i)):t.canDeactivateChecks.push(new ro(null,i))}function Js(e){return typeof e=="function"}function JA(e){return typeof e=="boolean"}function QA(e){return e&&Js(e.canLoad)}function XA(e){return e&&Js(e.canActivate)}function e1(e){return e&&Js(e.canActivateChild)}function t1(e){return e&&Js(e.canDeactivate)}function n1(e){return e&&Js(e.canMatch)}function Pw(e){return e instanceof On||e?.name==="EmptyError"}var xc=Symbol("INITIAL_VALUE");function co(){return xt(e=>rs(e.map(n=>n.pipe(Nn(1),Yd(xc)))).pipe(X(n=>{for(let t of n)if(t!==!0){if(t===xc)return xc;if(t===!1||r1(t))return t}return!0}),bt(n=>n!==xc),Nn(1)))}function r1(e){return lr(e)||e instanceof lo}function i1(e,n){return Ie(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?B(Z(D({},t),{guardsResult:!0})):o1(s,r,i,e).pipe(Ie(a=>a&&JA(a)?s1(r,o,e,n):B(a)),X(a=>Z(D({},t),{guardsResult:a})))})}function o1(e,n,t,r){return Ce(e).pipe(Ie(i=>d1(i.component,i.route,t,n,r)),kn(i=>i!==!0,!0))}function s1(e,n,t,r){return Ce(n).pipe(Kn(i=>Si(l1(i.route.parent,r),a1(i.route,r),u1(e,i.path,t),c1(e,i.route,t))),kn(i=>i!==!0,!0))}function a1(e,n){return e!==null&&n&&n(new zc(e)),B(!0)}function l1(e,n){return e!==null&&n&&n(new $c(e)),B(!0)}function c1(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let i=r.map(o=>ol(()=>{let s=Ks(n)??t,a=uo(o,s),l=XA(a)?a.canActivate(n,e):Pt(s,()=>a(n,e));return ur(l).pipe(kn())}));return B(i).pipe(co())}function u1(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>KA(s)).filter(s=>s!==null).map(s=>ol(()=>{let a=s.guards.map(l=>{let c=Ks(s.node)??t,u=uo(l,c),f=e1(u)?u.canActivateChild(r,e):Pt(c,()=>u(r,e));return ur(f).pipe(kn())});return B(a).pipe(co())}));return B(o).pipe(co())}function d1(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return B(!0);let s=o.map(a=>{let l=Ks(n)??i,c=uo(a,l),u=t1(c)?c.canDeactivate(e,n,t,r):Pt(l,()=>c(e,n,t,r));return ur(u).pipe(kn())});return B(s).pipe(co())}function f1(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return B(!0);let o=i.map(s=>{let a=uo(s,e),l=QA(a)?a.canLoad(n,t):Pt(e,()=>a(n,t));return ur(l)});return B(o).pipe(co(),Fw(r))}function Fw(e){return Vd(Ge(n=>{if(typeof n!="boolean")throw Zc(e,n)}),X(n=>n===!0))}function h1(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return B(!0);let o=i.map(s=>{let a=uo(s,e),l=n1(a)?a.canMatch(n,t):Pt(e,()=>a(n,t));return ur(l)});return B(o).pipe(co(),Fw(r))}var Ws=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},qs=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function eo(e){return Ei(new Ws(e))}function p1(e){return Ei(new x(4e3,!1))}function g1(e){return Ei(Nw(!1,gt.GuardRejected))}var Tp=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return B(r);if(i.numberOfChildren>1||!i.children[z])return p1(`${n.redirectTo}`);i=i.children[z]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:f,outlet:m,params:d,data:y,title:w}=i,b=Pt(o,()=>a({params:d,data:y,queryParams:l,fragment:c,routeConfig:u,url:f,outlet:m,title:w}));if(b instanceof En)throw new qs(b);t=b}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new qs(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new En(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ae(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},xp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m1(e,n,t,r,i){let o=Lw(e,n,t);return o.matched?(r=VA(n,r),h1(r,n,t,i).pipe(X(s=>s===!0?o:D({},xp)))):B(o)}function Lw(e,n,t){if(n.path==="**")return v1(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?D({},xp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||fw)(t,e,n);if(!i)return D({},xp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function v1(e){return{matched:!0,parameters:e.length>0?pw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function cw(e,n,t,r){return t.length>0&&w1(e,t,r)?{segmentGroup:new ae(n,_1(r,new ae(t,e.children))),slicedSegments:[]}:t.length===0&&b1(e,t,r)?{segmentGroup:new ae(e.segments,y1(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ae(e.segments,e.children),slicedSegments:t}}function y1(e,n,t,r){let i={};for(let o of t)if(Qc(e,n,o)&&!r[rn(o)]){let s=new ae([],{});i[rn(o)]=s}return D(D({},r),i)}function _1(e,n){let t={};t[z]=n;for(let r of e)if(r.path===""&&rn(r)!==z){let i=new ae([],{});t[rn(r)]=i}return t}function w1(e,n,t){return t.some(r=>Qc(e,n,r)&&rn(r)!==z)}function b1(e,n,t){return t.some(r=>Qc(e,n,r))}function Qc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function C1(e,n,t){return n.length===0&&!e.children[t]}var Ap=class{};function E1(e,n,t,r,i,o,s="emptyOnly"){return new Op(e,n,t,r,i,s,o).recognize()}var D1=31,Op=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Tp(this.urlSerializer,this.urlTree)}noMatchError(n){return new x(4002,`'${n.segmentGroup}'`)}recognize(){let n=cw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(X(({children:t,rootSnapshot:r})=>{let i=new Et(r,t),o=new Hs("",i),s=Ew(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new Gr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,z,t).pipe(X(r=>({children:r,rootSnapshot:t})),Rn(r=>{if(r instanceof qs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ws?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof Et?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ce(o).pipe(Kn(s=>{let a=r.children[s],l=UA(t,s);return this.processSegmentGroup(n,l,a,s,i)}),Zd((s,a)=>(s.push(...a),s)),Zn(null),Kd(),Ie(s=>{if(s===null)return eo(r);let a=jw(s);return S1(a),B(a)}))}processSegment(n,t,r,i,o,s,a){return Ce(t).pipe(Kn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(Rn(c=>{if(c instanceof Ws)return B(null);throw c}))),kn(l=>!!l),Rn(l=>{if(Pw(l))return C1(r,i,o)?B(new Ap):eo(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return rn(r)!==s&&(s===z||!Qc(i,o,r))?eo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):eo(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:m}=Lw(t,i,o);if(!l)return eo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>D1&&(this.allowRedirects=!1));let d=new Gr(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,uw(i),rn(i),i.component??i._loadedComponent??null,i,dw(i)),y=Kc(d,a,this.paramsInheritanceStrategy);d.params=Object.freeze(y.params),d.data=Object.freeze(y.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,d,n);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ie(b=>this.processSegment(n,r,t,b.concat(m),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=m1(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xt(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(xt(({routes:c})=>{let u=r._loadedInjector??n,{parameters:f,consumedSegments:m,remainingSegments:d}=l,y=new Gr(m,f,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,uw(r),rn(r),r.component??r._loadedComponent??null,r,dw(r)),w=Kc(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let{segmentGroup:b,slicedSegments:C}=cw(t,m,d,c);if(C.length===0&&b.hasChildren())return this.processChildren(u,c,b,y).pipe(X(M=>new Et(y,M)));if(c.length===0&&C.length===0)return B(new Et(y,[]));let Y=rn(r)===o;return this.processSegment(u,c,b,C,Y?z:o,!0,y).pipe(X(M=>new Et(y,M instanceof Et?[M]:[])))}))):eo(t)))}getChildConfig(n,t,r){return t.children?B({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?B({routes:t._loadedRoutes,injector:t._loadedInjector}):f1(n,t,r,this.urlSerializer).pipe(Ie(i=>i?this.configLoader.loadChildren(n,t).pipe(Ge(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):g1(t))):B({routes:[],injector:n})}};function S1(e){e.sort((n,t)=>n.value.outlet===z?-1:t.value.outlet===z?1:n.value.outlet.localeCompare(t.value.outlet))}function I1(e){let n=e.value.routeConfig;return n&&n.path===""}function jw(e){let n=[],t=new Set;for(let r of e){if(!I1(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=jw(r.children);n.push(new Et(r.value,i))}return n.filter(r=>!t.has(r))}function uw(e){return e.data||{}}function dw(e){return e.resolve||{}}function M1(e,n,t,r,i,o){return Ie(s=>E1(e,n,t,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:l})=>Z(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function T1(e,n){return Ie(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return B(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Vw(l))s.add(c);let a=0;return Ce(s).pipe(Kn(l=>o.has(l)?x1(l,r,e,n):(l.data=Kc(l,l.parent,e).resolve,B(void 0))),Ge(()=>a++),Ii(1),Ie(l=>a===s.size?B(t):ot))})}function Vw(e){let n=e.children.map(t=>Vw(t)).flat();return[e,...n]}function x1(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Aw(i)&&(o[Gs]=i.title),A1(o,e,n,r).pipe(X(s=>(e._resolvedData=s,e.data=Kc(e,e.parent,t).resolve,null)))}function A1(e,n,t,r){let i=_p(e);if(i.length===0)return B({});let o={};return Ce(i).pipe(Ie(s=>O1(e[s],n,t,r).pipe(kn(),Ge(a=>{if(a instanceof lo)throw Zc(new ar,a);o[s]=a}))),Ii(1),X(()=>o),Rn(s=>Pw(s)?ot:Ei(s)))}function O1(e,n,t,r){let i=Ks(n)??r,o=uo(e,i),s=o.resolve?o.resolve(n,t):Pt(i,()=>o(n,t));return ur(s)}function vp(e){return xt(n=>{let t=e(n);return t?Ce(t).pipe(X(()=>n)):B(n)})}var Fp=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(t){return t.data[Gs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>E(Uw),providedIn:"root"})}return e})(),Uw=(()=>{class e extends Fp{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(U(iw))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jr=new P("",{providedIn:"root",factory:()=>({})}),Qr=new P(""),Xc=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(E_);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return B(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ur(t.loadComponent()).pipe(X($w),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),is(()=>{this.componentLoaders.delete(t)})),i=new Ci(r,()=>new Oe).pipe(bi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Bw(r,this.compiler,t,this.onLoadEndListener).pipe(is(()=>{this.childrenLoaders.delete(r)})),s=new Ci(o,()=>new Oe).pipe(bi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bw(e,n,t,r){return ur(e.loadChildren()).pipe(X($w),Ie(i=>i instanceof Uh||Array.isArray(i)?B(i):Ce(n.compileModuleAsync(i))),X(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Qr,[],{optional:!0,self:!0}).flat()),{routes:s.map(Pp),injector:o}}))}function R1(e){return e&&typeof e=="object"&&"default"in e}function $w(e){return R1(e)?e.default:e}var eu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>E(N1),providedIn:"root"})}return e})(),N1=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lp=new P(""),jp=new P("");function Hw(e,n,t){let r=e.get(jp),i=e.get(He);return e.get(Ne).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),k1(e))),{onViewTransitionCreated:l}=r;return l&&Pt(e,()=>l({transition:a,from:n,to:t})),s})}function k1(e){return new Promise(n=>{Eh({read:()=>setTimeout(n)},{injector:e})})}var Vp=new P(""),tu=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortSubject=new Oe;configLoader=E(Xc);environmentInjector=E(ct);destroyRef=E(vs);urlSerializer=E(Zr);rootContexts=E(Yr);location=E(or);inputBindingEnabled=E(Ys,{optional:!0})!==null;titleStrategy=E(Fp);options=E(Jr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(eu);createViewTransition=E(Lp,{optional:!0});navigationErrorHandler=E(Vp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Uc(i)),r=i=>this.events.next(new Bc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Z(D({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new je(null),this.transitions.pipe(bt(r=>r!==null),xt(r=>{let i=!1,o=!1;return B(r).pipe(xt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",gt.SupersededByNewNavigation),ot;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Z(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.rawUrl),c,io.IgnoredSameUrlNavigation)),s.resolve(!1),ot}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return B(s).pipe(xt(c=>(this.events.next(new cr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ot:Promise.resolve(c))),M1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Z(D({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Us(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:f,restoredState:m,extras:d}=s,y=new cr(c,this.urlSerializer.serialize(u),f,m);this.events.next(y);let w=Tw(this.rootComponentType).snapshot;return this.currentTransition=r=Z(D({},s),{targetSnapshot:w,urlAfterRedirects:u,extras:Z(D({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,B(r)}else{let c="";return this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,io.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ot}}),Ge(s=>{let a=new Fc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),X(s=>(this.currentTransition=r=Z(D({},s),{guards:GA(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),i1(this.environmentInjector,s=>this.events.next(s)),Ge(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Zc(this.urlSerializer,s.guardsResult);let a=new Lc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),bt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",gt.GuardRejected),!1)),vp(s=>{if(s.guards.canActivateChecks.length!==0)return B(s).pipe(Ge(a=>{let l=new jc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),xt(a=>{let l=!1;return B(a).pipe(T1(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",gt.NoDataFromResolver)}}))}),Ge(a=>{let l=new Vc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),vp(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ge(u=>{l.component=u}),X(()=>{})));for(let u of l.children)c.push(...a(u));return c};return rs(a(s.targetSnapshot.root)).pipe(Zn(null),Nn(1))}),vp(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Ce(l).pipe(X(()=>r)):B(r)}),X(s=>{let a=$A(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Z(D({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ge(()=>{this.events.next(new Bs)}),qA(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Nn(1),Ge({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $t(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Jd(this.transitionAbortSubject.pipe(Ge(s=>{throw s}))),is(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",gt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(s=>{if(this.destroyed)return r.resolve(!1),ot;if(o=!0,kw(s))this.events.next(new Cn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),WA(s)?this.events.next(new ao(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new oo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Pt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof lo){let{message:c,cancellationCode:u}=Zc(this.urlSerializer,l);this.events.next(new Cn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ao(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return ot}))}))}cancelNavigationTransition(t,r,i){let o=new Cn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function P1(e){return e!==Nc}var zw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>E(F1),providedIn:"root"})}return e})(),Jc=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},F1=(()=>{class e extends Jc{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ww=(()=>{class e{urlSerializer=E(Zr);options=E(Jr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(or);urlHandlingStrategy=E(eu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new En;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof En?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Tw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>E(L1),providedIn:"root"})}return e})(),L1=(()=>{class e extends Ww{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof cr?this.updateStateMemento():t instanceof Dn?this.commitTransition(r):t instanceof Us?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Bs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Cn&&(t.code===gt.GuardRejected||t.code===gt.NoDataFromResolver)?this.restoreHistory(r):t instanceof oo?this.restoreHistory(r,!0):t instanceof $t&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=D(D({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=D(D({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nu(e,n){e.events.pipe(bt(t=>t instanceof $t||t instanceof Cn||t instanceof oo||t instanceof Dn),X(t=>t instanceof $t||t instanceof Dn?0:(t instanceof Cn?t.code===gt.Redirect||t.code===gt.SupersededByNewNavigation:!1)?2:1),bt(t=>t!==2),Nn(1)).subscribe(()=>{n()})}var j1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Se=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(d_);stateManager=E(Ww);options=E(Jr,{optional:!0})||{};pendingTasks=E(Ki);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(tu);urlSerializer=E(Zr);location=E(or);urlHandlingStrategy=E(eu);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(zw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(Qr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(Ys,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ae;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cn&&r.code!==gt.Redirect&&r.code!==gt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $t)this.navigated=!0;else if(r instanceof ao){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=D({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||P1(i.source)},s);this.scheduleNavigation(a,Nc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}B1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=D({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Pp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=Dw(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Sw(f,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=lr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Nc,null,r)}navigate(t,r={skipLocationChange:!1}){return U1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=D({},j1):r===!1?i=D({},V1):i=r,lr(t))return ow(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ow(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,m)=>{a=f,l=m});let u=this.pendingTasks.add();return nu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function U1(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new x(4008,!1)}function B1(e){return!(e instanceof Bs)&&!(e instanceof ao)}var dr=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Oe;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof $t&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(lr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:R0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:lr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(F(Se),F(Ht),mh("tabindex"),F(vn),F(Qt),F(Ut))};static \u0275dir=ve({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ft("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ir],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ir],replaceUrl:[2,"replaceUrl","replaceUrl",ir],routerLink:"routerLink"},features:[Xn]})}return e})();var Qs=class{};var qw=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(bt(t=>t instanceof $t),Kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ws(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ce(i).pipe(Di())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=B(null);let o=i.pipe(Ie(s=>s===null?B(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ce([o,s]).pipe(Di())}else return o})}static \u0275fac=function(r){return new(r||e)(U(Se),U(ct),U(Qs),U(Xc))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gw=new P(""),$1=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $t?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dn&&t.code===io.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof so&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new so(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){n_()};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();function Bp(e,...n){return rh([{provide:Qr,multi:!0,useValue:e},[],{provide:Ht,useFactory:Kw,deps:[Se]},{provide:sc,multi:!0,useFactory:Zw},n.map(t=>t.\u0275providers)])}function Kw(e){return e.routerState.root}function fo(e,n){return{\u0275kind:e,\u0275providers:n}}function Zw(){let e=E(Nt);return n=>{let t=e.get(Ur);if(n!==t.components[0])return;let r=e.get(Se),i=e.get(Yw);e.get($p)===1&&r.initialNavigation(),e.get(Xw,null,W.Optional)?.setUpPreloading(),e.get(Gw,null,W.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Yw=new P("",{factory:()=>new Oe}),$p=new P("",{providedIn:"root",factory:()=>1});function Jw(){let e=[{provide:$p,useValue:0},zh(()=>{let n=E(Nt);return n.get(Kh,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Se),o=n.get(Yw);nu(i,()=>{r(!0)}),n.get(tu).afterPreactivation=()=>(r(!0),o.closed?B(void 0):o),i.initialNavigation()}))})];return fo(2,e)}function Qw(){let e=[zh(()=>{E(Se).setUpLocationChangeListener()}),{provide:$p,useValue:2}];return fo(3,e)}var Xw=new P("");function eb(e){return fo(0,[{provide:Xw,useExisting:qw},{provide:Qs,useExisting:e}])}function Hp(){return fo(6,[{provide:Ut,useClass:Cc}])}function tb(){return fo(8,[Np,{provide:Ys,useExisting:Np}])}function nb(e){_s("NgRouterViewTransitions");let n=[{provide:Lp,useValue:Hw},{provide:jp,useValue:D({skipNextTransition:!!e?.skipInitialTransition},e)}];return fo(9,n)}var rb=[or,{provide:Zr,useClass:ar},Se,Yr,{provide:Ht,useFactory:Kw,deps:[Se]},Xc,[]],Xr=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[rb,[],{provide:Qr,multi:!0,useValue:t},[],r?.errorHandler?{provide:Vp,useValue:r.errorHandler}:[],{provide:Jr,useValue:r||{}},r?.useHash?z1():W1(),H1(),r?.preloadingStrategy?eb(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?q1(r):[],r?.bindToComponentInputs?tb().\u0275providers:[],r?.enableViewTransitions?nb().\u0275providers:[],G1()]}}static forChild(t){return{ngModule:e,providers:[{provide:Qr,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Un({type:e});static \u0275inj=Ln({})}return e})();function H1(){return{provide:Gw,useFactory:()=>{let e=E(Z_),n=E(Ne),t=E(Jr),r=E(tu),i=E(Zr);return t.scrollOffset&&e.setOffset(t.scrollOffset),new $1(i,r,e,n,t)}}}function z1(){return{provide:Ut,useClass:Cc}}function W1(){return{provide:Ut,useClass:hc}}function q1(e){return[e.initialNavigation==="disabled"?Qw().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Jw().\u0275providers:[]]}var Up=new P("");function G1(){return[{provide:Up,useFactory:Zw},{provide:sc,multi:!0,useExisting:Up}]}var sm=ME(GC(),1),{PostgrestError:S8,FunctionsHttpError:I8,FunctionsFetchError:M8,FunctionsRelayError:T8,FunctionsError:x8,FunctionRegion:A8,SupabaseClient:O8,createClient:KC,GoTrueAdminApi:R8,GoTrueClient:N8,AuthAdminApi:k8,AuthClient:P8,navigatorLock:F8,NavigatorLockAcquireTimeoutError:L8,lockInternals:j8,processLock:V8,SIGN_OUT_SCOPES:U8,AuthError:B8,AuthApiError:$8,AuthUnknownError:H8,CustomAuthError:z8,AuthSessionMissingError:W8,AuthInvalidTokenResponseError:q8,AuthInvalidCredentialsError:G8,AuthImplicitGrantRedirectError:K8,AuthPKCEGrantCodeExchangeError:Z8,AuthRetryableFetchError:Y8,AuthWeakPasswordError:J8,AuthInvalidJwtError:Q8,isAuthError:X8,isAuthApiError:e4,isAuthSessionMissingError:t4,isAuthImplicitGrantRedirectError:n4,isAuthRetryableFetchError:r4,isAuthWeakPasswordError:i4,RealtimePresence:o4,RealtimeChannel:s4,RealtimeClient:a4,REALTIME_LISTEN_TYPES:l4,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:c4,REALTIME_PRESENCE_LISTEN_EVENTS:u4,REALTIME_SUBSCRIBE_STATES:d4,REALTIME_CHANNEL_STATES:f4}=sm.default||sm;var Qe=class e{supabase;constructor(){this.supabase=KC("https://xnhkyqflvfqjbmcbzzct.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuaGt5cWZsdmZxamJtY2J6emN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MDE5NDUsImV4cCI6MjA4MDk3Nzk0NX0.0Wjj_6kClOznswEo2hijdOf9XQ75WwfhkeWXRfEw9jI")}signInWithEmail(n,t){return this.supabase.auth.signInWithPassword({email:n,password:t})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/sportscenterchampionships/"}})}get client(){return this.supabase}getUser(){return this.supabase.auth.getUser().then(n=>n.data.user)}signUp(n,t){return this.supabase.auth.signUp({email:n,password:t,options:{emailRedirectTo:window.location.origin+"/sportscenterchampionships/"}})}signIn(n,t){return this.supabase.auth.signInWithPassword({email:n,password:t})}signOut(){return this.supabase.auth.signOut()}getPublicAvatarUrl(n){return this.supabase.storage.from("avatars").getPublicUrl(n).data.publicUrl}uploadAvatar(n){return g(this,null,function*(){let t=yield this.getUser();if(!t)throw new Error("User not authenticated");let r=`avatars/${t.id}.jpg`,{error:i}=yield this.supabase.storage.from("avatars").upload(r,n,{upsert:!0});if(i)throw i;let{data:o}=this.supabase.storage.from("avatars").getPublicUrl(r);return o.publicUrl})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})};var Hu=class e{constructor(n){this.supabase=n}ngOnInit(){}static \u0275fac=function(t){return new(t||e)(F(Qe))};static \u0275cmp=re({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&V(0,"router-outlet")},dependencies:[Zs],encapsulation:2})};var zu=class e{constructor(n,t){this.sb=n;this.router=t;this.sb.supabase.auth.getSession().then(({data:r})=>{this._user$.next(r.session?.user??null)}),this.sb.supabase.auth.onAuthStateChange((r,i)=>g(this,null,function*(){if(this._user$.next(i?.user??null),console.log(i?.user),i?.user){let{data:o}=yield this.sb.supabase.from("users").select("mail").eq("mail",this._user$.value.email).single();o?this.router.navigate(["/user-dashboard"]):this.router.navigate(["/user-onboarding"])}}))}_user$=new je(null);user$=this._user$.asObservable();logout(){return g(this,null,function*(){yield this.sb.supabase.auth.signOut()})}static \u0275fac=function(t){return new(t||e)(U(Qe),U(Se))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})};function _R(e,n){if(e&1){let t=$e();yn(0),h(1,"button",14),ie("click",function(){q(t);let i=se();return G(i.logout())}),v(2," Logout "),p(),V(3,"img",15),_n()}if(e&2){let t=n.ngIf;_(3),I("src",(t.user_metadata==null?null:t.user_metadata.avatar_url)||"assets/images/default-avatar.png",Ze)}}function wR(e,n){if(e&1){let t=$e();h(0,"button",14),ie("click",function(){q(t);let i=se();return G(i.login())}),v(1," Login "),p()}}function bR(e,n){if(e&1){let t=$e();h(0,"li",16)(1,"button",14),ie("click",function(){q(t);let i=se();return G(i.logout())}),v(2," Logout "),p(),V(3,"img",15),p()}if(e&2){let t=n.ngIf;_(3),I("src",(t.user_metadata==null?null:t.user_metadata.avatar_url)||"assets/images/default-avatar.jpg",Ze)}}function CR(e,n){if(e&1){let t=$e();h(0,"li",16)(1,"button",14),ie("click",function(){q(t);let i=se();return G(i.login())}),v(2," Login "),p()()}}var Wu=class e{constructor(n,t,r){this.authService=n;this.supabase=t;this.router=r;this.user$=this.authService.user$}user$;login(){this.router.navigateByUrl("/login")}logout(){this.authService.logout()}loginWithGoogle(){this.supabase.signInWithGoogle()}static \u0275fac=function(t){return new(t||e)(F(zu),F(Qe),F(Se))};static \u0275cmp=re({type:e,selectors:[["app-header"]],decls:30,vars:10,consts:[["showLogin",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","main-navbar"],[1,"container-fluid","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler","d-lg-none","me-2"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand","fw-bold","d-none","d-lg-block"],[1,"flex-grow-1"],[1,"d-lg-none","d-flex","align-items-center","gap-2"],[4,"ngIf","ngIfElse"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0","align-items-center"],[1,"nav-item"],["href","#",1,"nav-link"],["class","nav-item ms-3 d-none d-lg-flex align-items-center gap-2",4,"ngIf"],[1,"btn","btn-light","btn-sm","rounded-pill","fw-bold",3,"click"],["alt","avatar",1,"user-avatar",3,"src"],[1,"nav-item","ms-3","d-none","d-lg-flex","align-items-center","gap-2"]],template:function(t,r){if(t&1&&(h(0,"nav",1)(1,"div",2)(2,"button",3),V(3,"span",4),p(),h(4,"a",5),v(5," Sports Championships "),p(),V(6,"div",6),h(7,"div",7),te(8,_R,4,1,"ng-container",8),Xi(9,"async"),te(10,wR,2,0,"ng-template",null,0,cc),p(),h(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),v(16,"Inicio"),p()(),h(17,"li",11)(18,"a",12),v(19,"Campeonatos"),p()(),h(20,"li",11)(21,"a",12),v(22,"Equipos"),p()(),h(23,"li",11)(24,"a",12),v(25,"Resultados"),p()(),te(26,bR,4,1,"li",13),Xi(27,"async"),te(28,CR,3,0,"li",13),Xi(29,"async"),p()()()()),t&2){let i=nr(11);_(8),I("ngIf",lc(9,4,r.user$))("ngIfElse",i),_(18),I("ngIf",lc(27,6,r.user$)),_(2),I("ngIf",lc(29,8,r.user$)===null)}},dependencies:[ue,Ve,tp],styles:[".main-navbar[_ngcontent-%COMP%]{background:transparent;padding:.75rem 1rem;z-index:3}.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.7);transition:all .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3}.btn-light[_ngcontent-%COMP%]{color:#333;transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border:2px solid #fff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px;border-radius:.5rem}.navbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.35rem 1rem;font-size:.875rem}.main-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 6px #00000040}.navbar-collapse[_ngcontent-%COMP%]{background-color:#0f172af2;margin-top:.5rem}"]})};var Vo=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"app-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-links"],["href","#"],[1,"footer-bottom"]],template:function(t,r){t&1&&(h(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),v(4,"Sports Championships"),p(),h(5,"p"),v(6,"Organiza, compite y disfruta de tu deporte favorito"),p()(),h(7,"div",3)(8,"a",4),v(9,"Aviso legal"),p(),h(10,"a",4),v(11,"Privacidad"),p()()(),h(12,"div",5),v(13," \xA9 2025 Sports Center Championships \xB7 Todos los derechos reservados "),p()())},styles:[".app-footer[_ngcontent-%COMP%]{background:#0f172a;color:#cbd5e1;padding:1rem;margin-top:4rem}.footer-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:2rem;text-align:center}.footer-brand[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#fff}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;font-size:.9rem;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.8rem;color:#94a3b8}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;text-align:left}.footer-links[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};function ER(e,n){if(e&1&&(h(0,"div",5),V(1,"img",6),h(2,"div",7)(3,"div",8)(4,"small",9),v(5),p(),h(6,"div",10),v(7),p(),h(8,"small",11),v(9),Xi(10,"date"),p(),V(11,"br"),h(12,"small",11),v(13),p()()()()),e&2){let t=n.$implicit,r=se();_(),I("src",r.getGameImage(t.sport_name||""),Ze),_(4),jt(" ",t.type," "),_(2),Wh(" ",t.team1==null?null:t.team1.name," vs ",t.team2==null?null:t.team2.name," "),_(2),jt(" ",b_(10,6,t.date,"dd MMM \xB7 HH:mm")," "),_(4),jt(" \u{1F4CD} ",t.location," ")}}var Uo=class e{games;ngOnInit(){if(!this.games){let n=[{id:1,competition_id:1,date:"2025-01-22T18:30:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:3,team1:{id:101,name:"Ace Masters",sport_id:1,sport_name:1,image:"assets/images/team-default.png",gender:"mixed"},team2:{id:102,name:"Clay Warriors",sport_id:1,sport_name:1,image:"assets/images/team-default.png",gender:"mixed"}},{id:2,competition_id:2,date:"2025-01-25T19:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,team1:{id:201,name:"Padel Smash",sport_id:2,sport_name:2,image:"assets/images/team-default.png",gender:"mixed"},team2:{id:202,name:"Golden Racket",sport_id:2,sport_name:2,image:"assets/images/team-default.png",gender:"mixed"}},{id:3,competition_id:1,date:"2025-01-24T20:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:3,team1:{id:103,name:"Topspin United",sport_id:1,sport_name:1,image:"assets/images/team-default.png",gender:"mixed"},team2:{id:104,name:"Baseline Kings",sport_id:1,sport_name:1,image:"assets/images/team-default.png",gender:"mixed"}},{id:4,competition_id:2,date:"2025-01-27T21:00:00",type:"friendly",sport_id:"padel",sport_name:"padel",level:2,team1:{id:203,name:"Red Net Padel",sport_id:2,sport_name:2,image:"assets/images/team-default.png",gender:"mixed"},team2:{id:204,name:"Vibora Team",sport_id:2,sport_name:2,image:"assets/images/team-default.png",gender:"mixed"}},{id:5,competition_id:3,date:"2025-01-29T18:00:00",type:"friendly",sport_id:"tennis",sport_name:"tennis",level:4,team1:{id:105,name:"Match Point",sport_id:1,sport_name:1,image:"assets/images/team-default.png",gender:"mixed"},team2:{id:106,name:"Deuce Squad",sport_id:1,sport_name:1,image:"assets/images/team-default.png",gender:"mixed"}}];this.games=n}}getGameImage(n){switch(n){case"tennis":return"assets/images/sports/tennis/tennis-field-1.jpeg";case"padel":return"assets/images/sports/padel/padel-field-1.jpeg";default:return"assets/images/default-field.jpeg"}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-next-games"]],inputs:{games:"games"},decls:6,vars:1,consts:[[1,"next-games-section"],[1,"container"],[1,"fw-bold","mb-3"],[1,"next-games-scroll"],["class","next-game-card",4,"ngFor","ngForOf"],[1,"next-game-card"],["alt","Campo de juego",1,"next-game-img",3,"src"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"badge","bg-dark","text-uppercase","mb-1"],[1,"fw-semibold","small"],[1,"text-white-50"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"h2",2),v(3,"Pr\xF3ximos partidos"),p(),h(4,"div",3),te(5,ER,14,9,"div",4),p()()()),t&2&&(_(5),I("ngForOf",r.games))},dependencies:[ue,pt,np],styles:[".next-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem;scroll-snap-type:x mandatory}.next-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.next-game-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.next-games-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.next-game-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}}"]})};function DR(e,n){if(e&1&&(h(0,"div",17)(1,"div",18),V(2,"div",19),h(3,"div",20)(4,"h5",21),v(5),p(),h(6,"small",22),v(7),p()()()()),e&2){let t=n.$implicit;_(2),bs("background-image","url("+t.image+")"),_(),I("ngClass",t.color),_(2),Ee(t.name),_(2),Ee(t.nextEvent)}}var qu=class e{sports=[{id:4,name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",nextEvent:"28 Sep \xB7 21:00"},{id:3,name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",nextEvent:"25 Sep \xB7 10:00"},{id:2,name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",nextEvent:"22 Sep \xB7 19:30"},{id:1,name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",nextEvent:"20 Sep \xB7 18:00"}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-home"]],decls:43,vars:1,consts:[[1,"hero-header"],[1,"hero-overlay"],[1,"container","hero-content"],[1,"display-5","fw-bold","text-white"],[1,"text-white-50","mt-2"],[1,"sports-section"],[1,"container"],[1,"fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"features-section"],[1,"row","g-4","text-center"],[1,"col-12","col-md-4"],[1,"feature-item"],[1,"feature-icon","icon-league"],[1,"feature-icon","icon-notify"],[1,"feature-icon","icon-free"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"sport-card","shadow-sm","h-100"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],[1,"text-white","fw-bold","mb-1"],[1,"text-white-50"]],template:function(t,r){t&1&&(h(0,"section",0),V(1,"app-header")(2,"div",1),h(3,"div",2)(4,"h1",3),v(5," App organizador de eventos deportivos "),p(),h(6,"p",4),v(7," Crea, gestiona y compite en ligas de tu deporte favorito "),p()()(),V(8,"app-next-games"),h(9,"section",5)(10,"div",6)(11,"h2",7),v(12,"Deportes"),p(),h(13,"div",8),te(14,DR,8,5,"div",9),p()()(),h(15,"section",10)(16,"div",6)(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14),v(21,"\u{1F3C6}"),p(),h(22,"h5"),v(23,"Crea y compite"),p(),h(24,"p"),v(25,"Crea y ap\xFAntate a ligas de tu deporte favorito"),p()()(),h(26,"div",12)(27,"div",13)(28,"div",15),v(29,"\u{1F514}"),p(),h(30,"h5"),v(31,"Notificaciones"),p(),h(32,"p"),v(33,"Recibe avisos de partidos, resultados y cambios"),p()()(),h(34,"div",12)(35,"div",13)(36,"div",16),v(37,"\u{1F389}"),p(),h(38,"h5"),v(39,"100% gratis"),p(),h(40,"p"),v(41,"Sin costes ocultos, ahora y siempre"),p()()()()()(),V(42,"app-footer")),t&2&&(_(14),I("ngForOf",r.sports))},dependencies:[ue,Wr,pt,Wu,Vo,Uo],styles:[".hero-header[_ngcontent-%COMP%]{position:relative;min-height:45vh;background-image:url(/sportscenterchampionships/assets/images/homeHeader.jpeg);background-size:cover;background-position:center;display:flex;flex-direction:column}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0000,#00000080);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:auto;padding-bottom:3rem;max-width:720px}@media (max-width: 768px){.hero-header[_ngcontent-%COMP%]{min-height:23vh}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.title-section[_ngcontent-%COMP%]{position:relative;height:40vh;overflow:hidden;display:flex;align-items:center}.title-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}.title-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:720px}.sports-section[_ngcontent-%COMP%]{margin-top:.5rem}.sport-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.sport-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 25px #0003}.sport-image[_ngcontent-%COMP%]{height:180px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:16px}.features-section[_ngcontent-%COMP%]{padding:3rem 0;background-color:#f8f9fa}.feature-item[_ngcontent-%COMP%]{padding:1.75rem 1.25rem;border-radius:16px;background:#fff;height:100%;transition:transform .25s ease,box-shadow .25s ease}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014}.feature-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto .75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff}.feature-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.35rem;color:#222}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;line-height:1.4}@media (max-width: 576px){.feature-item[_ngcontent-%COMP%]{padding:1.25rem}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.icon-league[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7fa9c4,#6c96b1)}.icon-notify[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fbf9f,#7eaf90)}.icon-free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f2b36d,#c97a5a)}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:.5rem;font-weight:600;color:#222}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.5;margin:0}@media (min-width: 768px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.title-section[_ngcontent-%COMP%]{margin-top:3.4rem;height:10vh}.title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.sport-image[_ngcontent-%COMP%]{height:110px}@media (max-width: 576px){.sports-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.sport-body[_ngcontent-%COMP%]{padding:12px}.sport-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.95rem}.sport-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 768px){.sport-image[_ngcontent-%COMP%]{height:180px}}"]})};var iE=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(F(vn),F(Qt))};static \u0275dir=ve({type:e})}return e})(),Ea=(()=>{class e extends iE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275dir=ve({type:e,features:[ft]})}return e})(),zo=new P(""),SR={provide:zo,useExisting:kt(()=>pi),multi:!0},pi=(()=>{class e extends Ea{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[wn([SR]),ft]})}return e})(),IR={provide:zo,useExisting:kt(()=>vt),multi:!0};function MR(){let e=Vt()?Vt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var TR=new P(""),vt=(()=>{class e extends iE{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!MR())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(F(vn),F(Qt),F(TR,8))};static \u0275dir=ve({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[wn([IR]),ft]})}return e})();function xR(e){return e==null||AR(e)===0}function AR(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var ed=new P(""),oE=new P("");function OR(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function RR(e){return xR(e.value)?{required:!0}:null}function ZC(e){return null}function sE(e){return e!=null}function aE(e){return er(e)?Ce(e):e}function lE(e){let n={};return e.forEach(t=>{n=t!=null?D(D({},n),t):n}),Object.keys(n).length===0?null:n}function cE(e,n){return n.map(t=>t(e))}function NR(e){return!e.validate}function uE(e){return e.map(n=>NR(n)?n:t=>n.validate(t))}function kR(e){if(!e)return null;let n=e.filter(sE);return n.length==0?null:function(t){return lE(cE(t,n))}}function um(e){return e!=null?kR(uE(e)):null}function PR(e){if(!e)return null;let n=e.filter(sE);return n.length==0?null:function(t){let r=cE(t,n).map(aE);return Gd(r).pipe(X(lE))}}function dm(e){return e!=null?PR(uE(e)):null}function YC(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function FR(e){return e._rawValidators}function LR(e){return e._rawAsyncValidators}function am(e){return e?Array.isArray(e)?e:[e]:[]}function Ku(e,n){return Array.isArray(e)?e.includes(n):e===n}function JC(e,n){let t=am(n);return am(e).forEach(i=>{Ku(t,i)||t.push(i)}),t}function QC(e,n){return am(n).filter(t=>!Ku(e,t))}var Zu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=um(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=dm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Ho=class extends Zu{name;get formDirective(){return null}get path(){return null}},Ca=class extends Zu{_parent=null;name=null;valueAccessor=null},Yu=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},jR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},G4=Z(D({},jR),{"[class.ng-submitted]":"isSubmitted"}),qt=(()=>{class e extends Yu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(F(Ca,2))};static \u0275dir=ve({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&tr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ft]})}return e})(),td=(()=>{class e extends Yu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(F(Ho,10))};static \u0275dir=ve({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&tr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ft]})}return e})();var va="VALID",Gu="INVALID",Bo="PENDING",ya="DISABLED",Sr=class{},Ju=class extends Sr{value;source;constructor(n,t){super(),this.value=n,this.source=t}},wa=class extends Sr{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},ba=class extends Sr{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},$o=class extends Sr{status;source;constructor(n,t){super(),this.status=n,this.source=t}},lm=class extends Sr{source;constructor(n){super(),this.source=n}},cm=class extends Sr{source;constructor(n){super(),this.source=n}};function dE(e){return(nd(e)?e.validators:e)||null}function VR(e){return Array.isArray(e)?um(e):e||null}function fE(e,n){return(nd(n)?n.asyncValidators:e)||null}function UR(e){return Array.isArray(e)?dm(e):e||null}function nd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function BR(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function $R(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new x(1002,"")})}var Qu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return en(this.statusReactive)}set status(n){en(()=>this.statusReactive.set(n))}_status=Es(()=>this.statusReactive());statusReactive=ys(void 0);get valid(){return this.status===va}get invalid(){return this.status===Gu}get pending(){return this.status==Bo}get disabled(){return this.status===ya}get enabled(){return this.status!==ya}errors;get pristine(){return en(this.pristineReactive)}set pristine(n){en(()=>this.pristineReactive.set(n))}_pristine=Es(()=>this.pristineReactive());pristineReactive=ys(!0);get dirty(){return!this.pristine}get touched(){return en(this.touchedReactive)}set touched(n){en(()=>this.touchedReactive.set(n))}_touched=Es(()=>this.touchedReactive());touchedReactive=ys(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(JC(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(JC(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(QC(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(QC(n,this._rawAsyncValidators))}hasValidator(n){return Ku(this._rawValidators,n)}hasAsyncValidator(n){return Ku(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Z(D({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ba(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new ba(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Z(D({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new wa(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new wa(!0,r))}markAsPending(n={}){this.status=Bo;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new $o(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Z(D({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ya,this.errors=null,this._forEachChild(i=>{i.disable(Z(D({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ju(this.value,r)),this._events.next(new $o(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(D({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=va,this._forEachChild(r=>{r.enable(Z(D({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Z(D({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===va||this.status===Bo)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ju(this.value,t)),this._events.next(new $o(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Z(D({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ya:va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Bo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=aE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new $o(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?ya:this.errors?Gu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bo)?Bo:this._anyControlsHaveStatus(Gu)?Gu:va}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new wa(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new ba(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){nd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=VR(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=UR(this._rawAsyncValidators)}},Xu=class extends Qu{constructor(n,t,r){super(dE(t),fE(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){$R(this,!0,n),Object.keys(n).forEach(r=>{BR(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var fm=new P("",{providedIn:"root",factory:()=>hm}),hm="always";function HR(e,n){return[...n.path,e]}function hE(e,n,t=hm){pE(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),WR(e,n),GR(e,n),qR(e,n),zR(e,n)}function XC(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function zR(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function pE(e,n){let t=FR(e);n.validator!==null?e.setValidators(YC(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=LR(e);n.asyncValidator!==null?e.setAsyncValidators(YC(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();XC(n._rawValidators,i),XC(n._rawAsyncValidators,i)}function WR(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&gE(e,n)})}function qR(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&gE(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function gE(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function GR(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function KR(e,n){e==null,pE(e,n)}function ZR(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function YR(e){return Object.getPrototypeOf(e.constructor)===Ea}function JR(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function QR(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===vt?t=o:YR(o)?r=o:i=o}),i||r||t||null}var XR={provide:Ho,useExisting:kt(()=>Da)},_a=Promise.resolve(),Da=(()=>{class e extends Ho{callSetDisabledState;get submitted(){return en(this.submittedReactive)}_submitted=Es(()=>this.submittedReactive());submittedReactive=ys(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Xu({},um(t),dm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_a.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_a.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){_a.then(()=>{let r=this._findContainer(t.path),i=new Xu({});KR(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_a.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){_a.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),JR(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new lm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new cm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(F(ed,10),F(oE,10),F(fm,8))};static \u0275dir=ve({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[wn([XR]),ft]})}return e})();function eE(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function tE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var eN=class extends Qu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(dE(t),fE(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(tE(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){eE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){eE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){tE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var tN={provide:Ca,useExisting:kt(()=>Mt)},nE=Promise.resolve(),Mt=(()=>{class e extends Ca{_changeDetectorRef;callSetDisabledState;control=new eN;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=QR(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ZR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){nE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ir(r);nE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?HR(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(F(Ho,9),F(ed,10),F(oE,10),F(zo,10),F(rr,8),F(fm,8))};static \u0275dir=ve({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[wn([tN]),ft,Xn]})}return e})();var rd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ve({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),nN={provide:zo,useExisting:kt(()=>pm),multi:!0},pm=(()=>{class e extends Ea{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[wn([nN]),ft]})}return e})();var rN={provide:zo,useExisting:kt(()=>Wo),multi:!0};function mE(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function iN(e){return e.split(":")[0]}var Wo=(()=>{class e extends Ea{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=mE(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=iN(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[wn([rN]),ft]})}return e})(),qo=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(mE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(F(Qt),F(vn),F(Wo,9))};static \u0275dir=ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),oN={provide:zo,useExisting:kt(()=>vE),multi:!0};function rE(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function sN(e){return e.split(":")[0]}var vE=(()=>{class e extends Ea{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=sN(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[wn([oN]),ft]})}return e})(),Go=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(rE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(F(Qt),F(vn),F(vE,9))};static \u0275dir=ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function aN(e){return typeof e=="number"?e:parseFloat(e)}var yE=(()=>{class e{_validator=ZC;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ZC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ve({type:e,features:[Xn]})}return e})();var lN={provide:ed,useExisting:kt(()=>gm),multi:!0},gm=(()=>{class e extends yE{min;inputName="min";normalizeInput=t=>aN(t);createValidator=t=>OR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ft("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[wn([lN]),ft]})}return e})(),cN={provide:ed,useExisting:kt(()=>Sa),multi:!0};var Sa=(()=>{class e extends yE{required;inputName="required";normalizeInput=ir;createValidator=t=>RR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Jt(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ft("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[wn([cN]),ft]})}return e})();var uN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Un({type:e});static \u0275inj=Ln({})}return e})();var yt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:fm,useValue:t.callSetDisabledState??hm}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Un({type:e});static \u0275inj=Ln({imports:[uN]})}return e})();var id=class e{sb=E(Qe);constructor(){}createUser(n){return g(this,null,function*(){let t=yield this.sb.getUser();if(!t)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").insert(D({id:t.id},n));if(r)throw r})}updateUser(n){return g(this,null,function*(){let t=yield this.sb.getUser();if(!t)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").update(n).eq("id",t.id);if(r)throw r})}deleteUserProfile(){return g(this,null,function*(){let n=yield this.sb.getUser();if(!n)throw new Error("User not authenticated");let{error:t}=yield this.sb.supabase.from("users").delete().eq("id",n.id);if(t)throw t})}getUserTeams(n){return g(this,null,function*(){return this.sb.supabase.from("teams").select("id, name, image, gender").eq("active",!0)})}getUpcomingGames(){return g(this,null,function*(){return this.sb.supabase.from("games").select(`
        id,
        date,
        type,
        team1:team1_id ( id, name, image ),
        team2:team2_id ( id, name, image )
      `).order("date",{ascending:!0})})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})};function dN(e,n){if(e&1){let t=$e();h(0,"input",7),N("ngModelChange",function(i){q(t);let o=se().$implicit;return k(o.level,i)||(o.level=i),G(i)}),p()}if(e&2){let t=se().$implicit;ac("name","level-",t.key,""),R("ngModel",t.level)}}function fN(e,n){if(e&1){let t=$e();h(0,"div",2)(1,"div",3),ie("click",function(){let i=q(t).$implicit,o=se();return G(o.toggleSport(i))}),V(2,"div",4),h(3,"div",5)(4,"span"),v(5),p()()(),te(6,dN,1,3,"input",6),p()}if(e&2){let t=n.$implicit,r=se();_(),tr("selected",t.selected)("disabled",t.disabled),_(),bs("background-image","url("+t.image+")"),_(),I("ngClass",t.color),_(2),Ee(t.name),_(),I("ngIf",t.selected&&r.showLevel)}}var od=class e{initialSports=null;showLevel=!1;sportsSelected=new Me;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];ngOnInit(){if(this.initialSports&&this.initialSports.length){let n=new Map(this.initialSports.map(t=>[t.key,t]));this.sports=this.sports.map(t=>{let r=n.get(t.key);return r?D(D({},t),r):t}),this.emitSelected()}}toggleSport(n){n.disabled||(n.selected=!n.selected,n.selected||(n.level=""),this.emitSelected())}emitSelected(){let n=this.sports.filter(t=>t.selected);this.sportsSelected.emit(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-sports-selector"]],inputs:{initialSports:"initialSports",showLevel:"showLevel"},outputs:{sportsSelected:"sportsSelected"},decls:2,vars:1,consts:[[1,"row","g-3","mb-4"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-3"],[1,"sport-card",3,"click"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],["type","text","class","form-control mt-2","placeholder","Nivel",3,"ngModel","name","ngModelChange",4,"ngIf"],["type","text","placeholder","Nivel",1,"form-control","mt-2",3,"ngModelChange","ngModel","name"]],template:function(t,r){t&1&&(h(0,"div",0),te(1,fN,7,9,"div",1),p()),t&2&&(_(),I("ngForOf",r.sports))},dependencies:[ue,Wr,pt,Ve,yt,vt,qt,Mt],styles:[".sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s,box-shadow .2s;background:#fff;border:1px solid #e5e7eb}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb33,0 10px 20px #00000014}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center;font-weight:600}"]})};function hN(e,n){e&1&&(h(0,"span"),v(1,"Crear cuenta"),p())}function pN(e,n){e&1&&V(0,"span",41)}function gN(e,n){e&1&&(h(0,"span"),v(1,"Siguiente TEST"),p())}var sd=class e{profile={name:"",email:"",password:"",phone:"",language:"es",avatar_url:"",zone:"",city:"",position:"",birthdate:"",gender:"",notifications:!0};loading=!1;avatarFile=null;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];selectedSports=[];supabase=E(Qe);userService=E(id);router=E(Se);constructor(){}onAvatarSelected(n){return g(this,null,function*(){let t=n.target.files[0];if(!t)return;let r=yield this.supabase.uploadAvatar(t);r&&(this.profile.avatar_url=r)})}onSportsSelected(n){this.selectedSports=n}saveProfile(){return g(this,null,function*(){try{this.loading=!0;let{data:n,error:t}=yield this.supabase.signUp(this.profile.email,this.profile.password);if(t)throw t;this.avatarFile&&(this.profile.avatar_url=yield this.supabase.uploadAvatar(this.avatarFile)),yield this.userService.createUser({name:this.profile.name,email:this.profile.email,avatar_url:this.profile.avatar_url,language:this.profile.language,birth_date:this.profile.birthdate,gender:this.profile.gender,position:this.profile.position,notifications:this.profile.notifications,city:this.profile.city,zone:this.profile.zone});let{data:r,error:i}=yield this.supabase.signInWithEmail(this.profile.email,this.profile.password);if(i)throw i;console.log("Login after sign up:",r)}catch(n){console.error(n)}finally{this.loading=!1,this.router.navigate(["/user_onboarding"])}})}goToNextTest(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-user-profile"]],decls:65,vars:17,consts:[["form","ngForm"],[1,"onboarding-hero"],[1,"overlay"],[1,"onboarding-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"avatar-upload"],["alt","Avatar",1,"avatar-preview",3,"src"],[1,"upload-btn"],["type","file","hidden","","accept","image/*",3,"change"],["placeholder","Nombre","name","name","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["placeholder","Email","name","email","required","",1,"form-control","mb-3",3,"ngModelChange","value","ngModel"],["type","password","placeholder","Contrase\xF1a","name","password","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","language",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","es"],["value","en"],["value","ca"],["type","date","name","birthdate","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","gender","required","",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","male"],["value","female"],["value","other"],["name","position",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","drive"],["value","reves"],["value","indiferente"],["type","text","placeholder","Poblaci\xF3n","name","city","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","zone","required","",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","north"],["value","center"],["value","south"],[1,"form-check","form-switch","mb-4"],["type","checkbox","id","notifications","name","notifications",1,"form-check-input",3,"ngModelChange","ngModel"],["for","notifications",1,"form-check-label"],[1,"section-title"],[3,"sportsSelected","showLevel"],["type","submit",1,"mobile-submit",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["type","submit",1,"mobile-submit",3,"click"],[1,"spinner"]],template:function(t,r){if(t&1){let i=$e();h(0,"div",1),V(1,"div",2),h(2,"div",3)(3,"h2"),v(4,"Bienvenido \u{1F44B}"),p(),h(5,"p",4),v(6,"Crea tu perfil y empieza a competir"),p(),h(7,"form",5,0),ie("ngSubmit",function(){return q(i),G(r.saveProfile())}),h(9,"div",6),V(10,"img",7),h(11,"label",8),v(12," Cambiar foto "),h(13,"input",9),ie("change",function(s){return q(i),G(r.onAvatarSelected(s))}),p()()(),h(14,"input",10),N("ngModelChange",function(s){return q(i),k(r.profile.name,s)||(r.profile.name=s),G(s)}),p(),h(15,"input",11),N("ngModelChange",function(s){return q(i),k(r.profile.email,s)||(r.profile.email=s),G(s)}),p(),h(16,"input",12),N("ngModelChange",function(s){return q(i),k(r.profile.password,s)||(r.profile.password=s),G(s)}),p(),h(17,"select",13),N("ngModelChange",function(s){return q(i),k(r.profile.language,s)||(r.profile.language=s),G(s)}),h(18,"option",14),v(19,"\u{1F1EA}\u{1F1F8} Espa\xF1ol"),p(),h(20,"option",15),v(21,"\u{1F1EC}\u{1F1E7} English"),p(),h(22,"option",16),v(23," Valenci\xE0"),p()(),h(24,"input",17),N("ngModelChange",function(s){return q(i),k(r.profile.birthdate,s)||(r.profile.birthdate=s),G(s)}),p(),h(25,"select",18),N("ngModelChange",function(s){return q(i),k(r.profile.gender,s)||(r.profile.gender=s),G(s)}),h(26,"option",19),v(27,"Sexo"),p(),h(28,"option",20),v(29,"Hombre"),p(),h(30,"option",21),v(31,"Mujer"),p(),h(32,"option",22),v(33,"Otro"),p()(),h(34,"select",23),N("ngModelChange",function(s){return q(i),k(r.profile.position,s)||(r.profile.position=s),G(s)}),h(35,"option",19),v(36,"Posici\xF3n"),p(),h(37,"option",24),v(38,"Drive"),p(),h(39,"option",25),v(40,"Rev\xE9s"),p(),h(41,"option",26),v(42,"Indiferente"),p()(),h(43,"input",27),N("ngModelChange",function(s){return q(i),k(r.profile.city,s)||(r.profile.city=s),G(s)}),p(),h(44,"select",28),N("ngModelChange",function(s){return q(i),k(r.profile.zone,s)||(r.profile.zone=s),G(s)}),h(45,"option",19),v(46,"Zona de preferencia"),p(),h(47,"option",29),v(48,"Zona Norte"),p(),h(49,"option",30),v(50,"Zona Centro"),p(),h(51,"option",31),v(52,"Zona Sur"),p()(),h(53,"div",32)(54,"input",33),N("ngModelChange",function(s){return q(i),k(r.profile.notifications,s)||(r.profile.notifications=s),G(s)}),p(),h(55,"label",34),v(56," Recibir notificaciones "),p()(),h(57,"h4",35),v(58,"Deportes que practicas"),p(),h(59,"app-sports-selector",36),ie("sportsSelected",function(s){return q(i),G(r.onSportsSelected(s))}),p(),h(60,"button",37),te(61,hN,2,0,"span",38)(62,pN,1,0,"span",39),p(),h(63,"button",40),ie("click",function(){return q(i),G(r.goToNextTest())}),te(64,gN,2,0,"span",38),p()()()()}if(t&2){let i=nr(8);_(10),I("src",r.profile.avatar_url||"assets/images/default-avatar.jpg",Ze),_(4),R("ngModel",r.profile.name),_(),I("value",r.profile.email),R("ngModel",r.profile.email),_(),R("ngModel",r.profile.password),_(),R("ngModel",r.profile.language),_(7),R("ngModel",r.profile.birthdate),_(),R("ngModel",r.profile.gender),_(9),R("ngModel",r.profile.position),_(9),R("ngModel",r.profile.city),_(),R("ngModel",r.profile.zone),_(10),R("ngModel",r.profile.notifications),_(5),I("showLevel",!0),_(),I("disabled",r.loading||!i.valid),_(),I("ngIf",!r.loading),_(),I("ngIf",r.loading),_(2),I("ngIf",!r.loading)}},dependencies:[ue,Ve,yt,rd,qo,Go,vt,pi,Wo,qt,td,Sa,Mt,Da,od],styles:[".onboarding-hero[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/images/homeHeader.jpeg) center / cover;display:flex;justify-content:center;align-items:center}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000008c}.onboarding-card[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:1rem;width:100%;max-width:520px;z-index:2}.avatar-upload[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.avatar-preview[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;object-fit:cover}.upload-btn[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#2563eb;cursor:pointer}.sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.mobile-submit[_ngcontent-%COMP%]{position:inherit;bottom:1rem;width:100%;padding:1rem;border-radius:999px;background:linear-gradient(135deg,#2563eb,#1e40af);color:#fff;font-size:1.05rem;font-weight:600;border:none;box-shadow:0 10px 25px #2563eb59;transition:transform .15s ease,box-shadow .15s ease,opacity .15s;z-index:5}.mobile-submit[_ngcontent-%COMP%]:active{transform:scale(.97);box-shadow:0 6px 16px #2563eb40}.mobile-submit[_ngcontent-%COMP%]:disabled{opacity:.5;box-shadow:none}.spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:3px solid rgba(255,255,255,.4);border-top-color:#fff;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function mN(e,n){if(e&1&&(h(0,"div",14),v(1),p()),e&2){let t=se();_(),jt(" ",t.error," ")}}var ad=class e{constructor(n,t){this.supabase=n;this.router=t}email="";password="";loading=!1;error=null;loginWithEmail(){return g(this,null,function*(){this.loading=!0,this.error=null;let{data:n,error:t}=yield this.supabase.signInWithEmail(this.email,this.password);this.loading=!1,t?this.error=t.message:n?.user&&this.router.navigate(["/dashboard"])})}loginWithGoogle(){return g(this,null,function*(){let{data:n,error:t}=yield this.supabase.signInWithGoogle();t?this.error=t.message:n?.url&&this.router.navigate(["/dashboard"])})}goToOnboarding(){this.router.navigate(["/user-profile"])}static \u0275fac=function(t){return new(t||e)(F(Qe),F(Se))};static \u0275cmp=re({type:e,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"login-container"],[1,"login-card","shadow"],[1,"mb-4","text-center"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","tu@email.com",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"separator"],[1,"btn","btn-outline-dark","w-100","mb-3","d-flex","align-items-center","justify-content-center","gap-2",3,"click"],["src","assets/icons/google-icon.svg","width","18"],[1,"text-center","mt-3"],[1,"register-link",3,"click"],[1,"alert","alert-danger"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"div",1)(2,"h2",2),v(3,"Iniciar sesi\xF3n"),p(),te(4,mN,2,1,"div",3),h(5,"div",4)(6,"label",5),v(7,"Email"),p(),h(8,"input",6),N("ngModelChange",function(o){return k(r.email,o)||(r.email=o),o}),p()(),h(9,"div",4)(10,"label",5),v(11,"Contrase\xF1a"),p(),h(12,"input",7),N("ngModelChange",function(o){return k(r.password,o)||(r.password=o),o}),p()(),h(13,"button",8),ie("click",function(){return r.loginWithEmail()}),v(14," Entrar "),p(),h(15,"div",9),v(16,"o"),p(),h(17,"button",10),ie("click",function(){return r.loginWithGoogle()}),V(18,"img",11),v(19," Entrar con Google "),p(),h(20,"p",12),v(21," \xBFNo tienes cuenta? "),h(22,"a",13),ie("click",function(){return r.goToOnboarding()}),v(23," Darse de alta "),p()()()()),t&2&&(_(4),I("ngIf",r.error),_(4),R("ngModel",r.email),_(4),R("ngModel",r.password),_(),I("disabled",r.loading))},dependencies:[ue,Ve,yt,vt,qt,Mt],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#1e3c72,#2a5298)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;width:100%;max-width:400px;border-radius:12px}.separator[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;color:#888}.register-link[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;text-decoration:underline}"]})};var vN=()=>["/team"];function yN(e,n){if(e&1&&(yn(0),h(1,"div",1)(2,"div",2),V(3,"img",3),p(),h(4,"div",4),v(5),p()(),_n()),e&2){let t=se();_(),I("routerLink",zr(5,vN)),Ft("aria-label","Editar equipo "+t.team.name),_(2),Cs("alt",t.team.name),I("src",t.team.image||"assets/images/team-default.png",Ze),_(2),Ee(t.team.name)}}var ld=class e{team;isAdd=!1;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-team-card"]],inputs:{team:"team",isAdd:"isAdd"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"team-card",3,"routerLink"],[1,"image-wrap"],[3,"src","alt"],[1,"name"]],template:function(t,r){t&1&&te(0,yN,6,6,"ng-container",0),t&2&&I("ngIf",r.team)},dependencies:[ue,Ve,Xr,dr],styles:[".team-card[_ngcontent-%COMP%]{width:140px;display:flex;flex-direction:column;align-items:center;gap:.5rem}.image-wrap[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:16px;overflow:hidden;box-shadow:0 8px 24px #0000001f;background:linear-gradient(135deg,#f0f4ff,#e8f0fe);transform:translateZ(0)}.image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.team-card[_ngcontent-%COMP%]:hover   .image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#0f172a;text-align:center}"]})};var _N=()=>["/team"];function wN(e,n){if(e&1){let t=$e();h(0,"button",7),ie("click",function(i){q(t);let o=se(2);return G(o.editCompetition(i))}),v(1," \u270F\uFE0F "),p()}}function bN(e,n){if(e&1){let t=$e();yn(0),h(1,"div",2),ie("click",function(){q(t);let i=se();return G(i.goToClassification())}),te(2,wN,2,0,"button",3),h(3,"div",4),V(4,"img",5),p(),h(5,"div",6),v(6),p()(),_n()}if(e&2){let t=se();_(),Ft("aria-label","Editar equipo desde campeonato "+t.competition.name),_(),I("ngIf",t.isCreator),_(2),Cs("alt",t.competition.name),I("src",t.competition.image||"assets/images/sports-center.jpeg",Ze),_(2),Ee(t.competition.name)}}function CN(e,n){e&1&&(h(0,"button",8)(1,"span",9),v(2,"+"),p(),h(3,"span",10),v(4,"Crear"),p()()),e&2&&I("routerLink",zr(1,_N))}var cd=class e{constructor(n){this.router=n}competition;isAdd=!1;isCreator=!1;editCompetition(n){n.stopPropagation(),this.competition&&this.router.navigate(["/competition"],{state:{competition:this.competition}})}goToClassification(){this.competition&&this.router.navigate(["/classification",this.competition.id])}static \u0275fac=function(t){return new(t||e)(F(Se))};static \u0275cmp=re({type:e,selectors:[["app-competition-card"]],inputs:{competition:"competition",isAdd:"isAdd",isCreator:"isCreator"},decls:3,vars:2,consts:[["addTpl",""],[4,"ngIf","ngIfElse"],[1,"competition-card",3,"click"],["type","button","class","edit-btn","aria-label","Editar competici\xF3n",3,"click",4,"ngIf"],[1,"image-wrap"],[3,"src","alt"],[1,"name"],["type","button","aria-label","Editar competici\xF3n",1,"edit-btn",3,"click"],["type","button","aria-label","Crear o editar equipo",1,"add-card",3,"routerLink"],[1,"plus"],[1,"label"]],template:function(t,r){if(t&1&&te(0,bN,7,5,"ng-container",1)(1,CN,5,2,"ng-template",null,0,cc),t&2){let i=nr(2);I("ngIf",!r.isAdd&&r.competition)("ngIfElse",i)}},dependencies:[ue,Ve,Xr,dr],styles:[".competition-card[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;gap:.5rem;padding:.75rem;border-radius:12px;background:#fff;box-shadow:0 2px 8px #00000014;transition:transform .15s ease,box-shadow .15s ease;cursor:pointer;width:var(--competition-card-width, 220px);box-sizing:border-box}.competition-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0000001f}.image-wrap[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:56.25%;overflow:hidden;border-radius:10px;background:#f3f4f6}.image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}.name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#111827;line-height:1.25rem;padding:0 .25rem;white-space:normal;overflow:visible;text-overflow:clip;overflow-wrap:anywhere}@media (min-width: 768px){.competition-card[_ngcontent-%COMP%]{padding:1rem;width:var(--competition-card-width, 220px)}.name[_ngcontent-%COMP%]{font-size:1.05rem}}"]})};var EN=()=>["/team"],DN=()=>["/competition"];function SN(e,n){if(e&1&&(yn(0),V(1,"app-team-card",14),_n()),e&2){let t=n.$implicit;_(),I("team",t)}}function IN(e,n){if(e&1&&(yn(0),V(1,"app-competition-card",15),_n()),e&2){let t=n.$implicit;_(),I("competition",t)}}var ud=class e{user={name:"Albert",avatar:"assets/images/default-avatar.jpg"};teams=[{id:1,name:"Ace Masters",sport_id:1,sport_name:1,image:"assets/images/team-default.png",gender:"mixed"},{id:2,name:"Baseline Kings",sport_id:1,sport_name:1,image:"assets/images/team-default.png",gender:"mixed"}];competitions=[{id:1,name:"Liga Club Tenis",image:null,sport_id:1,sport_name:1,type:"league",level:3,start_date:"2025-01-15",location:"Club Deportivo Central",is_open:!0},{id:2,name:"Torneo de Invierno",image:null,sport_id:1,sport_name:1,type:"tournament",level:3,start_date:"2025-02-01",location:"Real Club de Tenis",is_open:!1}];games=[{id:101,competition_id:1,date:"2025-01-22T18:30:00",type:"league",sport_id:"tennis",sport_name:"tennis",location:"Club Deportivo Central",level:3,team1:this.teams[0],team2:this.teams[1]},{id:102,competition_id:1,date:"2025-01-29T19:00:00",type:"league",sport_id:"tennis",sport_name:"tennis",location:"Club Deportivo Central",level:3,team1:this.teams[1],team2:this.teams[0]},{id:201,competition_id:2,date:"2025-02-05T20:00:00",type:"tournament",sport_id:"tennis",sport_name:"tennis",location:"Real Club de Tenis",level:3,team1:this.teams[0],team2:this.teams[1]},{id:202,competition_id:2,date:"2025-02-12T20:30:00",type:"tournament",sport_id:"tennis",sport_name:"tennis",location:"Real Club de Tenis",level:3,team1:this.teams[1],team2:this.teams[0]}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-user-dashboard"]],decls:32,vars:9,consts:[[1,"dashboard-header"],[1,"user-info"],[1,"avatar",3,"src"],[1,"subtitle"],[1,"notif-btn"],[1,"badge"],[1,"section"],[1,"section-header","d-flex","align-items-center"],[1,"fw-bold","mx-2"],["type","button","aria-label","Crear o editar equipo",1,"add-card",3,"routerLink"],[1,"plus"],[1,"carousel","mt-2"],[4,"ngFor","ngForOf"],[3,"games"],[1,"snap",3,"team"],[1,"snap",3,"competition"]],template:function(t,r){t&1&&(h(0,"header",0)(1,"div",1),V(2,"img",2),h(3,"div")(4,"h3"),v(5),p(),h(6,"span",3),v(7,"Bienvenido de nuevo"),p()()(),h(8,"button",4),v(9," \u{1F514} "),V(10,"span",5),p()(),h(11,"section",6)(12,"div",7)(13,"h2",8),v(14,"Mis equipos"),p(),h(15,"button",9)(16,"span",10),v(17,"+"),p()()(),h(18,"div",11),te(19,SN,2,1,"ng-container",12),p()(),h(20,"section",6),V(21,"app-next-games",13),p(),h(22,"section",6)(23,"div",7)(24,"h2",8),v(25,"Mis campeonatos"),p(),h(26,"button",9)(27,"span",10),v(28,"+"),p()()(),h(29,"div",11),te(30,IN,2,1,"ng-container",12),p()(),V(31,"app-footer")),t&2&&(_(2),I("src",r.user.avatar,Ze),_(3),jt("Hola, ",r.user.name,""),_(10),I("routerLink",zr(7,EN)),_(4),I("ngForOf",r.teams),_(2),I("games",r.games),_(5),I("routerLink",zr(8,DN)),_(4),I("ngForOf",r.competitions))},dependencies:[ue,pt,ld,Uo,Vo,cd,dr],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.user-info[_ngcontent-%COMP%]{display:flex;gap:.8rem}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%}.notif-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.3rem;position:relative}.badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:8px;height:8px;background:red;border-radius:50%}.section[_ngcontent-%COMP%]{padding:1rem}.section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .6rem;font-size:1rem;font-weight:700;color:#0f172a}.horizontal-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem}.carousel[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;overflow-x:auto;padding:.25rem .25rem .75rem;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}.carousel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.snap[_ngcontent-%COMP%]{scroll-snap-align:start}.card[_ngcontent-%COMP%]{min-width:160px;background:#fff;border-radius:1rem;padding:1rem;box-shadow:0 6px 20px #00000014}.add-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:2rem;color:#2563eb}.empty-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:.8rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.stat[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.8rem;padding:1rem;text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.dashboard-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;display:flex;justify-content:space-around;padding:.8rem;background:#fff;border-top:1px solid #eee}.add-card[_ngcontent-%COMP%]{min-width:60px;height:45px;border-radius:16px;border:2px dashed #93c5fd;background:#eff6ff;color:#2563eb;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.25rem;box-shadow:0 6px 20px #2563eb1f}.plus[_ngcontent-%COMP%]{font-size:2rem;line-height:1}.label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600}"]})};var dd=class e{center={name:"",google_maps_url:"",address:"",city:"",phone:"",website:""};submit(){console.log("Centro deportivo:",this.center)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-sports-center-form"]],decls:42,vars:7,consts:[["form","ngForm"],[1,"center-page"],[1,"container","py-5"],[1,"row","justify-content-center"],[1,"col-12","col-md-9","col-lg-6"],[1,"card","shadow-lg","center-card"],[1,"card-image"],["src","assets/images/sports-center.jpeg","alt","Centro deportivo"],[1,"card-body","p-4"],[1,"fw-bold","text-center","mb-2"],[1,"text-muted","text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","name","name","required","","placeholder","Ej. Centro Deportivo Municipal",1,"form-control",3,"ngModelChange","ngModel"],["type","url","name","google_maps_url","placeholder","https://maps.google.com/...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],["type","text","name","address","placeholder","Calle, n\xFAmero",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","city","placeholder","Ciudad",1,"form-control",3,"ngModelChange","ngModel"],["type","tel","name","phone","placeholder","+34 600 000 000",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["type","url","name","website","placeholder","https://...",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","py-2","fw-semibold",3,"disabled"]],template:function(t,r){if(t&1){let i=$e();h(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),V(6,"img",7),p(),h(7,"div",8)(8,"h2",9),v(9," A\xF1adir centro deportivo "),p(),h(10,"p",10),v(11," Introduce los datos b\xE1sicos o pega el enlace de Google Maps "),p(),h(12,"form",11,0),ie("ngSubmit",function(){return q(i),G(r.submit())}),h(14,"div",12)(15,"label",13),v(16,"Nombre del centro *"),p(),h(17,"input",14),N("ngModelChange",function(s){return q(i),k(r.center.name,s)||(r.center.name=s),G(s)}),p()(),h(18,"div",12)(19,"label",13),v(20," Enlace de Google Maps "),p(),h(21,"input",15),N("ngModelChange",function(s){return q(i),k(r.center.google_maps_url,s)||(r.center.google_maps_url=s),G(s)}),p(),h(22,"small",16),v(23," Puedes copiarlo directamente desde Google Maps "),p()(),h(24,"div",12)(25,"label",13),v(26,"Direcci\xF3n"),p(),h(27,"input",17),N("ngModelChange",function(s){return q(i),k(r.center.address,s)||(r.center.address=s),G(s)}),p()(),h(28,"div",12)(29,"label",13),v(30,"Ciudad"),p(),h(31,"input",18),N("ngModelChange",function(s){return q(i),k(r.center.city,s)||(r.center.city=s),G(s)}),p()(),h(32,"div",12)(33,"label",13),v(34,"Tel\xE9fono"),p(),h(35,"input",19),N("ngModelChange",function(s){return q(i),k(r.center.phone,s)||(r.center.phone=s),G(s)}),p()(),h(36,"div",20)(37,"label",13),v(38,"P\xE1gina web"),p(),h(39,"input",21),N("ngModelChange",function(s){return q(i),k(r.center.website,s)||(r.center.website=s),G(s)}),p()(),h(40,"button",22),v(41," Guardar centro deportivo "),p()()()()()()()()}if(t&2){let i=nr(13);_(17),R("ngModel",r.center.name),_(4),R("ngModel",r.center.google_maps_url),_(6),R("ngModel",r.center.address),_(4),R("ngModel",r.center.city),_(4),R("ngModel",r.center.phone),_(4),R("ngModel",r.center.website),_(),I("disabled",!i.valid)}},dependencies:[ue,yt,rd,vt,qt,td,Sa,Mt,Da],styles:[".center-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e4ecf7)}.center-card[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden;border:none}.card-image[_ngcontent-%COMP%]{height:180px;overflow:hidden}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.form-control[_ngcontent-%COMP%]{border-radius:12px;padding:12px}.btn-primary[_ngcontent-%COMP%]{border-radius:14px;background:linear-gradient(135deg,#0d6efd,#0a58ca);border:none}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6}@media (max-width: 576px){.card-image[_ngcontent-%COMP%]{height:140px}}"]})};function MN(e,n){if(e&1){let t=$e();h(0,"div",9)(1,"div",10)(2,"span",11),v(3,"Ma\xF1ana"),p(),h(4,"div",12)(5,"input",13),N("ngModelChange",function(i){q(t);let o=se().$implicit;return k(o.morning.start,i)||(o.morning.start=i),G(i)}),p(),h(6,"span"),v(7,"\u2013"),p(),h(8,"input",13),N("ngModelChange",function(i){q(t);let o=se().$implicit;return k(o.morning.end,i)||(o.morning.end=i),G(i)}),p()()(),h(9,"div",10)(10,"span",11),v(11,"Tarde"),p(),h(12,"div",12)(13,"input",13),N("ngModelChange",function(i){q(t);let o=se().$implicit;return k(o.afternoon.start,i)||(o.afternoon.start=i),G(i)}),p(),h(14,"span"),v(15,"\u2013"),p(),h(16,"input",13),N("ngModelChange",function(i){q(t);let o=se().$implicit;return k(o.afternoon.end,i)||(o.afternoon.end=i),G(i)}),p()()()()}if(e&2){let t=se().$implicit;_(5),R("ngModel",t.morning.start),_(3),R("ngModel",t.morning.end),_(5),R("ngModel",t.afternoon.start),_(3),R("ngModel",t.afternoon.end)}}function TN(e,n){if(e&1){let t=$e();h(0,"div",2)(1,"div",3)(2,"span",4),v(3),p(),h(4,"label",5)(5,"input",6),N("ngModelChange",function(i){let o=q(t).$implicit;return k(o.enabled,i)||(o.enabled=i),G(i)}),p(),V(6,"span",7),p()(),te(7,MN,17,4,"div",8),p()}if(e&2){let t=n.$implicit;_(3),Ee(t.label),_(2),R("ngModel",t.enabled),_(2),I("ngIf",t.enabled)}}var fd=class e{days=[{key:"mon",label:"Lunes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"tue",label:"Martes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"wed",label:"Mi\xE9rcoles",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"thu",label:"Jueves",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"fri",label:"Viernes",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"sat",label:"S\xE1bado",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}},{key:"sun",label:"Domingo",enabled:!0,morning:{start:null,end:null},afternoon:{start:"18:30",end:"23:00"}}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-team-availability"]],decls:4,vars:1,consts:[[1,"availability-card"],["class","day-card",4,"ngFor","ngForOf"],[1,"day-card"],[1,"day-header"],[1,"day-name"],[1,"switch"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"slider"],["class","day-times",4,"ngIf"],[1,"day-times"],[1,"time-block"],[1,"block-label"],[1,"time-row"],["type","time",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"h5"),v(2,"Disponibilidad horaria"),p(),te(3,TN,8,3,"div",1),p()),t&2&&(_(3),I("ngForOf",r.days))},dependencies:[ue,pt,Ve,yt,vt,pi,qt,Mt],styles:['.availability-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:20px;box-shadow:inset 0 0 0 1px #e9ecef}.availability-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:16px}.day-card[_ngcontent-%COMP%]{border-radius:16px;background:#f8f9fa;padding:14px;margin-bottom:12px}.day-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.day-name[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem}.day-times[_ngcontent-%COMP%]{margin-top:12px;display:grid;gap:12px}.time-block[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:10px}.block-label[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:#6c757d;display:block;margin-bottom:6px}.time-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.time-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border-radius:10px;border:1px solid #ced4da;padding:6px;font-size:.75rem}.switch[_ngcontent-%COMP%]{position:relative;width:44px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ced4da;border-radius:999px;transition:.2s}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background:#fff;border-radius:50%;transition:.2s}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#1e88e5}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}@media (min-width: 768px){.day-times[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}']})};var hd=class e{team={name:"",gender:"mixed",level:"",category:"",sport_id:null,max_players:null,image:""};submit(){console.log("Equipo:",this.team)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-team-form"]],decls:86,vars:0,consts:[[1,"team-page"],[1,"container","py-4"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-7"],[1,"card","team-card","shadow-lg"],[1,"team-header"],[1,"card-body","p-4"],[1,"form-section","text-center"],[1,"team-avatar-wrapper"],["src","assets/images/team-default.png","alt","Equipo",1,"team-avatar"],[1,"edit-avatar-btn"],[1,"text-muted","d-block","mt-2"],[1,"form-section"],["placeholder","Nombre del equipo",1,"form-control","mb-3"],[1,"form-select"],["value",""],[1,"level-selector"],[1,"level-pill","active"],[1,"level-pill"],[1,"form-select","mb-3"],["placeholder","Buscar jugador por nombre...",1,"form-control"],[1,"search-results","mt-2"],[1,"search-item"],[1,"players-list","mt-3"],[1,"player-chip"],[1,"btn","btn-primary","w-100","py-2","mt-4"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),v(7,"Equipo"),p(),h(8,"p"),v(9,"Alta y edici\xF3n de equipo"),p()(),h(10,"div",6)(11,"section",7)(12,"div",8),V(13,"img",9),h(14,"button",10),v(15," \u270E "),p()(),h(16,"small",11),v(17," Cambiar imagen del equipo "),p()(),h(18,"section",12)(19,"h5"),v(20,"Datos del equipo"),p(),V(21,"input",13),h(22,"select",14)(23,"option",15),v(24,"G\xE9nero"),p(),h(25,"option"),v(26,"Mixto"),p(),h(27,"option"),v(28,"Masculino"),p(),h(29,"option"),v(30,"Femenino"),p()()(),h(31,"section",12)(32,"h5"),v(33,"Nivel del equipo"),p(),h(34,"div",16)(35,"button",17),v(36,"Principiante"),p(),h(37,"button",18),v(38,"Intermedio"),p(),h(39,"button",18),v(40,"Avanzado"),p(),h(41,"button",18),v(42,"Competici\xF3n"),p()()(),h(43,"section",12)(44,"h5"),v(45,"Deporte y centro"),p(),h(46,"select",19)(47,"option",15),v(48,"Deporte"),p(),h(49,"option"),v(50,"P\xE1del"),p(),h(51,"option"),v(52,"Tenis"),p(),h(53,"option"),v(54,"F\xFAtbol"),p()(),h(55,"select",14)(56,"option",15),v(57,"Centro deportivo"),p(),h(58,"option"),v(59,"Centro Deportivo Norte"),p(),h(60,"option"),v(61,"Club P\xE1del Indoor"),p()()(),h(62,"section",12)(63,"h5"),v(64,"Jugadores"),p(),V(65,"input",20),h(66,"div",21)(67,"div",22),v(68,"Juan P\xE9rez"),p(),h(69,"div",22),v(70,"Mar\xEDa L\xF3pez"),p()(),h(71,"div",23)(72,"div",24),v(73," Juan P\xE9rez "),h(74,"span"),v(75,"\u2715"),p()(),h(76,"div",24),v(77," Mar\xEDa L\xF3pez "),h(78,"span"),v(79,"\u2715"),p()()()(),h(80,"section",12),V(81,"app-team-availability"),p(),h(82,"button",25),v(83," Guardar "),p(),h(84,"button",25),v(85," Cancelar "),p()()()()()()())},dependencies:[ue,yt,qo,Go,fd],styles:[".team-page[_ngcontent-%COMP%]{background:#f5f7fa;min-height:100vh}.team-card[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;border:none}.team-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e88e5,#42a5f5);color:#fff;padding:24px}.team-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.team-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:12px}.team-avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}.team-avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:4px solid #fff;box-shadow:0 8px 20px #00000026}.edit-avatar-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background:#1e88e5;border:none;width:36px;height:36px;border-radius:50%;color:#fff;font-size:.9rem;box-shadow:0 4px 10px #00000040}.level-selector[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.level-pill[_ngcontent-%COMP%]{border:1px solid #ced4da;background:#fff;border-radius:999px;padding:8px 14px;font-size:.8rem;font-weight:600}.level-pill.active[_ngcontent-%COMP%]{background:#1e88e5;color:#fff;border-color:#1e88e5}.players-list[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.player-chip[_ngcontent-%COMP%]{background:#e9ecef;border-radius:999px;padding:6px 12px;font-size:.75rem;display:flex;align-items:center;gap:6px}.player-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.search-results[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;overflow:hidden}.search-item[_ngcontent-%COMP%]{padding:10px 14px;font-size:.85rem;border-bottom:1px solid #f1f1f1}.search-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.team-card[_ngcontent-%COMP%]{border-radius:20px}}"]})};function xN(e,n){if(e&1&&(h(0,"div",67),v(1),p()),e&2){let t=se();_(),Ee(t.error)}}function AN(e,n){e&1&&(h(0,"div",68),v(1,"Guardado correctamente"),p())}var pd=class e{supabase=E(Qe);router=E(Se);competition={sport_id:null,name:"",type:null,level:null,min_teams:null,max_teams:null,min_players_per_team:null,max_players_per_team:null,start_date:null,end_date:null,registration_open_at:null,registration_close_at:null,location:null,timezone:"Europe/Madrid",organizer_name:"",organizer_email:"",organizer_phone:"",is_open:!0,status:"en_espera",back_to_back:!1,allow_draws:!0,points_win:3,points_draw:1,points_loss:0,fee_amount:null,fee_currency:"EUR",description:"",rules_url:"",prizes:"",banner_url:"",is_public:!0};saving=!1;error=null;success=!1;ngOnInit(){let t=this.router.getCurrentNavigation()?.extras?.state?.competition;t&&(this.competition=Z(D({},this.competition),{id:t.id,sport_id:t.sport_id??null,name:t.name??"",type:t.type??null,level:t.level??null,start_date:t.start_date??null,location:t.location??null,is_open:t.is_open??!0}))}save(){return g(this,null,function*(){this.error=null,this.success=!1,this.saving=!0;try{let n=this.supabase.client,t=D({},this.competition);if(Object.keys(t).forEach(r=>{t[r]===""&&(t[r]=null)}),this.competition.id){let{error:r}=yield n.from("competitions").update(t).eq("id",this.competition.id);if(r)throw r}else{let{data:r,error:i}=yield n.from("competitions").insert(t).select().single();if(i)throw i;this.competition.id=r.id}this.success=!0}catch(n){this.error=n?.message||"Error al guardar"}finally{this.saving=!1}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=re({type:e,selectors:[["app-competition-form"]],decls:182,vars:51,consts:[[1,"competition-page"],[1,"container","py-4"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-8"],[1,"card","competition-card","shadow-lg"],[1,"competition-header"],[1,"card-body","p-4"],[1,"form-section","text-center"],[1,"banner-wrapper"],["src","assets/images/sports-center.jpeg","alt","Banner",1,"banner-img"],["title","Cambiar banner",1,"edit-banner-btn"],[1,"text-muted","d-block","mt-2"],[1,"form-section"],[1,"row","g-3"],[1,"col-12"],["placeholder","Nombre de la competici\xF3n","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["name","sport_id",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],["name","type",1,"form-select",3,"ngModelChange","ngModel"],["name","level",1,"form-select",3,"ngModelChange","ngModel"],["name","status",1,"form-select",3,"ngModelChange","ngModel"],["value","en_espera"],["value","iniciada"],["value","finalizada"],[1,"col-12","d-flex","gap-3","flex-wrap","mt-1"],[1,"form-check","form-switch","m-0"],["type","checkbox","name","is_open",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"ms-2"],["type","checkbox","name","back_to_back",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"col-6"],["type","number","min","2","placeholder","M\xEDn. equipos","name","min_teams",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","2","placeholder","M\xE1x. equipos","name","max_teams",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","M\xEDn. jugadores por equipo","name","min_players_per_team",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","M\xE1x. jugadores por equipo","name","max_players_per_team",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label"],["type","date","name","start_date",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","end_date",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","registration_open_at",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","registration_close_at",1,"form-control",3,"ngModelChange","ngModel"],["name","location",1,"form-select",3,"ngModelChange","ngModel"],["placeholder","Direcci\xF3n / Pista","name","banner_url",1,"form-control",3,"ngModelChange","ngModel"],["name","timezone",1,"form-select",3,"ngModelChange","ngModel"],["value","Europe/Madrid"],["value","Atlantic/Canary"],["placeholder","Organizador","name","organizer_name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-3"],["type","email","placeholder","Email","name","organizer_email",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Tel\xE9fono","name","organizer_phone",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","placeholder","Descripci\xF3n / reglas","name","description",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Enlace a bases/reglamento (opcional)","name","rules_url",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Premios (opcional)","name","prizes",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","d-flex","gap-3","flex-wrap"],["type","checkbox","name","allow_draws",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"points-grid"],["type","number","name","points_win",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","points_draw",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","points_loss",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-8"],["type","number","min","0","step","0.01","placeholder","Cuota de inscripci\xF3n","name","fee_amount",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-4"],["name","fee_currency",1,"form-select",3,"ngModelChange","ngModel"],["value","EUR"],["value","USD"],["class","mt-2","style","color:#c62828;",4,"ngIf"],["class","mt-2","style","color:#2e7d32;",4,"ngIf"],[1,"btn","btn-primary","w-100","py-2","mt-2",3,"click","disabled"],[1,"mt-2",2,"color","#c62828"],[1,"mt-2",2,"color","#2e7d32"]],template:function(t,r){t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),v(7,"Competici\xF3n"),p(),h(8,"p"),v(9,"Alta y edici\xF3n de competici\xF3n"),p()(),h(10,"div",6)(11,"section",7)(12,"div",8),V(13,"img",9),h(14,"button",10),v(15,"\u270E"),p()(),h(16,"small",11),v(17,"Cambiar imagen/banner"),p()(),h(18,"section",12)(19,"h5"),v(20,"Datos b\xE1sicos"),p(),h(21,"div",13)(22,"div",14)(23,"input",15),N("ngModelChange",function(o){return k(r.competition.name,o)||(r.competition.name=o),o}),p()(),h(24,"div",16)(25,"select",17),N("ngModelChange",function(o){return k(r.competition.sport_id,o)||(r.competition.sport_id=o),o}),h(26,"option",18),v(27,"Deporte"),p(),h(28,"option",18),v(29,"P\xE1del"),p(),h(30,"option",18),v(31,"Tenis"),p(),h(32,"option",18),v(33,"F\xFAtbol"),p(),h(34,"option",18),v(35,"Basket"),p()()(),h(36,"div",16)(37,"select",19),N("ngModelChange",function(o){return k(r.competition.type,o)||(r.competition.type=o),o}),h(38,"option",18),v(39,"Tipo"),p(),h(40,"option",18),v(41,"Liga"),p(),h(42,"option",18),v(43,"Torneo"),p()()(),h(44,"div",16)(45,"select",20),N("ngModelChange",function(o){return k(r.competition.level,o)||(r.competition.level=o),o}),h(46,"option",18),v(47,"Nivel"),p(),h(48,"option",18),v(49,"Principiante"),p(),h(50,"option",18),v(51,"Intermedio"),p(),h(52,"option",18),v(53,"Avanzado"),p(),h(54,"option",18),v(55,"Competici\xF3n"),p()()(),h(56,"div",16)(57,"select",21),N("ngModelChange",function(o){return k(r.competition.status,o)||(r.competition.status=o),o}),h(58,"option",22),v(59,"En espera"),p(),h(60,"option",23),v(61,"Iniciada"),p(),h(62,"option",24),v(63,"Finalizada"),p()()(),h(64,"div",25)(65,"label",26)(66,"input",27),N("ngModelChange",function(o){return k(r.competition.is_open,o)||(r.competition.is_open=o),o}),p(),h(67,"span",28),v(68,"Inscripci\xF3n abierta (p\xFAblica)"),p()(),h(69,"label",26)(70,"input",29),N("ngModelChange",function(o){return k(r.competition.back_to_back,o)||(r.competition.back_to_back=o),o}),p(),h(71,"span",28),v(72,"Ida y vuelta"),p()()()()(),h(73,"section",12)(74,"h5"),v(75,"Equipos"),p(),h(76,"div",13)(77,"div",30)(78,"input",31),N("ngModelChange",function(o){return k(r.competition.min_teams,o)||(r.competition.min_teams=o),o}),p()(),h(79,"div",30)(80,"input",32),N("ngModelChange",function(o){return k(r.competition.max_teams,o)||(r.competition.max_teams=o),o}),p()(),h(81,"div",30)(82,"input",33),N("ngModelChange",function(o){return k(r.competition.min_players_per_team,o)||(r.competition.min_players_per_team=o),o}),p()(),h(83,"div",30)(84,"input",34),N("ngModelChange",function(o){return k(r.competition.max_players_per_team,o)||(r.competition.max_players_per_team=o),o}),p()()()(),h(85,"section",12)(86,"h5"),v(87,"Fechas"),p(),h(88,"div",13)(89,"div",16)(90,"label",35),v(91,"Inicio"),p(),h(92,"input",36),N("ngModelChange",function(o){return k(r.competition.start_date,o)||(r.competition.start_date=o),o}),p()(),h(93,"div",16)(94,"label",35),v(95,"Fin"),p(),h(96,"input",37),N("ngModelChange",function(o){return k(r.competition.end_date,o)||(r.competition.end_date=o),o}),p()(),h(97,"div",16)(98,"label",35),v(99,"Apertura inscripciones"),p(),h(100,"input",38),N("ngModelChange",function(o){return k(r.competition.registration_open_at,o)||(r.competition.registration_open_at=o),o}),p()(),h(101,"div",16)(102,"label",35),v(103,"Cierre inscripciones"),p(),h(104,"input",39),N("ngModelChange",function(o){return k(r.competition.registration_close_at,o)||(r.competition.registration_close_at=o),o}),p()()()(),h(105,"section",12)(106,"h5"),v(107,"Localizaci\xF3n"),p(),h(108,"div",13)(109,"div",16)(110,"select",40),N("ngModelChange",function(o){return k(r.competition.location,o)||(r.competition.location=o),o}),h(111,"option",18),v(112,"Zona / Centro"),p(),h(113,"option",18),v(114,"Centro Deportivo Norte"),p(),h(115,"option",18),v(116,"Club P\xE1del Indoor"),p()()(),h(117,"div",16)(118,"input",41),N("ngModelChange",function(o){return k(r.competition.banner_url,o)||(r.competition.banner_url=o),o}),p()(),h(119,"div",16)(120,"select",42),N("ngModelChange",function(o){return k(r.competition.timezone,o)||(r.competition.timezone=o),o}),h(121,"option",18),v(122,"Zona horaria"),p(),h(123,"option",43),v(124,"Europe/Madrid"),p(),h(125,"option",44),v(126,"Atlantic/Canary"),p()()()()(),h(127,"section",12)(128,"h5"),v(129,"Organizaci\xF3n"),p(),h(130,"div",13)(131,"div",16)(132,"input",45),N("ngModelChange",function(o){return k(r.competition.organizer_name,o)||(r.competition.organizer_name=o),o}),p()(),h(133,"div",46)(134,"input",47),N("ngModelChange",function(o){return k(r.competition.organizer_email,o)||(r.competition.organizer_email=o),o}),p()(),h(135,"div",46)(136,"input",48),N("ngModelChange",function(o){return k(r.competition.organizer_phone,o)||(r.competition.organizer_phone=o),o}),p()()()(),h(137,"section",12)(138,"h5"),v(139,"Reglas y puntuaci\xF3n"),p(),h(140,"div",13)(141,"div",14)(142,"textarea",49),N("ngModelChange",function(o){return k(r.competition.description,o)||(r.competition.description=o),o}),p()(),h(143,"div",16)(144,"input",50),N("ngModelChange",function(o){return k(r.competition.rules_url,o)||(r.competition.rules_url=o),o}),p()(),h(145,"div",16)(146,"input",51),N("ngModelChange",function(o){return k(r.competition.prizes,o)||(r.competition.prizes=o),o}),p()(),h(147,"div",52)(148,"label",26)(149,"input",53),N("ngModelChange",function(o){return k(r.competition.allow_draws,o)||(r.competition.allow_draws=o),o}),p(),h(150,"span",28),v(151,"Permitir empates"),p()()(),h(152,"div",14)(153,"div",54)(154,"div")(155,"label",35),v(156,"Puntos por victoria"),p(),h(157,"input",55),N("ngModelChange",function(o){return k(r.competition.points_win,o)||(r.competition.points_win=o),o}),p()(),h(158,"div")(159,"label",35),v(160,"Puntos por empate"),p(),h(161,"input",56),N("ngModelChange",function(o){return k(r.competition.points_draw,o)||(r.competition.points_draw=o),o}),p()(),h(162,"div")(163,"label",35),v(164,"Puntos por derrota"),p(),h(165,"input",57),N("ngModelChange",function(o){return k(r.competition.points_loss,o)||(r.competition.points_loss=o),o}),p()()()()()(),h(166,"section",12)(167,"h5"),v(168,"Inscripci\xF3n"),p(),h(169,"div",13)(170,"div",58)(171,"input",59),N("ngModelChange",function(o){return k(r.competition.fee_amount,o)||(r.competition.fee_amount=o),o}),p()(),h(172,"div",60)(173,"select",61),N("ngModelChange",function(o){return k(r.competition.fee_currency,o)||(r.competition.fee_currency=o),o}),h(174,"option",62),v(175,"EUR"),p(),h(176,"option",63),v(177,"USD"),p()()()()(),te(178,xN,2,1,"div",64)(179,AN,2,0,"div",65),h(180,"button",66),ie("click",function(){return r.save()}),v(181),p()()()()()()()),t&2&&(_(23),R("ngModel",r.competition.name),_(2),R("ngModel",r.competition.sport_id),_(),I("ngValue",null),_(2),I("ngValue",1),_(2),I("ngValue",2),_(2),I("ngValue",3),_(2),I("ngValue",4),_(3),R("ngModel",r.competition.type),_(),I("ngValue",null),_(2),I("ngValue",1),_(2),I("ngValue",2),_(3),R("ngModel",r.competition.level),_(),I("ngValue",null),_(2),I("ngValue",1),_(2),I("ngValue",2),_(2),I("ngValue",3),_(2),I("ngValue",4),_(3),R("ngModel",r.competition.status),_(9),R("ngModel",r.competition.is_open),_(4),R("ngModel",r.competition.back_to_back),_(8),R("ngModel",r.competition.min_teams),_(2),R("ngModel",r.competition.max_teams),_(2),R("ngModel",r.competition.min_players_per_team),_(2),R("ngModel",r.competition.max_players_per_team),_(8),R("ngModel",r.competition.start_date),_(4),R("ngModel",r.competition.end_date),_(4),R("ngModel",r.competition.registration_open_at),_(4),R("ngModel",r.competition.registration_close_at),_(6),R("ngModel",r.competition.location),_(),I("ngValue",null),_(2),I("ngValue",1),_(2),I("ngValue",2),_(3),R("ngModel",r.competition.banner_url),_(2),R("ngModel",r.competition.timezone),_(),I("ngValue",null),_(11),R("ngModel",r.competition.organizer_name),_(2),R("ngModel",r.competition.organizer_email),_(2),R("ngModel",r.competition.organizer_phone),_(6),R("ngModel",r.competition.description),_(2),R("ngModel",r.competition.rules_url),_(2),R("ngModel",r.competition.prizes),_(3),R("ngModel",r.competition.allow_draws),_(8),R("ngModel",r.competition.points_win),_(4),R("ngModel",r.competition.points_draw),_(4),R("ngModel",r.competition.points_loss),_(6),R("ngModel",r.competition.fee_amount),_(2),R("ngModel",r.competition.fee_currency),_(5),I("ngIf",r.error),_(),I("ngIf",r.success),_(),I("disabled",r.saving),_(),Ee(r.saving?"Guardando...":"Guardar competici\xF3n"))},dependencies:[ue,Ve,yt,qo,Go,vt,pm,pi,Wo,qt,gm,Mt],styles:[".competition-page[_ngcontent-%COMP%]{background:#f5f7fa;min-height:100vh}.competition-card[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;border:none}.competition-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e88e5,#42a5f5);color:#fff;padding:24px}.competition-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700}.competition-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:.9rem}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:12px}.banner-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:220px;border-radius:16px;overflow:hidden;box-shadow:0 8px 20px #00000026}.banner-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.edit-banner-btn[_ngcontent-%COMP%]{position:absolute;bottom:12px;right:12px;background:#1e88e5;border:none;width:40px;height:40px;border-radius:50%;color:#fff;font-size:.95rem;box-shadow:0 4px 10px #00000040}.points-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:12px}@media (max-width: 768px){.competition-card[_ngcontent-%COMP%]{border-radius:20px}.banner-wrapper[_ngcontent-%COMP%]{height:160px}.points-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function ON(e,n){e&1&&(h(0,"div",6),v(1,"L"),p())}function RN(e,n){if(e&1&&(h(0,"div",6),v(1),p()),e&2){let t=se().$implicit;_(),Ee(t.lost)}}function NN(e,n){if(e&1&&(h(0,"div",10)(1,"div",4)(2,"div",11),V(3,"img",12),h(4,"span",13),v(5),p()(),h(6,"span",14),v(7),p()(),h(8,"div",5),v(9),p(),h(10,"div",6),v(11),p(),h(12,"div",6),v(13),p(),te(14,RN,2,1,"div",7),h(15,"div",8),v(16),p()()),e&2){let t=n.$implicit,r=n.index,i=se();tr("leader",r===0),I("ngClass",i.hasLoses?"cols-6":"cols-5"),_(3),I("src","/assets/images/team-default.png",Ze)("alt","Escudo "+t.team),_(),Ft("aria-label","Posici\xF3n "+t.position),_(),Ee(t.position),_(),I("title",t.team),_(),Ee(t.team),_(2),Ee(t.played),_(2),Ee(t.won),_(2),Ee(t.draw),_(),I("ngIf",i.hasLoses),_(2),Ee(t.points)}}var gd=class e{constructor(n){this.route=n}competitionId;hasLoses=!0;rows=[];ngOnInit(){let n=this.route.snapshot.paramMap.get("id");this.competitionId=n?Number(n):0,this.rows=[{position:1,team:"Equipo A",played:10,won:8,draw:1,lost:1,points:25},{position:2,team:"Equipo B",played:10,won:7,draw:2,lost:1,points:23},{position:3,team:"Equipo C",played:10,won:5,draw:3,lost:2,points:18}]}getWinPct(n){let t=n.won+n.lost+n.draw;return t?Math.round(n.won/t*100):0}static \u0275fac=function(t){return new(t||e)(F(Ht))};static \u0275cmp=re({type:e,selectors:[["app-classification"]],decls:20,vars:4,consts:[[1,"classification"],[1,"subtitle"],["aria-label","Tabla de clasificaci\xF3n",1,"standings"],[1,"row","header",3,"ngClass"],[1,"cell","team"],[1,"cell","pj"],[1,"cell","num"],["class","cell num",4,"ngIf"],[1,"cell","pts"],["class","row",3,"leader","ngClass",4,"ngFor","ngForOf"],[1,"row",3,"ngClass"],[1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"pos"],[1,"name",3,"title"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"header")(2,"h1"),v(3,"Clasificaci\xF3n"),p(),h(4,"p",1),v(5),p()(),h(6,"div",2)(7,"div",3)(8,"div",4),v(9,"Equipo"),p(),h(10,"div",5),v(11,"PJ"),p(),h(12,"div",6),v(13,"W"),p(),h(14,"div",6),v(15,"D"),p(),te(16,ON,2,0,"div",7),h(17,"div",8),v(18,"PTOS"),p()(),te(19,NN,17,14,"div",9),p()()),t&2&&(_(5),jt("Competici\xF3n: ",r.competitionId,""),_(2),I("ngClass",r.hasLoses?"cols-6":"cols-5"),_(9),I("ngIf",r.hasLoses),_(3),I("ngForOf",r.rows))},dependencies:[ue,Wr,pt,Ve,Xr],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.classification[_ngcontent-%COMP%]{padding:8px}.standings[_ngcontent-%COMP%]{width:100%;max-width:960px;margin:0 auto;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;background:#fff;padding:.5rem}.row[_ngcontent-%COMP%]{display:grid;gap:4px;align-items:center;padding:4px 6px;font-size:.8rem}.row.header[_ngcontent-%COMP%]{background:#f8fafc;color:#475569;font-weight:600;font-size:.7rem}.row[_ngcontent-%COMP%] + .row[_ngcontent-%COMP%]{border-top:1px solid #f1f5f9}.row.cols-6[_ngcontent-%COMP%]{grid-template-columns:29.13% 13.59% 13.59% 13.59% 13.59% 16.51%}.row.cols-5[_ngcontent-%COMP%]{grid-template-columns:33.71% 15.73% 15.73% 15.73% 19.1%}.cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.cell.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;min-width:0}.cell.pj[_ngcontent-%COMP%], .cell.num[_ngcontent-%COMP%], .cell.pts[_ngcontent-%COMP%]{text-align:center;font-variant-numeric:tabular-nums}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:65px;height:65px;display:inline-block}.avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:block;width:65px;height:65px}.avatar-wrapper[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{position:absolute;top:4px;left:50%;transform:translate(-50%);z-index:1;font-weight:800;font-size:.9rem;line-height:1;color:#000;-webkit-text-stroke:1px #fff;text-shadow:0 1px 0 #fff,1px 0 0 #fff,0 -1px 0 #fff,-1px 0 0 #fff}.pos[_ngcontent-%COMP%]{min-width:30px;text-align:center;font-weight:600;color:#334155}.avatar[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:4px;object-fit:cover;border:1px solid #e5e7eb}.name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.row.leader[_ngcontent-%COMP%]   .cell.pts[_ngcontent-%COMP%]{color:#4f46e5;font-weight:700}"]})};var _E=[{path:"",component:qu},{path:"user-profile",component:sd},{path:"dashboard",component:ud},{path:"login",component:ad},{path:"sports-center",component:dd},{path:"team",component:hd},{path:"competition",component:pd},{path:"classification/:id",component:gd},{path:"**",redirectTo:""}];hp(Hu,{providers:[Bp(_E,Hp())]}).catch(e=>console.error(e));

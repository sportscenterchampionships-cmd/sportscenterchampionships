var cE=Object.create;var Hi=Object.defineProperty,uE=Object.defineProperties,dE=Object.getOwnPropertyDescriptor,fE=Object.getOwnPropertyDescriptors,hE=Object.getOwnPropertyNames,Np=Object.getOwnPropertySymbols,pE=Object.getPrototypeOf,Pp=Object.prototype.hasOwnProperty,gE=Object.prototype.propertyIsEnumerable;var kp=(n,e,t)=>e in n?Hi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,w=(n,e)=>{for(var t in e||={})Pp.call(e,t)&&kp(n,t,e[t]);if(Np)for(var t of Np(e))gE.call(e,t)&&kp(n,t,e[t]);return n},z=(n,e)=>uE(n,fE(e));var S=(n,e)=>()=>(n&&(e=n(n=0)),e);var ke=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),zi=(n,e)=>{for(var t in e)Hi(n,t,{get:e[t],enumerable:!0})},Fp=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of hE(e))!Pp.call(n,i)&&i!==t&&Hi(n,i,{get:()=>e[i],enumerable:!(r=dE(e,i))||r.enumerable});return n};var mE=(n,e,t)=>(t=n!=null?cE(pE(n)):{},Fp(e||!n||!n.__esModule?Hi(t,"default",{value:n,enumerable:!0}):t,n)),He=n=>Fp(Hi({},"__esModule",{value:!0}),n);var h=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(c){i(c)}},s=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var Fn={};zi(Fn,{__addDisposableResource:()=>yg,__assign:()=>Ts,__asyncDelegator:()=>dg,__asyncGenerator:()=>As,__asyncValues:()=>Rs,__await:()=>Et,__awaiter:()=>_,__classPrivateFieldGet:()=>gg,__classPrivateFieldIn:()=>vg,__classPrivateFieldSet:()=>mg,__createBinding:()=>xs,__decorate:()=>Xp,__disposeResources:()=>_g,__esDecorate:()=>tg,__exportStar:()=>ag,__extends:()=>Qp,__generator:()=>sg,__importDefault:()=>pg,__importStar:()=>hg,__makeTemplateObject:()=>fg,__metadata:()=>og,__param:()=>eg,__propKey:()=>rg,__read:()=>yu,__rest:()=>$t,__rewriteRelativeImportExtension:()=>wg,__runInitializers:()=>ng,__setFunctionName:()=>ig,__spread:()=>lg,__spreadArray:()=>ug,__spreadArrays:()=>cg,__values:()=>Ms,default:()=>OE});function Qp(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");mu(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function $t(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Xp(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function eg(n,e){return function(t,r){e(t,r,n)}}function tg(n,e,t,r,i,o){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&n?r.static?n:n.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,p=!1,d=t.length-1;d>=0;d--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(y||null))};var v=(0,t[d])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(u.get=f),(f=s(v.set))&&(u.set=f),(f=s(v.init))&&i.unshift(f)}else(f=s(v))&&(a==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,r.name,u),p=!0}function ng(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function rg(n){return typeof n=="symbol"?n:"".concat(n)}function ig(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function og(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function _(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function sg(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ag(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xs(e,n,t)}function Ms(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yu(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function lg(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(yu(arguments[e]));return n}function cg(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function ug(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function Et(n){return this instanceof Et?(this.v=n,this):new Et(n)}function As(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(d){return function(g){return Promise.resolve(g).then(d,f)}}function a(d,g){r[d]&&(i[d]=function(m){return new Promise(function(v,y){o.push([d,m,v,y])>1||l(d,m)})},g&&(i[d]=g(i[d])))}function l(d,g){try{c(r[d](g))}catch(m){p(o[0][3],m)}}function c(d){d.value instanceof Et?Promise.resolve(d.value.v).then(u,f):p(o[0][2],d)}function u(d){l("next",d)}function f(d){l("throw",d)}function p(d,g){d(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function dg(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=n[i]?function(s){return(t=!t)?{value:Et(n[i](s)),done:!1}:o?o(s):s}:o}}function Rs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ms=="function"?Ms(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function fg(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function hg(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=vu(n),r=0;r<t.length;r++)t[r]!=="default"&&xs(e,n,t[r]);return AE(e,n),e}function pg(n){return n&&n.__esModule?n:{default:n}}function gg(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function mg(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function vg(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function yg(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function _g(n){function e(o){n.error=n.hasError?new RE(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var t,r=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function wg(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,i,o,s){return r?e?".jsx":".js":i&&(!o||!s)?t:i+o+"."+s.toLowerCase()+"js"}):n}var mu,Ts,xs,AE,vu,RE,OE,ie=S(()=>{"use strict";mu=function(n,e){return mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},mu(n,e)};Ts=function(){return Ts=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ts.apply(this,arguments)};xs=Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};AE=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},vu=function(n){return vu=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},vu(n)};RE=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};OE={__extends:Qp,__assign:Ts,__rest:$t,__decorate:Xp,__param:eg,__esDecorate:tg,__runInitializers:ng,__propKey:rg,__setFunctionName:ig,__metadata:og,__awaiter:_,__generator:sg,__createBinding:xs,__exportStar:ag,__values:Ms,__read:yu,__spread:lg,__spreadArrays:cg,__spreadArray:ug,__await:Et,__asyncGenerator:As,__asyncDelegator:dg,__asyncValues:Rs,__makeTemplateObject:fg,__importStar:hg,__importDefault:pg,__classPrivateFieldGet:gg,__classPrivateFieldSet:mg,__classPrivateFieldIn:vg,__addDisposableResource:yg,__disposeResources:_g,__rewriteRelativeImportExtension:wg}});var B_,H_=S(()=>{"use strict";B_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e)});var or,gi,sr,ar,Ho,rh=S(()=>{"use strict";or=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},gi=class extends or{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},sr=class extends or{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ar=class extends or{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Ho=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Ho||{})});var $l,z_=S(()=>{"use strict";ie();H_();rh();$l=class{constructor(e,{headers:t={},customFetch:r,region:i=Ho.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=B_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:f}=r,p={},{region:d}=r;d||(d=this.region);let g=new URL(`${this.url}/${t}`);d&&d!=="any"&&(p["x-region"]=d,g.searchParams.set("forceFunctionRegion",d));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let v=u;f&&(s=new AbortController,o=setTimeout(()=>s.abort(),f),u?(v=s.signal,u.addEventListener("abort",()=>s.abort())):v=s.signal);let y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:v}).catch(Z=>{throw new gi(Z)}),U=y.headers.get("x-relay-error");if(U&&U==="true")throw new sr(y);if(!y.ok)throw new ar(y);let E=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),D;return E==="application/json"?D=yield y.json():E==="application/octet-stream"||E==="application/pdf"?D=yield y.blob():E==="text/event-stream"?D=y:E==="multipart/form-data"?D=yield y.formData():D=yield y.text(),{data:D,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof ar||a instanceof sr?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var ih={};zi(ih,{FunctionRegion:()=>Ho,FunctionsClient:()=>$l,FunctionsError:()=>or,FunctionsFetchError:()=>gi,FunctionsHttpError:()=>ar,FunctionsRelayError:()=>sr});var oh=S(()=>{"use strict";z_();rh()});var lh=ke(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});var sh=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ah.default=sh});var dh=ke(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var Ex=(ie(),He(Fn)),Dx=Ex.__importDefault(lh()),ch=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l,c;let u=null,f=null,p=null,d=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let U=yield o.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}let v=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,d=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{let v=yield o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(f=[],u=null,d=200,g="OK")}catch{o.status===404&&v===""?(d=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new Dx.default(u)}return{error:u,data:f,count:p,status:d,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,f;let p="",d=o?.cause;if(d){let g=(s=d?.message)!==null&&s!==void 0?s:"",m=(a=d?.code)!==null&&a!==void 0?a:"";p=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,p+=`

Caused by: ${(c=d?.name)!==null&&c!==void 0?c:"Error"}: ${g}`,m&&(p+=` (${m})`),d?.stack&&(p+=`
${d.stack}`)}else p=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};uh.default=ch});var ph=ke(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});var Cx=(ie(),He(Fn)),Ix=Cx.__importDefault(dh()),fh=class extends Ix.default{select(e){let t=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};hh.default=fh});var Ul=ke(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});var Sx=(ie(),He(Fn)),Tx=Sx.__importDefault(ph()),Mx=new RegExp("[,()]"),gh=class extends Tx.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&Mx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};mh.default=gh});var _h=ke(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var xx=(ie(),He(Fn)),zo=xx.__importDefault(Ul()),vh=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(e,t){let{head:r=!1,count:i}=t??{},o=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new zo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;let o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new zo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new zo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;let i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new zo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new zo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};yh.default=vh});var G_=ke(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});var q_=(ie(),He(Fn)),Ax=q_.__importDefault(_h()),Rx=q_.__importDefault(Ul()),wh=class n{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let t=new URL(`${this.url}/${e}`);return new Ax.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${e}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",c=t);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new Rx.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};bh.default=wh});var Eh=ke(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;var mi=(ie(),He(Fn)),W_=mi.__importDefault(G_());Ne.PostgrestClient=W_.default;var K_=mi.__importDefault(_h());Ne.PostgrestQueryBuilder=K_.default;var Z_=mi.__importDefault(Ul());Ne.PostgrestFilterBuilder=Z_.default;var Y_=mi.__importDefault(ph());Ne.PostgrestTransformBuilder=Y_.default;var J_=mi.__importDefault(dh());Ne.PostgrestBuilder=J_.default;var Q_=mi.__importDefault(lh());Ne.PostgrestError=Q_.default;Ne.default={PostgrestClient:W_.default,PostgrestQueryBuilder:K_.default,PostgrestFilterBuilder:Z_.default,PostgrestTransformBuilder:Y_.default,PostgrestBuilder:J_.default,PostgrestError:Q_.default}});var Dh,Bl,Ch=S(()=>{"use strict";Dh=class{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){let r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},Bl=Dh});var X_,ew=S(()=>{"use strict";X_="2.87.1"});var tw,Ih,nw,Sh,qo,rw,iw,lr,fe,st,Th,cr,Hl=S(()=>{"use strict";ew();tw=`realtime-js/${X_}`,Ih="1.0.0",nw="2.0.0",Sh=Ih,qo=1e4,rw=1e3,iw=100,lr=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(lr||{}),fe=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(fe||{}),st=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(st||{}),Th=function(n){return n.websocket="websocket",n}(Th||{}),cr=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(cr||{})});var zl,ow=S(()=>{"use strict";zl=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;let i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;let i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,t,r){var i,o;let s=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+f.length,d=new ArrayBuffer(this.HEADER_LENGTH+p),g=new DataView(d),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,a.length),g.setUint8(m++,s.length),g.setUint8(m++,c.length),g.setUint8(m++,f.length),g.setUint8(m++,t),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(d.byteLength+r.byteLength);return v.set(new Uint8Array(d),0),v.set(new Uint8Array(r),d.byteLength),v.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){let r=JSON.parse(e),[i,o,s,a,l]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:l})}return t({})}_binaryDecode(e){let t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(e.slice(l,l+i));l=l+i;let u=r.decode(e.slice(l,l+o));l=l+o;let f=r.decode(e.slice(l,l+s));l=l+s;let p=e.slice(l,e.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:u,payload:d};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}});var vi,Mh=S(()=>{"use strict";vi=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var re,Ah,Ox,sw,xh,Nx,kx,Px,Fx,Lx,ql,Gl=S(()=>{"use strict";re=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(re||{}),Ah=(n,e,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=Ox(s,n,e,i),o),{}):{}},Ox=(n,e,t,r)=>{let i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?sw(o,s):xh(s)},sw=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return Fx(e,t)}switch(n){case re.bool:return Nx(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return kx(e);case re.json:case re.jsonb:return Px(e);case re.timestamp:return Lx(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return xh(e);default:return xh(e)}},xh=n=>n,Nx=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},kx=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Px=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Fx=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>sw(e,a))}return n},Lx=n=>typeof n=="string"?n.replace(" ","T"):n,ql=n=>{let e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href}});var yi,aw=S(()=>{"use strict";Hl();yi=class{constructor(e,t,r={},i=qo){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}});var Rh,_i,Oh=S(()=>{"use strict";Rh=function(n){return n.SYNC="sync",n.JOIN="join",n.LEAVE="leave",n}(Rh||{}),_i=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let f=o[c];if(f){let p=u.map(v=>v.presence_ref),d=f.map(v=>v.presence_ref),g=u.filter(v=>d.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){let f=e[a].map(d=>d.presence_ref),p=u.filter(d=>f.indexOf(d.presence_ref)<0);e[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var Nh,wi,Pt,lw,bi,kh=S(()=>{"use strict";Hl();aw();Mh();Oh();Gl();Gl();Nh=function(n){return n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE",n}(Nh||{}),wi=function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n}(wi||{}),Pt=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Pt||{}),lw=fe,bi=class n{constructor(e,t={config:{}},r){var i,o;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new yi(this,st.join,this.params,this.timeout),this.rejoinTimer=new vi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new _i(this),this.broadcastEndpointURL=ql(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[wi.PRESENCE]&&this.bindings[wi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>e?.(Pt.CHANNEL_ERROR,d)),this._onClose(()=>e?.(Pt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:d}){var m;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){e?.(Pt.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,y=(m=v?.length)!==null&&m!==void 0?m:0,U=[];for(let E=0;E<y;E++){let D=v[E],{filter:{event:Z,schema:bt,table:ee,filter:he}}=D,nn=d&&d[E];if(nn&&nn.event===Z&&n.isFilterValueEqual(nn.schema,bt)&&n.isFilterValueEqual(nn.table,ee)&&n.isFilterValueEqual(nn.filter,he))U.push(Object.assign(Object.assign({},D),{id:nn.id}));else{this.unsubscribe(),this.state=fe.errored,e?.(Pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,e&&e(Pt.SUBSCRIBED);return}})).receive("error",d=>{this.state=fe.errored,e?.(Pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(Pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===fe.joined&&e===wi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>h(this,null,function*(){return yield this.subscribe()}))),this._on(e,t,r)}httpSend(i,o){return h(this,arguments,function*(e,t,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let f=yield c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fe.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new yi(this,st.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yi(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>iw){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=st;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,m,v;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=d.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(d=>d.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(d=>{var g,m,v,y,U,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){let D=d.id,Z=(g=d.filter)===null||g===void 0?void 0:g.event;return D&&((m=t.ids)===null||m===void 0?void 0:m.includes(D))&&(Z==="*"||Z?.toLocaleLowerCase()===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let D=(U=(y=d?.filter)===null||y===void 0?void 0:y.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return D==="*"||D===((E=t?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:y,type:U,errors:E}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:U,new:{},old:{},errors:E}),this._getPayloadRecords(g))}d.callback(p,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(st.close,{},e)}_onError(e){this._on(st.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ah(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ah(e.columns,e.old_record)),t}}});var Ph,Wl,Vx,$x,Ux,Kl,cw=S(()=>{"use strict";Ch();Hl();ow();Mh();Gl();kh();Ph=()=>{},Wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vx=[1e3,2e3,5e3,1e4],$x=1e4,Ux=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Kl=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qo,this.transport=null,this.heartbeatIntervalMs=Wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ph,this.ref=0,this.reconnectTimer=null,this.vsn=Sh,this.logger=Ph,this.conn=null,this.sendBuffer=[],this.serializer=new zl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Th.websocket}`,this.httpEndpoint=ql(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bl.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return h(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return h(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lr.connecting:return cr.Connecting;case lr.open:return cr.Open;case lr.closing:return cr.Closing;default:return cr.Closed}}isConnected(){return this.connectionState()===cr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new bi(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){let{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return h(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return h(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rw,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===lr.open||this.conn.readyState===lr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(st.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([Ux],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return h(this,null,function*(){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{let o={access_token:t,version:tw};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(st.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vi(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Wl.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,o,s,a,l,c,u,f,p,d;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:qo,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Wl.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Ph,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:Sh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:g=>Vx[g-1]||$x,this.vsn){case Ih:this.encode=(u=e?.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(f=e?.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case nw:this.encode=(p=e?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}});var Fh={};zi(Fh,{REALTIME_CHANNEL_STATES:()=>lw,REALTIME_LISTEN_TYPES:()=>wi,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>Nh,REALTIME_PRESENCE_LISTEN_EVENTS:()=>Rh,REALTIME_SUBSCRIBE_STATES:()=>Pt,RealtimeChannel:()=>bi,RealtimeClient:()=>Kl,RealtimePresence:()=>_i,WebSocketFactory:()=>Bl});var Lh=S(()=>{"use strict";cw();kh();Oh();Ch()});function J(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Xt,Go,_n,wn=S(()=>{"use strict";Xt=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};Go=class extends Xt{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_n=class extends Xt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}});var Ei,uw,Zl,dw,fw,Wo=S(()=>{"use strict";Ei=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),uw=()=>Response,Zl=n=>{if(Array.isArray(n))return n.map(t=>Zl(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Zl(r)}),e},dw=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},fw=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n)});function Ko(n,e,t,r,i,o){return _(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,Hx(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Bx(l,a,r))})})}function bn(n,e,t,r){return _(this,void 0,void 0,function*(){return Ko(n,"GET",e,t,r)})}function Be(n,e,t,r,i){return _(this,void 0,void 0,function*(){return Ko(n,"POST",e,r,i,t)})}function Zo(n,e,t,r,i){return _(this,void 0,void 0,function*(){return Ko(n,"PUT",e,r,i,t)})}function hw(n,e,t,r){return _(this,void 0,void 0,function*(){return Ko(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Di(n,e,t,r,i){return _(this,void 0,void 0,function*(){return Ko(n,"DELETE",e,r,i,t)})}var jh,Bx,Hx,Yl=S(()=>{"use strict";ie();wn();Wo();jh=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Bx=(n,e,t)=>_(void 0,void 0,void 0,function*(){let r=yield uw();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{let o=n.status||500,s=i?.statusCode||o+"";e(new Go(jh(i),o,s))}).catch(i=>{e(new _n(jh(i),i))}):e(new _n(jh(n),n))}),Hx=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(dw(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))}});var Jl,pw=S(()=>{"use strict";ie();wn();Jl=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return _(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}});var gw,Vh,mw,vw=S(()=>{"use strict";ie();wn();pw();Vh=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[gw]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jl(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}};gw=Symbol.toStringTag;mw=Vh});var zx,yw,Ql,_w=S(()=>{"use strict";ie();wn();Yl();Wo();vw();zx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ql=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ei(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,i){return _(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},yw),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),f=yield(e=="PUT"?Zo:Be)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(J(o))return{data:null,error:o};throw o}})}upload(e,t,r){return _(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return _(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:yw.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let f=yield Zo(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(J(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return _(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield Be(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Xt("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}update(e,t,r){return _(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return _(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}copy(e,t,r){return _(this,void 0,void 0,function*(){try{return{data:{path:(yield Be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return _(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Be(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return _(this,void 0,void 0,function*(){try{let i=yield Be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}download(e,t){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>bn(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new mw(l,this.shouldThrowOnError)}info(e){return _(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield bn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Zl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}exists(e){return _(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield hw(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r)&&r instanceof _n){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return _(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}list(e,t,r){return _(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},zx),t),{prefix:e||""});return{data:yield Be(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}listV2(e,t){return _(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield Be(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}});var Xl,$h=S(()=>{"use strict";Xl="2.87.1"});var ec,Uh=S(()=>{"use strict";$h();ec={"X-Client-Info":`storage-js/${Xl}`}});var tc,ww=S(()=>{"use strict";ie();Uh();wn();Yl();Wo();tc=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1;let o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ec),t),this.fetch=Ei(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return _(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(e);return{data:yield bn(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}getBucket(e){return _(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}createBucket(e){return _(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Be(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return _(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}});function qx(n,e,t){let r=new URL(e,n);if(t)for(let[i,o]of Object.entries(t))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function Gx(n){return h(this,null,function*(){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?yield n.getHeaders():{}})}function Wx(n){let e=n.fetchImpl??globalThis.fetch;return{request(l){return h(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=qx(n.baseUrl,i,o),u=yield Gx(n.auth),f=yield e(c,{method:r,headers:w(w(w({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield f.text(),d=(f.headers.get("content-type")||"").includes("application/json"),g=d&&p?JSON.parse(p):p;if(!f.ok){let m=d?g:void 0,v=m?.error;throw new Yo(v?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:v?.type,icebergCode:v?.code,details:m})}return{status:f.status,headers:f.headers,data:g}})}}}function nc(n){return n.join("")}function Ci(n){return n.join("")}var Yo,Kx,Zx,bw,Ew=S(()=>{"use strict";Yo=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};Kx=class{constructor(n,e=""){this.client=n,this.prefix=e}listNamespaces(n){return h(this,null,function*(){let e=n?{parent:nc(n.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(n,e){return h(this,null,function*(){let t={namespace:n.namespace,properties:e?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data})}dropNamespace(n){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nc(n.namespace)}`})})}loadNamespaceMetadata(n){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nc(n.namespace)}`})).data.properties}})}namespaceExists(n){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nc(n.namespace)}`}),!0}catch(e){if(e instanceof Yo&&e.status===404)return!1;throw e}})}createNamespaceIfNotExists(n,e){return h(this,null,function*(){try{return yield this.createNamespace(n,e)}catch(t){if(t instanceof Yo&&t.status===409)return;throw t}})}};Zx=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}listTables(n){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ci(n.namespace)}/tables`})).data.identifiers})}createTable(n,e){return h(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ci(n.namespace)}/tables`,body:e,headers:t})).data.metadata})}updateTable(n,e){return h(this,null,function*(){let t=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ci(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}})}dropTable(n,e){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ci(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})})}loadTable(n){return h(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ci(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata})}tableExists(n){return h(this,null,function*(){let e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ci(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Yo&&t.status===404)return!1;throw t}})}createTableIfNotExists(n,e){return h(this,null,function*(){try{return yield this.createTable(n,e)}catch(t){if(t instanceof Yo&&t.status===409)return yield this.loadTable({namespace:n.namespace,name:e.name});throw t}})}},bw=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);let t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Wx({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new Kx(this.client,e),this.tableOps=new Zx(this.client,e,this.accessDelegation)}listNamespaces(n){return h(this,null,function*(){return this.namespaceOps.listNamespaces(n)})}createNamespace(n,e){return h(this,null,function*(){return this.namespaceOps.createNamespace(n,e)})}dropNamespace(n){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(n)})}loadNamespaceMetadata(n){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(n)})}listTables(n){return h(this,null,function*(){return this.tableOps.listTables(n)})}createTable(n,e){return h(this,null,function*(){return this.tableOps.createTable(n,e)})}updateTable(n,e){return h(this,null,function*(){return this.tableOps.updateTable(n,e)})}dropTable(n,e){return h(this,null,function*(){yield this.tableOps.dropTable(n,e)})}loadTable(n){return h(this,null,function*(){return this.tableOps.loadTable(n)})}namespaceExists(n){return h(this,null,function*(){return this.namespaceOps.namespaceExists(n)})}tableExists(n){return h(this,null,function*(){return this.tableOps.tableExists(n)})}createNamespaceIfNotExists(n,e){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(n,e)})}createTableIfNotExists(n,e){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(n,e)})}}});var Ii,Bh=S(()=>{"use strict";ie();Ew();Uh();wn();Yl();Wo();Ii=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ec),t),this.fetch=Ei(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}listBuckets(e){return _(this,void 0,void 0,function*(){try{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield bn(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}from(e){if(!fw(e))throw new Xt("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let t=new bw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>_(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>_(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var Si,rc=S(()=>{"use strict";$h();Si={"X-Client-Info":`storage-js/${Xl}`,"Content-Type":"application/json"}});function be(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Ti,En,Mi,Hh,xi=S(()=>{"use strict";Ti=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};En=class extends Ti{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mi=class extends Ti{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}},Hh=function(n){return n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",n}(Hh||{})});var Dn,Dw,ic,Cw,Iw,Ai=S(()=>{"use strict";Dn=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Dw=()=>Response,ic=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Cw=n=>Array.from(new Float32Array(n)),Iw=(n,e)=>{if(e!==void 0&&n.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${n.float32.length}`)}});function Qx(n,e,t,r,i,o){return _(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,Jx(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>Yx(l,a,r))})})}function xe(n,e,t,r,i){return _(this,void 0,void 0,function*(){return Qx(n,"POST",e,r,i,t)})}var Sw,Yx,Jx,oc=S(()=>{"use strict";ie();xi();Ai();Sw=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Yx=(n,e,t)=>_(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){let i=n.status||500,o=n;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";e(new En(Sw(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;e(new En(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;e(new En(a,i,s))}}else e(new Mi(Sw(n),n))}),Jx=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(ic(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),t))}});var Ri,zh=S(()=>{"use strict";ie();rc();xi();oc();Ai();Ri=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Si),t),this.fetch=Dn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _(this,void 0,void 0,function*(){try{return{data:(yield xe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}getIndex(e,t){return _(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}listIndexes(e){return _(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return _(this,void 0,void 0,function*(){try{return{data:(yield xe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}}});var Oi,qh=S(()=>{"use strict";ie();rc();xi();oc();Ai();Oi=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Si),t),this.fetch=Dn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield xe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}getVectors(e){return _(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}listVectors(e){return _(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield xe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}queryVectors(e){return _(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}deleteVectors(e){return _(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield xe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}}});var Ni,Gh=S(()=>{"use strict";ie();rc();xi();oc();Ai();Ni=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Si),t),this.fetch=Dn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _(this,void 0,void 0,function*(){try{return{data:(yield xe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}getBucket(e){return _(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}listBuckets(){return _(this,arguments,void 0,function*(e={}){try{return{data:yield xe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _(this,void 0,void 0,function*(){try{return{data:(yield xe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}}});var ki,Jo,Qo,Tw=S(()=>{"use strict";ie();zh();qh();Gh();ki=class extends Ni{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Jo(this.url,this.headers,e,this.fetch)}createBucket(e){let t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){let t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){let e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){let t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}},Jo=class extends Ri{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Qo(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Qo=class extends Oi{constructor(e,t,r,i,o){super(e,t,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var Wh=S(()=>{"use strict";Tw();Gh();zh();qh();xi();Ai()});var sc,Mw=S(()=>{"use strict";_w();ww();Bh();Wh();sc=class extends tc{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new Ql(this.url,this.headers,e,this.fetch)}get vectors(){return new ki(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ii(this.url+"/iceberg",this.headers,this.fetch)}}});var xw=S(()=>{"use strict"});var Aw={};zi(Aw,{StorageAnalyticsClient:()=>Ii,StorageApiError:()=>Go,StorageClient:()=>sc,StorageError:()=>Xt,StorageUnknownError:()=>_n,StorageVectorsApiError:()=>En,StorageVectorsClient:()=>ki,StorageVectorsError:()=>Ti,StorageVectorsErrorCode:()=>Hh,StorageVectorsUnknownError:()=>Mi,VectorBucketApi:()=>Ni,VectorBucketScope:()=>Jo,VectorDataApi:()=>Oi,VectorIndexApi:()=>Ri,VectorIndexScope:()=>Qo,isPlainObject:()=>ic,isStorageError:()=>J,isStorageVectorsError:()=>be,normalizeToFloat32:()=>Cw,resolveFetch:()=>Dn,resolveResponse:()=>Dw,validateVectorDimension:()=>Iw});var Rw=S(()=>{"use strict";Mw();Bh();xw();wn();Wh()});var Ow=ke(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.version=void 0;ac.version="2.87.1"});var Nw=ke(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.DEFAULT_REALTIME_OPTIONS=Ye.DEFAULT_AUTH_OPTIONS=Ye.DEFAULT_DB_OPTIONS=Ye.DEFAULT_GLOBAL_OPTIONS=Ye.DEFAULT_HEADERS=void 0;var Xx=Ow(),Xo="";typeof Deno<"u"?Xo="deno":typeof document<"u"?Xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xo="react-native":Xo="node";Ye.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${Xo}/${Xx.version}`};Ye.DEFAULT_GLOBAL_OPTIONS={headers:Ye.DEFAULT_HEADERS};Ye.DEFAULT_DB_OPTIONS={schema:"public"};Ye.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};Ye.DEFAULT_REALTIME_OPTIONS={}});var kw=ke(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.fetchWithAuth=_t.resolveHeadersConstructor=_t.resolveFetch=void 0;var eA=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);_t.resolveFetch=eA;var tA=()=>Headers;_t.resolveHeadersConstructor=tA;var nA=(n,e,t)=>{let r=(0,_t.resolveFetch)(t),i=(0,_t.resolveHeadersConstructor)();return(o,s)=>h(null,null,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};_t.fetchWithAuth=nA});var Fw=ke(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.isBrowser=void 0;Cn.uuid=rA;Cn.ensureTrailingSlash=Pw;Cn.applySettingDefaults=oA;Cn.validateSupabaseUrl=sA;function rA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=Math.random()*16|0,t=n=="x"?e:e&3|8;return t.toString(16)})}function Pw(n){return n.endsWith("/")?n:n+"/"}var iA=()=>typeof window<"u";Cn.isBrowser=iA;function oA(n,e){var t,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:u,global:f}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(t=f?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function sA(n){let e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Pw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var lc,Kh=S(()=>{"use strict";lc="2.87.1"});var ur,cc,uc,Lw,jw,Vw,es,Zh,$w,Uw,dc=S(()=>{"use strict";Kh();ur=30*1e3,cc=3,uc=cc*ur,Lw="http://localhost:9999",jw="supabase.auth.token",Vw={"X-Client-Info":`gotrue-js/${lc}`},es="X-Supabase-Api-Version",Zh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$w=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uw=10*60*1e3});function C(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}function Yh(n){return C(n)&&n.name==="AuthApiError"}function Jh(n){return C(n)&&n.name==="AuthSessionMissingError"}function Qh(n){return C(n)&&n.name==="AuthImplicitGrantRedirectError"}function ns(n){return C(n)&&n.name==="AuthRetryableFetchError"}function aA(n){return C(n)&&n.name==="AuthWeakPasswordError"}var en,ts,Je,wt,Ee,Ft,In,Sn,Pi,dr,Fi,Tn,fr=S(()=>{"use strict";en=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};ts=class extends en{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};Je=class extends en{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},wt=class extends en{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}},Ee=class extends wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};Ft=class extends wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},In=class extends wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Sn=class extends wt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};Pi=class extends wt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},dr=class extends wt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};Fi=class extends wt{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};Tn=class extends wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}});function Hw(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(fc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(fc[r]),e.queuedBits-=6}}function zw(n,e,t){let r=lA[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Xh(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{dA(s,r,t)};for(let s=0;s<n.length;s+=1)zw(n.charCodeAt(s),i,o);return e.join("")}function cA(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function uA(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}cA(r,e)}}function dA(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Mn(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)zw(n.charCodeAt(i),t,r);return new Uint8Array(e)}function qw(n){let e=[];return uA(n,t=>e.push(t)),new Uint8Array(e)}function tn(n){let e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>Hw(i,t,r)),Hw(null,t,r),e.join("")}var fc,Bw,lA,hc=S(()=>{"use strict";fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bw=` 	
\r=`.split(""),lA=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Bw.length;e+=1)n[Bw[e].charCodeAt(0)]=-2;for(let e=0;e<fc.length;e+=1)n[fc[e].charCodeAt(0)]=e;return n})()});function Gw(n){return Math.round(Date.now()/1e3)+n}function Ww(){return Symbol("auth-callback")}function Kw(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}function mc(n){let e=n.split(".");if(e.length!==3)throw new Tn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!$w.test(e[r]))throw new Tn("JWT not in base64url format");return{header:JSON.parse(Xh(e[0])),payload:JSON.parse(Xh(e[1])),signature:Mn(e[2]),raw:{header:e[0],payload:e[1]}}}function Yw(n){return h(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function Jw(n,e){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function fA(n){return("0"+n.toString(16)).substr(-2)}function hA(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,fA).join("")}function pA(n){return h(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function gA(n){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield pA(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function gr(n,e,t=!1){return h(this,null,function*(){let r=hA(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield pr(n,`${e}-code-verifier`,i);let o=yield gA(r);return[o,r===o?"plain":"s256"]})}function Qw(n){let e=n.headers.get(es);if(!e||!e.match(mA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xw(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function eb(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function mr(n){if(!vA.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vc(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tb(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function ep(n){return JSON.parse(JSON.stringify(n))}var _e,hr,pc,gc,Zw,pr,xn,De,rs,mA,vA,Li=S(()=>{"use strict";dc();fr();hc();_e=()=>typeof window<"u"&&typeof document<"u",hr={tested:!1,writable:!1},pc=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hr.tested)return hr.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),hr.tested=!0,hr.writable=!0}catch{hr.tested=!0,hr.writable=!1}return hr.writable};gc=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Zw=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",pr=(n,e,t)=>h(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),xn=(n,e)=>h(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),De=(n,e)=>h(null,null,function*(){yield n.removeItem(e)}),rs=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};rs.promiseConstructor=Promise;mA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;vA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function nb(n){return h(this,null,function*(){var e;if(!Zw(n))throw new dr(vr(n),0);if(yA.includes(n.status))throw new dr(vr(n),n.status);let t;try{t=yield n.json()}catch(o){throw new Je(vr(o),o)}let r,i=Qw(n);if(i&&i.getTime()>=Zh["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Fi(vr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ee}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Fi(vr(t),n.status,t.weak_password.reasons);throw new ts(vr(t),n.status||500,r)})}function A(n,e,t,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[es]||(o[es]=Zh["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield wA(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function wA(n,e,t,r,i,o){return h(this,null,function*(){let s=_A(e,r,i,o),a;try{a=yield n(t,Object.assign({},s))}catch(l){throw console.error(l),new dr(vr(l),0)}if(a.ok||(yield nb(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield nb(l)}})}function at(n){var e;let t=null;bA(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Gw(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function tp(n){let e=at(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Lt(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function rb(n){return{data:n,error:null}}function ib(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=$t(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function np(n){return n}function bA(n){return n.access_token&&n.refresh_token&&n.expires_in}var vr,yA,_A,rp=S(()=>{"use strict";ie();dc();Li();fr();vr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),yA=[502,503,504];_A=(n,e,t,r)=>{let i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))}});var is,ip=S(()=>{"use strict";is=["global","local","others"]});var An,yc=S(()=>{"use strict";ie();rp();Li();ip();fr();An=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=gc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(e,t=is[0]){if(is.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${is.join(", ")}`);try{return yield A(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(C(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(e,t={}){try{return yield A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Lt})}catch(i){if(C(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return h(this,null,function*(){try{let{options:t}=e,r=$t(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ib,redirectTo:t?.redirectTo})}catch(t){if(C(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return h(this,null,function*(){try{return yield A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return h(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:np});if(u.error)throw u.error;let f=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(C(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return h(this,null,function*(){mr(e);try{return yield A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return h(this,null,function*(){mr(e);try{return yield A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Lt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return h(this,null,function*(){mr(e);try{return yield A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Lt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return h(this,null,function*(){mr(e.userId);try{let{data:t,error:r}=yield A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(C(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return h(this,null,function*(){mr(e.userId),mr(e.id);try{return{data:yield A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(C(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return h(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:np});if(u.error)throw u.error;let f=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(C(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(e){return h(this,null,function*(){try{return yield A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(C(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return h(this,null,function*(){try{return yield A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(C(t))return{data:null,error:t};throw t}})}_updateOAuthClient(e,t){return h(this,null,function*(){try{return yield A(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return h(this,null,function*(){try{return yield A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(C(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return h(this,null,function*(){try{return yield A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(C(t))return{data:null,error:t};throw t}})}}});function op(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}var ob=S(()=>{"use strict"});function _c(n,e,t){return h(this,null,function*(){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield t()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new os(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Rn.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function ab(n,e,t){return h(this,null,function*(){var r;let i=(r=sb[n])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),e>=0?new Promise((s,a)=>{setTimeout(()=>{a(new sp(`Acquring process lock with name "${n}" timed out`))},e)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>h(null,null,function*(){return yield t()}));return sb[n]=o.catch(s=>h(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var Rn,ji,os,sp,sb,ap=S(()=>{"use strict";Li();Rn={debug:!!(globalThis&&pc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ji=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},os=class extends ji{},sp=class extends ji{};sb={}});function lb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var cb=S(()=>{"use strict"});function lp(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function ub(n){return parseInt(n,16)}function db(n){let e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function fb(n){var e;let{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:f,version:p}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let d=lp(n.address),g=u?`${u}://${r}`:r,m=n.statement?`${n.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${d}

${m}`,y=`URI: ${f}
Version: ${p}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let U=`
Resources:`;for(let E of c){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);U+=`
- ${E}`}y+=U}return`${v}
${y}`}var hb=S(()=>{"use strict"});function pb({error:n,options:e}){var t,r,i;let{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new oe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(cp(s)){if(o.rp.id!==s)return new oe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function gb({error:n,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new oe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(cp(r)){if(t.rpId!==r)return new oe({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var oe,yr,mb=S(()=>{"use strict";up();oe=class extends Error{constructor({message:e,code:t,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}},yr=class extends oe{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}});function yb(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:e,user:t,excludeCredentials:r}=n,i=$t(n,["challenge","user","excludeCredentials"]),o=Mn(e).buffer,s=Object.assign(Object.assign({},t),{id:Mn(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Mn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function _b(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:e,allowCredentials:t}=n,r=$t(n,["challenge","allowCredentials"]),i=Mn(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Mn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function wb(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n;return{id:n.id,rawId:n.id,response:{attestationObject:tn(new Uint8Array(n.response.attestationObject)),clientDataJSON:tn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bb(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:tn(new Uint8Array(i.authenticatorData)),clientDataJSON:tn(new Uint8Array(i.clientDataJSON)),signature:tn(new Uint8Array(i.signature)),userHandle:i.userHandle?tn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cp(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function vb(){var n,e;return!!(_e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function DA(n){return h(this,null,function*(){try{let e=yield navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yr("Browser returned unexpected credential type",e)}:{data:null,error:new yr("Empty credential response",e)}}catch(e){return{data:null,error:pb({error:e,options:n})}}})}function CA(n){return h(this,null,function*(){try{let e=yield navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yr("Browser returned unexpected credential type",e)}:{data:null,error:new yr("Empty credential response",e)}}catch(e){return{data:null,error:gb({error:e,options:n})}}})}function wc(...n){let e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of n)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(e(s)){let a=r[o];e(a)?r[o]=wc(a,s):r[o]=wc(s)}else r[o]=s}return r}function TA(n,e){return wc(IA,n,e||{})}function MA(n,e){return wc(SA,n,e||{})}var dp,EA,IA,SA,bc,up=S(()=>{"use strict";ie();hc();fr();Li();mb();dp=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},EA=new dp;IA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},SA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};bc=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:e,webauthn:t,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};let u=i??EA.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{let f=TA(l.webauthn.credential_options.publicKey,o?.create),{data:p,error:d}=yield DA({publicKey:f,signal:u});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:d}}case"request":{let f=MA(l.webauthn.credential_options.publicKey,o?.request),{data:p,error:d}=yield CA(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:u}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:d}}}}catch(l){return C(l)?{data:null,error:l}:{data:null,error:new Je("Unexpected error in challenge",l)}}})}_verify(i){return h(this,arguments,function*({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new en("rpId is required for WebAuthn authentication")};try{if(!vb())return{data:null,error:new Je("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:u.type,rpId:t,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return C(l)?{data:null,error:l}:{data:null,error:new Je("Unexpected error in authenticate",l)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new en("rpId is required for WebAuthn registration")};try{if(!vb())return{data:null,error:new Je("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:e});if(!l)return yield this.client.mfa.listFactors().then(p=>{var d;return(d=p.data)===null||d===void 0?void 0:d.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};let{data:u,error:f}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:t,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(l){return C(l)?{data:null,error:l}:{data:null,error:new Je("Unexpected error in register",l)}}})}}});function Eb(n,e,t){return h(this,null,function*(){return yield t()})}var xA,Vi,AA,Ec,fp=S(()=>{"use strict";yc();dc();fr();rp();Li();ob();ap();cb();Kh();hc();hb();up();lb();xA={url:Lw,storageKey:jw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};Vi={},AA=(()=>{class n{get jwks(){var t,r;return(r=(t=Vi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vi[this.storageKey]=Object.assign(Object.assign({},Vi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vi[this.storageKey]=Object.assign(Object.assign({},Vi[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},xA),t);if(this.storageKey=s.storageKey,this.instanceID=(r=n.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&_e()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new An({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gc(s.fetch),this.lock=s.lock||Eb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&_e()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=_c:this.lock=Eb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:pc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=op(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=op(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lc}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var t;try{let r={},i="none";if(_e()&&(r=Kw(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),_e()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Qh(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return C(r)?this._returnResult({error:r}):this._returnResult({error:new Je("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return h(this,null,function*(){var r,i,o;try{let s=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:at}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(t){return h(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:f,password:p,options:d}=t,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield gr(this.storage,this.storageKey)),s=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:f,password:p,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:m},xform:at})}else if("phone"in t){let{phone:f,password:p,options:d}=t;s=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(i=d?.data)!==null&&i!==void 0?i:{},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:at})}else throw new In("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield De(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield De(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(t){return h(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:tp})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:tp})}else throw new In("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Ft;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(t){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return h(this,null,function*(){let{chain:r}=t;switch(r){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(t){return h(this,null,function*(){var r,i,o,s,a,l,c,u,f,p,d;let g,m;if("message"in t)g=t.message,m=t.signature;else{let{chain:v,wallet:y,statement:U,options:E}=t,D;if(_e())if(typeof y=="object")D=y;else{let jt=window;if("ethereum"in jt&&typeof jt.ethereum=="object"&&"request"in jt.ethereum&&typeof jt.ethereum.request=="function")D=jt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=y}let Z=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),bt=yield D.request({method:"eth_requestAccounts"}).then(jt=>jt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!bt||bt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ee=lp(bt[0]),he=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!he){let jt=yield D.request({method:"eth_chainId"});he=ub(jt)}let nn={domain:Z.host,address:ee,statement:U,uri:Z.href,version:"1",chainId:he,nonce:(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=fb(nn),m=yield D.request({method:"personal_sign",params:[db(g),ee]})}try{let{data:v,error:y}=yield A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:at});if(y)throw y;if(!v||!v.session||!v.user){let U=new Ft;return this._returnResult({data:{user:null,session:null},error:U})}return v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(C(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}})}signInWithSolana(t){return h(this,null,function*(){var r,i,o,s,a,l,c,u,f,p,d,g;let m,v;if("message"in t)m=t.message,v=t.signature;else{let{chain:y,wallet:U,statement:E,options:D}=t,Z;if(_e())if(typeof U=="object")Z=U;else{let ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))Z=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=U}let bt=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){let ee=yield Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:bt.host,uri:bt.href}),E?{statement:E}:null)),he;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")he=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)he=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in he&&"signature"in he&&(typeof he.signedMessage=="string"||he.signedMessage instanceof Uint8Array)&&he.signature instanceof Uint8Array)m=typeof he.signedMessage=="string"?he.signedMessage:new TextDecoder().decode(he.signedMessage),v=he.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${bt.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${bt.href}`,`Issued At: ${(o=(i=D?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=D?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((a=D?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((p=(f=D?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...D.signInWithSolana.resources.map(he=>`- ${he}`)]:[]].join(`
`);let ee=yield Z.signMessage(new TextEncoder().encode(m),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=ee}}try{let{data:y,error:U}=yield A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:tn(v)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:at});if(U)throw U;if(!y||!y.session||!y.user){let E=new Ft;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:U})}catch(y){if(C(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(t){return h(this,null,function*(){let r=yield xn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:at});if(yield De(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new Ft;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield De(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(t){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:at}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let f=new Ft;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(t){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,f=null;this.flowType==="pkce"&&([u,f]=yield gr(this.storage,this.storageKey));let{error:p}=yield A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:f}=yield A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new In("You must provide either an email or phone number.")}catch(l){if(yield De(this.storage,`${this.storageKey}-code-verifier`),C(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(t){return h(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:at});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(C(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(t){return h(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield gr(this.storage,this.storageKey));let u=yield A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:rb});return!((s=u.data)===null||s===void 0)&&s.url&&_e()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield De(this.storage,`${this.storageKey}-code-verifier`),C(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(t=>h(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Ee;let{error:o}=yield A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(t){if(C(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}})}resend(t){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield A(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield A(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new In("You must provide either an email or phone number and a type")}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(t,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<uc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=yield xn(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=vc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=tb(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(t){return h(this,null,function*(){if(t)return yield this._getUser(t);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(t){return h(this,null,function*(){try{return t?yield A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lt}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ee}:yield A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Lt})}))}catch(r){if(C(r))return Jh(r)&&(yield this._removeSession(),yield De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return h(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return h(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Ee;let l=s.session,c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=yield gr(this.storage,this.storageKey));let{data:f,error:p}=yield A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Lt});if(p)throw p;return l.user=f.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield De(this.storage,`${this.storageKey}-code-verifier`),C(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return h(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Ee;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=mc(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(C(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Ee;let{data:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(t,r){return h(this,null,function*(){try{if(!_e())throw new Sn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Sn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pi("No code detected.");let{data:E,error:D}=yield this._exchangeCodeForSession(t.code);if(D)throw D;let Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:E.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Sn("No session defined in URL");let f=Math.round(Date.now()/1e3),p=parseInt(l),d=f+p;c&&(d=parseInt(c));let g=d-f;g*1e3<=ur&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=d-p;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,f);let{data:v,error:y}=yield this._getUser(s);if(y)throw y;let U={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:d,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:t.type},error:null})}catch(i){if(C(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return h(this,null,function*(){let r=yield xn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return h(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return h(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(Yh(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(yield this._removeSession(),yield De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(t){let r=Ww(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield gr(this.storage,this.storageKey,!0));try{return yield A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield De(this.storage,`${this.storageKey}-code-verifier`),C(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(t){return h(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,f;let{data:p,error:d}=s;if(d)throw d;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield A(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})}));if(o)throw o;return _e()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(C(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}})}linkIdentityIdToken(t){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:f}=t,p=yield A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:at}),{data:d,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Ft}):(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:g}))}catch(o){if(yield De(this.storage,`${this.storageKey}-code-verifier`),C(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(t){return h(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Jw(o=>h(this,null,function*(){return o>0&&(yield Yw(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:at})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&ns(s)&&Date.now()+a-i<ur})}catch(i){if(this._debug(r,"error",i),C(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),_e()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield xn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield pr(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:vc()}else if(o&&!o.user&&!o.user){let a=yield xn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield De(this.storage,this.storageKey+"-user"),yield pr(this.storage,this.storageKey,o)):o.user=vc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uc;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${uc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),ns(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(t){return h(this,null,function*(){var r,i;if(!t)throw new Ee;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new rs;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Ee;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),C(s)){let a={data:null,error:s};return ns(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return h(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield De(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield pr(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=ep(o);yield pr(this.storage,this.storageKey,s)}else{let o=ep(r);yield pr(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield De(this.storage,this.storageKey),yield De(this.storage,this.storageKey+"-code-verifier"),yield De(this.storage,this.storageKey+"-user"),this.userStorage&&(yield De(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_e()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),ur);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/ur);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ur}ms, refresh threshold is ${cc} ticks`),o<=cc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof ji)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!_e()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return h(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield gr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=yield A(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_verify(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wb(t.webauthn.credential_response):bb(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=yield A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yb(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_b(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(t){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return h(this,null,function*(){var t;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var t,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=mc(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield A(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ee})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(t,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ee});let a=yield A(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&_e()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(C(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(t,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ee});let a=yield A(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&_e()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(C(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(t=>h(this,null,function*(){let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?yield A(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ee})}))}catch(t){if(C(t))return this._returnResult({data:null,error:t});throw t}})}_revokeOAuthGrant(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield A(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ee})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return h(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+Uw>s)return o;let{data:a,error:l}=yield A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===t),!o)?null:o})}getClaims(i){return h(this,arguments,function*(t,r={}){try{let o=t;if(!o){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});o=m.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=mc(o);r?.allowExpired||Xw(a.exp);let f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){let{error:m}=yield this.getUser(o);if(m)throw m;return{data:{claims:a,header:s,signature:l},error:null}}let p=eb(s.alg),d=yield crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,d,l,qw(`${c}.${u}`))))throw new Tn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}})}}return n.nextInstanceID={},n})(),Ec=AA});var RA,Db,Cb=S(()=>{"use strict";yc();RA=An,Db=RA});var OA,Ib,Sb=S(()=>{"use strict";fp();OA=Ec,Ib=OA});var hp={};zi(hp,{AuthAdminApi:()=>Db,AuthApiError:()=>ts,AuthClient:()=>Ib,AuthError:()=>en,AuthImplicitGrantRedirectError:()=>Sn,AuthInvalidCredentialsError:()=>In,AuthInvalidJwtError:()=>Tn,AuthInvalidTokenResponseError:()=>Ft,AuthPKCEGrantCodeExchangeError:()=>Pi,AuthRetryableFetchError:()=>dr,AuthSessionMissingError:()=>Ee,AuthUnknownError:()=>Je,AuthWeakPasswordError:()=>Fi,CustomAuthError:()=>wt,GoTrueAdminApi:()=>An,GoTrueClient:()=>Ec,NavigatorLockAcquireTimeoutError:()=>os,SIGN_OUT_SCOPES:()=>is,isAuthApiError:()=>Yh,isAuthError:()=>C,isAuthImplicitGrantRedirectError:()=>Qh,isAuthRetryableFetchError:()=>ns,isAuthSessionMissingError:()=>Jh,isAuthWeakPasswordError:()=>aA,lockInternals:()=>Rn,navigatorLock:()=>_c,processLock:()=>ab});var pp=S(()=>{"use strict";yc();fp();Cb();Sb();ip();fr();ap()});var Tb=ke(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.SupabaseAuthClient=void 0;var NA=(pp(),He(hp)),gp=class extends NA.AuthClient{constructor(e){super(e)}};Dc.SupabaseAuthClient=gp});var yp=ke(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});var kA=(oh(),He(ih)),PA=Eh(),FA=(Lh(),He(Fh)),LA=(Rw(),He(Aw)),Cc=Nw(),jA=kw(),Mb=Fw(),VA=Tb(),mp=class{constructor(e,t,r){var i,o,s;this.supabaseUrl=e,this.supabaseKey=t;let a=(0,Mb.validateSupabaseUrl)(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Cc.DEFAULT_DB_OPTIONS,realtime:Cc.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Cc.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Cc.DEFAULT_GLOBAL_OPTIONS},u=(0,Mb.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,jA.fetchWithAuth)(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new PA.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new LA.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new kA.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},f,p){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VA.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),f),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new FA.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};vp.default=mp});var Rb=ke(ne=>{"use strict";var $A=ne&&ne.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),xb=ne&&ne.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$A(e,n,t)},Ab=ne&&ne.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ne,"__esModule",{value:!0});ne.createClient=ne.SupabaseClient=ne.FunctionRegion=ne.FunctionsError=ne.FunctionsRelayError=ne.FunctionsFetchError=ne.FunctionsHttpError=ne.PostgrestError=void 0;var UA=Ab(yp());xb((pp(),He(hp)),ne);var BA=Eh();Object.defineProperty(ne,"PostgrestError",{enumerable:!0,get:function(){return BA.PostgrestError}});var ss=(oh(),He(ih));Object.defineProperty(ne,"FunctionsHttpError",{enumerable:!0,get:function(){return ss.FunctionsHttpError}});Object.defineProperty(ne,"FunctionsFetchError",{enumerable:!0,get:function(){return ss.FunctionsFetchError}});Object.defineProperty(ne,"FunctionsRelayError",{enumerable:!0,get:function(){return ss.FunctionsRelayError}});Object.defineProperty(ne,"FunctionsError",{enumerable:!0,get:function(){return ss.FunctionsError}});Object.defineProperty(ne,"FunctionRegion",{enumerable:!0,get:function(){return ss.FunctionRegion}});xb((Lh(),He(Fh)),ne);var HA=yp();Object.defineProperty(ne,"SupabaseClient",{enumerable:!0,get:function(){return Ab(HA).default}});var zA=(n,e,t)=>new UA.default(n,e,t);ne.createClient=zA;function qA(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}qA()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function Gc(n,e){return Object.is(n,e)}var pe=null,ps=!1,Wc=1,Qe=Symbol("SIGNAL");function B(n){let e=pe;return pe=n,e}function Kc(){return pe}var Gi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wi(n){if(ps)throw new Error("");if(pe===null)return;pe.consumerOnSignalRead(n);let e=pe.nextProducerIndex++;if(ys(pe),e<pe.producerNode.length&&pe.producerNode[e]!==n&&qi(pe)){let t=pe.producerNode[e];vs(t,pe.producerIndexOfThis[e])}pe.producerNode[e]!==n&&(pe.producerNode[e]=n,pe.producerIndexOfThis[e]=qi(pe)?jp(n,pe,e):0),pe.producerLastReadVersion[e]=n.version}function Lp(){Wc++}function Zc(n){if(!(qi(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Wc)){if(!n.producerMustRecompute(n)&&!Xc(n)){qc(n);return}n.producerRecomputeValue(n),qc(n)}}function Yc(n){if(n.liveConsumerNode===void 0)return;let e=ps;ps=!0;try{for(let t of n.liveConsumerNode)t.dirty||vE(t)}finally{ps=e}}function Jc(){return pe?.consumerAllowSignalWrites!==!1}function vE(n){n.dirty=!0,Yc(n),n.consumerMarkedDirty?.(n)}function qc(n){n.dirty=!1,n.lastCleanEpoch=Wc}function ms(n){return n&&(n.nextProducerIndex=0),B(n)}function Qc(n,e){if(B(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(qi(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)vs(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Xc(n){ys(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Zc(t),r!==t.version))return!0}return!1}function eu(n){if(ys(n),qi(n))for(let e=0;e<n.producerNode.length;e++)vs(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function jp(n,e,t){if(Vp(n),n.liveConsumerNode.length===0&&$p(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=jp(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function vs(n,e){if(Vp(n),n.liveConsumerNode.length===1&&$p(n))for(let r=0;r<n.producerNode.length;r++)vs(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ys(i),i.producerIndexOfThis[r]=e}}function qi(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ys(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Vp(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function $p(n){return n.producerNode!==void 0}function tu(n,e){let t=Object.create(yE);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Zc(t),Wi(t),t.value===gs)throw t.error;return t.value};return r[Qe]=t,r}var Hc=Symbol("UNSET"),zc=Symbol("COMPUTING"),gs=Symbol("ERRORED"),yE=z(w({},Gi),{value:Hc,dirty:!0,error:null,equal:Gc,kind:"computed",producerMustRecompute(n){return n.value===Hc||n.value===zc},producerRecomputeValue(n){if(n.value===zc)throw new Error("Detected cycle in computations.");let e=n.value;n.value=zc;let t=ms(n),r,i=!1;try{r=n.computation(),B(null),i=e!==Hc&&e!==gs&&r!==gs&&n.equal(e,r)}catch(o){r=gs,n.error=o}finally{Qc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function _E(){throw new Error}var Up=_E;function Bp(n){Up(n)}function nu(n){Up=n}var wE=null;function ru(n,e){let t=Object.create(_s);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Wi(t),t.value);return r[Qe]=t,r}function Ki(n,e){Jc()||Bp(n),n.equal(n.value,e)||(n.value=e,bE(n))}function iu(n,e){Jc()||Bp(n),Ki(n,e(n.value))}var _s=z(w({},Gi),{equal:Gc,value:void 0,kind:"signal"});function bE(n){n.version++,Lp(),Yc(n),wE?.()}function ou(n){let e=B(null);try{return n()}finally{B(e)}}var su;function Zi(){return su}function Vt(n){let e=su;return su=n,e}var ws=Symbol("NotFound");function O(n){return typeof n=="function"}function _r(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var bs=_r(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Yi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ue=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){e=o instanceof bs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Hp(o)}catch(s){e=e??[],s instanceof bs?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bs(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Hp(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Yi(t,e)}remove(e){let{_finalizers:t}=this;t&&Yi(t,e),e instanceof n&&e._removeParent(this)}};ue.EMPTY=(()=>{let n=new ue;return n.closed=!0,n})();var au=ue.EMPTY;function Es(n){return n instanceof ue||n&&"closed"in n&&O(n.remove)&&O(n.add)&&O(n.unsubscribe)}function Hp(n){O(n)?n():n.unsubscribe()}var lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wr={setTimeout(n,e,...t){let{delegate:r}=wr;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=wr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ds(n){wr.setTimeout(()=>{let{onUnhandledError:e}=lt;if(e)e(n);else throw n})}function Ji(){}var zp=lu("C",void 0,void 0);function qp(n){return lu("E",void 0,n)}function Gp(n){return lu("N",n,void 0)}function lu(n,e,t){return{kind:n,value:e,error:t}}var kn=null;function br(n){if(lt.useDeprecatedSynchronousErrorHandling){let e=!kn;if(e&&(kn={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=kn;if(kn=null,t)throw r}}else n()}function Wp(n){lt.useDeprecatedSynchronousErrorHandling&&kn&&(kn.errorThrown=!0,kn.error=n)}var Pn=class extends ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Es(e)&&e.add(this)):this.destination=TE}static create(e,t,r){return new Er(e,t,r)}next(e){this.isStopped?uu(Gp(e),this):this._next(e)}error(e){this.isStopped?uu(qp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uu(zp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IE=Function.prototype.bind;function cu(n,e){return IE.call(n,e)}var du=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Cs(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Cs(r)}else Cs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Cs(t)}}},Er=class extends Pn{constructor(e,t,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&lt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cu(e.next,o),error:e.error&&cu(e.error,o),complete:e.complete&&cu(e.complete,o)}):i=e}this.destination=new du(i)}};function Cs(n){lt.useDeprecatedSynchronousErrorHandling?Wp(n):Ds(n)}function SE(n){throw n}function uu(n,e){let{onStoppedNotification:t}=lt;t&&wr.setTimeout(()=>t(n,e))}var TE={closed:!0,next:Ji,error:SE,complete:Ji};var Dr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ze(n){return n}function fu(...n){return hu(n)}function hu(n){return n.length===0?ze:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Y=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=xE(t)?t:new Er(t,r,i);return br(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Kp(r),new r((i,o)=>{let s=new Er({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Dr](){return this}pipe(...t){return hu(t)(this)}toPromise(t){return t=Kp(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Kp(n){var e;return(e=n??lt.Promise)!==null&&e!==void 0?e:Promise}function ME(n){return n&&O(n.next)&&O(n.error)&&O(n.complete)}function xE(n){return n&&n instanceof Pn||ME(n)&&Es(n)}function pu(n){return O(n?.lift)}function W(n){return e=>{if(pu(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(n,e,t,r,i){return new gu(n,e,t,r,i)}var gu=class extends Pn{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Cr(){return W((n,e)=>{let t=null;n._refCount++;let r=H(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ir=class extends Y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,pu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ue;let t=this.getSubject();e.add(this.source.subscribe(H(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ue.EMPTY)}return e}refCount(){return Cr()(this)}};var Zp=_r(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=(()=>{class n extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Is(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Zp}next(t){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?au:(this.currentObservers=null,o.push(t),new ue(()=>{this.currentObservers=null,Yi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return n.create=(e,t)=>new Is(e,t),n})(),Is=class extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:au}};var me=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Pe=new Y(n=>n.complete());function Yp(n){return n&&O(n.schedule)}function Jp(n){return n[n.length-1]}function Ss(n){return O(Jp(n))?n.pop():void 0}function rn(n){return Yp(Jp(n))?n.pop():void 0}ie();var Os=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ns(n){return O(n?.then)}function ks(n){return O(n[Dr])}function Ps(n){return Symbol.asyncIterator&&O(n?.[Symbol.asyncIterator])}function Fs(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ls=NE();function js(n){return O(n?.[Ls])}ie();function Vs(n){return As(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Et(t.read());if(i)return yield Et(void 0);yield yield Et(r)}}finally{t.releaseLock()}})}function $s(n){return O(n?.getReader)}function de(n){if(n instanceof Y)return n;if(n!=null){if(ks(n))return kE(n);if(Os(n))return PE(n);if(Ns(n))return FE(n);if(Ps(n))return bg(n);if(js(n))return LE(n);if($s(n))return jE(n)}throw Fs(n)}function kE(n){return new Y(e=>{let t=n[Dr]();if(O(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PE(n){return new Y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function FE(n){return new Y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ds)})}function LE(n){return new Y(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function bg(n){return new Y(e=>{VE(n,e).catch(t=>e.error(t))})}function jE(n){return bg(Vs(n))}function VE(n,e){var t,r,i,o;return _(this,void 0,void 0,function*(){try{for(t=Rs(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Fe(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Us(n,e=0){return W((t,r)=>{t.subscribe(H(r,i=>Fe(r,n,()=>r.next(i),e),()=>Fe(r,n,()=>r.complete(),e),i=>Fe(r,n,()=>r.error(i),e)))})}function Bs(n,e=0){return W((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Eg(n,e){return de(n).pipe(Bs(e),Us(e))}function Dg(n,e){return de(n).pipe(Bs(e),Us(e))}function Cg(n,e){return new Y(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Ig(n,e){return new Y(t=>{let r;return Fe(t,e,()=>{r=n[Ls](),Fe(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function Hs(n,e){if(!n)throw new Error("Iterable cannot be null");return new Y(t=>{Fe(t,e,()=>{let r=n[Symbol.asyncIterator]();Fe(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Sg(n,e){return Hs(Vs(n),e)}function Tg(n,e){if(n!=null){if(ks(n))return Eg(n,e);if(Os(n))return Cg(n,e);if(Ns(n))return Dg(n,e);if(Ps(n))return Hs(n,e);if(js(n))return Ig(n,e);if($s(n))return Sg(n,e)}throw Fs(n)}function se(n,e){return e?Tg(n,e):de(n)}function N(...n){let e=rn(n);return se(n,e)}function Sr(n,e){let t=O(n)?n:()=>n,r=i=>i.error(t());return new Y(e?i=>e.schedule(r,0,i):r)}function _u(n){return!!n&&(n instanceof Y||O(n.lift)&&O(n.subscribe))}var Ut=_r(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function q(n,e){return W((t,r)=>{let i=0;t.subscribe(H(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:$E}=Array;function UE(n,e){return $E(e)?n(...e):n(e)}function zs(n){return q(e=>UE(n,e))}var{isArray:BE}=Array,{getPrototypeOf:HE,prototype:zE,keys:qE}=Object;function qs(n){if(n.length===1){let e=n[0];if(BE(e))return{args:e,keys:null};if(GE(e)){let t=qE(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function GE(n){return n&&typeof n=="object"&&HE(n)===zE}function Gs(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ws(...n){let e=rn(n),t=Ss(n),{args:r,keys:i}=qs(n);if(r.length===0)return se([],e);let o=new Y(WE(r,e,i?s=>Gs(i,s):ze));return t?o.pipe(zs(t)):o}function WE(n,e,t=ze){return r=>{Mg(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Mg(e,()=>{let c=se(n[l],e),u=!1;c.subscribe(H(r,f=>{o[l]=f,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Mg(n,e,t){n?Fe(t,n,e):e()}function xg(n,e,t,r,i,o,s,a){let l=[],c=0,u=0,f=!1,p=()=>{f&&!l.length&&!c&&e.complete()},d=m=>c<r?g(m):l.push(m),g=m=>{o&&e.next(m),c++;let v=!1;de(t(m,u++)).subscribe(H(e,y=>{i?.(y),o?d(y):e.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let y=l.shift();s?Fe(e,s,()=>g(y)):g(y)}p()}catch(y){e.error(y)}}))};return n.subscribe(H(e,d,()=>{f=!0,p()})),()=>{a?.()}}function ve(n,e,t=1/0){return O(e)?ve((r,i)=>q((o,s)=>e(r,o,i,s))(de(n(r,i))),t):(typeof e=="number"&&(t=e),W((r,i)=>xg(r,i,n,t)))}function Ag(n=1/0){return ve(ze,n)}function Rg(){return Ag(1)}function Tr(...n){return Rg()(se(n,rn(n)))}function Ks(n){return new Y(e=>{de(n()).subscribe(e)})}function wu(...n){let e=Ss(n),{args:t,keys:r}=qs(n),i=new Y(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let f=!1;de(t[u]).subscribe(H(o,p=>{f||(f=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?Gs(r,a):a),o.complete())}))}});return e?i.pipe(zs(e)):i}function ct(n,e){return W((t,r)=>{let i=0;t.subscribe(H(r,o=>n.call(e,o,i++)&&r.next(o)))})}function on(n){return W((e,t)=>{let r=null,i=!1,o;r=e.subscribe(H(t,void 0,void 0,s=>{o=de(n(s,on(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Og(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(H(s,u=>{let f=c++;l=a?n(l,u,f):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Mr(n,e){return O(e)?ve(n,e,1):ve(n,1)}function sn(n){return W((e,t)=>{let r=!1;e.subscribe(H(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Bt(n){return n<=0?()=>Pe:W((e,t)=>{let r=0;e.subscribe(H(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zs(n=KE){return W((e,t)=>{let r=!1;e.subscribe(H(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function KE(){return new Ut}function Qi(n){return W((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ht(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ct((i,o)=>n(i,o,r)):ze,Bt(1),t?sn(e):Zs(()=>new Ut))}function xr(n){return n<=0?()=>Pe:W((e,t)=>{let r=[];e.subscribe(H(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function bu(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ct((i,o)=>n(i,o,r)):ze,xr(1),t?sn(e):Zs(()=>new Ut))}function Eu(n,e){return W(Og(n,e,arguments.length>=2,!0))}function Du(...n){let e=rn(n);return W((t,r)=>{(e?Tr(n,t,e):Tr(n,t)).subscribe(r)})}function ut(n,e){return W((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(H(r,l=>{i?.unsubscribe();let c=0,u=o++;de(n(l,u)).subscribe(i=H(r,f=>r.next(e?e(l,f,u,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Cu(n){return W((e,t)=>{de(n).subscribe(H(t,()=>t.complete(),Ji)),!t.closed&&e.subscribe(t)})}function Ce(n,e,t){let r=O(n)||e||t?{next:n,error:e,complete:t}:n;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(H(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ze}var _m="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(e,t){super(YE(e,t)),this.code=e}};function ZE(n){return`NG0${Math.abs(n)}`}function YE(n,e){return`${ZE(n)}${e?": "+e:""}`}var wm=Symbol("InputSignalNode#UNSET"),JE=z(w({},_s),{transformFn:void 0,applyValueToInputSignal(n,e){Ki(n,e)}});function bm(n,e){let t=Object.create(JE);t.value=n,t.transformFn=e?.transform;function r(){if(Wi(t),t.value===wm){let i=null;throw new I(-950,i)}return t.value}return r[Qe]=t,r}function uo(n){return{toString:n}.toString()}var Ys="__parameters__";function QE(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Em(n,e,t){return uo(()=>{let r=QE(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let f=l.hasOwnProperty(Ys)?l[Ys]:Object.defineProperty(l,Ys,{value:[]})[Ys];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function X(n){for(let e in n)if(n[e]===X)return e;throw Error("Could not find renamed property on target object.")}function XE(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function je(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(je).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ng(n,e){return n?e?`${n} ${e}`:n:e||""}var eD=X({__forward_ref__:X});function xt(n){return n.__forward_ref__=xt,n.toString=function(){return je(this())},n}function Ae(n){return Dm(n)?n():n}function Dm(n){return typeof n=="function"&&n.hasOwnProperty(eD)&&n.__forward_ref__===xt}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wn(n){return{providers:n.providers||[],imports:n.imports||[]}}function xa(n){return kg(n,Im)||kg(n,Sm)}function Cm(n){return xa(n)!==null}function kg(n,e){return n.hasOwnProperty(e)?n[e]:null}function tD(n){let e=n&&(n[Im]||n[Sm]);return e||null}function Pg(n){return n&&(n.hasOwnProperty(Fg)||n.hasOwnProperty(nD))?n[Fg]:null}var Im=X({\u0275prov:X}),Fg=X({\u0275inj:X}),Sm=X({ngInjectableDef:X}),nD=X({ngInjectorDef:X}),x=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Tm(n){return n&&!!n.\u0275providers}var rD=X({\u0275cmp:X}),iD=X({\u0275dir:X}),oD=X({\u0275pipe:X}),sD=X({\u0275mod:X}),ra=X({\u0275fac:X}),no=X({__NG_ELEMENT_ID__:X}),Lg=X({__NG_ENV_ID__:X});function Aa(n){return typeof n=="string"?n:n==null?"":String(n)}function aD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Aa(n)}function Mm(n,e){throw new I(-200,n)}function Sd(n,e){throw new I(-201,!1)}var j=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(j||{}),Vu;function xm(){return Vu}function Le(n){let e=Vu;return Vu=n,e}function Am(n,e,t){let r=xa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&j.Optional)return null;if(e!==void 0)return e;Sd(n,"Injector")}var lD={},Ln=lD,$u="__NG_DI_FLAG__",ia=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?ws:Ln,r)}},oa="ngTempTokenPath",cD="ngTokenPath",uD=/\n/gm,dD="\u0275",jg="__source";function fD(n,e=j.Default){if(Zi()===void 0)throw new I(-203,!1);if(Zi()===null)return Am(n,void 0,e);{let t=Zi(),r;return t instanceof ia?r=t.injector:r=t,r.get(n,e&j.Optional?null:void 0,e)}}function F(n,e=j.Default){return(xm()||fD)(Ae(n),e)}function b(n,e=j.Default){return F(n,Ra(e))}function Ra(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Uu(n){let e=[];for(let t=0;t<n.length;t++){let r=Ae(n[t]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=j.Default;for(let s=0;s<r.length;s++){let a=r[s],l=hD(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function Rm(n,e){return n[$u]=e,n.prototype[$u]=e,n}function hD(n){return n[$u]}function pD(n,e,t,r){let i=n[oa];throw e[jg]&&i.unshift(e[jg]),n.message=gD(`
`+n.message,i,t,r),n[cD]=i,n[oa]=null,n}function gD(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==dD?n.slice(2):n;let i=je(e);if(Array.isArray(e))i=e.map(je).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):je(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(uD,`
  `)}`}var mD=Rm(Em("Optional"),8);var vD=Rm(Em("SkipSelf"),4);function Vn(n,e){let t=n.hasOwnProperty(ra);return t?n[ra]:null}function Td(n,e){n.forEach(t=>Array.isArray(t)?Td(t,e):e(t))}function Om(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function yD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function _D(n,e,t){let r=fo(n,e);return r>=0?n[r|1]=t:(r=~r,yD(n,r,e,t)),r}function Iu(n,e){let t=fo(n,e);if(t>=0)return n[t|1]}function fo(n,e){return wD(n,e,1)}function wD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var $n={},Xe=[],ro=new x(""),Nm=new x("",-1),km=new x(""),aa=class{get(e,t=Ln){if(t===Ln){let r=new Error(`NullInjectorError: No provider for ${je(e)}!`);throw r.name="NullInjectorError",r}return t}};function Pm(n,e){let t=n[sD]||null;if(!t&&e===!0)throw new Error(`Type ${je(n)} does not have '\u0275mod' property.`);return t}function kr(n){return n[rD]||null}function bD(n){return n[iD]||null}function ED(n){return n[oD]||null}function Fm(n){return{\u0275providers:n}}function DD(...n){return{\u0275providers:Lm(!0,n),\u0275fromNgModule:!0}}function Lm(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Td(e,s=>{let a=s;Bu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&jm(i,o),t}function jm(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Md(i,o=>{e(o,r)})}}function Bu(n,e,t,r){if(n=Ae(n),!n)return!1;let i=null,o=Pg(n),s=!o&&kr(n);if(!o&&!s){let l=n.ngModule;if(o=Pg(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Bu(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Td(o.imports,u=>{Bu(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&jm(c,e)}if(!a){let c=Vn(i)||(()=>new i);e({provide:i,useFactory:c,deps:Xe},i),e({provide:km,useValue:i,multi:!0},i),e({provide:ro,useValue:()=>F(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;Md(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Md(n,e){for(let t of n)Tm(t)&&(t=t.\u0275providers),Array.isArray(t)?Md(t,e):e(t)}var CD=X({provide:String,useValue:X});function Vm(n){return n!==null&&typeof n=="object"&&CD in n}function ID(n){return!!(n&&n.useExisting)}function SD(n){return!!(n&&n.useFactory)}function Pr(n){return typeof n=="function"}function TD(n){return!!n.useClass}var Oa=new x(""),Qs={},Vg={},Su;function xd(){return Su===void 0&&(Su=new aa),Su}var nt=class{},io=class extends nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,zu(e,s=>this.processProvider(s)),this.records.set(Nm,Ar(void 0,this)),i.has("environment")&&this.records.set(nt,Ar(void 0,this));let o=this.records.get(Oa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(km,Xe,j.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?ws:Ln,r)}destroy(){eo(this),this._destroyed=!0;let e=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(e)}}onDestroy(e){return eo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){eo(this);let t=Vt(this),r=Le(void 0),i;try{return e()}finally{Vt(t),Le(r)}}get(e,t=Ln,r=j.Default){if(eo(this),e.hasOwnProperty(Lg))return e[Lg](this);r=Ra(r);let i,o=Vt(this),s=Le(void 0);try{if(!(r&j.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=OD(e)&&xa(e);c&&this.injectableDefInScope(c)?l=Ar(Hu(e),Qs):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&j.Self?xd():this.parent;return t=r&j.Optional&&t===Ln?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[oa]=a[oa]||[]).unshift(je(e)),o)throw a;return pD(a,e,"R3InjectorError",this.source)}else throw a}finally{Le(s),Vt(o)}}resolveInjectorInitializers(){let e=B(null),t=Vt(this),r=Le(void 0),i;try{let o=this.get(ro,Xe,j.Self);for(let s of o)s()}finally{Vt(t),Le(r),B(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(je(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ae(e);let t=Pr(e)?e:Ae(e&&e.provide),r=xD(e);if(!Pr(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ar(void 0,Qs,!0),i.factory=()=>Uu(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=B(null);try{return t.value===Vg?Mm(je(e)):t.value===Qs&&(t.value=Vg,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&RD(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{B(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ae(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Hu(n){let e=xa(n),t=e!==null?e.factory:Vn(n);if(t!==null)return t;if(n instanceof x)throw new I(204,!1);if(n instanceof Function)return MD(n);throw new I(204,!1)}function MD(n){if(n.length>0)throw new I(204,!1);let t=tD(n);return t!==null?()=>t.factory(n):()=>new n}function xD(n){if(Vm(n))return Ar(void 0,n.useValue);{let e=$m(n);return Ar(e,Qs)}}function $m(n,e,t){let r;if(Pr(n)){let i=Ae(n);return Vn(i)||Hu(i)}else if(Vm(n))r=()=>Ae(n.useValue);else if(SD(n))r=()=>n.useFactory(...Uu(n.deps||[]));else if(ID(n))r=(i,o)=>F(Ae(n.useExisting),o!==void 0&&o&j.Optional?j.Optional:void 0);else{let i=Ae(n&&(n.useClass||n.provide));if(AD(n))r=()=>new i(...Uu(n.deps));else return Vn(i)||Hu(i)}return r}function eo(n){if(n.destroyed)throw new I(205,!1)}function Ar(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function AD(n){return!!n.deps}function RD(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function OD(n){return typeof n=="function"||typeof n=="object"&&n instanceof x}function zu(n,e){for(let t of n)Array.isArray(t)?zu(t,e):t&&Tm(t)?zu(t.\u0275providers,e):e(t)}function ht(n,e){let t;n instanceof io?(eo(n),t=n):t=new ia(n);let r,i=Vt(t),o=Le(void 0);try{return e()}finally{Vt(i),Le(o)}}function ND(){return xm()!==void 0||Zi()!=null}function kD(n){return typeof n=="function"}var Kt=0,G=1,P=2,Re=3,ft=4,pt=5,la=6,ca=7,Ve=8,Fr=9,zt=10,ce=11,oo=12,$g=13,zr=14,Ct=15,Lr=16,Rr=17,jr=18,Na=19,Um=20,an=21,Tu=22,ua=23,et=24,Mu=25,qe=26,Bm=1;var Un=7,da=8,fa=9,tt=10;function ln(n){return Array.isArray(n)&&typeof n[Bm]=="object"}function Zt(n){return Array.isArray(n)&&n[Bm]===!0}function Ad(n){return(n.flags&4)!==0}function qr(n){return n.componentOffset>-1}function ka(n){return(n.flags&1)===1}function It(n){return!!n.template}function ha(n){return(n[P]&512)!==0}function Gr(n){return(n[P]&256)===256}var qu=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Hm(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Wr=(()=>{let n=()=>zm;return n.ngInherit=!0,n})();function zm(n){return n.type.prototype.ngOnChanges&&(n.setInput=FD),PD}function PD(){let n=Gm(this),e=n?.current;if(e){let t=n.previous;if(t===$n)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function FD(n,e,t,r,i){let o=this.declaredInputs[r],s=Gm(n)||LD(n,{previous:$n,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new qu(c&&c.currentValue,t,l===$n),Hm(n,e,i,t)}var qm="__ngSimpleChanges__";function Gm(n){return n[qm]||null}function LD(n,e){return n[qm]=e}var Ug=null;var te=function(n,e=null,t){Ug?.(n,e,t)},jD="svg",VD="math";function St(n){for(;Array.isArray(n);)n=n[Kt];return n}function Wm(n,e){return St(e[n])}function At(n,e){return St(e[n.index])}function Km(n,e){return n.data[e]}function Zm(n,e){return n[e]}function $D(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Tt(n,e){let t=e[n];return ln(t)?t:t[Kt]}function Rd(n){return(n[P]&128)===128}function UD(n){return Zt(n[Re])}function Vr(n,e){return e==null?null:n[e]}function Ym(n){n[Rr]=0}function Jm(n){n[P]&1024||(n[P]|=1024,Rd(n)&&Fa(n))}function BD(n,e){for(;n>0;)e=e[zr],n--;return e}function Pa(n){return!!(n[P]&9216||n[et]?.dirty)}function Gu(n){n[zt].changeDetectionScheduler?.notify(8),n[P]&64&&(n[P]|=1024),Pa(n)&&Fa(n)}function Fa(n){n[zt].changeDetectionScheduler?.notify(0);let e=Bn(n);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Rd(e)));)e=Bn(e)}function Qm(n,e){if(Gr(n))throw new I(911,!1);n[an]===null&&(n[an]=[]),n[an].push(e)}function HD(n,e){if(n[an]===null)return;let t=n[an].indexOf(e);t!==-1&&n[an].splice(t,1)}function Bn(n){let e=n[Re];return Zt(e)?e[Re]:e}function Xm(n){return n[ca]??=[]}function ev(n){return n.cleanup??=[]}var $={lFrame:av(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wu=!1;function zD(){return $.lFrame.elementDepthCount}function qD(){$.lFrame.elementDepthCount++}function GD(){$.lFrame.elementDepthCount--}function Od(){return $.bindingsEnabled}function WD(){return $.skipHydrationRootTNode!==null}function KD(n){return $.skipHydrationRootTNode===n}function ZD(){$.skipHydrationRootTNode=null}function Q(){return $.lFrame.lView}function Se(){return $.lFrame.tView}function gt(n){return $.lFrame.contextLView=n,n[Ve]}function mt(n){return $.lFrame.contextLView=null,n}function Ge(){let n=tv();for(;n!==null&&n.type===64;)n=n.parent;return n}function tv(){return $.lFrame.currentTNode}function YD(){let n=$.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Kn(n,e){let t=$.lFrame;t.currentTNode=n,t.isParent=e}function Nd(){return $.lFrame.isParent}function nv(){$.lFrame.isParent=!1}function JD(){return $.lFrame.contextLView}function rv(){return Wu}function Bg(n){let e=Wu;return Wu=n,e}function QD(){let n=$.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function XD(n){return $.lFrame.bindingIndex=n}function La(){return $.lFrame.bindingIndex++}function eC(n){let e=$.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function tC(){return $.lFrame.inI18n}function nC(n,e){let t=$.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ku(e)}function rC(){return $.lFrame.currentDirectiveIndex}function Ku(n){$.lFrame.currentDirectiveIndex=n}function iC(n){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function iv(n){$.lFrame.currentQueryIndex=n}function oC(n){let e=n[G];return e.type===2?e.declTNode:e.type===1?n[pt]:null}function ov(n,e,t){if(t&j.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&j.Host);)if(i=oC(o),i===null||(o=o[zr],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=$.lFrame=sv();return r.currentTNode=e,r.lView=n,!0}function kd(n){let e=sv(),t=n[G];$.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sv(){let n=$.lFrame,e=n===null?null:n.child;return e===null?av(n):e}function av(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function lv(){let n=$.lFrame;return $.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cv=lv;function Pd(){let n=lv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function sC(n){return($.lFrame.contextLView=BD(n,$.lFrame.contextLView))[Ve]}function Kr(){return $.lFrame.selectedIndex}function Hn(n){$.lFrame.selectedIndex=n}function ja(){let n=$.lFrame;return Km(n.tView,n.selectedIndex)}function aC(){return $.lFrame.currentNamespace}var uv=!0;function Va(){return uv}function $a(n){uv=n}function lC(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=zm(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Fd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Xs(n,e,t){dv(n,e,3,t)}function ea(n,e,t,r){(n[P]&3)===t&&dv(n,e,t,r)}function xu(n,e){let t=n[P];(t&3)===e&&(t&=16383,t+=1,n[P]=t)}function dv(n,e,t,r){let i=r!==void 0?n[Rr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Rr]+=65536),(a<o||o==-1)&&(cC(n,t,e,l),n[Rr]=(n[Rr]&4294901760)+l+2),l++}function Hg(n,e){te(4,n,e);let t=B(null);try{e.call(n)}finally{B(t),te(5,n,e)}}function cC(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[P]>>14<n[Rr]>>16&&(n[P]&3)===e&&(n[P]+=16384,Hg(a,o)):Hg(a,o)}var Nr=-1,zn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function uC(n){return(n.flags&8)!==0}function dC(n){return(n.flags&16)!==0}function fC(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];pC(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function hC(n){return n===3||n===4||n===6}function pC(n){return n.charCodeAt(0)===64}function $r(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?zg(n,t,i,null,e[++r]):zg(n,t,i,null,null))}}return n}function zg(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function fv(n){return n!==Nr}function pa(n){return n&32767}function gC(n){return n>>16}function ga(n,e){let t=gC(n),r=e;for(;t>0;)r=r[zr],t--;return r}var Zu=!0;function ma(n){let e=Zu;return Zu=n,e}var mC=256,hv=mC-1,pv=5,vC=0,Dt={};function yC(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(no)&&(r=t[no]),r==null&&(r=t[no]=vC++);let i=r&hv,o=1<<i;e.data[n+(i>>pv)]|=o}function va(n,e){let t=gv(n,e);if(t!==-1)return t;let r=e[G];r.firstCreatePass&&(n.injectorIndex=e.length,Au(r.data,n),Au(e,null),Au(r.blueprint,null));let i=Ld(n,e),o=n.injectorIndex;if(fv(i)){let s=pa(i),a=ga(i,e),l=a[G].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Au(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gv(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ld(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=wv(i),r===null)return Nr;if(t++,i=i[zr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Nr}function Yu(n,e,t){yC(n,e,t)}function mv(n,e,t){if(t&j.Optional||n!==void 0)return n;Sd(e,"NodeInjector")}function vv(n,e,t,r){if(t&j.Optional&&r===void 0&&(r=null),(t&(j.Self|j.Host))===0){let i=n[Fr],o=Le(void 0);try{return i?i.get(e,r,t&j.Optional):Am(e,r,t&j.Optional)}finally{Le(o)}}return mv(r,e,t)}function yv(n,e,t,r=j.Default,i){if(n!==null){if(e[P]&2048&&!(r&j.Self)){let s=DC(n,e,t,r,Dt);if(s!==Dt)return s}let o=_v(n,e,t,r,Dt);if(o!==Dt)return o}return vv(e,t,r,i)}function _v(n,e,t,r,i){let o=bC(t);if(typeof o=="function"){if(!ov(e,n,r))return r&j.Host?mv(i,t,r):vv(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&j.Optional))Sd(t);else return s}finally{cv()}}else if(typeof o=="number"){let s=null,a=gv(n,e),l=Nr,c=r&j.Host?e[Ct][pt]:null;for((a===-1||r&j.SkipSelf)&&(l=a===-1?Ld(n,e):e[a+8],l===Nr||!Gg(r,!1)?a=-1:(s=e[G],a=pa(l),e=ga(l,e)));a!==-1;){let u=e[G];if(qg(o,a,u.data)){let f=_C(a,e,t,s,r,c);if(f!==Dt)return f}l=e[a+8],l!==Nr&&Gg(r,e[G].data[a+8]===c)&&qg(o,a,e)?(s=u,a=pa(l),e=ga(l,e)):a=-1}}return i}function _C(n,e,t,r,i,o){let s=e[G],a=s.data[n+8],l=r==null?qr(a)&&Zu:r!=s&&(a.type&3)!==0,c=i&j.Host&&o===a,u=wC(a,s,t,l,c);return u!==null?ya(e,s,u,a,i):Dt}function wC(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,f=r?a:a+u,p=i?a+u:c;for(let d=f;d<p;d++){let g=s[d];if(d<l&&t===g||d>=l&&g.type===t)return d}if(i){let d=s[l];if(d&&It(d)&&d.type===t)return l}return null}function ya(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof zn){let a=o;a.resolving&&Mm(aD(s[t]));let l=ma(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Le(a.injectImpl):null,f=ov(n,r,j.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&lC(t,s[t],e)}finally{u!==null&&Le(u),ma(l),a.resolving=!1,cv()}}return o}function bC(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(no)?n[no]:void 0;return typeof e=="number"?e>=0?e&hv:EC:e}function qg(n,e,t){let r=1<<n;return!!(t[e+(n>>pv)]&r)}function Gg(n,e){return!(n&j.Self)&&!(n&j.Host&&e)}var jn=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return yv(this._tNode,this._lView,e,Ra(r),t)}};function EC(){return new jn(Ge(),Q())}function Yt(n){return uo(()=>{let e=n.prototype.constructor,t=e[ra]||Ju(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ra]||Ju(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ju(n){return Dm(n)?()=>{let e=Ju(Ae(n));return e&&e()}:Vn(n)}function DC(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[P]&2048&&!ha(s);){let a=_v(o,s,t,r|j.Self,Dt);if(a!==Dt)return a;let l=o.parent;if(!l){let c=s[Um];if(c){let u=c.get(t,Dt,r);if(u!==Dt)return u}l=wv(s),s=s[zr]}o=l}return i}function wv(n){let e=n[G],t=e.type;return t===2?e.declTNode:t===1?n[pt]:null}function Wg(n,e=null,t=null,r){let i=bv(n,e,t,r);return i.resolveInjectorInitializers(),i}function bv(n,e=null,t=null,r,i=new Set){let o=[t||Xe,DD(n)];return r=r||(typeof n=="object"?void 0:je(n)),new io(o,e||xd(),r||null,i)}var qt=class n{static THROW_IF_NOT_FOUND=Ln;static NULL=new aa;static create(e,t){if(Array.isArray(e))return Wg({name:""},t,e,"");{let r=e.name??"";return Wg({name:r},e.parent,e.providers,r)}}static \u0275prov=R({token:n,providedIn:"any",factory:()=>F(Nm)});static __NG_ELEMENT_ID__=-1};var CC=new x("");CC.__NG_ELEMENT_ID__=n=>{let e=Ge();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(n&j.Optional)return null;throw new I(204,!1)};var Ev=!1,Ua=(()=>{class n{static __NG_ELEMENT_ID__=IC;static __NG_ENV_ID__=t=>t}return n})(),Qu=class extends Ua{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Gr(t)?(e(),()=>{}):(Qm(t,e),()=>HD(t,e))}};function IC(){return new Qu(Q())}var so=class{},Dv=new x("",{providedIn:"root",factory:()=>!1});var Cv=new x(""),Iv=new x(""),Zr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new me(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})();var Xu=class extends ge{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ND()&&(this.destroyRef=b(Ua,{optional:!0})??void 0,this.pendingTasks=b(Zr,{optional:!0})??void 0)}emit(e){let t=B(null);try{super.next(e)}finally{B(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ue&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ye=Xu;function _a(...n){}function Sv(n){let e,t;function r(){n=_a;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Kg(n){return queueMicrotask(()=>n()),()=>{n=_a}}var jd="isAngularZone",wa=jd+"_ID",SC=0,Ie=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ye(!1);onMicrotaskEmpty=new ye(!1);onStable=new ye(!1);onError=new ye(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ev}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,xC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jd)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,TC,_a,_a);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},TC={};function Vd(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function MC(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Sv(()=>{n.callbackScheduled=!1,ed(n),n.isCheckStableRunning=!0,Vd(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ed(n)}function xC(n){let e=()=>{MC(n)},t=SC++;n._inner=n._inner.fork({name:"angular",properties:{[jd]:!0,[wa]:t,[wa+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(AC(l))return r.invokeTask(o,s,a,l);try{return Zg(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Yg(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Zg(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!RC(l)&&e(),Yg(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ed(n),Vd(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ed(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Zg(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Yg(n){n._nesting--,Vd(n)}var td=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ye;onMicrotaskEmpty=new ye;onStable=new ye;onError=new ye;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function AC(n){return Tv(n,"__ignore_ng_zone__")}function RC(n){return Tv(n,"__scheduler_tick__")}function Tv(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Gt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},OC=new x("",{providedIn:"root",factory:()=>{let n=b(Ie),e=b(Gt);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Jg(n,e){return bm(n,e)}function NC(n){return bm(wm,n)}var Mv=(Jg.required=NC,Jg);function kC(){return Ba(Ge(),Q())}function Ba(n,e){return new cn(At(n,e))}var cn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=kC}return n})();function PC(n){return typeof n=="function"&&n[Qe]!==void 0}function ho(n,e){let t=ru(n,e?.equal),r=t[Qe];return t.set=i=>Ki(r,i),t.update=i=>iu(r,i),t.asReadonly=FC.bind(t),t}function FC(){let n=this[Qe];if(n.readonlyFn===void 0){let e=()=>this();e[Qe]=n,n.readonlyFn=e}return n.readonlyFn}function xv(n){return PC(n)&&typeof n.set=="function"}function Av(n){return(n.flags&128)===128}var Rv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Rv||{}),Ov=new Map,LC=0;function jC(){return LC++}function VC(n){Ov.set(n[Na],n)}function nd(n){Ov.delete(n[Na])}var Qg="__ngContext__";function Yr(n,e){ln(e)?(n[Qg]=e[Na],VC(e)):n[Qg]=e}function Nv(n){return Pv(n[oo])}function kv(n){return Pv(n[ft])}function Pv(n){for(;n!==null&&!Zt(n);)n=n[ft];return n}var rd;function Fv(n){rd=n}function $C(){if(rd!==void 0)return rd;if(typeof document<"u")return document;throw new I(210,!1)}var $d=new x("",{providedIn:"root",factory:()=>UC}),UC="ng",Ud=new x(""),po=new x("",{providedIn:"platform",factory:()=>"unknown"});var Bd=new x("",{providedIn:"root",factory:()=>$C().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BC="h",HC="b";var Lv=!1,zC=new x("",{providedIn:"root",factory:()=>Lv});var jv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(jv||{}),Ha=new x(""),Xg=new Set;function Vv(n){Xg.has(n)||(Xg.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var qC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})();var GC=(n,e,t,r)=>{};function WC(n,e,t,r){GC(n,e,t,r)}var KC=()=>null;function $v(n,e,t=!1){return KC(n,e,t)}function Uv(n,e){let t=n.contentQueries;if(t!==null){let r=B(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];iv(o),a.contentQueries(2,e[s],s)}}}finally{B(r)}}}function id(n,e,t){iv(0);let r=B(null);try{e(n,t)}finally{B(r)}}function Hd(n,e,t){if(Ad(e)){let r=B(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{B(r)}}}var Mt=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mt||{});var ba=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_m})`}};function Bv(n){return n instanceof ba?n.changingThisBreaksApplicationSecurity:n}function ZC(n,e){let t=YC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_m})`)}return t===e}function YC(n){return n instanceof ba&&n.getTypeName()||null}var JC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function QC(n){return n=String(n),n.match(JC)?n:"unsafe:"+n}var XC=/^>|^->|<!--|-->|--!>|<!-$/g,e0=/(<|>)/g,t0="\u200B$1\u200B";function n0(n){return n.replace(XC,e=>e.replace(e0,t0))}function r0(n,e){return n.createText(e)}function i0(n,e,t){n.setValue(e,t)}function o0(n,e){return n.createComment(n0(e))}function Hv(n,e,t){return n.createElement(e,t)}function Ea(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zv(n,e,t){n.appendChild(e,t)}function em(n,e,t,r,i){r!==null?Ea(n,e,t,r,i):zv(n,e,t)}function s0(n,e,t){n.removeChild(null,e,t)}function a0(n,e,t){n.setAttribute(e,"style",t)}function l0(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function qv(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&fC(n,e,r),i!==null&&l0(n,e,i),o!==null&&a0(n,e,o)}var Gv=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gv||{});function zd(n){let e=c0();return e?e.sanitize(Gv.URL,n)||"":ZC(n,"URL")?Bv(n):QC(Aa(n))}function c0(){let n=Q();return n&&n[zt].sanitizer}function Wv(n){return n instanceof Function?n():n}function u0(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Kv="ng-template";function d0(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&u0(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(qd(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function qd(n){return n.type===4&&n.value!==Kv}function f0(n,e,t){let r=n.type===4&&!t?Kv:n.value;return e===r}function h0(n,e,t){let r=4,i=n.attrs,o=i!==null?m0(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!dt(r)&&!dt(l))return!1;if(s&&dt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!f0(n,l,t)||l===""&&e.length===1){if(dt(r))return!1;s=!0}}else if(r&8){if(i===null||!d0(n,i,l,t)){if(dt(r))return!1;s=!0}}else{let c=e[++a],u=p0(l,i,qd(n),t);if(u===-1){if(dt(r))return!1;s=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(dt(r))return!1;s=!0}}}}return dt(r)||s}function dt(n){return(n&1)===0}function p0(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return v0(e,n)}function g0(n,e,t=!1){for(let r=0;r<e.length;r++)if(h0(n,e[r],t))return!0;return!1}function m0(n){for(let e=0;e<n.length;e++){let t=n[e];if(hC(t))return e}return n.length}function v0(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function tm(n,e){return n?":not("+e.trim()+")":e}function y0(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dt(s)&&(e+=tm(o,i),i=""),r=s,o=o||!dt(r);t++}return i!==""&&(e+=tm(o,i)),e}function _0(n){return n.map(y0).join(",")}function w0(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!dt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var un={};function Gd(n,e,t,r,i,o,s,a,l,c,u){let f=qe+r,p=f+i,d=b0(f,p),g=typeof c=="function"?c():c;return d[G]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function b0(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:un);return t}function E0(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Gd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Wd(n,e,t,r,i,o,s,a,l,c,u){let f=e.blueprint.slice();return f[Kt]=i,f[P]=r|4|128|8|64|1024,(c!==null||n&&n[P]&2048)&&(f[P]|=2048),Ym(f),f[Re]=f[zr]=n,f[Ve]=t,f[zt]=s||n&&n[zt],f[ce]=a||n&&n[ce],f[Fr]=l||n&&n[Fr]||null,f[pt]=o,f[Na]=jC(),f[la]=u,f[Um]=c,f[Ct]=e.type==2?n[Ct]:f,f}function D0(n,e,t){let r=At(e,n),i=E0(t),o=n[zt].rendererFactory,s=Kd(n,Wd(n,i,null,Zv(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Zv(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Yv(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Kd(n,e){return n[oo]?n[$g][ft]=e:n[oo]=e,n[$g]=e,e}function ae(n=1){Jv(Se(),Q(),Kr()+n,!1)}function Jv(n,e,t,r){if(!r)if((e[P]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Xs(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ea(e,o,0,t)}Hn(t)}var za=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(za||{});function od(n,e,t,r){let i=B(null);try{let[o,s,a]=n.inputs[t],l=null;(s&za.SignalBased)!==0&&(l=e[o][Qe]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):Hm(e,l,o,r)}finally{B(i)}}function Qv(n,e,t,r,i){let o=Kr(),s=r&2;try{Hn(-1),s&&e.length>qe&&Jv(n,e,qe,!1),te(s?2:0,i),t(r,i)}finally{Hn(o),te(s?3:1,i)}}function qa(n,e,t){x0(n,e,t),(t.flags&64)===64&&A0(n,e,t)}function Zd(n,e,t=At){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function C0(n,e,t,r){let o=r.get(zC,Lv)||t===Mt.ShadowDom,s=n.selectRootElement(e,o);return I0(s),s}function I0(n){S0(n)}var S0=()=>null;function T0(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Yd(n,e,t,r,i,o,s,a){if(!a&&Qd(e,n,t,r,i)){qr(e)&&M0(t,e.index);return}if(e.type&3){let l=At(e,t);r=T0(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function M0(n,e){let t=Tt(e,n);t[P]&16||(t[P]|=64)}function x0(n,e,t){let r=t.directiveStart,i=t.directiveEnd;qr(t)&&D0(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||va(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=ya(e,n,s,t);if(Yr(l,e),o!==null&&k0(e,s-r,l,a,t,o),It(a)){let c=Tt(t.index,e);c[Ve]=ya(e,n,s,t)}}}function A0(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=rC();try{Hn(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];Ku(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&R0(l,c)}}finally{Hn(-1),Ku(s)}}function R0(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Jd(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];g0(e,o.selectors,!1)&&(r??=[],It(o)?r.unshift(o):r.push(o))}return r}function O0(n,e,t,r,i,o){let s=At(n,e);N0(e[ce],s,o,n.value,t,r,i)}function N0(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Aa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function k0(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];od(r,t,l,c)}}function P0(n,e){let t=n[Fr],r=t?t.get(Gt,null):null;r&&r.handleError(e)}function Qd(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],f=e.data[c];od(f,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];od(u,c,r,i),a=!0}return a}function F0(n,e){let t=Tt(e,n),r=t[G];L0(r,t);let i=t[Kt];i!==null&&t[la]===null&&(t[la]=$v(i,t[Fr])),te(18),Xd(r,t,t[Ve]),te(19,t[Ve])}function L0(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Xd(n,e,t){kd(e);try{let r=n.viewQuery;r!==null&&id(1,r,t);let i=n.template;i!==null&&Qv(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[jr]?.finishViewCreation(n),n.staticContentQueries&&Uv(n,e),n.staticViewQueries&&id(2,n.viewQuery,t);let o=n.components;o!==null&&j0(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[P]&=-5,Pd()}}function j0(n,e){for(let t=0;t<e.length;t++)F0(n,e[t])}function V0(n,e,t,r){let i=B(null);try{let o=e.tView,a=n[P]&4096?4096:16,l=Wd(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[Lr]=c;let u=n[jr];return u!==null&&(l[jr]=u.createEmbeddedView(o)),Xd(o,l,t),l}finally{B(i)}}function nm(n,e){return!e||e.firstChild===null||Av(n)}var $0;function ef(n,e){return $0(n,e)}var Wt=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Wt||{});function Xv(n){return(n.flags&32)===32}function Or(n,e,t,r,i){if(r!=null){let o,s=!1;Zt(r)?o=r:ln(r)&&(s=!0,r=r[Kt]);let a=St(r);n===0&&t!==null?i==null?zv(e,t,a):Ea(e,t,a,i||null,!0):n===1&&t!==null?Ea(e,t,a,i||null,!0):n===2?s0(e,a,s):n===3&&e.destroyNode(a),o!=null&&Q0(e,n,o,t,i)}}function U0(n,e){ey(n,e),e[Kt]=null,e[pt]=null}function B0(n,e,t,r,i,o){r[Kt]=i,r[pt]=e,Wa(n,r,t,1,i,o)}function ey(n,e){e[zt].changeDetectionScheduler?.notify(9),Wa(n,e,e[ce],2,null,null)}function H0(n){let e=n[oo];if(!e)return Ru(n[G],n);for(;e;){let t=null;if(ln(e))t=e[oo];else{let r=e[tt];r&&(t=r)}if(!t){for(;e&&!e[ft]&&e!==n;)ln(e)&&Ru(e[G],e),e=e[Re];e===null&&(e=n),ln(e)&&Ru(e[G],e),t=e&&e[ft]}e=t}}function tf(n,e){let t=n[fa],r=t.indexOf(e);t.splice(r,1)}function ty(n,e){if(Gr(e))return;let t=e[ce];t.destroyNode&&Wa(n,e,t,3,null,null),H0(e)}function Ru(n,e){if(Gr(e))return;let t=B(null);try{e[P]&=-129,e[P]|=256,e[et]&&eu(e[et]),q0(n,e),z0(n,e),e[G].type===1&&e[ce].destroy();let r=e[Lr];if(r!==null&&Zt(e[Re])){r!==e[Re]&&tf(r,e);let i=e[jr];i!==null&&i.detachView(n)}nd(e)}finally{B(t)}}function z0(n,e){let t=n.cleanup,r=e[ca];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ca]=null);let i=e[an];if(i!==null){e[an]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ua];if(o!==null){e[ua]=null;for(let s of o)s.destroy()}}function q0(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof zn)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];te(4,a,l);try{l.call(a)}finally{te(5,a,l)}}else{te(4,i,o);try{o.call(i)}finally{te(5,i,o)}}}}}function G0(n,e,t){return W0(n,e.parent,t)}function W0(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Kt];if(qr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Mt.None||i===Mt.Emulated)return null}return At(r,t)}function K0(n,e,t){return Y0(n,e,t)}function Z0(n,e,t){return n.type&40?At(n,t):null}var Y0=Z0,rm;function Ga(n,e,t,r){let i=G0(n,r,e),o=e[ce],s=r.parent||e[pt],a=K0(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)em(o,i,t[l],a,!1);else em(o,i,t,a,!1);rm!==void 0&&rm(o,r,e,t,i)}function to(n,e){if(e!==null){let t=e.type;if(t&3)return At(e,n);if(t&4)return sd(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return to(n,r);{let i=n[e.index];return Zt(i)?sd(-1,i):St(i)}}else{if(t&128)return to(n,e.next);if(t&32)return ef(e,n)()||St(n[e.index]);{let r=ny(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Bn(n[Ct]);return to(i,r)}else return to(n,e.next)}}}return null}function ny(n,e){if(e!==null){let r=n[Ct][pt],i=e.projection;return r.projection[i]}return null}function sd(n,e){let t=tt+n+1;if(t<e.length){let r=e[t],i=r[G].firstChild;if(i!==null)return to(r,i)}return e[Un]}function nf(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Yr(St(a),r),t.flags|=2),!Xv(t))if(l&8)nf(n,e,t.child,r,i,o,!1),Or(e,n,i,a,o);else if(l&32){let c=ef(t,r),u;for(;u=c();)Or(e,n,i,u,o);Or(e,n,i,a,o)}else l&16?J0(n,e,r,t,i,o):Or(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Wa(n,e,t,r,i,o){nf(t,r,n.firstChild,e,i,o,!1)}function J0(n,e,t,r,i,o){let s=t[Ct],l=s[pt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Or(e,n,i,u,o)}else{let c=l,u=s[Re];Av(r)&&(c.flags|=128),nf(n,e,c,u,i,o,!0)}}function Q0(n,e,t,r,i){let o=t[Un],s=St(t);o!==s&&Or(e,n,r,o,i);for(let a=tt;a<t.length;a++){let l=t[a];Wa(l[G],l,n,e,r,o)}}function X0(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Wt.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wt.Important),n.setStyle(t,r,i,o))}}function Da(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(St(o)),Zt(o)&&eI(o,r);let s=t.type;if(s&8)Da(n,e,t.child,r);else if(s&32){let a=ef(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=ny(e,t);if(Array.isArray(a))r.push(...a);else{let l=Bn(e[Ct]);Da(l[G],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function eI(n,e){for(let t=tt;t<n.length;t++){let r=n[t],i=r[G].firstChild;i!==null&&Da(r[G],r,i,e)}n[Un]!==n[Kt]&&e.push(n[Un])}function ry(n){if(n[Mu]!==null){for(let e of n[Mu])e.impl.addSequence(e);n[Mu].length=0}}var iy=[];function tI(n){return n[et]??nI(n)}function nI(n){let e=iy.pop()??Object.create(iI);return e.lView=n,e}function rI(n){n.lView[et]!==n&&(n.lView=null,iy.push(n))}var iI=z(w({},Gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Fa(n.lView)},consumerOnSignalRead(){this.lView[et]=this}});function oI(n){let e=n[et]??Object.create(sI);return e.lView=n,e}var sI=z(w({},Gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Bn(n.lView);for(;e&&!oy(e[G]);)e=Bn(e);e&&Jm(e)},consumerOnSignalRead(){this.lView[et]=this}});function oy(n){return n.type!==2}function sy(n){if(n[ua]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ua])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[P]&8192)}}var aI=100;function ay(n,e=!0,t=0){let i=n[zt].rendererFactory,o=!1;o||i.begin?.();try{lI(n,t)}catch(s){throw e&&P0(n,s),s}finally{o||i.end?.()}}function lI(n,e){let t=rv();try{Bg(!0),ad(n,e);let r=0;for(;Pa(n);){if(r===aI)throw new I(103,!1);r++,ad(n,1)}}finally{Bg(t)}}function cI(n,e,t,r){if(Gr(e))return;let i=e[P],o=!1,s=!1;kd(e);let a=!0,l=null,c=null;o||(oy(n)?(c=tI(e),l=ms(c)):Kc()===null?(a=!1,c=oI(e),l=ms(c)):e[et]&&(eu(e[et]),e[et]=null));try{Ym(e),XD(n.bindingStartIndex),t!==null&&Qv(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let d=n.preOrderCheckHooks;d!==null&&Xs(e,d,null)}else{let d=n.preOrderHooks;d!==null&&ea(e,d,0,null),xu(e,0)}if(s||uI(e),sy(e),ly(e,0),n.contentQueries!==null&&Uv(n,e),!o)if(u){let d=n.contentCheckHooks;d!==null&&Xs(e,d)}else{let d=n.contentHooks;d!==null&&ea(e,d,1),xu(e,1)}fI(n,e);let f=n.components;f!==null&&uy(e,f,0);let p=n.viewQuery;if(p!==null&&id(2,p,r),!o)if(u){let d=n.viewCheckHooks;d!==null&&Xs(e,d)}else{let d=n.viewHooks;d!==null&&ea(e,d,2),xu(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Tu]){for(let d of e[Tu])d();e[Tu]=null}o||(ry(e),e[P]&=-73)}catch(u){throw o||Fa(e),u}finally{c!==null&&(Qc(c,l),a&&rI(c)),Pd()}}function ly(n,e){for(let t=Nv(n);t!==null;t=kv(t))for(let r=tt;r<t.length;r++){let i=t[r];cy(i,e)}}function uI(n){for(let e=Nv(n);e!==null;e=kv(e)){if(!(e[P]&2))continue;let t=e[fa];for(let r=0;r<t.length;r++){let i=t[r];Jm(i)}}}function dI(n,e,t){te(18);let r=Tt(e,n);cy(r,t),te(19,r[Ve])}function cy(n,e){Rd(n)&&ad(n,e)}function ad(n,e){let r=n[G],i=n[P],o=n[et],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xc(o)),s||=!1,o&&(o.dirty=!1),n[P]&=-9217,s)cI(r,n,r.template,n[Ve]);else if(i&8192){sy(n),ly(n,1);let a=r.components;a!==null&&uy(n,a,1),ry(n)}}function uy(n,e,t){for(let r=0;r<e.length;r++)dI(n,e[r],t)}function fI(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Hn(~i);else{let o=i,s=t[++r],a=t[++r];nC(s,o);let l=e[o];te(24,l),a(2,l),te(25,l)}}}finally{Hn(-1)}}function rf(n,e){let t=rv()?64:1088;for(n[zt].changeDetectionScheduler?.notify(e);n;){n[P]|=t;let r=Bn(n);if(ha(n)&&!r)return n;n=r}return null}function dy(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function hI(n,e,t,r=!0){let i=e[G];if(pI(i,e,n,t),r){let s=sd(t,n),a=e[ce],l=a.parentNode(n[Un]);l!==null&&B0(i,n[pt],a,e,l,s)}let o=e[la];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ld(n,e){if(n.length<=tt)return;let t=tt+e,r=n[t];if(r){let i=r[Lr];i!==null&&i!==n&&tf(i,r),e>0&&(n[t-1][ft]=r[ft]);let o=sa(n,tt+e);U0(r[G],r);let s=o[jr];s!==null&&s.detachView(o[G]),r[Re]=null,r[ft]=null,r[P]&=-129}return r}function pI(n,e,t,r){let i=tt+r,o=t.length;r>0&&(t[i-1][ft]=e),r<o-tt?(e[ft]=t[i],Om(t,tt+r,e)):(t.push(e),e[ft]=null),e[Re]=t;let s=e[Lr];s!==null&&t!==s&&fy(s,e);let a=e[jr];a!==null&&a.insertView(n),Gu(e),e[P]|=128}function fy(n,e){let t=n[fa],r=e[Re];if(ln(r))n[P]|=2;else{let i=r[Re][Ct];e[Ct]!==i&&(n[P]|=2)}t===null?n[fa]=[e]:t.push(e)}var ao=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[G];return Da(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Ve]}set context(e){this._lView[Ve]=e}get destroyed(){return Gr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Re];if(Zt(e)){let t=e[da],r=t?t.indexOf(this):-1;r>-1&&(ld(e,r),sa(t,r))}this._attachedToViewContainer=!1}ty(this._lView[G],this._lView)}onDestroy(e){Qm(this._lView,e)}markForCheck(){rf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Gu(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,ay(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ha(this._lView),t=this._lView[Lr];t!==null&&!e&&tf(t,this._lView),ey(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let t=ha(this._lView),r=this._lView[Lr];r!==null&&!t&&fy(r,this._lView),Gu(this._lView)}};var Ka=(()=>{class n{static __NG_ELEMENT_ID__=vI}return n})(),gI=Ka,mI=class extends gI{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=V0(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ao(i)}};function vI(){return yI(Ge(),Q())}function yI(n,e){return n.type&4?new mI(e,n,Ba(n,e)):null}function Za(n,e,t,r,i){let o=n.data[e];if(o===null)o=_I(n,e,t,r,i),tC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=YD();o.injectorIndex=s===null?-1:s.injectorIndex}return Kn(o,!0),o}function _I(n,e,t,r,i){let o=tv(),s=Nd(),a=s?o:o&&o.parent,l=n.data[e]=bI(n,a,t,e,r,i);return wI(n,l,o,s),l}function wI(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function bI(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return WD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var k1=new RegExp(`^(\\d+)*(${HC}|${BC})*(.*)`);var EI=()=>null;function im(n,e){return EI(n,e)}var DI=class{},hy=class{},cd=class{resolveComponentFactory(e){throw Error(`No component factory found for ${je(e)}.`)}},Ya=class{static NULL=new cd},Ur=class{},Zn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>CI()}return n})();function CI(){let n=Q(),e=Ge(),t=Tt(e.index,n);return(ln(t)?t:n)[ce]}var II=(()=>{class n{static \u0275prov=R({token:n,providedIn:"root",factory:()=>null})}return n})();var Ou={},ud=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ra(r);let i=this.injector.get(e,Ou,r);return i!==Ou||t===Ou?i:this.parentInjector.get(e,t,r)}};function dd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ng(i,a);else if(o==2){let l=a,c=e[++s];r=Ng(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function V(n,e=j.Default){let t=Q();if(t===null)return F(n,e);let r=Ge();return yv(r,t,Ae(n),e)}function of(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,l=null,c=null,u=TI(s);u===null?a=s:[a,l,c]=u,AI(n,e,t,a,o,l,c)}o!==null&&r!==null&&SI(t,r,o)}function SI(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}function TI(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&It(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,MI(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function MI(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function xI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function AI(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let d=r[p];!l&&It(d)&&(l=!0,xI(n,t,p)),Yu(va(t,e),n,d.type)}FI(t,n.data.length,a);for(let p=0;p<a;p++){let d=r[p];d.providersResolver&&d.providersResolver(d)}let c=!1,u=!1,f=Yv(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let d=r[p];if(t.mergedAttrs=$r(t.mergedAttrs,d.hostAttrs),OI(n,t,e,f,d),PI(f,d,i),s!==null&&s.has(d)){let[m,v]=s.get(d);t.directiveToIndex.set(d.type,[f,m+t.directiveStart,v+t.directiveStart])}else(o===null||!o.has(d))&&t.directiveToIndex.set(d.type,f);d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let g=d.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}RI(n,t,o)}function RI(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))om(0,e,i,r),om(1,e,i,r),am(e,r,!1);else{let o=t.get(i);sm(0,e,o,r),sm(1,e,o,r),am(e,r,!0)}}}function om(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),py(e,o)}}function sm(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),py(e,s)}}function py(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function am(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||qd(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function OI(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Vn(i.type,!0)),s=new zn(o,It(i),V);n.blueprint[r]=s,t[r]=s,NI(n,e,r,Yv(n,t,i.hostVars,un),i)}function NI(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;kI(s)!=a&&s.push(a),s.push(t,r,o)}}function kI(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function PI(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;It(e)&&(t[""]=n)}}function FI(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function gy(n,e,t,r,i,o,s,a){let l=e.consts,c=Vr(l,s),u=Za(e,n,2,r,c);return o&&of(e,t,u,Vr(l,a),i),u.mergedAttrs=$r(u.mergedAttrs,u.attrs),u.attrs!==null&&dd(u,u.attrs,!1),u.mergedAttrs!==null&&dd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function my(n,e){Fd(n,e),Ad(e)&&n.queries.elementEnd(e)}var Ca=class extends Ya{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=kr(e);return new lo(t,this.ngModule)}};function LI(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&za.SignalBased)!==0};return i&&(o.transform=i),o})}function jI(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function VI(n,e,t){let r=e instanceof nt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new ud(t,r):t}function $I(n){let e=n.get(Ur,null);if(e===null)throw new I(407,!1);let t=n.get(II,null),r=n.get(so,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function UI(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Hv(e,t,t==="svg"?jD:t==="math"?VD:null)}var lo=class extends hy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=LI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=jI(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=_0(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){te(22);let o=B(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:w0(this.componentDef.selectors[0]),l=Gd(0,null,null,1,0,null,null,null,null,[a],null),c=VI(s,i||this.ngModule,e),u=$I(c),f=u.rendererFactory.createRenderer(null,s),p=r?C0(f,r,s.encapsulation,c):UI(s,f),d=Wd(null,l,null,512|Zv(s),null,null,u,f,c,null,$v(p,c,!0));d[qe]=p,kd(d);let g=null;try{let m=gy(qe,l,d,"#host",()=>[this.componentDef],!0,0);p&&(qv(f,p,m),Yr(p,d)),qa(l,d,m),Hd(l,m,d),my(l,m),t!==void 0&&BI(m,this.ngContentSelectors,t),g=Tt(m.index,d),d[Ve]=g[Ve],Xd(l,d,null)}catch(m){throw g!==null&&nd(g),nd(d),m}finally{te(23),Pd()}return new fd(this.componentType,d)}finally{B(o)}}},fd=class extends DI{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Km(t[G],qe),this.location=Ba(this._tNode,t),this.instance=Tt(this._tNode.index,t)[Ve],this.hostView=this.changeDetectorRef=new ao(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Qd(r,i[G],i,e,t);this.previousInputValues.set(e,t);let s=Tt(r.index,i);rf(s,1)}get injector(){return new jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BI(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Jr=(()=>{class n{static __NG_ELEMENT_ID__=HI}return n})();function HI(){let n=Ge();return qI(n,Q())}var zI=Jr,vy=class extends zI{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new jn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ld(this._hostTNode,this._hostLView);if(fv(e)){let t=ga(e,this._hostLView),r=pa(e),i=t[G].data[r+8];return new jn(i,t)}else return new jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lm(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=im(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,nm(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!kD(e),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?e:new lo(kr(e)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(nt,null);m&&(o=m)}let u=kr(l.componentType??{}),f=im(this._lContainer,u?.id??null),p=f?.firstChild??null,d=l.create(c,i,p,o);return this.insertImpl(d.hostView,a,nm(this._hostTNode,f)),d}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(UD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Re],c=new vy(l,l[pt],l[Re]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return hI(s,i,o,r),e.attachToViewContainerRef(),Om(Nu(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lm(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ld(this._lContainer,t);r&&(sa(Nu(this._lContainer),t),ty(r[G],r))}detach(e){let t=this._adjustIndex(e,-1),r=ld(this._lContainer,t);return r&&sa(Nu(this._lContainer),t)!=null?new ao(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lm(n){return n[da]}function Nu(n){return n[da]||(n[da]=[])}function qI(n,e){let t,r=e[n.index];return Zt(r)?t=r:(t=dy(r,e,null,n),e[n.index]=t,Kd(e,t)),WI(t,e,n,r),new vy(t,n,e)}function GI(n,e){let t=n[ce],r=t.createComment(""),i=At(e,n),o=t.parentNode(i);return Ea(t,o,r,t.nextSibling(i),!1),r}var WI=YI,KI=()=>!1;function ZI(n,e,t){return KI(n,e,t)}function YI(n,e,t,r){if(n[Un])return;let i;t.type&8?i=St(r):i=GI(e,t),n[Un]=i}var Br=class{},sf=class{};var hd=class extends Br{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ca(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Pm(e);this._bootstrapComponents=Wv(o.bootstrap),this._r3Injector=bv(e,t,[{provide:Br,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver},...r],je(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pd=class extends sf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new hd(this.moduleType,e,[])}};var Ia=class extends Br{injector;componentFactoryResolver=new Ca(this);instance=null;constructor(e){super();let t=new io([...e.providers,{provide:Br,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver}],e.parent||xd(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ja(n,e,t=null){return new Ia({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var JI=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Lm(!1,t.type),i=r.length>0?Ja([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=R({token:n,providedIn:"environment",factory:()=>new n(F(nt))})}return n})();function rt(n){return uo(()=>{let e=_y(n),t=z(w({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(JI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mt.Emulated,styles:n.styles||Xe,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Vv("NgStandalone"),wy(t);let r=n.dependencies;return t.directiveDefs=cm(r,!1),t.pipeDefs=cm(r,!0),t.id=nS(t),t})}function QI(n){return kr(n)||bD(n)}function XI(n){return n!==null}function Yn(n){return uo(()=>({type:n.type,bootstrap:n.bootstrap||Xe,declarations:n.declarations||Xe,imports:n.imports||Xe,exports:n.exports||Xe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function eS(n,e){if(n==null)return $n;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=za.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function tS(n){if(n==null)return $n;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function le(n){return uo(()=>{let e=_y(n);return wy(e),e})}function yy(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function _y(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||$n,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Xe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eS(n.inputs,e),outputs:tS(n.outputs),debugInfo:null}}function wy(n){n.features?.forEach(e=>e(n))}function cm(n,e){if(!n)return null;let t=e?ED:QI;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(XI)}function nS(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rS(n){return Object.getPrototypeOf(n.prototype).constructor}function it(n){let e=rS(n.type),t=!0,r=[n];for(;e;){let i;if(It(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ku(n.inputs),s.declaredInputs=ku(n.declaredInputs),s.outputs=ku(n.outputs);let a=i.hostBindings;a&&lS(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&sS(n,l),c&&aS(n,c),iS(n,i),XE(n.outputs,i.outputs),It(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===it&&(t=!1)}}e=Object.getPrototypeOf(e)}oS(r)}function iS(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function oS(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$r(i.hostAttrs,t=$r(t,i.hostAttrs))}}function ku(n){return n===$n?{}:n===Xe?[]:n}function sS(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function aS(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function lS(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function by(n){return uS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function cS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function uS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function dS(n,e,t){return n[e]=t}function Qr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function fS(n,e,t,r,i,o,s,a,l){let c=e.consts,u=Za(e,n,4,s||null,a||null);Od()&&of(e,t,u,Vr(c,l),Jd),u.mergedAttrs=$r(u.mergedAttrs,u.attrs),Fd(e,u);let f=u.tView=Gd(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function hS(n,e,t,r,i,o,s,a,l,c){let u=t+qe,f=e.firstCreatePass?fS(u,e,n,r,i,o,s,a,l):e.data[u];Kn(f,!1);let p=pS(e,n,f,t);Va()&&Ga(e,n,p,f),Yr(p,n);let d=dy(p,n,p,f);return n[u]=d,Kd(n,d),ZI(d,f,n),ka(f)&&qa(e,n,f),l!=null&&Zd(n,f,c),f}function Rt(n,e,t,r,i,o,s,a){let l=Q(),c=Se(),u=Vr(c.consts,o);return hS(l,c,n,e,t,r,i,u,s,a),Rt}var pS=gS;function gS(n,e,t,r){return $a(!0),e[ce].createComment("")}var Ey=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Dy=new x("");var mS=(()=>{class n{static \u0275prov=R({token:n,providedIn:"root",factory:()=>new gd})}return n})(),gd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function dn(n){return!!n&&typeof n.then=="function"}function af(n){return!!n&&typeof n.subscribe=="function"}var vS=new x("");var Cy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=b(vS,{optional:!0})??[];injector=b(qt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ht(this.injector,i);if(dn(o))t.push(o);else if(af(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lf=new x("");function yS(){nu(()=>{throw new I(600,!1)})}function _S(n){return n.isBoundToModule}var wS=10;var qn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(OC);afterRenderManager=b(qC);zonelessEnabled=b(Dv);rootEffectScheduler=b(mS);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ge;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(Zr).hasPendingTasks.pipe(q(t=>!t));constructor(){b(Ha,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=b(nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=qt.NULL){te(10);let o=t instanceof hy;if(!this._injector.get(Cy).done){let d="";throw new I(405,d)}let a;o?a=t:a=this._injector.get(Ya).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=_S(a)?void 0:this._injector.get(Br),c=r||a.selector,u=a.create(i,[],c,l),f=u.location.nativeElement,p=u.injector.get(Dy,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),ta(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),te(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(jv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new I(101,!1);let t=B(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,B(t),this.afterTick.next(),te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ur,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<wS;)te(14),this.synchronizeOnce(),te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)bS(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Pa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ta(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(lf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ta(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ta(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bS(n,e,t,r){if(!t&&!Pa(n))return;ay(n,e,t&&!r?0:1)}function cf(n,e,t,r){let i=Q(),o=La();if(Qr(i,o,e)){let s=Se(),a=ja();O0(a,i,n,e,t,r)}return cf}function Iy(n,e,t,r){return Qr(n,La(),t)?e+Aa(t)+r:un}function Js(n,e){return n<<17|e<<2}function Gn(n){return n>>17&32767}function ES(n){return(n&2)==2}function DS(n,e){return n&131071|e<<17}function md(n){return n|2}function Hr(n){return(n&131068)>>2}function Pu(n,e){return n&-131069|e<<2}function CS(n){return(n&1)===1}function vd(n){return n|1}function IS(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Gn(s),l=Hr(s);n[r]=t;let c=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||fo(f,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let p=Gn(n[a+1]);n[r+1]=Js(p,a),p!==0&&(n[p+1]=Pu(n[p+1],r)),n[a+1]=DS(n[a+1],r)}else n[r+1]=Js(a,0),a!==0&&(n[a+1]=Pu(n[a+1],r)),a=r;else n[r+1]=Js(l,0),a===0?a=r:n[l+1]=Pu(n[l+1],r),l=r;c&&(n[r+1]=md(n[r+1])),um(n,u,r,!0),um(n,u,r,!1),SS(e,u,n,r,o),s=Js(a,l),o?e.classBindings=s:e.styleBindings=s}function SS(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&fo(o,e)>=0&&(t[r+1]=vd(t[r+1]))}function um(n,e,t,r){let i=n[t+1],o=e===null,s=r?Gn(i):Hr(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];TS(l,e)&&(a=!0,n[s+1]=r?vd(c):md(c)),s=r?Gn(c):Hr(c)}a&&(n[t+1]=r?md(i):vd(i))}function TS(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?fo(n,e)>=0:!1}function Oe(n,e,t){let r=Q(),i=La();if(Qr(r,i,e)){let o=Se(),s=ja();Yd(o,s,r,n,e,r[ce],t,!1)}return Oe}function dm(n,e,t,r,i){Qd(e,n,t,i?"class":"style",r)}function uf(n,e,t){return Sy(n,e,t,!1),uf}function Qa(n,e){return Sy(n,e,null,!0),Qa}function Sy(n,e,t,r){let i=Q(),o=Se(),s=eC(2);if(o.firstUpdatePass&&xS(o,n,s,r),e!==un&&Qr(i,s,e)){let a=o.data[Kr()];kS(o,a,i,i[ce],n,i[s+1]=PS(e,t),r,s)}}function MS(n,e){return e>=n.expandoStartIndex}function xS(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Kr()],s=MS(n,t);FS(o,r)&&e===null&&!s&&(e=!1),e=AS(i,o,e,r),IS(i,o,e,t,s,r)}}function AS(n,e,t,r){let i=iC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Fu(null,n,e,t,r),t=co(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Fu(i,n,e,t,r),o===null){let l=RS(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Fu(null,n,e,l[1],r),l=co(l,e.attrs,r),OS(n,e,r,l))}else o=NS(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function RS(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Hr(r)!==0)return n[Gn(r)]}function OS(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Gn(i)]=r}function NS(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=co(r,s,t)}return co(r,e.attrs,t)}function Fu(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=co(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function co(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),_D(n,s,t?!0:e[++o]))}return n===void 0?null:n}function kS(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=CS(c)?fm(l,e,t,i,Hr(c),s):void 0;if(!Sa(u)){Sa(o)||ES(c)&&(o=fm(l,null,t,i,a,s));let f=Wm(Kr(),t);X0(r,s,f,i,o)}}function fm(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,p=t[i+1];p===un&&(p=f?Xe:void 0);let d=f?Iu(p,r):u===r?p:void 0;if(c&&!Sa(d)&&(d=Iu(l,r)),Sa(d)&&(a=d,s))return a;let g=n[i+1];i=s?Gn(g):Hr(g)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Iu(l,r))}return a}function Sa(n){return n!==void 0}function PS(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=je(Bv(n)))),n}function FS(n,e){return(n.flags&(e?8:16))!==0}function M(n,e,t,r){let i=Q(),o=Se(),s=qe+n,a=i[ce],l=o.firstCreatePass?gy(s,o,i,e,Jd,Od(),t,r):o.data[s],c=LS(o,i,l,a,e,n);i[s]=c;let u=ka(l);return Kn(l,!0),qv(a,c,l),!Xv(l)&&Va()&&Ga(o,i,c,l),(zD()===0||u)&&Yr(c,i),qD(),u&&(qa(o,i,l),Hd(o,l,i)),r!==null&&Zd(i,l),M}function T(){let n=Ge();Nd()?nv():(n=n.parent,Kn(n,!1));let e=n;KD(e)&&ZD(),GD();let t=Se();return t.firstCreatePass&&my(t,e),e.classesWithoutHost!=null&&uC(e)&&dm(t,e,Q(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dC(e)&&dm(t,e,Q(),e.stylesWithoutHost,!1),T}function Te(n,e,t,r){return M(n,e,t,r),T(),Te}var LS=(n,e,t,r,i,o)=>($a(!0),Hv(r,i,aC()));function jS(n,e,t,r,i){let o=e.consts,s=Vr(o,r),a=Za(e,n,8,"ng-container",s);s!==null&&dd(a,s,!0);let l=Vr(o,i);return Od()&&of(e,t,a,l,Jd),a.mergedAttrs=$r(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function df(n,e,t){let r=Q(),i=Se(),o=n+qe,s=i.firstCreatePass?jS(o,i,r,e,t):i.data[o];Kn(s,!0);let a=VS(i,r,s,n);return r[o]=a,Va()&&Ga(i,r,a,s),Yr(a,r),ka(s)&&(qa(i,r,s),Hd(i,s,r)),t!=null&&Zd(r,s),df}function ff(){let n=Ge(),e=Se();return Nd()?nv():(n=n.parent,Kn(n,!1)),e.firstCreatePass&&(Fd(e,n),Ad(n)&&e.queries.elementEnd(n)),ff}var VS=(n,e,t,r)=>($a(!0),o0(e[ce],""));function fn(){return Q()}var Ta="en-US";var $S=Ta;function US(n){typeof n=="string"&&($S=n.toLowerCase().replace(/_/g,"-"))}function hm(n,e,t){return function r(i){if(i===Function)return t;let o=qr(n)?Tt(n.index,e):e;rf(o,5);let s=e[Ve],a=pm(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=pm(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function pm(n,e,t,r){let i=B(null);try{return te(6,e,t),t(r)!==!1}catch(o){return BS(n,o),!1}finally{te(7,e,t),B(i)}}function BS(n,e){let t=n[Fr],r=t?t.get(Gt,null):null;r&&r.handleError(e)}function gm(n,e,t,r,i,o){let s=e[t],a=e[G],c=a.data[t].outputs[r],u=s[c],f=a.firstCreatePass?ev(a):null,p=Xm(e),d=u.subscribe(o),g=p.length;p.push(o,d),f&&f.push(i,n.index,g,-(g+1))}function We(n,e,t,r){let i=Q(),o=Se(),s=Ge();return Ty(o,i,i[ce],s,n,e,r),We}function HS(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ca],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Ty(n,e,t,r,i,o,s){let a=ka(r),c=n.firstCreatePass?ev(n):null,u=Xm(e),f=!0;if(r.type&3||s){let p=At(r,e),d=s?s(p):p,g=u.length,m=s?y=>s(St(y[r.index])):r.index,v=null;if(!s&&a&&(v=HS(n,e,i,r.index)),v!==null){let y=v.__ngLastListenerFn__||v;y.__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,f=!1}else{o=hm(r,e,o),WC(e,d,i,o);let y=t.listen(d,i,o);u.push(o,y),c&&c.push(i,m,g,g+1)}}else o=hm(r,e,o);if(f){let p=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let g=0;g<d.length;g+=2){let m=d[g],v=d[g+1];gm(r,e,m,v,i,o)}if(p&&p.length)for(let g of p)gm(r,e,g,i,i,o)}}function Jn(n=1){return sC(n)}function Xa(n,e,t,r,i){let o=Q(),s=Iy(o,e,t,r);if(s!==un){let a=Se(),l=ja();Yd(a,l,o,n,s,o[ce],i,!1)}return Xa}function My(n){let e=JD();return Zm(e,qe+n)}function k(n,e=""){let t=Q(),r=Se(),i=n+qe,o=r.firstCreatePass?Za(r,i,1,e,null):r.data[i],s=zS(r,t,o,e,n);t[i]=s,Va()&&Ga(r,t,s,o),Kn(o,!1)}var zS=(n,e,t,r,i)=>($a(!0),r0(e[ce],r));function el(n){return tl("",n,""),el}function tl(n,e,t){let r=Q(),i=Iy(r,n,e,t);return i!==un&&qS(r,Kr(),i),tl}function qS(n,e,t){let r=Wm(e,n);i0(n[ce],r,t)}function Qn(n,e,t){xv(e)&&(e=e());let r=Q(),i=La();if(Qr(r,i,e)){let o=Se(),s=ja();Yd(o,s,r,n,e,r[ce],t,!1)}return Qn}function Xr(n,e){let t=xv(n);return t&&n.set(e),t}function Xn(n,e){let t=Q(),r=Se(),i=Ge();return Ty(r,t,t[ce],i,n,e),Xn}function GS(n,e,t){let r=Se();if(r.firstCreatePass){let i=It(n);yd(t,r.data,r.blueprint,i,!0),yd(e,r.data,r.blueprint,i,!1)}}function yd(n,e,t,r,i){if(n=Ae(n),Array.isArray(n))for(let o=0;o<n.length;o++)yd(n[o],e,t,r,i);else{let o=Se(),s=Q(),a=Ge(),l=Pr(n)?n:Ae(n.provide),c=$m(n),u=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(Pr(n)||!n.multi){let d=new zn(c,i,V),g=ju(l,e,i?u:u+p,f);g===-1?(Yu(va(a,s),o,l),Lu(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(d),s.push(d)):(t[g]=d,s[g]=d)}else{let d=ju(l,e,u+p,f),g=ju(l,e,u,u+p),m=d>=0&&t[d],v=g>=0&&t[g];if(i&&!v||!i&&!m){Yu(va(a,s),o,l);let y=ZS(i?KS:WS,t.length,i,r,c);!i&&v&&(t[g].providerFactory=y),Lu(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)}else{let y=xy(t[i?g:d],c,!i&&r);Lu(o,n,d>-1?d:g,y)}!i&&r&&v&&t[g].componentProviders++}}}function Lu(n,e,t,r){let i=Pr(e),o=TD(e);if(i||o){let l=(o?Ae(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function xy(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ju(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function WS(n,e,t,r,i){return _d(this.multi,[])}function KS(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=ya(r,r[G],this.providerFactory.index,i);s=l.slice(0,a),_d(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],_d(o,s);return s}function _d(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function ZS(n,e,t,r,i){let o=new zn(n,t,V);return o.multi=[],o.index=e,o.componentProviders=0,xy(o,i,r&&!t),o}function hn(n,e=[]){return t=>{t.providersResolver=(r,i)=>GS(r,i?i(n):n,e)}}function YS(n,e){let t=n[e];return t===un?void 0:t}function JS(n,e,t,r,i,o){let s=e+t;return Qr(n,s,i)?dS(n,s+1,o?r.call(o,i):r(i)):YS(n,s+1)}function nl(n,e){let t=Se(),r,i=n+qe;t.firstCreatePass?(r=QS(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Vn(r.type,!0)),s,a=Le(V);try{let l=ma(!1),c=o();return ma(l),$D(t,Q(),i,c),c}finally{Le(a)}}function QS(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function rl(n,e,t){let r=n+qe,i=Q(),o=Zm(i,r);return XS(i,r)?JS(i,QD(),e,o.transform,t,o):o.transform(t)}function XS(n,e){return n[G].data[e].pure}var wd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ay=(()=>{class n{compileModuleSync(t){return new pd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Pm(t),o=Wv(i.declarations).reduce((s,a)=>{let l=kr(a);return l&&s.push(new lo(l)),s},[]);return new wd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eT=(()=>{class n{zone=b(Ie);changeDetectionScheduler=b(so);applicationRef=b(qn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ie(z(w({},nT()),{scheduleInRootZone:t})),[{provide:Ie,useFactory:n},{provide:ro,multi:!0,useFactory:()=>{let r=b(eT,{optional:!0});return()=>r.initialize()}},{provide:ro,multi:!0,useFactory:()=>{let r=b(rT);return()=>{r.initialize()}}},e===!0?{provide:Cv,useValue:!0}:[],{provide:Iv,useValue:t??Ev}]}function nT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var rT=(()=>{class n{subscription=new ue;initialized=!1;zone=b(Ie);pendingTasks=b(Zr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iT=(()=>{class n{appRef=b(qn);taskService=b(Zr);ngZone=b(Ie);zonelessEnabled=b(Dv);tracing=b(Ha,{optional:!0});disableScheduling=b(Cv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(Iv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof td||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Kg:Sv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oT(){return typeof $localize<"u"&&$localize.locale||Ta}var hf=new x("",{providedIn:"root",factory:()=>b(hf,j.Optional|j.SkipSelf)||oT()});var bd=new x(""),sT=new x("");function Xi(n){return!n.moduleRef}function aT(n){let e=Xi(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ie);return t.run(()=>{Xi(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Gt,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Xi(n)){let o=()=>e.destroy(),s=n.platformInjector.get(bd);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(bd);s.add(o),n.moduleRef.onDestroy(()=>{ta(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return cT(r,t,()=>{let o=e.get(Cy);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(hf,Ta);if(US(s||Ta),!e.get(sT,!0))return Xi(n)?e.get(qn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Xi(n)){let l=e.get(qn);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return lT(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function lT(n,e){let t=n.injector.get(qn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new I(-403,!1);e.push(n)}function cT(n,e,t){try{let r=t();return dn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var na=null;function uT(n=[],e){return qt.create({name:e,providers:[{provide:Oa,useValue:"platform"},{provide:bd,useValue:new Set([()=>na=null])},...n]})}function dT(n=[]){if(na)return na;let e=uT(n);return na=e,yS(),fT(e),e}function fT(n){let e=n.get(Ud,null);ht(n,()=>{e?.forEach(t=>t())})}var ei=(()=>{class n{static __NG_ELEMENT_ID__=hT}return n})();function hT(n){return pT(Ge(),Q(),(n&16)===16)}function pT(n,e,t){if(qr(n)&&!t){let r=Tt(n.index,e);return new ao(r,r)}else if(n.type&175){let r=e[Ct];return new ao(r,e)}return null}var Ed=class{constructor(){}supports(e){return by(e)}create(e){return new Dd(e)}},gT=(n,e)=>e,Dd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||gT}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<mm(r,i,o)?t:r,a=mm(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){let d=p<o.length?o[p]:o[p]=0,g=d+p;u<=g&&g<c&&(o[p]=d+1)}let f=s.previousIndex;o[f]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!by(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,cS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Cd(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ma),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ma),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Cd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Id=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ma=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Id,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mm(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function vm(){return new pf([new Ed])}var pf=(()=>{class n{factories;static \u0275prov=R({token:n,providedIn:"root",factory:vm});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||vm()),deps:[[n,new vD,new mD]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new I(901,!1)}}return n})();function Ry(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;te(8);try{let o=i?.injector??dT(r),s=[tT({}),{provide:so,useExisting:iT},...t||[]],a=new Ia({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return aT({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{te(9)}}function il(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function vt(n){return ou(n)}function go(n,e){return tu(n,e?.equal)}var ym=class{[Qe];constructor(e){this[Qe]=e}destroy(){this[Qe].destroy()}};var Me=new x("");var ky=null;function ot(){return ky}function gf(n){ky??=n}var mo=class{},mf=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(Py),providedIn:"platform"})}return n})();var Py=(()=>{class n extends mf{_location;_history;_doc=b(Me);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ot().getBaseHref(this._doc)}onPopState(t){let r=ot().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ot().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Fy(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Oy(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function pn(n){return n&&n[0]!=="?"?`?${n}`:n}var ol=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(jy),providedIn:"root"})}return n})(),Ly=new x(""),jy=(()=>{class n extends ol{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+pn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+pn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(F(mf),F(Ly,8))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ti=(()=>{class n{_subject=new ge;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=yT(Oy(Ny(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pn(r))}normalize(t){return n.stripTrailingSlash(vT(this._basePath,Ny(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=pn;static joinWithSlash=Fy;static stripTrailingSlash=Oy;static \u0275fac=function(r){return new(r||n)(F(ol))};static \u0275prov=R({token:n,factory:()=>mT(),providedIn:"root"})}return n})();function mT(){return new ti(F(ol))}function vT(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Ny(n){return n.replace(/\/index.html$/,"")}function yT(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var vf=/\s+/,Vy=[],wf=(()=>{class n{_ngEl;_renderer;initialClasses=Vy;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(vf):Vy}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(vf):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(vf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(V(cn),V(Zn))};static \u0275dir=le({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var sl=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ni=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new sl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$y(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$y(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(V(Jr),V(Ka),V(pf))};static \u0275dir=le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $y(n,e){n.context.$implicit=e.item}var vo=(()=>{class n{_viewContainer;_context=new al;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Uy(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Uy(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(V(Jr),V(Ka))};static \u0275dir=le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),al=class{$implicit=null;ngIf=null};function Uy(n,e){if(n&&!n.createEmbeddedView)throw new I(2020,!1)}function _T(n,e){return new I(2100,!1)}var yf=class{createSubscription(e,t){return vt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){vt(()=>e.unsubscribe())}},_f=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},wT=new _f,bT=new yf,bf=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(dn(t))return wT;if(af(t))return bT;throw _T(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(V(ei,16))};static \u0275pipe=yy({name:"async",type:n,pure:!1})}return n})();var gn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yn({type:n});static \u0275inj=Wn({})}return n})();function Ef(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Df="browser",By="server";function ll(n){return n===By}var yo=class{};var dl=new x(""),Mf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(F(dl),F(Ie))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),_o=class{_doc;constructor(e){this._doc=e}manager},cl="ng-app-id";function Hy(n){for(let e of n)e.remove()}function zy(n,e){let t=e.createElement("style");return t.textContent=n,t}function ET(n,e,t,r){let i=n.head?.querySelectorAll(`style[${cl}="${e}"],link[${cl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(cl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Sf(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var xf=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ll(o),ET(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,zy);r?.forEach(i=>this.addUsage(i,this.external,Sf))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Hy(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Hy(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,zy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Sf(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(cl,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(F(Me),F($d),F(Bd,8),F(po))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),If={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Af=/%COMP%/g;var Gy="%COMP%",DT=`_nghost-${Gy}`,CT=`_ngcontent-${Gy}`,IT=!0,ST=new x("",{providedIn:"root",factory:()=>IT});function TT(n){return CT.replace(Af,n)}function MT(n){return DT.replace(Af,n)}function Wy(n,e){return e.map(t=>t.replace(Af,n))}var Rf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=ll(a),this.defaultRenderer=new wo(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mt.ShadowDom&&(r=z(w({},r),{encapsulation:Mt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof ul?i.applyToHost(t):i instanceof bo&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Mt.Emulated:o=new ul(l,c,r,this.appId,u,s,a,f,p);break;case Mt.ShadowDom:return new Tf(l,c,t,r,s,a,this.nonce,f,p);default:o=new bo(l,c,r,u,s,a,f,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(F(Mf),F(xf),F($d),F(ST),F(Me),F(po),F(Ie),F(Bd),F(Ha,8))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),wo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(If[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(qy(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qy(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=If[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=If[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Wt.DashCase|Wt.Important)?e.style.setProperty(t,r,i&Wt.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Wt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ot().getGlobalEventTarget(this.doc,e),!e))throw new I(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function qy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Tf=class extends wo{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Wy(i.id,u);for(let p of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=p,this.shadowRoot.appendChild(d)}let f=i.getExternalStyles?.();if(f)for(let p of f){let d=Sf(p,o);a&&d.setAttribute("nonce",a),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bo=class extends wo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Wy(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ul=class extends bo{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,c,u),this.contentAttr=TT(u),this.hostAttr=MT(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var fl=class n extends mo{supportsDOMEvents=!0;static makeCurrent(){gf(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=xT();return t==null?null:AT(t)}resetBaseElement(){Eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ef(document.cookie,e)}},Eo=null;function xT(){return Eo=Eo||document.head.querySelector("base"),Eo?Eo.getAttribute("href"):null}function AT(n){return new URL(n,document.baseURI).pathname}var RT=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Zy=(()=>{class n extends _o{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(F(Me))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Ky=["alt","control","meta","shift"],OT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NT={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Yy=(()=>{class n extends _o{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ot().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ky.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=OT[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Ky.forEach(s=>{if(s!==i){let a=NT[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(F(Me))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function Of(n,e,t){return Ry(w({rootComponent:n,platformRef:t?.platformRef},kT(e)))}function kT(n){return{appProviders:[...VT,...n?.providers??[]],platformProviders:jT}}function PT(){fl.makeCurrent()}function FT(){return new Gt}function LT(){return Fv(document),document}var jT=[{provide:po,useValue:Df},{provide:Ud,useValue:PT,multi:!0},{provide:Me,useFactory:LT}];var VT=[{provide:Oa,useValue:"root"},{provide:Gt,useFactory:FT},{provide:dl,useClass:Zy,multi:!0,deps:[Me]},{provide:dl,useClass:Yy,multi:!0,deps:[Me]},Rf,xf,Mf,{provide:Ur,useExisting:Rf},{provide:yo,useClass:RT},[]];var Jy=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(F(Me))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var L="primary",Fo=Symbol("RouteTitle"),Lf=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function nr(n){return new Lf(n)}function o_(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function UT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ot(n[t],e[t]))return!1;return!0}function Ot(n,e){let t=n?jf(n):void 0,r=e?jf(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!s_(n[i],e[i]))return!1;return!0}function jf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function s_(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function a_(n){return n.length>0?n[n.length-1]:null}function yn(n){return _u(n)?n:dn(n)?se(Promise.resolve(n)):N(n)}var BT={exact:c_,subset:u_},l_={exact:HT,subset:zT,ignored:()=>!0};function Qy(n,e,t){return BT[t.paths](n.root,e.root,t.matrixParams)&&l_[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function HT(n,e){return Ot(n,e)}function c_(n,e,t){if(!er(n.segments,e.segments)||!gl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!c_(n.children[r],e.children[r],t))return!1;return!0}function zT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>s_(n[t],e[t]))}function u_(n,e,t){return d_(n,e,e.segments,t)}function d_(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!er(i,t)||e.hasChildren()||!gl(i,t,r))}else if(n.segments.length===t.length){if(!er(n.segments,t)||!gl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!u_(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!er(n.segments,i)||!gl(n.segments,i,r)||!n.children[L]?!1:d_(n.children[L],e,o,r)}}function gl(n,e,t){return e.every((r,i)=>l_[t](n[i].parameters,r.parameters))}var kt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new K([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=nr(this.queryParams),this._queryParamMap}toString(){return WT.serialize(this)}},K=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ml(this)}},mn=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=nr(this.parameters),this._parameterMap}toString(){return h_(this)}};function qT(n,e){return er(n,e)&&n.every((t,r)=>Ot(t.parameters,e[r].parameters))}function er(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function GT(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===L&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==L&&(t=t.concat(e(i,r)))}),t}var Lo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>new rr,providedIn:"root"})}return n})(),rr=class{parse(e){let t=new $f(e);return new kt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Do(e.root,!0)}`,r=YT(e.queryParams),i=typeof e.fragment=="string"?`#${KT(e.fragment)}`:"";return`${t}${r}${i}`}},WT=new rr;function ml(n){return n.segments.map(e=>h_(e)).join("/")}function Do(n,e){if(!n.hasChildren())return ml(n);if(e){let t=n.children[L]?Do(n.children[L],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==L&&r.push(`${i}:${Do(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=GT(n,(r,i)=>i===L?[Do(n.children[L],!1)]:[`${i}:${Do(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[L]!=null?`${ml(n)}/${t[0]}`:`${ml(n)}/(${t.join("//")})`}}function f_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hl(n){return f_(n).replace(/%3B/gi,";")}function KT(n){return encodeURI(n)}function Vf(n){return f_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vl(n){return decodeURIComponent(n)}function Xy(n){return vl(n.replace(/\+/g,"%20"))}function h_(n){return`${Vf(n.path)}${ZT(n.parameters)}`}function ZT(n){return Object.entries(n).map(([e,t])=>`;${Vf(e)}=${Vf(t)}`).join("")}function YT(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${hl(t)}=${hl(i)}`).join("&"):`${hl(t)}=${hl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var JT=/^[^\/()?;#]+/;function Nf(n){let e=n.match(JT);return e?e[0]:""}var QT=/^[^\/()?;=#]+/;function XT(n){let e=n.match(QT);return e?e[0]:""}var eM=/^[^=?&#]+/;function tM(n){let e=n.match(eM);return e?e[0]:""}var nM=/^[^&#]+/;function rM(n){let e=n.match(nM);return e?e[0]:""}var $f=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new K([],{}):new K([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[L]=new K(e,t)),r}parseSegment(){let e=Nf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new mn(vl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=XT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Nf(this.remaining);i&&(r=i,this.capture(r))}e[vl(t)]=vl(r)}parseQueryParam(e){let t=tM(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=rM(this.remaining);s&&(r=s,this.capture(r))}let i=Xy(t),o=Xy(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Nf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=L);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[L]:new K([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function p_(n){return n.segments.length>0?new K([],{[L]:n}):n}function g_(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=g_(i);if(r===L&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new K(n.segments,e);return iM(t)}function iM(n){if(n.numberOfChildren===1&&n.children[L]){let e=n.children[L];return new K(n.segments.concat(e.segments),e.children)}return n}function ai(n){return n instanceof kt}function m_(n,e,t=null,r=null){let i=v_(n);return y_(i,e,t,r)}function v_(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new K(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=p_(r);return e??i}function y_(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return kf(i,i,i,t,r);let o=oM(e);if(o.toRoot())return kf(i,i,new K([],{}),t,r);let s=sM(o,i,n),a=s.processChildren?Io(s.segmentGroup,s.index,o.commands):w_(s.segmentGroup,s.index,o.commands);return kf(i,s.segmentGroup,a,t,r)}function _l(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function To(n){return typeof n=="object"&&n!=null&&n.outlets}function kf(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=__(n,e,t);let a=p_(g_(s));return new kt(a,o,i)}function __(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=__(o,e,t)}),new K(n.segments,r)}var wl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&_l(r[0]))throw new I(4003,!1);let i=r.find(To);if(i&&i!==a_(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oM(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new wl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new wl(t,e,r)}var oi=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function sM(n,e,t){if(n.isAbsolute)return new oi(e,!0,0);if(!t)return new oi(e,!1,NaN);if(t.parent===null)return new oi(t,!0,0);let r=_l(n.commands[0])?0:1,i=t.segments.length-1+r;return aM(t,i,n.numberOfDoubleDots)}function aM(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new oi(r,!1,i-o)}function lM(n){return To(n[0])?n[0].outlets:{[L]:n}}function w_(n,e,t){if(n??=new K([],{}),n.segments.length===0&&n.hasChildren())return Io(n,e,t);let r=cM(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new K(n.segments.slice(0,r.pathIndex),{});return o.children[L]=new K(n.segments.slice(r.pathIndex),n.children),Io(o,0,i)}else return r.match&&i.length===0?new K(n.segments,{}):r.match&&!n.hasChildren()?Uf(n,e,t):r.match?Io(n,0,i):Uf(n,e,t)}function Io(n,e,t){if(t.length===0)return new K(n.segments,{});{let r=lM(t),i={};if(Object.keys(r).some(o=>o!==L)&&n.children[L]&&n.numberOfChildren===1&&n.children[L].segments.length===0){let o=Io(n.children[L],e,t);return new K(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=w_(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new K(n.segments,i)}}function cM(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(To(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!t_(l,c,s))return o;r+=2}else{if(!t_(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uf(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(To(o)){let l=uM(o.outlets);return new K(r,l)}if(i===0&&_l(t[0])){let l=n.segments[e];r.push(new mn(l.path,e_(t[0]))),i++;continue}let s=To(o)?o.outlets[L]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&_l(a)?(r.push(new mn(s,e_(a))),i+=2):(r.push(new mn(s,{})),i++)}return new K(r,{})}function uM(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Uf(new K([],{}),0,r))}),e}function e_(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function t_(n,e,t){return n==t.path&&Ot(e,t.parameters)}var yl="imperative",we=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(we||{}),Ze=class{id;url;constructor(e,t){this.id=e,this.url=t}},ir=class extends Ze{type=we.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jt=class extends Ze{urlAfterRedirects;type=we.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ue=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ue||{}),Mo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Mo||{}),Nt=class extends Ze{reason;code;type=we.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qt=class extends Ze{reason;code;type=we.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},li=class extends Ze{error;target;type=we.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xo=class extends Ze{urlAfterRedirects;state;type=we.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bl=class extends Ze{urlAfterRedirects;state;type=we.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},El=class extends Ze{urlAfterRedirects;state;shouldActivate;type=we.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dl=class extends Ze{urlAfterRedirects;state;type=we.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cl=class extends Ze{urlAfterRedirects;state;type=we.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Il=class{route;type=we.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sl=class{route;type=we.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tl=class{snapshot;type=we.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ml=class{snapshot;type=we.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xl=class{snapshot;type=we.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Al=class{snapshot;type=we.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ao=class{},ci=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function dM(n,e){return n.providers&&!n._injector&&(n._injector=Ja(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yt(n){return n.outlet||L}function fM(n,e){let t=n.filter(r=>yt(r)===e);return t.push(...n.filter(r=>yt(r)!==e)),t}function jo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Rl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return jo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new fi(this.rootInjector)}},fi=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Rl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(F(nt))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ol=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Bf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Bf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Hf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hf(e,this._root).map(t=>t.value)}};function Bf(n,e){if(n===e.value)return e;for(let t of e.children){let r=Bf(n,t);if(r)return r}return null}function Hf(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Hf(n,t);if(r.length)return r.unshift(e),r}return[]}var Ke=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ii(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ro=class extends Ol{snapshot;constructor(e,t){super(e),this.snapshot=t,Jf(this,e)}toString(){return this.snapshot.toString()}};function b_(n){let e=hM(n),t=new me([new mn("",{})]),r=new me({}),i=new me({}),o=new me({}),s=new me(""),a=new vn(t,r,o,s,i,L,n,e.root);return a.snapshot=e.root,new Ro(new Ke(a,[]),e)}function hM(n){let e={},t={},r={},i="",o=new tr([],e,r,i,t,L,n,null,{});return new Oo("",new Ke(o,[]))}var vn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(q(c=>c[Fo]))??N(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(q(e=>nr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(q(e=>nr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),n.params),data:w(w({},e.data),n.data),resolve:w(w(w(w({},n.data),e.data),i?.data),n._resolvedData)}:r={params:w({},n.params),data:w({},n.data),resolve:w(w({},n.data),n._resolvedData??{})},i&&D_(i)&&(r.resolve[Fo]=i.title),r}var tr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fo]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Oo=class extends Ol{url;constructor(e,t){super(t),this.url=e,Jf(this,t)}toString(){return E_(this._root)}};function Jf(n,e){e.value._routerState=n,e.children.forEach(t=>Jf(n,t))}function E_(n){let e=n.children.length>0?` { ${n.children.map(E_).join(", ")} } `:"";return`${n.value}${e}`}function Pf(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ot(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ot(e.params,t.params)||n.paramsSubject.next(t.params),UT(e.url,t.url)||n.urlSubject.next(t.url),Ot(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function zf(n,e){let t=Ot(n.params,e.params)&&qT(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||zf(n.parent,e.parent))}function D_(n){return typeof n.title=="string"||n.title===null}var C_=new x(""),Vo=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new ye;deactivateEvents=new ye;attachEvents=new ye;detachEvents=new ye;routerOutletData=Mv(void 0);parentContexts=b(fi);location=b(Jr);changeDetector=b(ei);inputBinder=b(Ll,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new qf(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=le({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wr]})}return n})(),qf=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===vn?this.route:e===fi?this.childContexts:e===C_?this.outletData:this.parent.get(e,t)}},Ll=new x("");var Qf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Te(0,"router-outlet")},dependencies:[Vo],encapsulation:2})}return n})();function Xf(n){let e=n.children&&n.children.map(Xf),t=e?z(w({},n),{children:e}):w({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==L&&(t.component=Qf),t}function pM(n,e,t){let r=No(n,e._root,t?t._root:void 0);return new Ro(r,e)}function No(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=gM(n,e,t);return new Ke(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>No(n,a)),s}}let r=mM(e.value),i=e.children.map(o=>No(n,o));return new Ke(r,i)}}function gM(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return No(n,r,i);return No(n,r)})}function mM(n){return new vn(new me(n.url),new me(n.params),new me(n.queryParams),new me(n.fragment),new me(n.data),n.outlet,n.component,n)}var ui=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},I_="ngNavigationCancelingError";function kl(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ai(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=S_(!1,Ue.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function S_(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[I_]=!0,t.cancellationCode=e,t}function vM(n){return T_(n)&&ai(n.url)}function T_(n){return!!n&&n[I_]}var yM=(n,e,t,r)=>q(i=>(new Gf(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Gf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Pf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ii(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ii(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ii(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ii(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Al(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ml(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Pf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Pf(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Pl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},si=class{component;route;constructor(e,t){this.component=e,this.route=t}};function _M(n,e,t){let r=n._root,i=e?e._root:null;return Co(r,i,t,[r.value])}function wM(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function hi(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Cm(n)?n:e.get(n):r}function Co(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ii(e);return n.children.forEach(s=>{bM(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>So(a,t.getContext(s),i)),i}function bM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=EM(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Pl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Co(n,e,a?a.children:null,r,i):Co(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new si(a.outlet.component,s))}else s&&So(e,a,i),i.canActivateChecks.push(new Pl(r)),o.component?Co(n,null,a?a.children:null,r,i):Co(n,null,t,r,i);return i}function EM(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!er(n.url,e.url);case"pathParamsOrQueryParamsChange":return!er(n.url,e.url)||!Ot(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zf(n,e)||!Ot(n.queryParams,e.queryParams);case"paramsChange":default:return!zf(n,e)}}function So(n,e,t){let r=ii(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?So(s,e.children.getContext(o),t):So(s,null,t):So(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new si(e.outlet.component,i)):t.canDeactivateChecks.push(new si(null,i)):t.canDeactivateChecks.push(new si(null,i))}function $o(n){return typeof n=="function"}function DM(n){return typeof n=="boolean"}function CM(n){return n&&$o(n.canLoad)}function IM(n){return n&&$o(n.canActivate)}function SM(n){return n&&$o(n.canActivateChild)}function TM(n){return n&&$o(n.canDeactivate)}function MM(n){return n&&$o(n.canMatch)}function M_(n){return n instanceof Ut||n?.name==="EmptyError"}var pl=Symbol("INITIAL_VALUE");function di(){return ut(n=>Ws(n.map(e=>e.pipe(Bt(1),Du(pl)))).pipe(q(e=>{for(let t of e)if(t!==!0){if(t===pl)return pl;if(t===!1||xM(t))return t}return!0}),ct(e=>e!==pl),Bt(1)))}function xM(n){return ai(n)||n instanceof ui}function AM(n,e){return ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?N(z(w({},t),{guardsResult:!0})):RM(s,r,i,n).pipe(ve(a=>a&&DM(a)?OM(r,o,n,e):N(a)),q(a=>z(w({},t),{guardsResult:a})))})}function RM(n,e,t,r){return se(n).pipe(ve(i=>LM(i.component,i.route,t,e,r)),Ht(i=>i!==!0,!0))}function OM(n,e,t,r){return se(e).pipe(Mr(i=>Tr(kM(i.route.parent,r),NM(i.route,r),FM(n,i.path,t),PM(n,i.route,t))),Ht(i=>i!==!0,!0))}function NM(n,e){return n!==null&&e&&e(new xl(n)),N(!0)}function kM(n,e){return n!==null&&e&&e(new Tl(n)),N(!0)}function PM(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>Ks(()=>{let s=jo(e)??t,a=hi(o,s),l=IM(a)?a.canActivate(e,n):ht(s,()=>a(e,n));return yn(l).pipe(Ht())}));return N(i).pipe(di())}function FM(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wM(s)).filter(s=>s!==null).map(s=>Ks(()=>{let a=s.guards.map(l=>{let c=jo(s.node)??t,u=hi(l,c),f=SM(u)?u.canActivateChild(r,n):ht(c,()=>u(r,n));return yn(f).pipe(Ht())});return N(a).pipe(di())}));return N(o).pipe(di())}function LM(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let l=jo(e)??i,c=hi(a,l),u=TM(c)?c.canDeactivate(n,e,t,r):ht(l,()=>c(n,e,t,r));return yn(u).pipe(Ht())});return N(s).pipe(di())}function jM(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=hi(s,n),l=CM(a)?a.canLoad(e,t):ht(n,()=>a(e,t));return yn(l)});return N(o).pipe(di(),x_(r))}function x_(n){return fu(Ce(e=>{if(typeof e!="boolean")throw kl(n,e)}),q(e=>e===!0))}function VM(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=hi(s,n),l=MM(a)?a.canMatch(e,t):ht(n,()=>a(e,t));return yn(l)});return N(o).pipe(di(),x_(r))}var ko=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Po=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ri(n){return Sr(new ko(n))}function $M(n){return Sr(new I(4e3,!1))}function UM(n){return Sr(S_(!1,Ue.GuardRejected))}var Wf=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[L])return $M(`${e.redirectTo}`);i=i.children[L]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:f,outlet:p,params:d,data:g,title:m}=i,v=ht(o,()=>a({params:d,data:g,queryParams:l,fragment:c,routeConfig:u,url:f,outlet:p,title:m}));if(v instanceof kt)throw new Po(v);t=v}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Po(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new kt(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new K(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Kf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BM(n,e,t,r,i){let o=A_(n,e,t);return o.matched?(r=dM(e,r),VM(r,e,t,i).pipe(q(s=>s===!0?o:w({},Kf)))):N(o)}function A_(n,e,t){if(e.path==="**")return HM(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?w({},Kf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||o_)(t,n,e);if(!i)return w({},Kf);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HM(n){return{matched:!0,parameters:n.length>0?a_(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function n_(n,e,t,r){return t.length>0&&GM(n,t,r)?{segmentGroup:new K(e,qM(r,new K(t,n.children))),slicedSegments:[]}:t.length===0&&WM(n,t,r)?{segmentGroup:new K(n.segments,zM(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new K(n.segments,n.children),slicedSegments:t}}function zM(n,e,t,r){let i={};for(let o of t)if(jl(n,e,o)&&!r[yt(o)]){let s=new K([],{});i[yt(o)]=s}return w(w({},r),i)}function qM(n,e){let t={};t[L]=e;for(let r of n)if(r.path===""&&yt(r)!==L){let i=new K([],{});t[yt(r)]=i}return t}function GM(n,e,t){return t.some(r=>jl(n,e,r)&&yt(r)!==L)}function WM(n,e,t){return t.some(r=>jl(n,e,r))}function jl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function KM(n,e,t){return e.length===0&&!n.children[t]}var Zf=class{};function ZM(n,e,t,r,i,o,s="emptyOnly"){return new Yf(n,e,t,r,i,s,o).recognize()}var YM=31,Yf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wf(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=n_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(q(({children:t,rootSnapshot:r})=>{let i=new Ke(r,t),o=new Oo("",i),s=m_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new tr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,L,t).pipe(q(r=>({children:r,rootSnapshot:t})),on(r=>{if(r instanceof Po)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ko?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(q(s=>s instanceof Ke?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return se(o).pipe(Mr(s=>{let a=r.children[s],l=fM(t,s);return this.processSegmentGroup(e,l,a,s,i)}),Eu((s,a)=>(s.push(...a),s)),sn(null),bu(),ve(s=>{if(s===null)return ri(r);let a=R_(s);return JM(a),N(a)}))}processSegment(e,t,r,i,o,s,a){return se(t).pipe(Mr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(on(c=>{if(c instanceof ko)return N(null);throw c}))),Ht(l=>!!l),on(l=>{if(M_(l))return KM(r,i,o)?N(new Zf):ri(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return yt(r)!==s&&(s===L||!jl(i,o,r))?ri(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):ri(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:p}=A_(t,i,o);if(!l)return ri(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YM&&(this.allowRedirects=!1));let d=new tr(o,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,r_(i),yt(i),i.component??i._loadedComponent??null,i,i_(i)),g=Nl(d,a,this.paramsInheritanceStrategy);d.params=Object.freeze(g.params),d.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,d,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(ve(v=>this.processSegment(e,r,t,v.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=BM(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ut(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ut(({routes:c})=>{let u=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:d}=l,g=new tr(p,f,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,r_(r),yt(r),r.component??r._loadedComponent??null,r,i_(r)),m=Nl(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:y}=n_(t,p,d,c);if(y.length===0&&v.hasChildren())return this.processChildren(u,c,v,g).pipe(q(E=>new Ke(g,E)));if(c.length===0&&y.length===0)return N(new Ke(g,[]));let U=yt(r)===o;return this.processSegment(u,c,v,y,U?L:o,!0,g).pipe(q(E=>new Ke(g,E instanceof Ke?[E]:[])))}))):ri(t)))}getChildConfig(e,t,r){return t.children?N({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?N({routes:t._loadedRoutes,injector:t._loadedInjector}):jM(e,t,r,this.urlSerializer).pipe(ve(i=>i?this.configLoader.loadChildren(e,t).pipe(Ce(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):UM(t))):N({routes:[],injector:e})}};function JM(n){n.sort((e,t)=>e.value.outlet===L?-1:t.value.outlet===L?1:e.value.outlet.localeCompare(t.value.outlet))}function QM(n){let e=n.value.routeConfig;return e&&e.path===""}function R_(n){let e=[],t=new Set;for(let r of n){if(!QM(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=R_(r.children);e.push(new Ke(r.value,i))}return e.filter(r=>!t.has(r))}function r_(n){return n.data||{}}function i_(n){return n.resolve||{}}function XM(n,e,t,r,i,o){return ve(s=>ZM(n,e,t,r,s.extractedUrl,i,o).pipe(q(({state:a,tree:l})=>z(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function ex(n,e){return ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return N(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of O_(l))s.add(c);let a=0;return se(s).pipe(Mr(l=>o.has(l)?tx(l,r,n,e):(l.data=Nl(l,l.parent,n).resolve,N(void 0))),Ce(()=>a++),xr(1),ve(l=>a===s.size?N(t):Pe))})}function O_(n){let e=n.children.map(t=>O_(t)).flat();return[n,...e]}function tx(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!D_(i)&&(o[Fo]=i.title),nx(o,n,e,r).pipe(q(s=>(n._resolvedData=s,n.data=Nl(n,n.parent,t).resolve,null)))}function nx(n,e,t,r){let i=jf(n);if(i.length===0)return N({});let o={};return se(i).pipe(ve(s=>rx(n[s],e,t,r).pipe(Ht(),Ce(a=>{if(a instanceof ui)throw kl(new rr,a);o[s]=a}))),xr(1),q(()=>o),on(s=>M_(s)?Pe:Sr(s)))}function rx(n,e,t,r){let i=jo(e)??r,o=hi(n,i),s=o.resolve?o.resolve(e,t):ht(i,()=>o(e,t));return yn(s)}function Ff(n){return ut(e=>{let t=n(e);return t?se(t).pipe(q(()=>e)):N(e)})}var eh=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===L);return r}getResolvedTitleForRoute(t){return t.data[Fo]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(N_),providedIn:"root"})}return n})(),N_=(()=>{class n extends eh{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(F(Jy))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uo=new x("",{providedIn:"root",factory:()=>({})}),Bo=new x(""),k_=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(Ay);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return N(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=yn(t.loadComponent()).pipe(q(F_),Ce(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qi(()=>{this.componentLoaders.delete(t)})),i=new Ir(r,()=>new ge).pipe(Cr());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=P_(r,this.compiler,t,this.onLoadEndListener).pipe(Qi(()=>{this.childrenLoaders.delete(r)})),s=new Ir(o,()=>new ge).pipe(Cr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P_(n,e,t,r){return yn(n.loadChildren()).pipe(q(F_),ve(i=>i instanceof sf||Array.isArray(i)?N(i):se(e.compileModuleAsync(i))),q(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Bo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xf),injector:o}}))}function ix(n){return n&&typeof n=="object"&&"default"in n}function F_(n){return ix(n)?n.default:n}var Vl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(ox),providedIn:"root"})}return n})(),ox=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L_=new x("");var j_=new x(""),V_=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ge;transitionAbortSubject=new ge;configLoader=b(k_);environmentInjector=b(nt);destroyRef=b(Ua);urlSerializer=b(Lo);rootContexts=b(fi);location=b(ti);inputBindingEnabled=b(Ll,{optional:!0})!==null;titleStrategy=b(eh);options=b(Uo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(Vl);createViewTransition=b(L_,{optional:!0});navigationErrorHandler=b(j_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Il(i)),r=i=>this.events.next(new Sl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(z(w({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new me(null),this.transitions.pipe(ct(r=>r!==null),ut(r=>{let i=!1,o=!1;return N(r).pipe(ut(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ue.SupersededByNewNavigation),Pe;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?z(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Qt(s.id,this.urlSerializer.serialize(s.rawUrl),c,Mo.IgnoredSameUrlNavigation)),s.resolve(!1),Pe}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return N(s).pipe(ut(c=>(this.events.next(new ir(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Pe:Promise.resolve(c))),XM(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ce(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=z(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new xo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:f,restoredState:p,extras:d}=s,g=new ir(c,this.urlSerializer.serialize(u),f,p);this.events.next(g);let m=b_(this.rootComponentType).snapshot;return this.currentTransition=r=z(w({},s),{targetSnapshot:m,urlAfterRedirects:u,extras:z(w({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,N(r)}else{let c="";return this.events.next(new Qt(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Mo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Pe}}),Ce(s=>{let a=new bl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),q(s=>(this.currentTransition=r=z(w({},s),{guards:_M(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),AM(this.environmentInjector,s=>this.events.next(s)),Ce(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw kl(this.urlSerializer,s.guardsResult);let a=new El(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ct(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ue.GuardRejected),!1)),Ff(s=>{if(s.guards.canActivateChecks.length!==0)return N(s).pipe(Ce(a=>{let l=new Dl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ut(a=>{let l=!1;return N(a).pipe(ex(this.paramsInheritanceStrategy,this.environmentInjector),Ce({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Ue.NoDataFromResolver)}}))}),Ce(a=>{let l=new Cl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Ff(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ce(u=>{l.component=u}),q(()=>{})));for(let u of l.children)c.push(...a(u));return c};return Ws(a(s.targetSnapshot.root)).pipe(sn(null),Bt(1))}),Ff(()=>this.afterPreactivation()),ut(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?se(l).pipe(q(()=>r)):N(r)}),q(s=>{let a=pM(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=z(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ce(()=>{this.events.next(new Ao)}),yM(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Bt(1),Ce({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Cu(this.transitionAbortSubject.pipe(Ce(s=>{throw s}))),Qi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ue.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),on(s=>{if(this.destroyed)return r.resolve(!1),Pe;if(o=!0,T_(s))this.events.next(new Nt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),vM(s)?this.events.next(new ci(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new li(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=ht(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof ui){let{message:c,cancellationCode:u}=kl(this.urlSerializer,l);this.events.next(new Nt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ci(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Pe}))}))}cancelNavigationTransition(t,r,i){let o=new Nt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sx(n){return n!==yl}var $_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(ax),providedIn:"root"})}return n})(),Fl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},ax=(()=>{class n extends Fl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yt(n)))(i||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U_=(()=>{class n{urlSerializer=b(Lo);options=b(Uo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(ti);urlHandlingStrategy=b(Vl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof kt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=b_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(lx),providedIn:"root"})}return n})(),lx=(()=>{class n extends U_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ir?this.updateStateMemento():t instanceof Qt?this.commitTransition(r):t instanceof xo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ao?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nt&&(t.code===Ue.GuardRejected||t.code===Ue.NoDataFromResolver)?this.restoreHistory(r):t instanceof li?this.restoreHistory(r,!0):t instanceof Jt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=w(w({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=w(w({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yt(n)))(i||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function th(n,e){n.events.pipe(ct(t=>t instanceof Jt||t instanceof Nt||t instanceof li||t instanceof Qt),q(t=>t instanceof Jt||t instanceof Qt?0:(t instanceof Nt?t.code===Ue.Redirect||t.code===Ue.SupersededByNewNavigation:!1)?2:1),ct(t=>t!==2),Bt(1)).subscribe(()=>{e()})}var cx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ux={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(Ey);stateManager=b(U_);options=b(Uo,{optional:!0})||{};pendingTasks=b(Zr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(V_);urlSerializer=b(Lo);location=b(ti);urlHandlingStrategy=b(Vl);_events=new ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b($_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Bo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Ll,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Nt&&r.code!==Ue.Redirect&&r.code!==Ue.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jt)this.navigated=!0;else if(r instanceof ci){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sx(i.source)},s);this.scheduleNavigation(a,yl,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=w({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Xf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let p=i?i.snapshot:this.routerState.snapshot.root;f=v_(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return y_(f,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ai(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yl,null,r)}navigate(t,r={skipLocationChange:!1}){return dx(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=w({},cx):r===!1?i=w({},ux):i=r,ai(t))return Qy(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Qy(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,p)=>{a=f,l=p});let u=this.pendingTasks.add();return th(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dx(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new I(4008,!1)}function fx(n){return!(n instanceof Ao)&&!(n instanceof ci)}var px=new x("");function nh(n,...e){return Fm([{provide:Bo,multi:!0,useValue:n},[],{provide:vn,useFactory:gx,deps:[pi]},{provide:lf,multi:!0,useFactory:mx},e.map(t=>t.\u0275providers)])}function gx(n){return n.routerState.root}function mx(){let n=b(qt);return e=>{let t=n.get(qn);if(e!==t.components[0])return;let r=n.get(pi),i=n.get(vx);n.get(yx)===1&&r.initialNavigation(),n.get(_x,null,j.Optional)?.setUpPreloading(),n.get(px,null,j.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vx=new x("",{factory:()=>new ge}),yx=new x("",{providedIn:"root",factory:()=>1});var _x=new x("");var _p=mE(Rb(),1),{PostgrestError:X2,FunctionsHttpError:eH,FunctionsFetchError:tH,FunctionsRelayError:nH,FunctionsError:rH,FunctionRegion:iH,SupabaseClient:oH,createClient:Ob,GoTrueAdminApi:sH,GoTrueClient:aH,AuthAdminApi:lH,AuthClient:cH,navigatorLock:uH,NavigatorLockAcquireTimeoutError:dH,lockInternals:fH,processLock:hH,SIGN_OUT_SCOPES:pH,AuthError:gH,AuthApiError:mH,AuthUnknownError:vH,CustomAuthError:yH,AuthSessionMissingError:_H,AuthInvalidTokenResponseError:wH,AuthInvalidCredentialsError:bH,AuthImplicitGrantRedirectError:EH,AuthPKCEGrantCodeExchangeError:DH,AuthRetryableFetchError:CH,AuthWeakPasswordError:IH,AuthInvalidJwtError:SH,isAuthError:TH,isAuthApiError:MH,isAuthSessionMissingError:xH,isAuthImplicitGrantRedirectError:AH,isAuthRetryableFetchError:RH,isAuthWeakPasswordError:OH,RealtimePresence:NH,RealtimeChannel:kH,RealtimeClient:PH,REALTIME_LISTEN_TYPES:FH,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:LH,REALTIME_PRESENCE_LISTEN_EVENTS:jH,REALTIME_SUBSCRIBE_STATES:VH,REALTIME_CHANNEL_STATES:$H}=_p.default||_p;var On=class n{supabase;constructor(){this.supabase=Ob("https://xnhkyqflvfqjbmcbzzct.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuaGt5cWZsdmZxamJtY2J6emN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MDE5NDUsImV4cCI6MjA4MDk3Nzk0NX0.0Wjj_6kClOznswEo2hijdOf9XQ75WwfhkeWXRfEw9jI")}signIn(e,t){return this.supabase.auth.signInWithPassword({email:e,password:t})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google"})}get client(){return this.supabase}static \u0275fac=function(t){return new(t||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ic=class n{constructor(e){this.supabase=e}ngOnInit(){}static \u0275fac=function(t){return new(t||n)(V(On))};static \u0275cmp=rt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Te(0,"router-outlet")},dependencies:[Vo],encapsulation:2})};var Tc=class n{constructor(e,t){this.sb=e;this.router=t;this.sb.supabase.auth.getSession().then(({data:r})=>{this._user$.next(r.session?.user??null)}),this.sb.supabase.auth.onAuthStateChange((r,i)=>h(this,null,function*(){if(this._user$.next(i?.user??null),console.log(i?.user),i?.user){let{data:o}=yield this.sb.supabase.from("users").select("mail").eq("mail",this._user$.value.email).single();o?this.router.navigate(["/user-dashboard"]):this.router.navigate(["/user-onboarding"])}}))}_user$=new me(null);user$=this._user$.asObservable();logout(){return h(this,null,function*(){yield this.sb.supabase.auth.signOut()})}static \u0275fac=function(t){return new(t||n)(F(On),F(pi))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};function WA(n,e){if(n&1){let t=fn();df(0),M(1,"button",13),We("click",function(){gt(t);let i=Jn();return mt(i.logout())}),k(2," Logout "),T(),Te(3,"img",14),ff()}if(n&2){let t=e.ngIf;ae(3),Oe("src",(t.user_metadata==null?null:t.user_metadata.avatar_url)||"assets/images/default-avatar.png",zd)}}function KA(n,e){if(n&1){let t=fn();M(0,"li",15)(1,"button",13),We("click",function(){gt(t);let i=Jn();return mt(i.logout())}),k(2," Logout "),T(),Te(3,"img",14),T()}if(n&2){let t=e.ngIf;ae(3),Oe("src",(t.user_metadata==null?null:t.user_metadata.avatar_url)||"assets/images/default-avatar.jpg",zd)}}function ZA(n,e){if(n&1){let t=fn();M(0,"li",15)(1,"button",13),We("click",function(){gt(t);let i=Jn();return mt(i.loginWithGoogle())}),k(2," Login "),T()()}}var Mc=class n{constructor(e,t){this.authService=e;this.supabase=t;this.user$=this.authService.user$}user$;logout(){this.authService.logout()}loginWithGoogle(){this.supabase.signInWithGoogle()}static \u0275fac=function(t){return new(t||n)(V(Tc),V(On))};static \u0275cmp=rt({type:n,selectors:[["app-header"]],decls:28,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","main-navbar"],[1,"container-fluid","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler","d-lg-none","me-2"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand","fw-bold","d-none","d-lg-block"],[1,"flex-grow-1"],[1,"d-lg-none","d-flex","align-items-center","gap-2"],[4,"ngIf"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0","align-items-center"],[1,"nav-item"],["href","#",1,"nav-link"],["class","nav-item ms-3 d-none d-lg-flex align-items-center gap-2",4,"ngIf"],[1,"btn","btn-light","btn-sm","rounded-pill","fw-bold",3,"click"],["alt","avatar",1,"user-avatar",3,"src"],[1,"nav-item","ms-3","d-none","d-lg-flex","align-items-center","gap-2"]],template:function(t,r){t&1&&(M(0,"nav",0)(1,"div",1)(2,"button",2),Te(3,"span",3),T(),M(4,"a",4),k(5," Sports Championships "),T(),Te(6,"div",5),M(7,"div",6),Rt(8,WA,4,1,"ng-container",7),nl(9,"async"),T(),M(10,"div",8)(11,"ul",9)(12,"li",10)(13,"a",11),k(14,"Inicio"),T()(),M(15,"li",10)(16,"a",11),k(17,"Campeonatos"),T()(),M(18,"li",10)(19,"a",11),k(20,"Equipos"),T()(),M(21,"li",10)(22,"a",11),k(23,"Resultados"),T()(),Rt(24,KA,4,1,"li",12),nl(25,"async"),Rt(26,ZA,3,0,"li",12),nl(27,"async"),T()()()()),t&2&&(ae(8),Oe("ngIf",rl(9,3,r.user$)),ae(16),Oe("ngIf",rl(25,5,r.user$)),ae(2),Oe("ngIf",rl(27,7,r.user$)===null))},dependencies:[gn,vo,bf],styles:[".main-navbar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#7fa9c4,#8fbf9f);padding:.5rem 1rem}.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.7);transition:all .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3}.btn-light[_ngcontent-%COMP%]{color:#333;transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border:2px solid #fff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px;border-radius:.5rem}.navbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.35rem 1rem;font-size:.875rem}.main-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 6px #00000040}"]})};var xc=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"app-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-links"],["href","#"],[1,"footer-bottom"]],template:function(t,r){t&1&&(M(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),k(4,"Sports Championships"),T(),M(5,"p"),k(6,"Organiza, compite y disfruta de tu deporte favorito"),T()(),M(7,"div",3)(8,"a",4),k(9,"Aviso legal"),T(),M(10,"a",4),k(11,"Privacidad"),T()()(),M(12,"div",5),k(13," \xA9 2025 Sports Center Championships \xB7 Todos los derechos reservados "),T()())},styles:[".app-footer[_ngcontent-%COMP%]{background:#0f172a;color:#cbd5e1;padding:1rem;margin-top:4rem}.footer-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:2rem;text-align:center}.footer-brand[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#fff}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;font-size:.9rem;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.8rem;color:#94a3b8}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;text-align:left}.footer-links[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};function YA(n,e){if(n&1&&(M(0,"div",15)(1,"div",16),Te(2,"div",17),M(3,"div",18)(4,"h5",19),k(5),T(),M(6,"small",20),k(7),T()()()()),n&2){let t=e.$implicit;ae(2),uf("background-image","url("+t.image+")"),ae(),Oe("ngClass",t.color),ae(2),el(t.name),ae(2),el(t.nextEvent)}}var Ac=class n{sports=[{id:4,name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",nextEvent:"28 Sep \xB7 21:00"},{id:3,name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",nextEvent:"25 Sep \xB7 10:00"},{id:2,name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",nextEvent:"22 Sep \xB7 19:30"},{id:1,name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",nextEvent:"20 Sep \xB7 18:00"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-home"]],decls:36,vars:1,consts:[[1,"title-section"],["src","assets/images/homeHeader.jpeg","alt","Sports championship background","loading","lazy",1,"title-bg"],[1,"title-overlay"],[1,"container","title-content"],[1,"display-5","fw-bold","text-white"],[1,"sports-section"],[1,"container"],[1,"fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"features"],[1,"feature-card"],[1,"feature-icon","icon-league"],[1,"feature-icon","icon-notify"],[1,"feature-icon","icon-free"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"sport-card","shadow-sm","h-100"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],[1,"text-white","fw-bold","mb-1"],[1,"text-white-50"]],template:function(t,r){t&1&&(Te(0,"app-header"),M(1,"section",0),Te(2,"img",1)(3,"div",2),M(4,"div",3)(5,"h1",4),k(6," App Organizador de eventos deportivos "),T()()(),M(7,"section",5)(8,"div",6)(9,"h2",7),k(10,"Pr\xF3ximos Campeonatos"),T(),M(11,"div",8),Rt(12,YA,8,5,"div",9),T()()(),M(13,"section",10)(14,"div",11)(15,"div",12),k(16,"\u{1F3C6}"),T(),M(17,"h4"),k(18,"Crea y compite"),T(),M(19,"p"),k(20,"Crea y ap\xFAntate a ligas de tu deporte favorito"),T()(),M(21,"div",11)(22,"div",13),k(23,"\u{1F514}"),T(),M(24,"h4"),k(25,"Notificaciones"),T(),M(26,"p"),k(27,"Recibe notificaciones de los partidos y resultados"),T()(),M(28,"div",11)(29,"div",14),k(30,"\u{1F389}"),T(),M(31,"h4"),k(32,"Totalmente gratis"),T(),M(33,"p"),k(34,"Sin ning\xFAn coste, ahora y siempre"),T()()(),Te(35,"app-footer")),t&2&&(ae(12),Oe("ngForOf",r.sports))},dependencies:[gn,wf,ni,Mc,xc],styles:[".color-padel[_ngcontent-%COMP%]{background-color:#7fa9c4;color:#fff}.color-futbol[_ngcontent-%COMP%]{background-color:#8fbf9f;color:#fff}.color-baloncesto[_ngcontent-%COMP%]{background-color:#f2b36d;color:#fff}.color-tenis[_ngcontent-%COMP%]{background-color:#c97a5a;color:#fff}.title-section[_ngcontent-%COMP%]{position:relative;height:40vh;overflow:hidden;display:flex;align-items:center}.title-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}.title-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:720px}.sports-section[_ngcontent-%COMP%]{margin-top:.5rem}.sport-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.sport-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 25px #0003}.sport-image[_ngcontent-%COMP%]{height:180px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:16px}.features[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:2rem;padding:3rem 1.5rem;max-width:1100px;margin:0 auto}.feature-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.2rem;padding:2rem 1.5rem;text-align:center;box-shadow:0 10px 35px #00000012;transition:transform .3s ease,box-shadow .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 18px 45px #0000001f}.feature-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.7rem;color:#fff}.icon-league[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7fa9c4,#6c96b1)}.icon-notify[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fbf9f,#7eaf90)}.icon-free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f2b36d,#c97a5a)}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:.5rem;font-weight:600;color:#222}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.5;margin:0}@media (min-width: 768px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.title-section[_ngcontent-%COMP%]{margin-top:3.4rem;height:10vh}.title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}"]})};var Bb=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(V(Zn),V(cn))};static \u0275dir=le({type:n})}return n})(),jc=(()=>{class n extends Bb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yt(n)))(i||n)}})();static \u0275dir=le({type:n,features:[it]})}return n})(),hs=new x(""),JA={provide:hs,useExisting:xt(()=>Cp),multi:!0},Cp=(()=>{class n extends jc{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yt(n)))(i||n)}})();static \u0275dir=le({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&We("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[hn([JA]),it]})}return n})(),QA={provide:hs,useExisting:xt(()=>Vc),multi:!0};function XA(){let n=ot()?ot().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var eR=new x(""),Vc=(()=>{class n extends Bb{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!XA())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(V(Zn),V(cn),V(eR,8))};static \u0275dir=le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&We("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[hn([QA]),it]})}return n})();function tR(n){return n==null||nR(n)===0}function nR(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ip=new x(""),Hb=new x("");function rR(n){return tR(n.value)?{required:!0}:null}function Nb(n){return null}function zb(n){return n!=null}function qb(n){return dn(n)?se(n):n}function Gb(n){let e={};return n.forEach(t=>{e=t!=null?w(w({},e),t):e}),Object.keys(e).length===0?null:e}function Wb(n,e){return e.map(t=>t(n))}function iR(n){return!n.validate}function Kb(n){return n.map(e=>iR(e)?e:t=>e.validate(t))}function oR(n){if(!n)return null;let e=n.filter(zb);return e.length==0?null:function(t){return Gb(Wb(t,e))}}function Sp(n){return n!=null?oR(Kb(n)):null}function sR(n){if(!n)return null;let e=n.filter(zb);return e.length==0?null:function(t){let r=Wb(t,e).map(qb);return wu(r).pipe(q(Gb))}}function Tp(n){return n!=null?sR(Kb(n)):null}function kb(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aR(n){return n._rawValidators}function lR(n){return n._rawAsyncValidators}function bp(n){return n?Array.isArray(n)?n:[n]:[]}function Oc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Pb(n,e){let t=bp(e);return bp(n).forEach(i=>{Oc(t,i)||t.push(i)}),t}function Fb(n,e){return bp(e).filter(t=>!Oc(n,t))}var Nc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Tp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Bi=class extends Nc{name;get formDirective(){return null}get path(){return null}},fs=class extends Nc{_parent=null;name=null;valueAccessor=null},kc=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},vz=z(w({},cR),{"[class.ng-submitted]":"isSubmitted"}),Zb=(()=>{class n extends kc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(V(fs,2))};static \u0275dir=le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Qa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[it]})}return n})(),Yb=(()=>{class n extends kc{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(V(Bi,10))};static \u0275dir=le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Qa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[it]})}return n})();var as="VALID",Rc="INVALID",$i="PENDING",ls="DISABLED",Nn=class{},Pc=class extends Nn{value;source;constructor(e,t){super(),this.value=e,this.source=t}},us=class extends Nn{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ds=class extends Nn{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ui=class extends Nn{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ep=class extends Nn{source;constructor(e){super(),this.source=e}},Dp=class extends Nn{source;constructor(e){super(),this.source=e}};function Jb(n){return($c(n)?n.validators:n)||null}function uR(n){return Array.isArray(n)?Sp(n):n||null}function Qb(n,e){return($c(e)?e.asyncValidators:n)||null}function dR(n){return Array.isArray(n)?Tp(n):n||null}function $c(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function fR(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[t])throw new I(1001,"")}function hR(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new I(1002,"")})}var Fc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vt(this.statusReactive)}set status(e){vt(()=>this.statusReactive.set(e))}_status=go(()=>this.statusReactive());statusReactive=ho(void 0);get valid(){return this.status===as}get invalid(){return this.status===Rc}get pending(){return this.status==$i}get disabled(){return this.status===ls}get enabled(){return this.status!==ls}errors;get pristine(){return vt(this.pristineReactive)}set pristine(e){vt(()=>this.pristineReactive.set(e))}_pristine=go(()=>this.pristineReactive());pristineReactive=ho(!0);get dirty(){return!this.pristine}get touched(){return vt(this.touchedReactive)}set touched(e){vt(()=>this.touchedReactive.set(e))}_touched=go(()=>this.touchedReactive());touchedReactive=ho(!1);get untouched(){return!this.touched}_events=new ge;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Pb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fb(e,this._rawAsyncValidators))}hasValidator(e){return Oc(this._rawValidators,e)}hasAsyncValidator(e){return Oc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ds(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ds(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new us(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new us(!0,r))}markAsPending(e={}){this.status=$i;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ui(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(w({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ls,this.errors=null,this._forEachChild(i=>{i.disable(z(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pc(this.value,r)),this._events.next(new Ui(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=as,this._forEachChild(r=>{r.enable(z(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===as||this.status===$i)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pc(this.value,t)),this._events.next(new Ui(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(w({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ls:as}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=$i,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=qb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ui(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?ls:this.errors?Rc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($i)?$i:this._anyControlsHaveStatus(Rc)?Rc:as}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new us(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ds(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$c(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=uR(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dR(this._rawAsyncValidators)}},Lc=class extends Fc{constructor(e,t,r){super(Jb(t),Qb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hR(this,!0,e),Object.keys(e).forEach(r=>{fR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Mp=new x("",{providedIn:"root",factory:()=>xp}),xp="always";function pR(n,e){return[...e.path,n]}function Xb(n,e,t=xp){eE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),mR(n,e),yR(n,e),vR(n,e),gR(n,e)}function Lb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gR(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function eE(n,e){let t=aR(n);e.validator!==null?n.setValidators(kb(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lR(n);e.asyncValidator!==null?n.setAsyncValidators(kb(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Lb(e._rawValidators,i),Lb(e._rawAsyncValidators,i)}function mR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&tE(n,e)})}function vR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&tE(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function tE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yR(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function _R(n,e){n==null,eE(n,e)}function wR(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function bR(n){return Object.getPrototypeOf(n.constructor)===jc}function ER(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function DR(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Vc?t=o:bR(o)?r=o:i=o}),i||r||t||null}var CR={provide:Bi,useExisting:xt(()=>Ap)},cs=Promise.resolve(),Ap=(()=>{class n extends Bi{callSetDisabledState;get submitted(){return vt(this.submittedReactive)}_submitted=go(()=>this.submittedReactive());submittedReactive=ho(!1);_directives=new Set;form;ngSubmit=new ye;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Lc({},Sp(t),Tp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){cs.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Xb(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){cs.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){cs.then(()=>{let r=this._findContainer(t.path),i=new Lc({});_R(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){cs.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){cs.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),ER(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ep(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Dp(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(V(Ip,10),V(Hb,10),V(Mp,8))};static \u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&We("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[hn([CR]),it]})}return n})();function jb(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var IR=class extends Fc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Jb(t),Qb(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$c(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Vb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Vb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var SR={provide:fs,useExisting:xt(()=>Rp)},$b=Promise.resolve(),Rp=(()=>{class n extends fs{_changeDetectorRef;callSetDisabledState;control=new IR;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ye;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=DR(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),wR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Xb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){$b.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&il(r);$b.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?pR(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(V(Bi,9),V(Ip,10),V(Hb,10),V(hs,10),V(ei,8),V(Mp,8))};static \u0275dir=le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[hn([SR]),it,Wr]})}return n})();var nE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var TR={provide:hs,useExisting:xt(()=>Uc),multi:!0};function rE(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function MR(n){return n.split(":")[0]}var Uc=(()=>{class n extends jc{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=rE(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=MR(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yt(n)))(i||n)}})();static \u0275dir=le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&We("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[hn([TR]),it]})}return n})(),iE=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(rE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(V(cn),V(Zn),V(Uc,9))};static \u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),xR={provide:hs,useExisting:xt(()=>oE),multi:!0};function Ub(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function AR(n){return n.split(":")[0]}var oE=(()=>{class n extends jc{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=AR(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yt(n)))(i||n)}})();static \u0275dir=le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&We("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[hn([xR]),it]})}return n})(),sE=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Ub(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ub(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(V(cn),V(Zn),V(oE,9))};static \u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var RR=(()=>{class n{_validator=Nb;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Nb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=le({type:n,features:[Wr]})}return n})();var OR={provide:Ip,useExisting:xt(()=>Op),multi:!0};var Op=(()=>{class n extends RR{required;inputName="required";normalizeInput=il;createValidator=t=>rR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yt(n)))(i||n)}})();static \u0275dir=le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&cf("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[hn([OR]),it]})}return n})();var NR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yn({type:n});static \u0275inj=Wn({})}return n})();var aE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Mp,useValue:t.callSetDisabledState??xp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yn({type:n});static \u0275inj=Wn({imports:[NR]})}return n})();function PR(n,e){if(n&1){let t=fn();M(0,"select",16),Xn("ngModelChange",function(i){gt(t);let o=Jn().$implicit;return Xr(o.level,i)||(o.level=i),mt(i)}),M(1,"option",17),k(2,"Nivel"),T(),M(3,"option",18),k(4,"Principiante"),T(),M(5,"option",19),k(6,"Intermedio"),T(),M(7,"option",20),k(8,"Avanzado"),T()()}if(n&2){let t=Jn().$implicit;Xa("name","level-",t.key,""),Qn("ngModel",t.level)}}function FR(n,e){if(n&1){let t=fn();M(0,"div",13)(1,"label")(2,"input",14),Xn("ngModelChange",function(i){let o=gt(t).$implicit;return Xr(o.selected,i)||(o.selected=i),mt(i)}),T(),k(3),T(),Rt(4,PR,9,3,"select",15),T()}if(n&2){let t=e.$implicit;ae(2),Xa("name","sport-",t.key,""),Qn("ngModel",t.selected),ae(),tl(" ",t.label," "),ae(),Oe("ngIf",t.selected)}}var Bc=class n{profile={name:"",email:"",phone:"",avatar_url:""};sports=[{key:"padel",label:"P\xE1del",selected:!1,level:""},{key:"tenis",label:"Tenis",selected:!1,level:""},{key:"baloncesto",label:"Baloncesto",selected:!1,level:""},{key:"futbol",label:"F\xFAtbol",selected:!1,level:""}];saveProfile(){return h(this,null,function*(){})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-user-onboarding"]],decls:29,vars:6,consts:[["form","ngForm"],[1,"onboarding-container"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","disabled","",1,"form-control",3,"value"],["type","tel","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","avatar",1,"form-control",3,"ngModelChange","ngModel"],[1,"section-title"],[1,"sports-grid"],["class","sport-card",4,"ngFor","ngForOf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"sport-card"],["type","checkbox",3,"ngModelChange","ngModel","name"],["class","form-select",3,"ngModel","name","ngModelChange",4,"ngIf"],[1,"form-select",3,"ngModelChange","ngModel","name"],["value",""],["value","Principiante"],["value","Intermedio"],["value","Avanzado"]],template:function(t,r){if(t&1){let i=fn();M(0,"div",1)(1,"h2"),k(2,"Completa tu perfil"),T(),M(3,"p",2),k(4," Solo un paso m\xE1s para empezar a competir "),T(),M(5,"form",3,0),We("ngSubmit",function(){return gt(i),mt(r.saveProfile())}),M(7,"div",4)(8,"label"),k(9,"Nombre"),T(),M(10,"input",5),Xn("ngModelChange",function(s){return gt(i),Xr(r.profile.name,s)||(r.profile.name=s),mt(s)}),T()(),M(11,"div",4)(12,"label"),k(13,"Email"),T(),Te(14,"input",6),T(),M(15,"div",4)(16,"label"),k(17,"Tel\xE9fono"),T(),M(18,"input",7),Xn("ngModelChange",function(s){return gt(i),Xr(r.profile.phone,s)||(r.profile.phone=s),mt(s)}),T()(),M(19,"div",4)(20,"label"),k(21,"Avatar (URL)"),T(),M(22,"input",8),Xn("ngModelChange",function(s){return gt(i),Xr(r.profile.avatar_url,s)||(r.profile.avatar_url=s),mt(s)}),T()(),M(23,"h4",9),k(24,"Deportes que practicas"),T(),M(25,"div",10),Rt(26,FR,5,5,"div",11),T(),M(27,"button",12),k(28," Guardar perfil "),T()()()}if(t&2){let i=My(6);ae(10),Qn("ngModel",r.profile.name),ae(4),Oe("value",r.profile.email),ae(4),Qn("ngModel",r.profile.phone),ae(4),Qn("ngModel",r.profile.avatar_url),ae(4),Oe("ngForOf",r.sports),ae(),Oe("disabled",!i.valid)}},dependencies:[gn,ni,vo,aE,nE,iE,sE,Vc,Cp,Uc,Zb,Yb,Op,Rp,Ap],styles:[".onboarding-container[_ngcontent-%COMP%]{max-width:520px;margin:6rem auto 2rem;padding:2rem 1.5rem}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:.3rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem}.section-title[_ngcontent-%COMP%]{margin:2rem 0 1rem;font-size:1.1rem}.sports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}.sport-card[_ngcontent-%COMP%]{padding:1rem;border-radius:.8rem;background:#f8fafc;border:1px solid #e5e7eb}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.8rem;margin-top:2rem;border-radius:.6rem;background:#2563eb;color:#fff;border:none}"]})};var lE=[{path:"",component:Ac},{path:"user_onboarding",component:Bc},{path:"**",redirectTo:""}];Of(Ic,{providers:[nh(lE)]}).catch(n=>console.error(n));

var vE=Object.create;var fo=Object.defineProperty,yE=Object.defineProperties,_E=Object.getOwnPropertyDescriptor,wE=Object.getOwnPropertyDescriptors,bE=Object.getOwnPropertyNames,Eg=Object.getOwnPropertySymbols,EE=Object.getPrototypeOf,Cg=Object.prototype.hasOwnProperty,DE=Object.prototype.propertyIsEnumerable;var Dg=(e,t,n)=>t in e?fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||={})Cg.call(t,n)&&Dg(e,n,t[n]);if(Eg)for(var n of Eg(t))DE.call(t,n)&&Dg(e,n,t[n]);return e},q=(e,t)=>yE(e,wE(t));var A=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ke=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ho=(e,t)=>{for(var n in t)fo(e,n,{get:t[n],enumerable:!0})},Ig=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bE(t))!Cg.call(e,i)&&i!==n&&fo(e,i,{get:()=>t[i],enumerable:!(r=_E(t,i))||r.enumerable});return e};var CE=(e,t,n)=>(n=e!=null?vE(EE(e)):{},Ig(t||!e||!e.__esModule?fo(n,"default",{value:e,enumerable:!0}):n,e)),ot=e=>Ig(fo({},"__esModule",{value:!0}),e);var h=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});var or={};ho(or,{__addDisposableResource:()=>am,__assign:()=>oa,__asyncDelegator:()=>em,__asyncGenerator:()=>la,__asyncValues:()=>ca,__await:()=>$t,__awaiter:()=>E,__classPrivateFieldGet:()=>im,__classPrivateFieldIn:()=>sm,__classPrivateFieldSet:()=>om,__createBinding:()=>aa,__decorate:()=>Bg,__disposeResources:()=>lm,__esDecorate:()=>zg,__exportStar:()=>Yg,__extends:()=>$g,__generator:()=>Zg,__importDefault:()=>rm,__importStar:()=>nm,__makeTemplateObject:()=>tm,__metadata:()=>Kg,__param:()=>Hg,__propKey:()=>Wg,__read:()=>rd,__rest:()=>an,__rewriteRelativeImportExtension:()=>cm,__runInitializers:()=>qg,__setFunctionName:()=>Gg,__spread:()=>Jg,__spreadArray:()=>Xg,__spreadArrays:()=>Qg,__values:()=>sa,default:()=>UE});function $g(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");td(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function an(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Bg(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function Hg(e,t){return function(n,r){t(n,r,e)}}function zg(e,t,n,r,i,o){function s(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,p=!1,d=n.length-1;d>=0;d--){var g={};for(var v in r)g[v]=v==="access"?{}:r[v];for(var v in r.access)g.access[v]=r.access[v];g.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(w||null))};var _=(0,n[d])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(f=s(_.get))&&(u.get=f),(f=s(_.set))&&(u.set=f),(f=s(_.init))&&i.unshift(f)}else(f=s(_))&&(a==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,r.name,u),p=!0}function qg(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function Wg(e){return typeof e=="symbol"?e:"".concat(e)}function Gg(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Kg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function E(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Zg(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Yg(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&aa(t,e,n)}function sa(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rd(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Jg(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rd(arguments[t]));return e}function Qg(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Xg(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function $t(e){return this instanceof $t?(this.v=e,this):new $t(e)}function la(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(d){return function(g){return Promise.resolve(g).then(d,f)}}function a(d,g){r[d]&&(i[d]=function(v){return new Promise(function(_,w){o.push([d,v,_,w])>1||l(d,v)})},g&&(i[d]=g(i[d])))}function l(d,g){try{c(r[d](g))}catch(v){p(o[0][3],v)}}function c(d){d.value instanceof $t?Promise.resolve(d.value.v).then(u,f):p(o[0][2],d)}function u(d){l("next",d)}function f(d){l("throw",d)}function p(d,g){d(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function em(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:$t(e[i](s)),done:!1}:o?o(s):s}:o}}function ca(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof sa=="function"?sa(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function tm(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function nm(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=nd(e),r=0;r<n.length;r++)n[r]!=="default"&&aa(t,e,n[r]);return jE(t,e),t}function rm(e){return e&&e.__esModule?e:{default:e}}function im(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function om(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function sm(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function am(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}function lm(e){function t(o){e.error=e.hasError?new VE(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function cm(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,s){return r?t?".jsx":".js":i&&(!o||!s)?n:i+o+"."+s.toLowerCase()+"js"}):e}var td,oa,aa,jE,nd,VE,UE,ce=A(()=>{"use strict";td=function(e,t){return td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},td(e,t)};oa=function(){return oa=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oa.apply(this,arguments)};aa=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};jE=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},nd=function(e){return nd=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},nd(e)};VE=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};UE={__extends:$g,__assign:oa,__rest:an,__decorate:Bg,__param:Hg,__esDecorate:zg,__runInitializers:qg,__propKey:Wg,__setFunctionName:Gg,__metadata:Kg,__awaiter:E,__generator:Zg,__createBinding:aa,__exportStar:Yg,__values:sa,__read:rd,__spread:Jg,__spreadArrays:Qg,__spreadArray:Xg,__await:$t,__asyncGenerator:la,__asyncDelegator:em,__asyncValues:ca,__makeTemplateObject:tm,__importStar:nm,__importDefault:rm,__classPrivateFieldGet:im,__classPrivateFieldSet:om,__classPrivateFieldIn:sm,__addDisposableResource:am,__disposeResources:lm,__rewriteRelativeImportExtension:cm}});var Jw,Qw=A(()=>{"use strict";Jw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t)});var Mr,Pi,xr,Ar,ws,Kh=A(()=>{"use strict";Mr=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Pi=class extends Mr{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},xr=class extends Mr{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ar=class extends Mr{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},ws=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(ws||{})});var bc,Xw=A(()=>{"use strict";ce();Qw();Kh();bc=class{constructor(t,{headers:n={},customFetch:r,region:i=ws.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Jw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return E(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:f}=r,p={},{region:d}=r;d||(d=this.region);let g=new URL(`${this.url}/${n}`);d&&d!=="any"&&(p["x-region"]=d,g.searchParams.set("forceFunctionRegion",d));let v;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(p["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(p["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let _=u;f&&(s=new AbortController,o=setTimeout(()=>s.abort(),f),u?(_=s.signal,u.addEventListener("abort",()=>s.abort())):_=s.signal);let w=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v,signal:_}).catch(J=>{throw new Pi(J)}),B=w.headers.get("x-relay-error");if(B&&B==="true")throw new xr(w);if(!w.ok)throw new Ar(w);let I=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return I==="application/json"?S=yield w.json():I==="application/octet-stream"||I==="application/pdf"?S=yield w.blob():I==="text/event-stream"?S=w:I==="multipart/form-data"?S=yield w.formData():S=yield w.text(),{data:S,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Ar||a instanceof xr?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var Zh={};ho(Zh,{FunctionRegion:()=>ws,FunctionsClient:()=>bc,FunctionsError:()=>Mr,FunctionsFetchError:()=>Pi,FunctionsHttpError:()=>Ar,FunctionsRelayError:()=>xr});var Yh=A(()=>{"use strict";Xw();Kh()});var Xh=Ke(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});var Jh=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qh.default=Jh});var np=Ke(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});var BA=(ce(),ot(or)),HA=BA.__importDefault(Xh()),ep=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l,c;let u=null,f=null,p=null,d=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let B=yield o.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=B:f=JSON.parse(B))}let _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&w&&w.length>1&&(p=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,d=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{let _=yield o.text();try{u=JSON.parse(_),Array.isArray(u)&&o.status===404&&(f=[],u=null,d=200,g="OK")}catch{o.status===404&&_===""?(d=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new HA.default(u)}return{error:u,data:f,count:p,status:d,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,f;let p="",d=o?.cause;if(d){let g=(s=d?.message)!==null&&s!==void 0?s:"",v=(a=d?.code)!==null&&a!==void 0?a:"";p=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,p+=`

Caused by: ${(c=d?.name)!==null&&c!==void 0?c:"Error"}: ${g}`,v&&(p+=` (${v})`),d?.stack&&(p+=`
${d.stack}`)}else p=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};tp.default=ep});var op=Ke(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var zA=(ce(),ot(or)),qA=zA.__importDefault(np()),rp=class extends qA.default{select(t){let n=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ip.default=rp});var Ec=Ke(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});var WA=(ce(),ot(or)),GA=WA.__importDefault(op()),KA=new RegExp("[,()]"),sp=class extends GA.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}regexMatch(t,n){return this.url.searchParams.append(t,`match.${n}`),this}regexIMatch(t,n){return this.url.searchParams.append(t,`imatch.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}isDistinct(t,n){return this.url.searchParams.append(t,`isdistinct.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&KA.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ap.default=sp});var up=Ke(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});var ZA=(ce(),ot(or)),bs=ZA.__importDefault(Ec()),lp=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){let{head:r=!1,count:i}=n??{},o=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new bs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;let o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new bs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new bs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new bs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new bs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};cp.default=lp});var tb=Ke(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});var eb=(ce(),ot(or)),YA=eb.__importDefault(up()),JA=eb.__importDefault(Ec()),dp=class e{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let n=new URL(`${this.url}/${t}`);return new YA.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${t}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",c=n);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new JA.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};fp.default=dp});var hp=Ke(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.PostgrestError=Ge.PostgrestBuilder=Ge.PostgrestTransformBuilder=Ge.PostgrestFilterBuilder=Ge.PostgrestQueryBuilder=Ge.PostgrestClient=void 0;var Fi=(ce(),ot(or)),nb=Fi.__importDefault(tb());Ge.PostgrestClient=nb.default;var rb=Fi.__importDefault(up());Ge.PostgrestQueryBuilder=rb.default;var ib=Fi.__importDefault(Ec());Ge.PostgrestFilterBuilder=ib.default;var ob=Fi.__importDefault(op());Ge.PostgrestTransformBuilder=ob.default;var sb=Fi.__importDefault(np());Ge.PostgrestBuilder=sb.default;var ab=Fi.__importDefault(Xh());Ge.PostgrestError=ab.default;Ge.default={PostgrestClient:nb.default,PostgrestQueryBuilder:rb.default,PostgrestFilterBuilder:ib.default,PostgrestTransformBuilder:ob.default,PostgrestBuilder:sb.default,PostgrestError:ab.default}});var pp,Dc,gp=A(()=>{"use strict";pp=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Dc=pp});var lb,cb=A(()=>{"use strict";lb="2.87.1"});var ub,mp,db,vp,Es,fb,hb,Rr,be,It,yp,Or,Cc=A(()=>{"use strict";cb();ub=`realtime-js/${lb}`,mp="1.0.0",db="2.0.0",vp=mp,Es=1e4,fb=1e3,hb=100,Rr=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Rr||{}),be=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(be||{}),It=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(It||{}),yp=function(e){return e.websocket="websocket",e}(yp||{}),Or=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Or||{})});var Ic,pb=A(()=>{"use strict";Ic=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+f.length,d=new ArrayBuffer(this.HEADER_LENGTH+p),g=new DataView(d),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,a.length),g.setUint8(v++,s.length),g.setUint8(v++,c.length),g.setUint8(v++,f.length),g.setUint8(v++,n),Array.from(l,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(a,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(s,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(c,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(f,w=>g.setUint8(v++,w.charCodeAt(0)));var _=new Uint8Array(d.byteLength+r.byteLength);return _.set(new Uint8Array(d),0),_.set(new Uint8Array(r),d.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,l]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:l})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(t.slice(l,l+i));l=l+i;let u=r.decode(t.slice(l,l+o));l=l+o;let f=r.decode(t.slice(l,l+s));l=l+s;let p=t.slice(l,t.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:u,payload:d};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}});var Li,_p=A(()=>{"use strict";Li=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var le,bp,QA,gb,wp,XA,eR,tR,nR,rR,Sc,Tc=A(()=>{"use strict";le=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(le||{}),bp=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=QA(s,e,t,i),o),{}):{}},QA=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?gb(o,s):wp(s)},gb=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return nR(t,n)}switch(e){case le.bool:return XA(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return eR(t);case le.json:case le.jsonb:return tR(t);case le.timestamp:return rR(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return wp(t);default:return wp(t)}},wp=e=>e,XA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eR=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nR=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>gb(t,a))}return e},rR=e=>typeof e=="string"?e.replace(" ","T"):e,Sc=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href}});var ji,mb=A(()=>{"use strict";Cc();ji=class{constructor(t,n,r={},i=Es){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}});var Ep,Vi,Dp=A(()=>{"use strict";Ep=function(e){return e.SYNC="sync",e.JOIN="join",e.LEAVE="leave",e}(Ep||{}),Vi=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let f=o[c];if(f){let p=u.map(_=>_.presence_ref),d=f.map(_=>_.presence_ref),g=u.filter(_=>d.indexOf(_.presence_ref)<0),v=f.filter(_=>p.indexOf(_.presence_ref)<0);g.length>0&&(a[c]=g),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){let f=t[a].map(d=>d.presence_ref),p=u.filter(d=>f.indexOf(d.presence_ref)<0);t[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;let u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var Cp,Ui,tn,vb,$i,Ip=A(()=>{"use strict";Cc();mb();_p();Dp();Tc();Tc();Cp=function(e){return e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE",e}(Cp||{}),Ui=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(Ui||{}),tn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(tn||{}),vb=be,$i=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ji(this,It.join,this.params,this.timeout),this.rejoinTimer=new Li(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Vi(this),this.broadcastEndpointURL=Sc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==be.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ui.PRESENCE]&&this.bindings[Ui.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>t?.(tn.CHANNEL_ERROR,d)),this._onClose(()=>t?.(tn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:d}){var v;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){t?.(tn.SUBSCRIBED);return}else{let _=this.bindings.postgres_changes,w=(v=_?.length)!==null&&v!==void 0?v:0,B=[];for(let I=0;I<w;I++){let S=_[I],{filter:{event:J,schema:Ut,table:ie,filter:Ee}}=S,Mn=d&&d[I];if(Mn&&Mn.event===J&&e.isFilterValueEqual(Mn.schema,Ut)&&e.isFilterValueEqual(Mn.table,ie)&&e.isFilterValueEqual(Mn.filter,Ee))B.push(Object.assign(Object.assign({},S),{id:Mn.id}));else{this.unsubscribe(),this.state=be.errored,t?.(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,t&&t(tn.SUBSCRIBED);return}})).receive("error",d=>{this.state=be.errored,t?.(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===be.joined&&t===Ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>h(this,null,function*(){return yield this.subscribe()}))),this._on(t,n,r)}httpSend(i,o){return h(this,arguments,function*(t,n,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let f=yield c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=be.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ji(this,It.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=be.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ji(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hb){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=It;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,v,_;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(v=d.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(d=>d.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(d=>{var g,v,_,w,B,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){let S=d.id,J=(g=d.filter)===null||g===void 0?void 0:g.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(J==="*"||J?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{let S=(B=(w=d?.filter)===null||w===void 0?void 0:w.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return S==="*"||S===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:v,table:_,commit_timestamp:w,type:B,errors:I}=g;p=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:w,eventType:B,new:{},old:{},errors:I}),this._getPayloadRecords(g))}d.callback(p,r)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(It.close,{},t)}_onError(t){this._on(It.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=bp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=bp(t.columns,t.old_record)),n}}});var Sp,Mc,oR,sR,aR,xc,yb=A(()=>{"use strict";gp();Cc();pb();_p();Tc();Ip();Sp=()=>{},Mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oR=[1e3,2e3,5e3,1e4],sR=1e4,aR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,xc=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Es,this.transport=null,this.heartbeatIntervalMs=Mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sp,this.ref=0,this.reconnectTimer=null,this.vsn=vp,this.logger=Sp,this.conn=null,this.sendBuffer=[],this.serializer=new Ic,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${yp.websocket}`,this.httpEndpoint=Sc(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dc.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return Or.Connecting;case Rr.open:return Or.Open;case Rr.closing:return Or.Closing;default:return Or.Closed}}isConnected(){return this.connectionState()===Or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new $i(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return h(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(fb,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rr.open||this.conn.readyState===Rr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(It.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([aR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return h(this,null,function*(){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:ub};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(It.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Li(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Mc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,l,c,u,f,p,d;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Es,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Mc.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Sp,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:vp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:g=>oR[g-1]||sR,this.vsn){case mp:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(g,v)=>v(JSON.stringify(g)),this.decode=(f=t?.decode)!==null&&f!==void 0?f:(g,v)=>v(JSON.parse(g));break;case db:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}});var Tp={};ho(Tp,{REALTIME_CHANNEL_STATES:()=>vb,REALTIME_LISTEN_TYPES:()=>Ui,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>Cp,REALTIME_PRESENCE_LISTEN_EVENTS:()=>Ep,REALTIME_SUBSCRIBE_STATES:()=>tn,RealtimeChannel:()=>$i,RealtimeClient:()=>xc,RealtimePresence:()=>Vi,WebSocketFactory:()=>Dc});var Mp=A(()=>{"use strict";yb();Ip();Dp();gp()});function ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var In,Ds,Hn,zn=A(()=>{"use strict";In=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};Ds=class extends In{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hn=class extends In{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}});var Bi,_b,Ac,wb,bb,Cs=A(()=>{"use strict";Bi=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_b=()=>Response,Ac=e=>{if(Array.isArray(e))return e.map(n=>Ac(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Ac(r)}),t},wb=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)});function Is(e,t,n,r,i,o){return E(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,cR(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>lR(l,a,r))})})}function qn(e,t,n,r){return E(this,void 0,void 0,function*(){return Is(e,"GET",t,n,r)})}function rt(e,t,n,r,i){return E(this,void 0,void 0,function*(){return Is(e,"POST",t,r,i,n)})}function Ss(e,t,n,r,i){return E(this,void 0,void 0,function*(){return Is(e,"PUT",t,r,i,n)})}function Eb(e,t,n,r){return E(this,void 0,void 0,function*(){return Is(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Hi(e,t,n,r,i){return E(this,void 0,void 0,function*(){return Is(e,"DELETE",t,r,i,n)})}var xp,lR,cR,Rc=A(()=>{"use strict";ce();zn();Cs();xp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lR=(e,t,n)=>E(void 0,void 0,void 0,function*(){let r=yield _b();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{let o=e.status||500,s=i?.statusCode||o+"";t(new Ds(xp(i),o,s))}).catch(i=>{t(new Hn(xp(i),i))}):t(new Hn(xp(e),e))}),cR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(wb(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))}});var Oc,Db=A(()=>{"use strict";ce();zn();Oc=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return E(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ee(t))return{data:null,error:t};throw t}})}}});var Cb,Ap,Ib,Sb=A(()=>{"use strict";ce();zn();Db();Ap=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Cb]="BlobDownloadBuilder",this.promise=null}asStream(){return new Oc(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return E(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ee(t))return{data:null,error:t};throw t}})}};Cb=Symbol.toStringTag;Ib=Ap});var uR,Tb,Nc,Mb=A(()=>{"use strict";ce();zn();Rc();Cs();Sb();uR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Nc=class{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Bi(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return E(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Tb),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield(t=="PUT"?Ss:rt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ee(o))return{data:null,error:o};throw o}})}upload(t,n,r){return E(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return E(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l,c=Object.assign({upsert:Tb.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let f=yield Ss(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ee(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return E(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new In("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}update(t,n,r){return E(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return E(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}copy(t,n,r){return E(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return E(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield rt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return E(this,void 0,void 0,function*(){try{let i=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}download(t,n){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>qn(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Ib(l,this.shouldThrowOnError)}info(t){return E(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield qn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ac(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}exists(t){return E(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield Eb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r)&&r instanceof Hn){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return E(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}list(t,n,r){return E(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},uR),n),{prefix:t||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}listV2(t,n){return E(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}});var kc,Rp=A(()=>{"use strict";kc="2.87.1"});var Pc,Op=A(()=>{"use strict";Rp();Pc={"X-Client-Info":`storage-js/${kc}`}});var Fc,xb=A(()=>{"use strict";ce();Op();zn();Rc();Cs();Fc=class{constructor(t,n={},r,i){this.shouldThrowOnError=!1;let o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pc),n),this.fetch=Bi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return E(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(t);return{data:yield qn(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}getBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}createBucket(t){return E(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return E(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}emptyBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}deleteBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){let n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}});function dR(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function fR(e){return h(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function hR(e){let t=e.fetchImpl??globalThis.fetch;return{request(l){return h(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=dR(e.baseUrl,i,o),u=yield fR(e.auth),f=yield t(c,{method:r,headers:D(D(D({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield f.text(),d=(f.headers.get("content-type")||"").includes("application/json"),g=d&&p?JSON.parse(p):p;if(!f.ok){let v=d?g:void 0,_=v?.error;throw new Ts(_?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:_?.type,icebergCode:_?.code,details:v})}return{status:f.status,headers:f.headers,data:g}})}}}function Lc(e){return e.join("")}function zi(e){return e.join("")}var Ts,pR,gR,Ab,Rb=A(()=>{"use strict";Ts=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};pR=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return h(this,null,function*(){let t=e?{parent:Lc(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,t){return h(this,null,function*(){let n={namespace:e.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lc(e.namespace)}`})})}loadNamespaceMetadata(e){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lc(e.namespace)}`})).data.properties}})}namespaceExists(e){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lc(e.namespace)}`}),!0}catch(t){if(t instanceof Ts&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof Ts&&n.status===409)return;throw n}})}};gR=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return h(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return h(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(e){return h(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return h(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ts&&n.status===404)return!1;throw n}})}createTableIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof Ts&&n.status===409)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},Ab=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=hR({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new pR(this.client,t),this.tableOps=new gR(this.client,t,this.accessDelegation)}listNamespaces(e){return h(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return h(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return h(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return h(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return h(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return h(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return h(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return h(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}}});var qi,Np=A(()=>{"use strict";ce();Rb();Op();zn();Rc();Cs();qi=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pc),n),this.fetch=Bi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}listBuckets(t){return E(this,void 0,void 0,function*(){try{let n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);let r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield qn(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}deleteBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}from(t){if(!bb(t))throw new In("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new Ab({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>E(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>E(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var Wi,jc=A(()=>{"use strict";Rp();Wi={"X-Client-Info":`storage-js/${kc}`,"Content-Type":"application/json"}});function Re(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Gi,Wn,Ki,kp,Zi=A(()=>{"use strict";Gi=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};Wn=class extends Gi{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ki=class extends Gi{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}},kp=function(e){return e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",e}(kp||{})});var Gn,Ob,Vc,Nb,kb,Yi=A(()=>{"use strict";Gn=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ob=()=>Response,Vc=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nb=e=>Array.from(new Float32Array(e)),kb=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)}});function yR(e,t,n,r,i,o){return E(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,vR(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>mR(l,a,r))})})}function He(e,t,n,r,i){return E(this,void 0,void 0,function*(){return yR(e,"POST",t,r,i,n)})}var Pb,mR,vR,Uc=A(()=>{"use strict";ce();Zi();Yi();Pb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mR=(e,t,n)=>E(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";t(new Wn(Pb(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Wn(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Wn(a,i,s))}}else t(new Ki(Pb(e),e))}),vR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(Vc(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))}});var Ji,Pp=A(()=>{"use strict";ce();jc();Zi();Uc();Yi();Ji=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wi),n),this.fetch=Gn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return E(this,void 0,void 0,function*(){try{return{data:(yield He(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}getIndex(t,n){return E(this,void 0,void 0,function*(){try{return{data:yield He(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listIndexes(t){return E(this,void 0,void 0,function*(){try{return{data:yield He(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return E(this,void 0,void 0,function*(){try{return{data:(yield He(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}}});var Qi,Fp=A(()=>{"use strict";ce();jc();Zi();Uc();Yi();Qi=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wi),n),this.fetch=Gn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return E(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield He(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}getVectors(t){return E(this,void 0,void 0,function*(){try{return{data:yield He(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}listVectors(t){return E(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield He(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}queryVectors(t){return E(this,void 0,void 0,function*(){try{return{data:yield He(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}deleteVectors(t){return E(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield He(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}}});var Xi,Lp=A(()=>{"use strict";ce();jc();Zi();Uc();Yi();Xi=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wi),n),this.fetch=Gn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return E(this,void 0,void 0,function*(){try{return{data:(yield He(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}getBucket(t){return E(this,void 0,void 0,function*(){try{return{data:yield He(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}listBuckets(){return E(this,arguments,void 0,function*(t={}){try{return{data:yield He(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}deleteBucket(t){return E(this,void 0,void 0,function*(){try{return{data:(yield He(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}}});var eo,Ms,xs,Fb=A(()=>{"use strict";ce();Pp();Fp();Lp();eo=class extends Xi{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Ms(this.url,this.headers,t,this.fetch)}createBucket(t){let n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return E(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){let n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return E(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){let t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return E(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){let n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return E(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}},Ms=class extends Ji{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return E(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return E(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return E(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return E(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new xs(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},xs=class extends Qi{constructor(t,n,r,i,o){super(t,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return E(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return E(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return E(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return E(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return E(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var jp=A(()=>{"use strict";Fb();Lp();Pp();Fp();Zi();Yi()});var $c,Lb=A(()=>{"use strict";Mb();xb();Np();jp();$c=class extends Fc{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new Nc(this.url,this.headers,t,this.fetch)}get vectors(){return new eo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qi(this.url+"/iceberg",this.headers,this.fetch)}}});var jb=A(()=>{"use strict"});var Vb={};ho(Vb,{StorageAnalyticsClient:()=>qi,StorageApiError:()=>Ds,StorageClient:()=>$c,StorageError:()=>In,StorageUnknownError:()=>Hn,StorageVectorsApiError:()=>Wn,StorageVectorsClient:()=>eo,StorageVectorsError:()=>Gi,StorageVectorsErrorCode:()=>kp,StorageVectorsUnknownError:()=>Ki,VectorBucketApi:()=>Xi,VectorBucketScope:()=>Ms,VectorDataApi:()=>Qi,VectorIndexApi:()=>Ji,VectorIndexScope:()=>xs,isPlainObject:()=>Vc,isStorageError:()=>ee,isStorageVectorsError:()=>Re,normalizeToFloat32:()=>Nb,resolveFetch:()=>Gn,resolveResponse:()=>Ob,validateVectorDimension:()=>kb});var Ub=A(()=>{"use strict";Lb();Np();jb();zn();jp()});var $b=Ke(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.version=void 0;Bc.version="2.87.1"});var Bb=Ke(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.DEFAULT_REALTIME_OPTIONS=dt.DEFAULT_AUTH_OPTIONS=dt.DEFAULT_DB_OPTIONS=dt.DEFAULT_GLOBAL_OPTIONS=dt.DEFAULT_HEADERS=void 0;var _R=$b(),As="";typeof Deno<"u"?As="deno":typeof document<"u"?As="web":typeof navigator<"u"&&navigator.product==="ReactNative"?As="react-native":As="node";dt.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${As}/${_R.version}`};dt.DEFAULT_GLOBAL_OPTIONS={headers:dt.DEFAULT_HEADERS};dt.DEFAULT_DB_OPTIONS={schema:"public"};dt.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};dt.DEFAULT_REALTIME_OPTIONS={}});var Hb=Ke(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.fetchWithAuth=jt.resolveHeadersConstructor=jt.resolveFetch=void 0;var wR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);jt.resolveFetch=wR;var bR=()=>Headers;jt.resolveHeadersConstructor=bR;var ER=(e,t,n)=>{let r=(0,jt.resolveFetch)(n),i=(0,jt.resolveHeadersConstructor)();return(o,s)=>h(null,null,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};jt.fetchWithAuth=ER});var qb=Ke(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.isBrowser=void 0;Kn.uuid=DR;Kn.ensureTrailingSlash=zb;Kn.applySettingDefaults=IR;Kn.validateSupabaseUrl=SR;function DR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function zb(e){return e.endsWith("/")?e:e+"/"}var CR=()=>typeof window<"u";Kn.isBrowser=CR;function IR(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function SR(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var Hc,Vp=A(()=>{"use strict";Hc="2.87.1"});var Nr,zc,qc,Wb,Gb,Kb,Rs,Up,Zb,Yb,Wc=A(()=>{"use strict";Vp();Nr=30*1e3,zc=3,qc=zc*Nr,Wb="http://localhost:9999",Gb="supabase.auth.token",Kb={"X-Client-Info":`gotrue-js/${Hc}`},Rs="X-Supabase-Api-Version",Up={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yb=10*60*1e3});function T(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}function $p(e){return T(e)&&e.name==="AuthApiError"}function Bp(e){return T(e)&&e.name==="AuthSessionMissingError"}function Hp(e){return T(e)&&e.name==="AuthImplicitGrantRedirectError"}function Ns(e){return T(e)&&e.name==="AuthRetryableFetchError"}function TR(e){return T(e)&&e.name==="AuthWeakPasswordError"}var Sn,Os,ft,Vt,Oe,nn,Zn,Yn,to,kr,no,Jn,Pr=A(()=>{"use strict";Sn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};Os=class extends Sn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};ft=class extends Sn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Vt=class extends Sn{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},Oe=class extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};nn=class extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Zn=class extends Vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Yn=class extends Vt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};to=class extends Vt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},kr=class extends Vt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};no=class extends Vt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};Jn=class extends Vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}});function Qb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Gc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Gc[r]),t.queuedBits-=6}}function Xb(e,t,n){let r=MR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zp(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{RR(s,r,n)};for(let s=0;s<e.length;s+=1)Xb(e.charCodeAt(s),i,o);return t.join("")}function xR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}xR(r,t)}}function RR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Qn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Xb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function e0(e){let t=[];return AR(e,n=>t.push(n)),new Uint8Array(t)}function Tn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Qb(i,n,r)),Qb(null,n,r),t.join("")}var Gc,Jb,MR,Kc=A(()=>{"use strict";Gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jb=` 	
\r=`.split(""),MR=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jb.length;t+=1)e[Jb[t].charCodeAt(0)]=-2;for(let t=0;t<Gc.length;t+=1)e[Gc[t].charCodeAt(0)]=t;return e})()});function t0(e){return Math.round(Date.now()/1e3)+e}function n0(){return Symbol("auth-callback")}function r0(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}function Jc(e){let t=e.split(".");if(t.length!==3)throw new Jn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Zb.test(t[r]))throw new Jn("JWT not in base64url format");return{header:JSON.parse(zp(t[0])),payload:JSON.parse(zp(t[1])),signature:Qn(t[2]),raw:{header:t[0],payload:t[1]}}}function o0(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function s0(e,t){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function OR(e){return("0"+e.toString(16)).substr(-2)}function NR(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,OR).join("")}function kR(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function PR(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield kR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function jr(e,t,n=!1){return h(this,null,function*(){let r=NR(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Lr(e,`${t}-code-verifier`,i);let o=yield PR(r);return[o,r===o?"plain":"s256"]})}function a0(e){let t=e.headers.get(Rs);if(!t||!t.match(FR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function l0(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function c0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function Vr(e){if(!LR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qc(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u0(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function qp(e){return JSON.parse(JSON.stringify(e))}var xe,Fr,Zc,Yc,i0,Lr,Xn,Ne,ks,FR,LR,ro=A(()=>{"use strict";Wc();Pr();Kc();xe=()=>typeof window<"u"&&typeof document<"u",Fr={tested:!1,writable:!1},Zc=()=>{if(!xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fr.tested)return Fr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fr.tested=!0,Fr.writable=!0}catch{Fr.tested=!0,Fr.writable=!1}return Fr.writable};Yc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),i0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lr=(e,t,n)=>h(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Xn=(e,t)=>h(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Ne=(e,t)=>h(null,null,function*(){yield e.removeItem(t)}),ks=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};ks.promiseConstructor=Promise;FR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;LR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function d0(e){return h(this,null,function*(){var t;if(!i0(e))throw new kr(Ur(e),0);if(jR.includes(e.status))throw new kr(Ur(e),e.status);let n;try{n=yield e.json()}catch(o){throw new ft(Ur(o),o)}let r,i=a0(e);if(i&&i.getTime()>=Up["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new no(Ur(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Oe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new no(Ur(n),e.status,n.weak_password.reasons);throw new Os(Ur(n),e.status||500,r)})}function N(e,t,n,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Rs]||(o[Rs]=Up["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield UR(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function UR(e,t,n,r,i,o){return h(this,null,function*(){let s=VR(t,r,i,o),a;try{a=yield e(n,Object.assign({},s))}catch(l){throw console.error(l),new kr(Ur(l),0)}if(a.ok||(yield d0(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield d0(l)}})}function St(e){var t;let n=null;$R(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=t0(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wp(e){let t=St(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function f0(e){return{data:e,error:null}}function h0(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=an(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Gp(e){return e}function $R(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ur,jR,VR,Kp=A(()=>{"use strict";ce();Wc();ro();Pr();Ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jR=[502,503,504];VR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))}});var Ps,Zp=A(()=>{"use strict";Ps=["global","local","others"]});var er,Xc=A(()=>{"use strict";ce();Kp();ro();Zp();Pr();er=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Yc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(t,n=Ps[0]){if(Ps.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ps.join(", ")}`);try{return yield N(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(T(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield N(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:rn})}catch(i){if(T(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=an(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:h0,redirectTo:n?.redirectTo})}catch(n){if(T(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield N(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rn})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Gp});if(u.error)throw u.error;let f=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(T(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return h(this,null,function*(){Vr(t);try{return yield N(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rn})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){Vr(t);try{return yield N(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:rn})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){Vr(t);try{return yield N(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:rn})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){Vr(t.userId);try{let{data:n,error:r}=yield N(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(T(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){Vr(t.userId),Vr(t.id);try{return{data:yield N(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}})}_listOAuthClients(t){return h(this,null,function*(){var n,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield N(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Gp});if(u.error)throw u.error;let f=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(T(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(t){return h(this,null,function*(){try{return yield N(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}})}_getOAuthClient(t){return h(this,null,function*(){try{return yield N(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}})}_updateOAuthClient(t,n){return h(this,null,function*(){try{return yield N(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(T(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return h(this,null,function*(){try{return yield N(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(t){return h(this,null,function*(){try{return yield N(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}})}}});function Yp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var p0=A(()=>{"use strict"});function eu(e,t,n){return h(this,null,function*(){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Fs(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function m0(e,t,n){return h(this,null,function*(){var r;let i=(r=g0[e])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),t>=0?new Promise((s,a)=>{setTimeout(()=>{a(new Jp(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>h(null,null,function*(){return yield n()}));return g0[e]=o.catch(s=>h(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var tr,io,Fs,Jp,g0,Qp=A(()=>{"use strict";ro();tr={debug:!!(globalThis&&Zc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},io=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Fs=class extends io{},Jp=class extends io{};g0={}});function v0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var y0=A(()=>{"use strict"});function Xp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _0(e){return parseInt(e,16)}function w0(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function b0(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:f,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let d=Xp(e.address),g=u?`${u}://${r}`:r,v=e.statement?`${e.statement}
`:"",_=`${g} wants you to sign in with your Ethereum account:
${d}

${v}`,w=`URI: ${f}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let B=`
Resources:`;for(let I of c){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);B+=`
- ${I}`}w+=B}return`${_}
${w}`}var E0=A(()=>{"use strict"});function D0({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(eg(s)){if(o.rp.id!==s)return new ue({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function C0({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(eg(r)){if(n.rpId!==r)return new ue({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var ue,$r,I0=A(()=>{"use strict";tg();ue=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},$r=class extends ue{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}});function T0(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=an(e,["challenge","user","excludeCredentials"]),o=Qn(t).buffer,s=Object.assign(Object.assign({},n),{id:Qn(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Qn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function M0(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=an(e,["challenge","allowCredentials"]),i=Qn(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Qn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function x0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Tn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Tn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function A0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Tn(new Uint8Array(i.authenticatorData)),clientDataJSON:Tn(new Uint8Array(i.clientDataJSON)),signature:Tn(new Uint8Array(i.signature)),userHandle:i.userHandle?Tn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function S0(){var e,t;return!!(xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function HR(e){return h(this,null,function*(){try{let t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $r("Browser returned unexpected credential type",t)}:{data:null,error:new $r("Empty credential response",t)}}catch(t){return{data:null,error:D0({error:t,options:e})}}})}function zR(e){return h(this,null,function*(){try{let t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $r("Browser returned unexpected credential type",t)}:{data:null,error:new $r("Empty credential response",t)}}catch(t){return{data:null,error:C0({error:t,options:e})}}})}function tu(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=tu(a,s):r[o]=tu(s)}else r[o]=s}return r}function GR(e,t){return tu(qR,e,t||{})}function KR(e,t){return tu(WR,e,t||{})}var ng,BR,qR,WR,nu,tg=A(()=>{"use strict";ce();Kc();Pr();ro();I0();ng=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},BR=new ng;qR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},WR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};nu=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:c};let u=i??BR.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{let f=GR(l.webauthn.credential_options.publicKey,o?.create),{data:p,error:d}=yield HR({publicKey:f,signal:u});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:d}}case"request":{let f=KR(l.webauthn.credential_options.publicKey,o?.request),{data:p,error:d}=yield zR(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:u}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:d}}}}catch(l){return T(l)?{data:null,error:l}:{data:null,error:new ft("Unexpected error in challenge",l)}}})}_verify(i){return h(this,arguments,function*({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Sn("rpId is required for WebAuthn authentication")};try{if(!S0())return{data:null,error:new ft("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return T(l)?{data:null,error:l}:{data:null,error:new ft("Unexpected error in authenticate",l)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Sn("rpId is required for WebAuthn registration")};try{if(!S0())return{data:null,error:new ft("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:t});if(!l)return yield this.client.mfa.listFactors().then(p=>{var d;return(d=p.data)===null||d===void 0?void 0:d.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};let{data:u,error:f}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(l){return T(l)?{data:null,error:l}:{data:null,error:new ft("Unexpected error in register",l)}}})}}});function R0(e,t,n){return h(this,null,function*(){return yield n()})}var ZR,oo,YR,ru,rg=A(()=>{"use strict";Xc();Wc();Pr();Kp();ro();p0();Qp();y0();Vp();Kc();E0();tg();v0();ZR={url:Wb,storageKey:Gb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};oo={},YR=(()=>{class e{get jwks(){var n,r;return(r=(n=oo[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=oo[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},ZR),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&xe()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new er({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yc(s.fetch),this.lock=s.lock||R0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&xe()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=eu:this.lock=R0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nu(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Zc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Yp(this.memoryStorage)),xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hc}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r={},i="none";if(xe()&&(r=r0(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),xe()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Hp(s)){let c=(n=s.details)===null||n===void 0?void 0:n.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return T(r)?this._returnResult({error:r}):this._returnResult({error:new ft("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,i,o;try{let s=yield N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:St}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(T(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(n){return h(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:f,password:p,options:d}=n,g=null,v=null;this.flowType==="pkce"&&([g,v]=yield jr(this.storage,this.storageKey)),s=yield N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:f,password:p,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:v},xform:St})}else if("phone"in n){let{phone:f,password:p,options:d}=n;s=yield N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(i=d?.data)!==null&&i!==void 0?i:{},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:St})}else throw new Zn("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield Ne(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield Ne(this.storage,`${this.storageKey}-code-verifier`),T(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:l}=n;r=yield N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Wp})}else if("phone"in n){let{phone:s,password:a,options:l}=n;r=yield N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Wp})}else throw new Zn("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new nn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(T(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return h(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return h(this,null,function*(){var r,i,o,s,a,l,c,u,f,p,d;let g,v;if("message"in n)g=n.message,v=n.signature;else{let{chain:_,wallet:w,statement:B,options:I}=n,S;if(xe())if(typeof w=="object")S=w;else{let on=window;if("ethereum"in on&&typeof on.ethereum=="object"&&"request"in on.ethereum&&typeof on.ethereum.request=="function")S=on.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}let J=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),Ut=yield S.request({method:"eth_requestAccounts"}).then(on=>on).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ut||Ut.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ie=Xp(Ut[0]),Ee=(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Ee){let on=yield S.request({method:"eth_chainId"});Ee=_0(on)}let Mn={domain:J.host,address:ie,statement:B,uri:J.href,version:"1",chainId:Ee,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=I?.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=b0(Mn),v=yield S.request({method:"personal_sign",params:[w0(g),ie]})}try{let{data:_,error:w}=yield N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(d=n.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:St});if(w)throw w;if(!_||!_.session||!_.user){let B=new nn;return this._returnResult({data:{user:null,session:null},error:B})}return _.session&&(yield this._saveSession(_.session),yield this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:w})}catch(_){if(T(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}})}signInWithSolana(n){return h(this,null,function*(){var r,i,o,s,a,l,c,u,f,p,d,g;let v,_;if("message"in n)v=n.message,_=n.signature;else{let{chain:w,wallet:B,statement:I,options:S}=n,J;if(xe())if(typeof B=="object")J=B;else{let ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))J=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=B}let Ut=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in J&&J.signIn){let ie=yield J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:Ut.host,uri:Ut.href}),I?{statement:I}:null)),Ee;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")Ee=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)Ee=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ee&&"signature"in Ee&&(typeof Ee.signedMessage=="string"||Ee.signedMessage instanceof Uint8Array)&&Ee.signature instanceof Uint8Array)v=typeof Ee.signedMessage=="string"?Ee.signedMessage:new TextDecoder().decode(Ee.signedMessage),_=Ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${Ut.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${Ut.href}`,`Issued At: ${(o=(i=S?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=S?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(f=S?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(Ee=>`- ${Ee}`)]:[]].join(`
`);let ie=yield J.signMessage(new TextEncoder().encode(v),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=ie}}try{let{data:w,error:B}=yield N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Tn(_)},!((d=n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:St});if(B)throw B;if(!w||!w.session||!w.user){let I=new nn;return this._returnResult({data:{user:null,session:null},error:I})}return w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:B})}catch(w){if(T(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield Xn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:St});if(yield Ne(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new nn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield Ne(this.storage,`${this.storageKey}-code-verifier`),T(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,l=yield N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:St}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let f=new nn;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(T(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:l,options:c}=n,u=null,f=null;this.flowType==="pkce"&&([u,f]=yield jr(this.storage,this.storageKey));let{error:p}=yield N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:l,options:c}=n,{data:u,error:f}=yield N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new Zn("You must provide either an email or phone number.")}catch(l){if(yield Ne(this.storage,`${this.storageKey}-code-verifier`),T(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(n){return h(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:St});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(T(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(n){return h(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield jr(this.storage,this.storageKey));let u=yield N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:f0});return!((s=u.data)===null||s===void 0)&&s.url&&xe()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield Ne(this.storage,`${this.storageKey}-code-verifier`),T(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Oe;let{error:o}=yield N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(n){if(T(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield N(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:l}=yield N(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Zn("You must provide either an email or phone number and a type")}catch(r){if(T(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<qc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=yield Xn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Qc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=u0(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(n){return h(this,null,function*(){try{return n?yield N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:rn}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oe}:yield N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:rn})}))}catch(r){if(T(r))return Bp(r)&&(yield this._removeSession(),yield Ne(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Oe;let l=s.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=yield jr(this.storage,this.storageKey));let{data:f,error:p}=yield N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:rn});if(p)throw p;return l.user=f.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield Ne(this.storage,`${this.storageKey}-code-verifier`),T(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Oe;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Jc(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(n.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(n.access_token);if(c)throw c;s={access_token:n.access_token,refresh_token:n.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(T(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!n){let{data:a,error:l}=r;if(l)throw l;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Oe;let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(T(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!xe())throw new Yn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Yn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new to("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new to("No code detected.");let{data:I,error:S}=yield this._exchangeCodeForSession(n.code);if(S)throw S;let J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=n;if(!s||!l||!a||!u)throw new Yn("No session defined in URL");let f=Math.round(Date.now()/1e3),p=parseInt(l),d=f+p;c&&(d=parseInt(c));let g=d-f;g*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let v=d-p;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,f);let{data:_,error:w}=yield this._getUser(s);if(w)throw w;let B={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:d,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:n.type},error:null})}catch(i){if(T(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield Xn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,n);if(l&&!($p(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return n!=="others"&&(yield this._removeSession(),yield Ne(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=n0(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield jr(this.storage,this.storageKey,!0));try{return yield N(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield Ne(this.storage,`${this.storageKey}-code-verifier`),T(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return h(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,f;let{data:p,error:d}=s;if(d)throw d;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield N(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})}));if(o)throw o;return xe()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(T(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}})}linkIdentityIdToken(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:f}=n,p=yield N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:St}),{data:d,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new nn}):(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:g}))}catch(o){if(yield Ne(this.storage,`${this.storageKey}-code-verifier`),T(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield N(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield s0(o=>h(this,null,function*(){return o>0&&(yield o0(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:St})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Ns(s)&&Date.now()+a-i<Nr})}catch(i){if(this._debug(r,"error",i),T(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),xe()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Xn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Lr(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:Qc()}else if(o&&!o.user&&!o.user){let a=yield Xn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Ne(this.storage,this.storageKey+"-user"),yield Lr(this.storage,this.storageKey,o)):o.user=Qc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qc;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${qc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Ns(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,i;if(!n)throw new Oe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ks;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Oe;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),T(s)){let a={data:null,error:s};return Ns(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(n,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Ne(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Lr(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=qp(o);yield Lr(this.storage,this.storageKey,s)}else{let o=qp(r);yield Lr(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Ne(this.storage,this.storageKey),yield Ne(this.storage,this.storageKey+"-code-verifier"),yield Ne(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ne(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&xe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Nr}ms, refresh threshold is ${zc} ticks`),o<=zc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof io)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!xe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield jr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield N(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:c,error:u}=yield N(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?x0(n.webauthn.credential_response):A0(n.webauthn.credential_response)})}:{code:n.code}),{data:l,error:c}=yield N(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield N(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:T0(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:M0(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){var n;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var n,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Jc(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield N(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oe})}))}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Oe});let a=yield N(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&xe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(T(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Oe});let a=yield N(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&xe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(T(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?yield N(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Oe})}))}catch(n){if(T(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield N(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oe})}))}catch(r){if(T(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return h(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+Yb>s)return o;let{data:a,error:l}=yield N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===n),!o)?null:o})}getClaims(i){return h(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:v,error:_}=yield this.getSession();if(_||!v.session)return this._returnResult({data:null,error:_});o=v.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=Jc(o);r?.allowExpired||l0(a.exp);let f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){let{error:v}=yield this.getUser(o);if(v)throw v;return{data:{claims:a,header:s,signature:l},error:null}}let p=c0(s.alg),d=yield crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,d,l,e0(`${c}.${u}`))))throw new Jn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(T(o))return this._returnResult({data:null,error:o});throw o}})}}return e.nextInstanceID={},e})(),ru=YR});var JR,O0,N0=A(()=>{"use strict";Xc();JR=er,O0=JR});var QR,k0,P0=A(()=>{"use strict";rg();QR=ru,k0=QR});var ig={};ho(ig,{AuthAdminApi:()=>O0,AuthApiError:()=>Os,AuthClient:()=>k0,AuthError:()=>Sn,AuthImplicitGrantRedirectError:()=>Yn,AuthInvalidCredentialsError:()=>Zn,AuthInvalidJwtError:()=>Jn,AuthInvalidTokenResponseError:()=>nn,AuthPKCEGrantCodeExchangeError:()=>to,AuthRetryableFetchError:()=>kr,AuthSessionMissingError:()=>Oe,AuthUnknownError:()=>ft,AuthWeakPasswordError:()=>no,CustomAuthError:()=>Vt,GoTrueAdminApi:()=>er,GoTrueClient:()=>ru,NavigatorLockAcquireTimeoutError:()=>Fs,SIGN_OUT_SCOPES:()=>Ps,isAuthApiError:()=>$p,isAuthError:()=>T,isAuthImplicitGrantRedirectError:()=>Hp,isAuthRetryableFetchError:()=>Ns,isAuthSessionMissingError:()=>Bp,isAuthWeakPasswordError:()=>TR,lockInternals:()=>tr,navigatorLock:()=>eu,processLock:()=>m0});var og=A(()=>{"use strict";Xc();rg();N0();P0();Zp();Pr();Qp()});var F0=Ke(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.SupabaseAuthClient=void 0;var XR=(og(),ot(ig)),sg=class extends XR.AuthClient{constructor(t){super(t)}};iu.SupabaseAuthClient=sg});var cg=Ke(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});var eO=(Yh(),ot(Zh)),tO=hp(),nO=(Mp(),ot(Tp)),rO=(Ub(),ot(Vb)),ou=Bb(),iO=Hb(),L0=qb(),oO=F0(),ag=class{constructor(t,n,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=n;let a=(0,L0.validateSupabaseUrl)(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:ou.DEFAULT_DB_OPTIONS,realtime:ou.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},ou.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:ou.DEFAULT_GLOBAL_OPTIONS},u=(0,L0.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,iO.fetchWithAuth)(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new tO.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new rO.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new eO.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var t,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},f,p){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oO.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),f),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nO.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};lg.default=ag});var U0=Ke(ae=>{"use strict";var sO=ae&&ae.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),j0=ae&&ae.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&sO(t,e,n)},V0=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ae,"__esModule",{value:!0});ae.createClient=ae.SupabaseClient=ae.FunctionRegion=ae.FunctionsError=ae.FunctionsRelayError=ae.FunctionsFetchError=ae.FunctionsHttpError=ae.PostgrestError=void 0;var aO=V0(cg());j0((og(),ot(ig)),ae);var lO=hp();Object.defineProperty(ae,"PostgrestError",{enumerable:!0,get:function(){return lO.PostgrestError}});var Ls=(Yh(),ot(Zh));Object.defineProperty(ae,"FunctionsHttpError",{enumerable:!0,get:function(){return Ls.FunctionsHttpError}});Object.defineProperty(ae,"FunctionsFetchError",{enumerable:!0,get:function(){return Ls.FunctionsFetchError}});Object.defineProperty(ae,"FunctionsRelayError",{enumerable:!0,get:function(){return Ls.FunctionsRelayError}});Object.defineProperty(ae,"FunctionsError",{enumerable:!0,get:function(){return Ls.FunctionsError}});Object.defineProperty(ae,"FunctionRegion",{enumerable:!0,get:function(){return Ls.FunctionRegion}});j0((Mp(),ot(Tp)),ae);var cO=cg();Object.defineProperty(ae,"SupabaseClient",{enumerable:!0,get:function(){return V0(cO).default}});var uO=(e,t,n)=>new aO.default(e,t,n);ae.createClient=uO;function dO(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}dO()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function Ru(e,t){return Object.is(e,t)}var De=null,Ws=!1,Ou=1,ht=Symbol("SIGNAL");function H(e){let t=De;return De=e,t}function Nu(){return De}var go={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mo(e){if(Ws)throw new Error("");if(De===null)return;De.consumerOnSignalRead(e);let t=De.nextProducerIndex++;if(Ys(De),t<De.producerNode.length&&De.producerNode[t]!==e&&po(De)){let n=De.producerNode[t];Zs(n,De.producerIndexOfThis[t])}De.producerNode[t]!==e&&(De.producerNode[t]=e,De.producerIndexOfThis[t]=po(De)?Tg(e,De,t):0),De.producerLastReadVersion[t]=e.version}function Sg(){Ou++}function ku(e){if(!(po(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ou)){if(!e.producerMustRecompute(e)&&!ju(e)){Au(e);return}e.producerRecomputeValue(e),Au(e)}}function Pu(e){if(e.liveConsumerNode===void 0)return;let t=Ws;Ws=!0;try{for(let n of e.liveConsumerNode)n.dirty||IE(n)}finally{Ws=t}}function Fu(){return De?.consumerAllowSignalWrites!==!1}function IE(e){e.dirty=!0,Pu(e),e.consumerMarkedDirty?.(e)}function Au(e){e.dirty=!1,e.lastCleanEpoch=Ou}function Ks(e){return e&&(e.nextProducerIndex=0),H(e)}function Lu(e,t){if(H(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(po(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Zs(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ju(e){Ys(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ku(n),r!==n.version))return!0}return!1}function Vu(e){if(Ys(e),po(e))for(let t=0;t<e.producerNode.length;t++)Zs(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Tg(e,t,n){if(Mg(e),e.liveConsumerNode.length===0&&xg(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Tg(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Zs(e,t){if(Mg(e),e.liveConsumerNode.length===1&&xg(e))for(let r=0;r<e.producerNode.length;r++)Zs(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ys(i),i.producerIndexOfThis[r]=t}}function po(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ys(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Mg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function xg(e){return e.producerNode!==void 0}function Uu(e,t){let n=Object.create(SE);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(ku(n),mo(n),n.value===Gs)throw n.error;return n.value};return r[ht]=n,r}var Mu=Symbol("UNSET"),xu=Symbol("COMPUTING"),Gs=Symbol("ERRORED"),SE=q(D({},go),{value:Mu,dirty:!0,error:null,equal:Ru,kind:"computed",producerMustRecompute(e){return e.value===Mu||e.value===xu},producerRecomputeValue(e){if(e.value===xu)throw new Error("Detected cycle in computations.");let t=e.value;e.value=xu;let n=Ks(e),r,i=!1;try{r=e.computation(),H(null),i=t!==Mu&&t!==Gs&&r!==Gs&&e.equal(t,r)}catch(o){r=Gs,e.error=o}finally{Lu(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function TE(){throw new Error}var Ag=TE;function Rg(e){Ag(e)}function $u(e){Ag=e}var ME=null;function Bu(e,t){let n=Object.create(Js);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(mo(n),n.value);return r[ht]=n,r}function vo(e,t){Fu()||Rg(e),e.equal(e.value,t)||(e.value=t,xE(e))}function Hu(e,t){Fu()||Rg(e),vo(e,t(e.value))}var Js=q(D({},go),{equal:Ru,value:void 0,kind:"signal"});function xE(e){e.version++,Sg(),Pu(e),ME?.()}function zu(e){let t=H(null);try{return e()}finally{H(t)}}var qu;function yo(){return qu}function sn(e){let t=qu;return qu=e,t}var Qs=Symbol("NotFound");function F(e){return typeof e=="function"}function Br(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Xs=Br(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function _o(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ge=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){t=o instanceof Xs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Og(o)}catch(s){t=t??[],s instanceof Xs?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Xs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Og(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&_o(n,t)}remove(t){let{_finalizers:n}=this;n&&_o(n,t),t instanceof e&&t._removeParent(this)}};ge.EMPTY=(()=>{let e=new ge;return e.closed=!0,e})();var Wu=ge.EMPTY;function ea(e){return e instanceof ge||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function Og(e){F(e)?e():e.unsubscribe()}var Tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hr={setTimeout(e,t,...n){let{delegate:r}=Hr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Hr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ta(e){Hr.setTimeout(()=>{let{onUnhandledError:t}=Tt;if(t)t(e);else throw e})}function wo(){}var Ng=Gu("C",void 0,void 0);function kg(e){return Gu("E",void 0,e)}function Pg(e){return Gu("N",e,void 0)}function Gu(e,t,n){return{kind:e,value:t,error:n}}var rr=null;function zr(e){if(Tt.useDeprecatedSynchronousErrorHandling){let t=!rr;if(t&&(rr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=rr;if(rr=null,n)throw r}}else e()}function Fg(e){Tt.useDeprecatedSynchronousErrorHandling&&rr&&(rr.errorThrown=!0,rr.error=e)}var ir=class extends ge{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ea(t)&&t.add(this)):this.destination=PE}static create(t,n,r){return new qr(t,n,r)}next(t){this.isStopped?Zu(Pg(t),this):this._next(t)}error(t){this.isStopped?Zu(kg(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Zu(Ng,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NE=Function.prototype.bind;function Ku(e,t){return NE.call(e,t)}var Yu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){na(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){na(r)}else na(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){na(n)}}},qr=class extends ir{constructor(t,n,r){super();let i;if(F(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Tt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ku(t.next,o),error:t.error&&Ku(t.error,o),complete:t.complete&&Ku(t.complete,o)}):i=t}this.destination=new Yu(i)}};function na(e){Tt.useDeprecatedSynchronousErrorHandling?Fg(e):ta(e)}function kE(e){throw e}function Zu(e,t){let{onStoppedNotification:n}=Tt;n&&Hr.setTimeout(()=>n(e,t))}var PE={closed:!0,next:wo,error:kE,complete:wo};var Wr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function st(e){return e}function Ju(...e){return Qu(e)}function Qu(e){return e.length===0?st:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Q=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=LE(n)?n:new qr(n,r,i);return zr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Lg(r),new r((i,o)=>{let s=new qr({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wr](){return this}pipe(...n){return Qu(n)(this)}toPromise(n){return n=Lg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Lg(e){var t;return(t=e??Tt.Promise)!==null&&t!==void 0?t:Promise}function FE(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function LE(e){return e&&e instanceof ir||FE(e)&&ea(e)}function Xu(e){return F(e?.lift)}function K(e){return t=>{if(Xu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(e,t,n,r,i){return new ed(e,t,n,r,i)}var ed=class extends ir{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Gr(){return K((e,t)=>{let n=null;e._refCount++;let r=z(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Kr=class extends Q{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ge;let n=this.getSubject();t.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ge.EMPTY)}return t}refCount(){return Gr()(this)}};var jg=Br(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class e extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ra(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jg}next(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wu:(this.currentObservers=null,o.push(n),new ge(()=>{this.currentObservers=null,_o(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return e.create=(t,n)=>new ra(t,n),e})(),ra=class extends Ce{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Wu}};var Ie=class extends Ce{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ze=new Q(e=>e.complete());function Vg(e){return e&&F(e.schedule)}function Ug(e){return e[e.length-1]}function ia(e){return F(Ug(e))?e.pop():void 0}function xn(e){return Vg(Ug(e))?e.pop():void 0}ce();var ua=e=>e&&typeof e.length=="number"&&typeof e!="function";function da(e){return F(e?.then)}function fa(e){return F(e[Wr])}function ha(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function pa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $E(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ga=$E();function ma(e){return F(e?.[ga])}ce();function va(e){return la(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield $t(n.read());if(i)return yield $t(void 0);yield yield $t(r)}}finally{n.releaseLock()}})}function ya(e){return F(e?.getReader)}function me(e){if(e instanceof Q)return e;if(e!=null){if(fa(e))return BE(e);if(ua(e))return HE(e);if(da(e))return zE(e);if(ha(e))return um(e);if(ma(e))return qE(e);if(ya(e))return WE(e)}throw pa(e)}function BE(e){return new Q(t=>{let n=e[Wr]();if(F(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HE(e){return new Q(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function zE(e){return new Q(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ta)})}function qE(e){return new Q(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function um(e){return new Q(t=>{GE(e,t).catch(n=>t.error(n))})}function WE(e){return um(va(e))}function GE(e,t){var n,r,i,o;return E(this,void 0,void 0,function*(){try{for(n=ca(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ye(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function _a(e,t=0){return K((n,r)=>{n.subscribe(z(r,i=>Ye(r,e,()=>r.next(i),t),()=>Ye(r,e,()=>r.complete(),t),i=>Ye(r,e,()=>r.error(i),t)))})}function wa(e,t=0){return K((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function dm(e,t){return me(e).pipe(wa(t),_a(t))}function fm(e,t){return me(e).pipe(wa(t),_a(t))}function hm(e,t){return new Q(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function pm(e,t){return new Q(n=>{let r;return Ye(n,t,()=>{r=e[ga](),Ye(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function ba(e,t){if(!e)throw new Error("Iterable cannot be null");return new Q(n=>{Ye(n,t,()=>{let r=e[Symbol.asyncIterator]();Ye(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gm(e,t){return ba(va(e),t)}function mm(e,t){if(e!=null){if(fa(e))return dm(e,t);if(ua(e))return hm(e,t);if(da(e))return fm(e,t);if(ha(e))return ba(e,t);if(ma(e))return pm(e,t);if(ya(e))return gm(e,t)}throw pa(e)}function de(e,t){return t?mm(e,t):me(e)}function L(...e){let t=xn(e);return de(e,t)}function Zr(e,t){let n=F(e)?e:()=>e,r=i=>i.error(n());return new Q(t?i=>t.schedule(r,0,i):r)}function id(e){return!!e&&(e instanceof Q||F(e.lift)&&F(e.subscribe))}var ln=Br(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function W(e,t){return K((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:KE}=Array;function ZE(e,t){return KE(t)?e(...t):e(t)}function Ea(e){return W(t=>ZE(e,t))}var{isArray:YE}=Array,{getPrototypeOf:JE,prototype:QE,keys:XE}=Object;function Da(e){if(e.length===1){let t=e[0];if(YE(t))return{args:t,keys:null};if(eD(t)){let n=XE(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function eD(e){return e&&typeof e=="object"&&JE(e)===QE}function Ca(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ia(...e){let t=xn(e),n=ia(e),{args:r,keys:i}=Da(e);if(r.length===0)return de([],t);let o=new Q(tD(r,t,i?s=>Ca(i,s):st));return n?o.pipe(Ea(n)):o}function tD(e,t,n=st){return r=>{vm(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)vm(t,()=>{let c=de(e[l],t),u=!1;c.subscribe(z(r,f=>{o[l]=f,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vm(e,t,n){e?Ye(n,e,t):t()}function ym(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,f=!1,p=()=>{f&&!l.length&&!c&&t.complete()},d=v=>c<r?g(v):l.push(v),g=v=>{o&&t.next(v),c++;let _=!1;me(n(v,u++)).subscribe(z(t,w=>{i?.(w),o?d(w):t.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){let w=l.shift();s?Ye(t,s,()=>g(w)):g(w)}p()}catch(w){t.error(w)}}))};return e.subscribe(z(t,d,()=>{f=!0,p()})),()=>{a?.()}}function Se(e,t,n=1/0){return F(t)?Se((r,i)=>W((o,s)=>t(r,o,i,s))(me(e(r,i))),n):(typeof t=="number"&&(n=t),K((r,i)=>ym(r,i,e,n)))}function _m(e=1/0){return Se(st,e)}function wm(){return _m(1)}function Yr(...e){return wm()(de(e,xn(e)))}function Sa(e){return new Q(t=>{me(e()).subscribe(t)})}function od(...e){let t=ia(e),{args:n,keys:r}=Da(e),i=new Q(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let f=!1;me(n[u]).subscribe(z(o,p=>{f||(f=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?Ca(r,a):a),o.complete())}))}});return t?i.pipe(Ea(t)):i}function Mt(e,t){return K((n,r)=>{let i=0;n.subscribe(z(r,o=>e.call(t,o,i++)&&r.next(o)))})}function An(e){return K((t,n)=>{let r=null,i=!1,o;r=t.subscribe(z(n,void 0,void 0,s=>{o=me(e(s,An(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function bm(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(z(s,u=>{let f=c++;l=a?e(l,u,f):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Jr(e,t){return F(t)?Se(e,t,1):Se(e,1)}function Rn(e){return K((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function cn(e){return e<=0?()=>Ze:K((t,n)=>{let r=0;t.subscribe(z(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Ta(e=nD){return K((t,n)=>{let r=!1;t.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function nD(){return new ln}function bo(e){return K((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function un(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Mt((i,o)=>e(i,o,r)):st,cn(1),n?Rn(t):Ta(()=>new ln))}function Qr(e){return e<=0?()=>Ze:K((t,n)=>{let r=[];t.subscribe(z(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sd(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Mt((i,o)=>e(i,o,r)):st,Qr(1),n?Rn(t):Ta(()=>new ln))}function ad(e,t){return K(bm(e,t,arguments.length>=2,!0))}function ld(...e){let t=xn(e);return K((n,r)=>{(t?Yr(e,n,t):Yr(e,n)).subscribe(r)})}function xt(e,t){return K((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(z(r,l=>{i?.unsubscribe();let c=0,u=o++;me(e(l,u)).subscribe(i=z(r,f=>r.next(t?t(l,f,u,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function cd(e){return K((t,n)=>{me(e).subscribe(z(n,()=>n.complete(),wo)),!n.closed&&t.subscribe(n)})}function ke(e,t,n){let r=F(e)||t||n?{next:e,error:t,complete:n}:e;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):st}var cv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",M=class extends Error{code;constructor(t,n){super(iD(t,n)),this.code=t}};function rD(e){return`NG0${Math.abs(e)}`}function iD(e,t){return`${rD(e)}${t?": "+t:""}`}var uv=Symbol("InputSignalNode#UNSET"),oD=q(D({},Js),{transformFn:void 0,applyValueToInputSignal(e,t){vo(e,t)}});function dv(e,t){let n=Object.create(oD);n.value=e,n.transformFn=t?.transform;function r(){if(mo(n),n.value===uv){let i=null;throw new M(-950,i)}return n.value}return r[ht]=n,r}function ko(e){return{toString:e}.toString()}var Ma="__parameters__";function sD(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function fv(e,t,n){return ko(()=>{let r=sD(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let f=l.hasOwnProperty(Ma)?l[Ma]:Object.defineProperty(l,Ma,{value:[]})[Ma];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Do=globalThis;function ne(e){for(let t in e)if(e[t]===ne)return t;throw Error("Could not find renamed property on target object.")}function aD(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Qe(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Qe).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Em(e,t){return e?t?`${e} ${t}`:e:t||""}var lD=ne({__forward_ref__:ne});function Kt(e){return e.__forward_ref__=Kt,e.toString=function(){return Qe(this())},e}function ze(e){return hv(e)?e():e}function hv(e){return typeof e=="function"&&e.hasOwnProperty(lD)&&e.__forward_ref__===Kt}function O(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vr(e){return{providers:e.providers||[],imports:e.imports||[]}}function al(e){return Dm(e,gv)||Dm(e,mv)}function pv(e){return al(e)!==null}function Dm(e,t){return e.hasOwnProperty(t)?e[t]:null}function cD(e){let t=e&&(e[gv]||e[mv]);return t||null}function Cm(e){return e&&(e.hasOwnProperty(Im)||e.hasOwnProperty(uD))?e[Im]:null}var gv=ne({\u0275prov:ne}),Im=ne({\u0275inj:ne}),mv=ne({ngInjectableDef:ne}),uD=ne({ngInjectorDef:ne}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vv(e){return e&&!!e.\u0275providers}var dD=ne({\u0275cmp:ne}),fD=ne({\u0275dir:ne}),hD=ne({\u0275pipe:ne}),pD=ne({\u0275mod:ne}),Pa=ne({\u0275fac:ne}),So=ne({__NG_ELEMENT_ID__:ne}),Sm=ne({__NG_ENV_ID__:ne});function ri(e){return typeof e=="string"?e:e==null?"":String(e)}function gD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ri(e)}function yv(e,t){throw new M(-200,e)}function hf(e,t){throw new M(-201,!1)}var U=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(U||{}),Id;function _v(){return Id}function Je(e){let t=Id;return Id=e,t}function wv(e,t,n){let r=al(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&U.Optional)return null;if(t!==void 0)return t;hf(e,"Injector")}var mD={},ar=mD,Sd="__NG_DI_FLAG__",Fa=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Qs:ar,r)}},La="ngTempTokenPath",vD="ngTokenPath",yD=/\n/gm,_D="\u0275",Tm="__source";function wD(e,t=U.Default){if(yo()===void 0)throw new M(-203,!1);if(yo()===null)return wv(e,void 0,t);{let n=yo(),r;return n instanceof Fa?r=n.injector:r=n,r.get(e,t&U.Optional?null:void 0,t)}}function P(e,t=U.Default){return(_v()||wD)(ze(e),t)}function C(e,t=U.Default){return P(e,ll(t))}function ll(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Td(e){let t=[];for(let n=0;n<e.length;n++){let r=ze(e[n]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=U.Default;for(let s=0;s<r.length;s++){let a=r[s],l=bD(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(P(i,o))}else t.push(P(r))}return t}function bv(e,t){return e[Sd]=t,e.prototype[Sd]=t,e}function bD(e){return e[Sd]}function ED(e,t,n,r){let i=e[La];throw t[Tm]&&i.unshift(t[Tm]),e.message=DD(`
`+e.message,i,n,r),e[vD]=i,e[La]=null,e}function DD(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==_D?e.slice(2):e;let i=Qe(t);if(Array.isArray(t))i=t.map(Qe).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Qe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(yD,`
  `)}`}var CD=bv(fv("Optional"),8);var ID=bv(fv("SkipSelf"),4);function cr(e,t){let n=e.hasOwnProperty(Pa);return n?e[Pa]:null}function pf(e,t){e.forEach(n=>Array.isArray(n)?pf(n,t):t(n))}function Ev(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ja(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function SD(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function TD(e,t,n){let r=Po(e,t);return r>=0?e[r|1]=n:(r=~r,SD(e,r,t,n)),r}function ud(e,t){let n=Po(e,t);if(n>=0)return e[n|1]}function Po(e,t){return MD(e,t,1)}function MD(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var ur={},pt=[],To=new R(""),Dv=new R("",-1),Cv=new R(""),Va=class{get(t,n=ar){if(n===ar){let r=new Error(`NullInjectorError: No provider for ${Qe(t)}!`);throw r.name="NullInjectorError",r}return n}};function Iv(e,t){let n=e[pD]||null;if(!n&&t===!0)throw new Error(`Type ${Qe(e)} does not have '\u0275mod' property.`);return n}function ii(e){return e[dD]||null}function xD(e){return e[fD]||null}function AD(e){return e[hD]||null}function Sv(e){return{\u0275providers:e}}function RD(...e){return{\u0275providers:Tv(!0,e),\u0275fromNgModule:!0}}function Tv(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return pf(t,s=>{let a=s;Md(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Mv(i,o),n}function Mv(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];gf(i,o=>{t(o,r)})}}function Md(e,t,n,r){if(e=ze(e),!e)return!1;let i=null,o=Cm(e),s=!o&&ii(e);if(!o&&!s){let l=e.ngModule;if(o=Cm(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Md(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{pf(o.imports,u=>{Md(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Mv(c,t)}if(!a){let c=cr(i)||(()=>new i);t({provide:i,useFactory:c,deps:pt},i),t({provide:Cv,useValue:i,multi:!0},i),t({provide:To,useValue:()=>P(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;gf(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function gf(e,t){for(let n of e)vv(n)&&(n=n.\u0275providers),Array.isArray(n)?gf(n,t):t(n)}var OD=ne({provide:String,useValue:ne});function xv(e){return e!==null&&typeof e=="object"&&OD in e}function ND(e){return!!(e&&e.useExisting)}function kD(e){return!!(e&&e.useFactory)}function oi(e){return typeof e=="function"}function PD(e){return!!e.useClass}var cl=new R(""),Aa={},Mm={},dd;function mf(){return dd===void 0&&(dd=new Va),dd}var vt=class{},Mo=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ad(t,s=>this.processProvider(s)),this.records.set(Dv,Xr(void 0,this)),i.has("environment")&&this.records.set(vt,Xr(void 0,this));let o=this.records.get(cl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cv,pt,U.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Qs:ar,r)}destroy(){Co(this),this._destroyed=!0;let t=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(t)}}onDestroy(t){return Co(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Co(this);let n=sn(this),r=Je(void 0),i;try{return t()}finally{sn(n),Je(r)}}get(t,n=ar,r=U.Default){if(Co(this),t.hasOwnProperty(Sm))return t[Sm](this);r=ll(r);let i,o=sn(this),s=Je(void 0);try{if(!(r&U.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=UD(t)&&al(t);c&&this.injectableDefInScope(c)?l=Xr(xd(t),Aa):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&U.Self?mf():this.parent;return n=r&U.Optional&&n===ar?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[La]=a[La]||[]).unshift(Qe(t)),o)throw a;return ED(a,t,"R3InjectorError",this.source)}else throw a}finally{Je(s),sn(o)}}resolveInjectorInitializers(){let t=H(null),n=sn(this),r=Je(void 0),i;try{let o=this.get(To,pt,U.Self);for(let s of o)s()}finally{sn(n),Je(r),H(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Qe(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ze(t);let n=oi(t)?t:ze(t&&t.provide),r=LD(t);if(!oi(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Xr(void 0,Aa,!0),i.factory=()=>Td(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=H(null);try{return n.value===Mm?yv(Qe(t)):n.value===Aa&&(n.value=Mm,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&VD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{H(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ze(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function xd(e){let t=al(e),n=t!==null?t.factory:cr(e);if(n!==null)return n;if(e instanceof R)throw new M(204,!1);if(e instanceof Function)return FD(e);throw new M(204,!1)}function FD(e){if(e.length>0)throw new M(204,!1);let n=cD(e);return n!==null?()=>n.factory(e):()=>new e}function LD(e){if(xv(e))return Xr(void 0,e.useValue);{let t=Av(e);return Xr(t,Aa)}}function Av(e,t,n){let r;if(oi(e)){let i=ze(e);return cr(i)||xd(i)}else if(xv(e))r=()=>ze(e.useValue);else if(kD(e))r=()=>e.useFactory(...Td(e.deps||[]));else if(ND(e))r=(i,o)=>P(ze(e.useExisting),o!==void 0&&o&U.Optional?U.Optional:void 0);else{let i=ze(e&&(e.useClass||e.provide));if(jD(e))r=()=>new i(...Td(e.deps));else return cr(i)||xd(i)}return r}function Co(e){if(e.destroyed)throw new M(205,!1)}function Xr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function jD(e){return!!e.deps}function VD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function UD(e){return typeof e=="function"||typeof e=="object"&&e instanceof R}function Ad(e,t){for(let n of e)Array.isArray(n)?Ad(n,t):n&&vv(n)?Ad(n.\u0275providers,t):t(n)}function Ot(e,t){let n;e instanceof Mo?(Co(e),n=e):n=new Fa(e);let r,i=sn(n),o=Je(void 0);try{return t()}finally{sn(i),Je(o)}}function $D(){return _v()!==void 0||yo()!=null}function BD(e){return typeof e=="function"}var gn=0,G=1,j=2,qe=3,Rt=4,Nt=5,Ua=6,$a=7,Xe=8,si=9,dn=10,he=11,xo=12,xm=13,pi=14,Ht=15,ai=16,ei=17,li=18,ul=19,Rv=20,On=21,fd=22,Ba=23,gt=24,hd=25,et=26,Ov=1;var dr=7,Ha=8,za=9,mt=10;function Nn(e){return Array.isArray(e)&&typeof e[Ov]=="object"}function mn(e){return Array.isArray(e)&&e[Ov]===!0}function vf(e){return(e.flags&4)!==0}function gi(e){return e.componentOffset>-1}function dl(e){return(e.flags&1)===1}function zt(e){return!!e.template}function qa(e){return(e[j]&512)!==0}function mi(e){return(e[j]&256)===256}var Rd=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Nv(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var vi=(()=>{let e=()=>kv;return e.ngInherit=!0,e})();function kv(e){return e.type.prototype.ngOnChanges&&(e.setInput=zD),HD}function HD(){let e=Fv(this),t=e?.current;if(t){let n=e.previous;if(n===ur)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function zD(e,t,n,r,i){let o=this.declaredInputs[r],s=Fv(e)||qD(e,{previous:ur,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Rd(c&&c.currentValue,n,l===ur),Nv(e,t,i,n)}var Pv="__ngSimpleChanges__";function Fv(e){return e[Pv]||null}function qD(e,t){return e[Pv]=t}var Am=null;var oe=function(e,t=null,n){Am?.(e,t,n)},WD="svg",GD="math";function qt(e){for(;Array.isArray(e);)e=e[gn];return e}function Lv(e,t){return qt(t[e])}function Zt(e,t){return qt(t[e.index])}function jv(e,t){return e.data[t]}function yf(e,t){return e[t]}function KD(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Wt(e,t){let n=t[e];return Nn(n)?n:n[gn]}function _f(e){return(e[j]&128)===128}function ZD(e){return mn(e[qe])}function ci(e,t){return t==null?null:e[t]}function Vv(e){e[ei]=0}function Uv(e){e[j]&1024||(e[j]|=1024,_f(e)&&hl(e))}function YD(e,t){for(;e>0;)t=t[pi],e--;return t}function fl(e){return!!(e[j]&9216||e[gt]?.dirty)}function Od(e){e[dn].changeDetectionScheduler?.notify(8),e[j]&64&&(e[j]|=1024),fl(e)&&hl(e)}function hl(e){e[dn].changeDetectionScheduler?.notify(0);let t=fr(e);for(;t!==null&&!(t[j]&8192||(t[j]|=8192,!_f(t)));)t=fr(t)}function $v(e,t){if(mi(e))throw new M(911,!1);e[On]===null&&(e[On]=[]),e[On].push(t)}function JD(e,t){if(e[On]===null)return;let n=e[On].indexOf(t);n!==-1&&e[On].splice(n,1)}function fr(e){let t=e[qe];return mn(t)?t[qe]:t}function Bv(e){return e[$a]??=[]}function Hv(e){return e.cleanup??=[]}var $={lFrame:Qv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Nd=!1;function QD(){return $.lFrame.elementDepthCount}function XD(){$.lFrame.elementDepthCount++}function eC(){$.lFrame.elementDepthCount--}function wf(){return $.bindingsEnabled}function tC(){return $.skipHydrationRootTNode!==null}function nC(e){return $.skipHydrationRootTNode===e}function rC(){$.skipHydrationRootTNode=null}function X(){return $.lFrame.lView}function Fe(){return $.lFrame.tView}function ve(e){return $.lFrame.contextLView=e,e[Xe]}function ye(e){return $.lFrame.contextLView=null,e}function at(){let e=zv();for(;e!==null&&e.type===64;)e=e.parent;return e}function zv(){return $.lFrame.currentTNode}function iC(){let e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function yr(e,t){let n=$.lFrame;n.currentTNode=e,n.isParent=t}function bf(){return $.lFrame.isParent}function qv(){$.lFrame.isParent=!1}function oC(){return $.lFrame.contextLView}function Wv(){return Nd}function Rm(e){let t=Nd;return Nd=e,t}function Gv(){let e=$.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function sC(){return $.lFrame.bindingIndex}function aC(e){return $.lFrame.bindingIndex=e}function pl(){return $.lFrame.bindingIndex++}function Kv(e){let t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function lC(){return $.lFrame.inI18n}function cC(e,t){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,kd(t)}function uC(){return $.lFrame.currentDirectiveIndex}function kd(e){$.lFrame.currentDirectiveIndex=e}function dC(e){let t=$.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Zv(e){$.lFrame.currentQueryIndex=e}function fC(e){let t=e[G];return t.type===2?t.declTNode:t.type===1?e[Nt]:null}function Yv(e,t,n){if(n&U.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&U.Host);)if(i=fC(o),i===null||(o=o[pi],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=$.lFrame=Jv();return r.currentTNode=t,r.lView=e,!0}function Ef(e){let t=Jv(),n=e[G];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Jv(){let e=$.lFrame,t=e===null?null:e.child;return t===null?Qv(e):t}function Qv(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Xv(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ey=Xv;function Df(){let e=Xv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function hC(e){return($.lFrame.contextLView=YD(e,$.lFrame.contextLView))[Xe]}function _r(){return $.lFrame.selectedIndex}function hr(e){$.lFrame.selectedIndex=e}function gl(){let e=$.lFrame;return jv(e.tView,e.selectedIndex)}function pC(){return $.lFrame.currentNamespace}var ty=!0;function ml(){return ty}function vl(e){ty=e}function gC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=kv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Cf(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ra(e,t,n){ny(e,t,3,n)}function Oa(e,t,n,r){(e[j]&3)===n&&ny(e,t,n,r)}function pd(e,t){let n=e[j];(n&3)===t&&(n&=16383,n+=1,e[j]=n)}function ny(e,t,n,r){let i=r!==void 0?e[ei]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[ei]+=65536),(a<o||o==-1)&&(mC(e,n,t,l),e[ei]=(e[ei]&4294901760)+l+2),l++}function Om(e,t){oe(4,e,t);let n=H(null);try{t.call(e)}finally{H(n),oe(5,e,t)}}function mC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[j]>>14<e[ei]>>16&&(e[j]&3)===t&&(e[j]+=16384,Om(a,o)):Om(a,o)}var ni=-1,pr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function vC(e){return(e.flags&8)!==0}function yC(e){return(e.flags&16)!==0}function _C(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];bC(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function wC(e){return e===3||e===4||e===6}function bC(e){return e.charCodeAt(0)===64}function ui(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Nm(e,n,i,null,t[++r]):Nm(e,n,i,null,null))}}return e}function Nm(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function ry(e){return e!==ni}function Wa(e){return e&32767}function EC(e){return e>>16}function Ga(e,t){let n=EC(e),r=t;for(;n>0;)r=r[pi],n--;return r}var Pd=!0;function Ka(e){let t=Pd;return Pd=e,t}var DC=256,iy=DC-1,oy=5,CC=0,Bt={};function IC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(So)&&(r=n[So]),r==null&&(r=n[So]=CC++);let i=r&iy,o=1<<i;t.data[e+(i>>oy)]|=o}function Za(e,t){let n=sy(e,t);if(n!==-1)return n;let r=t[G];r.firstCreatePass&&(e.injectorIndex=t.length,gd(r.data,e),gd(t,null),gd(r.blueprint,null));let i=If(e,t),o=e.injectorIndex;if(ry(i)){let s=Wa(i),a=Ga(i,t),l=a[G].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function gd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function sy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function If(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=dy(i),r===null)return ni;if(n++,i=i[pi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ni}function Fd(e,t,n){IC(e,t,n)}function ay(e,t,n){if(n&U.Optional||e!==void 0)return e;hf(t,"NodeInjector")}function ly(e,t,n,r){if(n&U.Optional&&r===void 0&&(r=null),(n&(U.Self|U.Host))===0){let i=e[si],o=Je(void 0);try{return i?i.get(t,r,n&U.Optional):wv(t,r,n&U.Optional)}finally{Je(o)}}return ay(r,t,n)}function cy(e,t,n,r=U.Default,i){if(e!==null){if(t[j]&2048&&!(r&U.Self)){let s=AC(e,t,n,r,Bt);if(s!==Bt)return s}let o=uy(e,t,n,r,Bt);if(o!==Bt)return o}return ly(t,n,r,i)}function uy(e,t,n,r,i){let o=MC(n);if(typeof o=="function"){if(!Yv(t,e,r))return r&U.Host?ay(i,n,r):ly(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&U.Optional))hf(n);else return s}finally{ey()}}else if(typeof o=="number"){let s=null,a=sy(e,t),l=ni,c=r&U.Host?t[Ht][Nt]:null;for((a===-1||r&U.SkipSelf)&&(l=a===-1?If(e,t):t[a+8],l===ni||!Pm(r,!1)?a=-1:(s=t[G],a=Wa(l),t=Ga(l,t)));a!==-1;){let u=t[G];if(km(o,a,u.data)){let f=SC(a,t,n,s,r,c);if(f!==Bt)return f}l=t[a+8],l!==ni&&Pm(r,t[G].data[a+8]===c)&&km(o,a,t)?(s=u,a=Wa(l),t=Ga(l,t)):a=-1}}return i}function SC(e,t,n,r,i,o){let s=t[G],a=s.data[e+8],l=r==null?gi(a)&&Pd:r!=s&&(a.type&3)!==0,c=i&U.Host&&o===a,u=TC(a,s,n,l,c);return u!==null?Ya(t,s,u,a,i):Bt}function TC(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,f=r?a:a+u,p=i?a+u:c;for(let d=f;d<p;d++){let g=s[d];if(d<l&&n===g||d>=l&&g.type===n)return d}if(i){let d=s[l];if(d&&zt(d)&&d.type===n)return l}return null}function Ya(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof pr){let a=o;a.resolving&&yv(gD(s[n]));let l=Ka(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Je(a.injectImpl):null,f=Yv(e,r,U.Default);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&gC(n,s[n],t)}finally{u!==null&&Je(u),Ka(l),a.resolving=!1,ey()}}return o}function MC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(So)?e[So]:void 0;return typeof t=="number"?t>=0?t&iy:xC:t}function km(e,t,n){let r=1<<e;return!!(n[t+(e>>oy)]&r)}function Pm(e,t){return!(e&U.Self)&&!(e&U.Host&&t)}var lr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return cy(this._tNode,this._lView,t,ll(r),n)}};function xC(){return new lr(at(),X())}function vn(e){return ko(()=>{let t=e.prototype.constructor,n=t[Pa]||Ld(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Pa]||Ld(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ld(e){return hv(e)?()=>{let t=Ld(ze(e));return t&&t()}:cr(e)}function AC(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[j]&2048&&!qa(s);){let a=uy(o,s,n,r|U.Self,Bt);if(a!==Bt)return a;let l=o.parent;if(!l){let c=s[Rv];if(c){let u=c.get(n,Bt,r);if(u!==Bt)return u}l=dy(s),s=s[pi]}o=l}return i}function dy(e){let t=e[G],n=t.type;return n===2?t.declTNode:n===1?e[Nt]:null}function Fm(e,t=null,n=null,r){let i=fy(e,t,n,r);return i.resolveInjectorInitializers(),i}function fy(e,t=null,n=null,r,i=new Set){let o=[n||pt,RD(e)];return r=r||(typeof e=="object"?void 0:Qe(e)),new Mo(o,t||mf(),r||null,i)}var fn=class e{static THROW_IF_NOT_FOUND=ar;static NULL=new Va;static create(t,n){if(Array.isArray(t))return Fm({name:""},n,t,"");{let r=t.name??"";return Fm({name:r},t.parent,t.providers,r)}}static \u0275prov=O({token:e,providedIn:"any",factory:()=>P(Dv)});static __NG_ELEMENT_ID__=-1};var RC=new R("");RC.__NG_ELEMENT_ID__=e=>{let t=at();if(t===null)throw new M(204,!1);if(t.type&2)return t.value;if(e&U.Optional)return null;throw new M(204,!1)};var hy=!1,yl=(()=>{class e{static __NG_ELEMENT_ID__=OC;static __NG_ENV_ID__=n=>n}return e})(),jd=class extends yl{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return mi(n)?(t(),()=>{}):($v(n,t),()=>JD(n,t))}};function OC(){return new jd(X())}var Ao=class{},py=new R("",{providedIn:"root",factory:()=>!1});var gy=new R(""),my=new R(""),yi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ie(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})();var Vd=class extends Ce{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,$D()&&(this.destroyRef=C(yl,{optional:!0})??void 0,this.pendingTasks=C(yi,{optional:!0})??void 0)}emit(t){let n=H(null);try{super.next(t)}finally{H(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ge&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Te=Vd;function Ja(...e){}function vy(e){let t,n;function r(){e=Ja;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Lm(e){return queueMicrotask(()=>e()),()=>{e=Ja}}var Sf="isAngularZone",Qa=Sf+"_ID",NC=0,Pe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Te(!1);onMicrotaskEmpty=new Te(!1);onStable=new Te(!1);onError=new Te(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=hy}=t;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,FC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new M(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,kC,Ja,Ja);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},kC={};function Tf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function PC(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){vy(()=>{e.callbackScheduled=!1,Ud(e),e.isCheckStableRunning=!0,Tf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ud(e)}function FC(e){let t=()=>{PC(e)},n=NC++;e._inner=e._inner.fork({name:"angular",properties:{[Sf]:!0,[Qa]:n,[Qa+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(LC(l))return r.invokeTask(o,s,a,l);try{return jm(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Vm(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return jm(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!jC(l)&&t(),Vm(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ud(e),Tf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ud(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function jm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vm(e){e._nesting--,Tf(e)}var $d=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Te;onMicrotaskEmpty=new Te;onStable=new Te;onError=new Te;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function LC(e){return yy(e,"__ignore_ng_zone__")}function jC(e){return yy(e,"__scheduler_tick__")}function yy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var hn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},VC=new R("",{providedIn:"root",factory:()=>{let e=C(Pe),t=C(hn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Um(e,t){return dv(e,t)}function UC(e){return dv(uv,e)}var _y=(Um.required=UC,Um);function $C(){return _l(at(),X())}function _l(e,t){return new Pn(Zt(e,t))}var Pn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=$C}return e})();function BC(e){return typeof e=="function"&&e[ht]!==void 0}function Fo(e,t){let n=Bu(e,t?.equal),r=n[ht];return n.set=i=>vo(r,i),n.update=i=>Hu(r,i),n.asReadonly=HC.bind(n),n}function HC(){let e=this[ht];if(e.readonlyFn===void 0){let t=()=>this();t[ht]=e,e.readonlyFn=t}return e.readonlyFn}function wy(e){return BC(e)&&typeof e.set=="function"}function by(e){return(e.flags&128)===128}var Ey=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ey||{}),Dy=new Map,zC=0;function qC(){return zC++}function WC(e){Dy.set(e[ul],e)}function Bd(e){Dy.delete(e[ul])}var $m="__ngContext__";function _i(e,t){Nn(t)?(e[$m]=t[ul],WC(t)):e[$m]=t}function Cy(e){return Sy(e[xo])}function Iy(e){return Sy(e[Rt])}function Sy(e){for(;e!==null&&!mn(e);)e=e[Rt];return e}var Hd;function Ty(e){Hd=e}function GC(){if(Hd!==void 0)return Hd;if(typeof document<"u")return document;throw new M(210,!1)}var Mf=new R("",{providedIn:"root",factory:()=>KC}),KC="ng",xf=new R(""),Lo=new R("",{providedIn:"platform",factory:()=>"unknown"});var Af=new R("",{providedIn:"root",factory:()=>GC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZC="h",YC="b";var My=!1,JC=new R("",{providedIn:"root",factory:()=>My});var xy=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(xy||{}),wl=new R(""),Bm=new Set;function Ay(e){Bm.has(e)||(Bm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var QC=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})();var XC=(e,t,n,r)=>{};function eI(e,t,n,r){XC(e,t,n,r)}var tI=()=>null;function Ry(e,t,n=!1){return tI(e,t,n)}function Oy(e,t){let n=e.contentQueries;if(n!==null){let r=H(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Zv(o),a.contentQueries(2,t[s],s)}}}finally{H(r)}}}function zd(e,t,n){Zv(0);let r=H(null);try{t(e,n)}finally{H(r)}}function Rf(e,t,n){if(vf(t)){let r=H(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{H(r)}}}var Gt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gt||{});var Xa=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cv})`}};function Ny(e){return e instanceof Xa?e.changingThisBreaksApplicationSecurity:e}function nI(e,t){let n=rI(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${cv})`)}return n===t}function rI(e){return e instanceof Xa&&e.getTypeName()||null}var iI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oI(e){return e=String(e),e.match(iI)?e:"unsafe:"+e}var sI=/^>|^->|<!--|-->|--!>|<!-$/g,aI=/(<|>)/g,lI="\u200B$1\u200B";function cI(e){return e.replace(sI,t=>t.replace(aI,lI))}function uI(e,t){return e.createText(t)}function dI(e,t,n){e.setValue(t,n)}function fI(e,t){return e.createComment(cI(t))}function ky(e,t,n){return e.createElement(t,n)}function el(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Py(e,t,n){e.appendChild(t,n)}function Hm(e,t,n,r,i){r!==null?el(e,t,n,r,i):Py(e,t,n)}function hI(e,t,n){e.removeChild(null,t,n)}function pI(e,t,n){e.setAttribute(t,"style",n)}function gI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Fy(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&_C(e,t,r),i!==null&&gI(e,t,i),o!==null&&pI(e,t,o)}var Ly=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ly||{});function yn(e){let t=mI();return t?t.sanitize(Ly.URL,e)||"":nI(e,"URL")?Ny(e):oI(ri(e))}function mI(){let e=X();return e&&e[dn].sanitizer}function jy(e){return e instanceof Function?e():e}function vI(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Vy="ng-template";function yI(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&vI(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Of(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Of(e){return e.type===4&&e.value!==Vy}function _I(e,t,n){let r=e.type===4&&!n?Vy:e.value;return t===r}function wI(e,t,n){let r=4,i=e.attrs,o=i!==null?DI(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!At(r)&&!At(l))return!1;if(s&&At(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!_I(e,l,n)||l===""&&t.length===1){if(At(r))return!1;s=!0}}else if(r&8){if(i===null||!yI(e,i,l,n)){if(At(r))return!1;s=!0}}else{let c=t[++a],u=bI(l,i,Of(e),n);if(u===-1){if(At(r))return!1;s=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(At(r))return!1;s=!0}}}}return At(r)||s}function At(e){return(e&1)===0}function bI(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return CI(t,e)}function EI(e,t,n=!1){for(let r=0;r<t.length;r++)if(wI(e,t[r],n))return!0;return!1}function DI(e){for(let t=0;t<e.length;t++){let n=e[t];if(wC(n))return t}return e.length}function CI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function zm(e,t){return e?":not("+t.trim()+")":t}function II(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!At(s)&&(t+=zm(o,i),i=""),r=s,o=o||!At(r);n++}return i!==""&&(t+=zm(o,i)),t}function SI(e){return e.map(II).join(",")}function TI(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!At(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Yt={};function Nf(e,t,n,r,i,o,s,a,l,c,u){let f=et+r,p=f+i,d=MI(f,p),g=typeof c=="function"?c():c;return d[G]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function MI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Yt);return n}function xI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Nf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function kf(e,t,n,r,i,o,s,a,l,c,u){let f=t.blueprint.slice();return f[gn]=i,f[j]=r|4|128|8|64|1024,(c!==null||e&&e[j]&2048)&&(f[j]|=2048),Vv(f),f[qe]=f[pi]=e,f[Xe]=n,f[dn]=s||e&&e[dn],f[he]=a||e&&e[he],f[si]=l||e&&e[si]||null,f[Nt]=o,f[ul]=qC(),f[Ua]=u,f[Rv]=c,f[Ht]=t.type==2?e[Ht]:f,f}function AI(e,t,n){let r=Zt(t,e),i=xI(n),o=e[dn].rendererFactory,s=Pf(e,kf(e,i,null,Uy(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Uy(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function $y(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Pf(e,t){return e[xo]?e[xm][Rt]=t:e[xo]=t,e[xm]=t,t}function x(e=1){By(Fe(),X(),_r()+e,!1)}function By(e,t,n,r){if(!r)if((t[j]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ra(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Oa(t,o,0,n)}hr(n)}var bl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(bl||{});function qd(e,t,n,r){let i=H(null);try{let[o,s,a]=e.inputs[n],l=null;(s&bl.SignalBased)!==0&&(l=t[o][ht]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):Nv(t,l,o,r)}finally{H(i)}}function Hy(e,t,n,r,i){let o=_r(),s=r&2;try{hr(-1),s&&t.length>et&&By(e,t,et,!1),oe(s?2:0,i),n(r,i)}finally{hr(o),oe(s?3:1,i)}}function El(e,t,n){FI(e,t,n),(n.flags&64)===64&&LI(e,t,n)}function Ff(e,t,n=Zt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function RI(e,t,n,r){let o=r.get(JC,My)||n===Gt.ShadowDom,s=e.selectRootElement(t,o);return OI(s),s}function OI(e){NI(e)}var NI=()=>null;function kI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Lf(e,t,n,r,i,o,s,a){if(!a&&Vf(t,e,n,r,i)){gi(t)&&PI(n,t.index);return}if(t.type&3){let l=Zt(t,n);r=kI(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function PI(e,t){let n=Wt(t,e);n[j]&16||(n[j]|=64)}function FI(e,t,n){let r=n.directiveStart,i=n.directiveEnd;gi(n)&&AI(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Za(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Ya(t,e,s,n);if(_i(l,t),o!==null&&$I(t,s-r,l,a,n,o),zt(a)){let c=Wt(n.index,t);c[Xe]=Ya(t,e,s,n)}}}function LI(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=uC();try{hr(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];kd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&jI(l,c)}}finally{hr(-1),kd(s)}}function jI(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function jf(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];EI(t,o.selectors,!1)&&(r??=[],zt(o)?r.unshift(o):r.push(o))}return r}function VI(e,t,n,r,i,o){let s=Zt(e,t);UI(t[he],s,o,e.value,n,r,i)}function UI(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?ri(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function $I(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];qd(r,n,l,c)}}function BI(e,t){let n=e[si],r=n?n.get(hn,null):null;r&&r.handleError(t)}function Vf(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],f=t.data[c];qd(f,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=t.data[l];qd(u,c,r,i),a=!0}return a}function HI(e,t){let n=Wt(t,e),r=n[G];zI(r,n);let i=n[gn];i!==null&&n[Ua]===null&&(n[Ua]=Ry(i,n[si])),oe(18),Uf(r,n,n[Xe]),oe(19,n[Xe])}function zI(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Uf(e,t,n){Ef(t);try{let r=e.viewQuery;r!==null&&zd(1,r,n);let i=e.template;i!==null&&Hy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[li]?.finishViewCreation(e),e.staticContentQueries&&Oy(e,t),e.staticViewQueries&&zd(2,e.viewQuery,n);let o=e.components;o!==null&&qI(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[j]&=-5,Df()}}function qI(e,t){for(let n=0;n<t.length;n++)HI(e,t[n])}function WI(e,t,n,r){let i=H(null);try{let o=t.tView,a=e[j]&4096?4096:16,l=kf(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[ai]=c;let u=e[li];return u!==null&&(l[li]=u.createEmbeddedView(o)),Uf(o,l,n),l}finally{H(i)}}function qm(e,t){return!t||t.firstChild===null||by(e)}var GI;function $f(e,t){return GI(e,t)}var pn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pn||{});function zy(e){return(e.flags&32)===32}function ti(e,t,n,r,i){if(r!=null){let o,s=!1;mn(r)?o=r:Nn(r)&&(s=!0,r=r[gn]);let a=qt(r);e===0&&n!==null?i==null?Py(t,n,a):el(t,n,a,i||null,!0):e===1&&n!==null?el(t,n,a,i||null,!0):e===2?hI(t,a,s):e===3&&t.destroyNode(a),o!=null&&oS(t,e,o,n,i)}}function KI(e,t){qy(e,t),t[gn]=null,t[Nt]=null}function ZI(e,t,n,r,i,o){r[gn]=i,r[Nt]=t,Cl(e,r,n,1,i,o)}function qy(e,t){t[dn].changeDetectionScheduler?.notify(9),Cl(e,t,t[he],2,null,null)}function YI(e){let t=e[xo];if(!t)return md(e[G],e);for(;t;){let n=null;if(Nn(t))n=t[xo];else{let r=t[mt];r&&(n=r)}if(!n){for(;t&&!t[Rt]&&t!==e;)Nn(t)&&md(t[G],t),t=t[qe];t===null&&(t=e),Nn(t)&&md(t[G],t),n=t&&t[Rt]}t=n}}function Bf(e,t){let n=e[za],r=n.indexOf(t);n.splice(r,1)}function Wy(e,t){if(mi(t))return;let n=t[he];n.destroyNode&&Cl(e,t,n,3,null,null),YI(t)}function md(e,t){if(mi(t))return;let n=H(null);try{t[j]&=-129,t[j]|=256,t[gt]&&Vu(t[gt]),QI(e,t),JI(e,t),t[G].type===1&&t[he].destroy();let r=t[ai];if(r!==null&&mn(t[qe])){r!==t[qe]&&Bf(r,t);let i=t[li];i!==null&&i.detachView(e)}Bd(t)}finally{H(n)}}function JI(e,t){let n=e.cleanup,r=t[$a];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[$a]=null);let i=t[On];if(i!==null){t[On]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Ba];if(o!==null){t[Ba]=null;for(let s of o)s.destroy()}}function QI(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof pr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];oe(4,a,l);try{l.call(a)}finally{oe(5,a,l)}}else{oe(4,i,o);try{o.call(i)}finally{oe(5,i,o)}}}}}function XI(e,t,n){return eS(e,t.parent,n)}function eS(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[gn];if(gi(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Gt.None||i===Gt.Emulated)return null}return Zt(r,n)}function tS(e,t,n){return rS(e,t,n)}function nS(e,t,n){return e.type&40?Zt(e,n):null}var rS=nS,Wm;function Dl(e,t,n,r){let i=XI(e,r,t),o=t[he],s=r.parent||t[Nt],a=tS(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Hm(o,i,n[l],a,!1);else Hm(o,i,n,a,!1);Wm!==void 0&&Wm(o,r,t,n,i)}function Io(e,t){if(t!==null){let n=t.type;if(n&3)return Zt(t,e);if(n&4)return Wd(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Io(e,r);{let i=e[t.index];return mn(i)?Wd(-1,i):qt(i)}}else{if(n&128)return Io(e,t.next);if(n&32)return $f(t,e)()||qt(e[t.index]);{let r=Gy(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=fr(e[Ht]);return Io(i,r)}else return Io(e,t.next)}}}return null}function Gy(e,t){if(t!==null){let r=e[Ht][Nt],i=t.projection;return r.projection[i]}return null}function Wd(e,t){let n=mt+e+1;if(n<t.length){let r=t[n],i=r[G].firstChild;if(i!==null)return Io(r,i)}return t[dr]}function Hf(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&_i(qt(a),r),n.flags|=2),!zy(n))if(l&8)Hf(e,t,n.child,r,i,o,!1),ti(t,e,i,a,o);else if(l&32){let c=$f(n,r),u;for(;u=c();)ti(t,e,i,u,o);ti(t,e,i,a,o)}else l&16?iS(e,t,r,n,i,o):ti(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Cl(e,t,n,r,i,o){Hf(n,r,e.firstChild,t,i,o,!1)}function iS(e,t,n,r,i,o){let s=n[Ht],l=s[Nt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ti(t,e,i,u,o)}else{let c=l,u=s[qe];by(r)&&(c.flags|=128),Hf(e,t,c,u,i,o,!0)}}function oS(e,t,n,r,i){let o=n[dr],s=qt(n);o!==s&&ti(t,e,r,o,i);for(let a=mt;a<n.length;a++){let l=n[a];Cl(l[G],l,e,t,r,o)}}function sS(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:pn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pn.Important),e.setStyle(n,r,i,o))}}function tl(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(qt(o)),mn(o)&&aS(o,r);let s=n.type;if(s&8)tl(e,t,n.child,r);else if(s&32){let a=$f(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Gy(t,n);if(Array.isArray(a))r.push(...a);else{let l=fr(t[Ht]);tl(l[G],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function aS(e,t){for(let n=mt;n<e.length;n++){let r=e[n],i=r[G].firstChild;i!==null&&tl(r[G],r,i,t)}e[dr]!==e[gn]&&t.push(e[dr])}function Ky(e){if(e[hd]!==null){for(let t of e[hd])t.impl.addSequence(t);e[hd].length=0}}var Zy=[];function lS(e){return e[gt]??cS(e)}function cS(e){let t=Zy.pop()??Object.create(dS);return t.lView=e,t}function uS(e){e.lView[gt]!==e&&(e.lView=null,Zy.push(e))}var dS=q(D({},go),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{hl(e.lView)},consumerOnSignalRead(){this.lView[gt]=this}});function fS(e){let t=e[gt]??Object.create(hS);return t.lView=e,t}var hS=q(D({},go),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=fr(e.lView);for(;t&&!Yy(t[G]);)t=fr(t);t&&Uv(t)},consumerOnSignalRead(){this.lView[gt]=this}});function Yy(e){return e.type!==2}function Jy(e){if(e[Ba]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Ba])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[j]&8192)}}var pS=100;function Qy(e,t=!0,n=0){let i=e[dn].rendererFactory,o=!1;o||i.begin?.();try{gS(e,n)}catch(s){throw t&&BI(e,s),s}finally{o||i.end?.()}}function gS(e,t){let n=Wv();try{Rm(!0),Gd(e,t);let r=0;for(;fl(e);){if(r===pS)throw new M(103,!1);r++,Gd(e,1)}}finally{Rm(n)}}function mS(e,t,n,r){if(mi(t))return;let i=t[j],o=!1,s=!1;Ef(t);let a=!0,l=null,c=null;o||(Yy(e)?(c=lS(t),l=Ks(c)):Nu()===null?(a=!1,c=fS(t),l=Ks(c)):t[gt]&&(Vu(t[gt]),t[gt]=null));try{Vv(t),aC(e.bindingStartIndex),n!==null&&Hy(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=e.preOrderCheckHooks;d!==null&&Ra(t,d,null)}else{let d=e.preOrderHooks;d!==null&&Oa(t,d,0,null),pd(t,0)}if(s||vS(t),Jy(t),Xy(t,0),e.contentQueries!==null&&Oy(e,t),!o)if(u){let d=e.contentCheckHooks;d!==null&&Ra(t,d)}else{let d=e.contentHooks;d!==null&&Oa(t,d,1),pd(t,1)}_S(e,t);let f=e.components;f!==null&&t_(t,f,0);let p=e.viewQuery;if(p!==null&&zd(2,p,r),!o)if(u){let d=e.viewCheckHooks;d!==null&&Ra(t,d)}else{let d=e.viewHooks;d!==null&&Oa(t,d,2),pd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[fd]){for(let d of t[fd])d();t[fd]=null}o||(Ky(t),t[j]&=-73)}catch(u){throw o||hl(t),u}finally{c!==null&&(Lu(c,l),a&&uS(c)),Df()}}function Xy(e,t){for(let n=Cy(e);n!==null;n=Iy(n))for(let r=mt;r<n.length;r++){let i=n[r];e_(i,t)}}function vS(e){for(let t=Cy(e);t!==null;t=Iy(t)){if(!(t[j]&2))continue;let n=t[za];for(let r=0;r<n.length;r++){let i=n[r];Uv(i)}}}function yS(e,t,n){oe(18);let r=Wt(t,e);e_(r,n),oe(19,r[Xe])}function e_(e,t){_f(e)&&Gd(e,t)}function Gd(e,t){let r=e[G],i=e[j],o=e[gt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&ju(o)),s||=!1,o&&(o.dirty=!1),e[j]&=-9217,s)mS(r,e,r.template,e[Xe]);else if(i&8192){Jy(e),Xy(e,1);let a=r.components;a!==null&&t_(e,a,1),Ky(e)}}function t_(e,t,n){for(let r=0;r<t.length;r++)yS(e,t[r],n)}function _S(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hr(~i);else{let o=i,s=n[++r],a=n[++r];cC(s,o);let l=t[o];oe(24,l),a(2,l),oe(25,l)}}}finally{hr(-1)}}function zf(e,t){let n=Wv()?64:1088;for(e[dn].changeDetectionScheduler?.notify(t);e;){e[j]|=n;let r=fr(e);if(qa(e)&&!r)return e;e=r}return null}function n_(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function wS(e,t,n,r=!0){let i=t[G];if(bS(i,t,e,n),r){let s=Wd(n,e),a=t[he],l=a.parentNode(e[dr]);l!==null&&ZI(i,e[Nt],a,t,l,s)}let o=t[Ua];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kd(e,t){if(e.length<=mt)return;let n=mt+t,r=e[n];if(r){let i=r[ai];i!==null&&i!==e&&Bf(i,r),t>0&&(e[n-1][Rt]=r[Rt]);let o=ja(e,mt+t);KI(r[G],r);let s=o[li];s!==null&&s.detachView(o[G]),r[qe]=null,r[Rt]=null,r[j]&=-129}return r}function bS(e,t,n,r){let i=mt+r,o=n.length;r>0&&(n[i-1][Rt]=t),r<o-mt?(t[Rt]=n[i],Ev(n,mt+r,t)):(n.push(t),t[Rt]=null),t[qe]=n;let s=t[ai];s!==null&&n!==s&&r_(s,t);let a=t[li];a!==null&&a.insertView(e),Od(t),t[j]|=128}function r_(e,t){let n=e[za],r=t[qe];if(Nn(r))e[j]|=2;else{let i=r[qe][Ht];t[Ht]!==i&&(e[j]|=2)}n===null?e[za]=[t]:n.push(t)}var Ro=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[G];return tl(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Xe]}set context(t){this._lView[Xe]=t}get destroyed(){return mi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[qe];if(mn(t)){let n=t[Ha],r=n?n.indexOf(this):-1;r>-1&&(Kd(t,r),ja(n,r))}this._attachedToViewContainer=!1}Wy(this._lView[G],this._lView)}onDestroy(t){$v(this._lView,t)}markForCheck(){zf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[j]&=-129}reattach(){Od(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,Qy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=qa(this._lView),n=this._lView[ai];n!==null&&!t&&Bf(n,this._lView),qy(this._lView[G],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t;let n=qa(this._lView),r=this._lView[ai];r!==null&&!n&&r_(r,this._lView),Od(this._lView)}};var Il=(()=>{class e{static __NG_ELEMENT_ID__=CS}return e})(),ES=Il,DS=class extends ES{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=WI(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ro(i)}};function CS(){return i_(at(),X())}function i_(e,t){return e.type&4?new DS(t,e,_l(e,t)):null}function Sl(e,t,n,r,i){let o=e.data[t];if(o===null)o=IS(e,t,n,r,i),lC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=iC();o.injectorIndex=s===null?-1:s.injectorIndex}return yr(o,!0),o}function IS(e,t,n,r,i){let o=zv(),s=bf(),a=s?o:o&&o.parent,l=e.data[t]=TS(e,a,n,t,r,i);return SS(e,l,o,s),l}function SS(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function TS(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return tC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cj=new RegExp(`^(\\d+)*(${YC}|${ZC})*(.*)`);var MS=()=>null;function Gm(e,t){return MS(e,t)}var xS=class{},o_=class{},Zd=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Qe(t)}.`)}},Tl=class{static NULL=new Zd},di=class{},wr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>AS()}return e})();function AS(){let e=X(),t=at(),n=Wt(t.index,e);return(Nn(n)?n:e)[he]}var RS=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>null})}return e})();var vd={},Yd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ll(r);let i=this.injector.get(t,vd,r);return i!==vd||n===vd?i:this.parentInjector.get(t,n,r)}};function Jd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Em(i,a);else if(o==2){let l=a,c=t[++s];r=Em(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function k(e,t=U.Default){let n=X();if(n===null)return P(e,t);let r=at();return cy(r,n,ze(e),t)}function qf(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a,l=null,c=null,u=NS(s);u===null?a=s:[a,l,c]=u,FS(e,t,n,a,o,l,c)}o!==null&&r!==null&&OS(n,r,o)}function OS(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new M(-301,!1);r.push(t[i],o)}}function NS(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&zt(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,kS(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function kS(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function PS(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function FS(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let d=r[p];!l&&zt(d)&&(l=!0,PS(e,n,p)),Fd(Za(n,t),e,d.type)}BS(n,e.data.length,a);for(let p=0;p<a;p++){let d=r[p];d.providersResolver&&d.providersResolver(d)}let c=!1,u=!1,f=$y(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let d=r[p];if(n.mergedAttrs=ui(n.mergedAttrs,d.hostAttrs),jS(e,n,t,f,d),$S(f,d,i),s!==null&&s.has(d)){let[v,_]=s.get(d);n.directiveToIndex.set(d.type,[f,v+n.directiveStart,_+n.directiveStart])}else(o===null||!o.has(d))&&n.directiveToIndex.set(d.type,f);d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let g=d.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}LS(e,n,o)}function LS(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Km(0,t,i,r),Km(1,t,i,r),Ym(t,r,!1);else{let o=n.get(i);Zm(0,t,o,r),Zm(1,t,o,r),Ym(t,r,!0)}}}function Km(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),s_(t,o)}}function Zm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),s_(t,s)}}function s_(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Ym(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Of(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function jS(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=cr(i.type,!0)),s=new pr(o,zt(i),k);e.blueprint[r]=s,n[r]=s,VS(e,t,r,$y(e,n,i.hostVars,Yt),i)}function VS(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;US(s)!=a&&s.push(a),s.push(n,r,o)}}function US(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function $S(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;zt(t)&&(n[""]=e)}}function BS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function a_(e,t,n,r,i,o,s,a){let l=t.consts,c=ci(l,s),u=Sl(t,e,2,r,c);return o&&qf(t,n,u,ci(l,a),i),u.mergedAttrs=ui(u.mergedAttrs,u.attrs),u.attrs!==null&&Jd(u,u.attrs,!1),u.mergedAttrs!==null&&Jd(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function l_(e,t){Cf(e,t),vf(t)&&e.queries.elementEnd(t)}var nl=class extends Tl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ii(t);return new Oo(n,this.ngModule)}};function HS(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&bl.SignalBased)!==0};return i&&(o.transform=i),o})}function zS(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function qS(e,t,n){let r=t instanceof vt?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Yd(n,r):n}function WS(e){let t=e.get(di,null);if(t===null)throw new M(407,!1);let n=e.get(RS,null),r=e.get(Ao,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function GS(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return ky(t,n,n==="svg"?WD:n==="math"?GD:null)}var Oo=class extends o_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=HS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=zS(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=SI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){oe(22);let o=H(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:TI(this.componentDef.selectors[0]),l=Nf(0,null,null,1,0,null,null,null,null,[a],null),c=qS(s,i||this.ngModule,t),u=WS(c),f=u.rendererFactory.createRenderer(null,s),p=r?RI(f,r,s.encapsulation,c):GS(s,f),d=kf(null,l,null,512|Uy(s),null,null,u,f,c,null,Ry(p,c,!0));d[et]=p,Ef(d);let g=null;try{let v=a_(et,l,d,"#host",()=>[this.componentDef],!0,0);p&&(Fy(f,p,v),_i(p,d)),El(l,d,v),Rf(l,v,d),l_(l,v),n!==void 0&&KS(v,this.ngContentSelectors,n),g=Wt(v.index,d),d[Xe]=g[Xe],Uf(l,d,null)}catch(v){throw g!==null&&Bd(g),Bd(d),v}finally{oe(23),Df()}return new Qd(this.componentType,d)}finally{H(o)}}},Qd=class extends xS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=jv(n[G],et),this.location=_l(this._tNode,n),this.instance=Wt(this._tNode.index,n)[Xe],this.hostView=this.changeDetectorRef=new Ro(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Vf(r,i[G],i,t,n);this.previousInputValues.set(t,n);let s=Wt(r.index,i);zf(s,1)}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function KS(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var wi=(()=>{class e{static __NG_ELEMENT_ID__=ZS}return e})();function ZS(){let e=at();return JS(e,X())}var YS=wi,c_=class extends YS{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _l(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){let t=If(this._hostTNode,this._hostLView);if(ry(t)){let n=Ga(t,this._hostLView),r=Wa(t),i=n[G].data[r+8];return new lr(i,n)}else return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Jm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Gm(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,qm(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!BD(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?t:new Oo(ii(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(vt,null);v&&(o=v)}let u=ii(l.componentType??{}),f=Gm(this._lContainer,u?.id??null),p=f?.firstChild??null,d=l.create(c,i,p,o);return this.insertImpl(d.hostView,a,qm(this._hostTNode,f)),d}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(ZD(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[qe],c=new c_(l,l[Nt],l[qe]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return wS(s,i,o,r),t.attachToViewContainerRef(),Ev(yd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Jm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Kd(this._lContainer,n);r&&(ja(yd(this._lContainer),n),Wy(r[G],r))}detach(t){let n=this._adjustIndex(t,-1),r=Kd(this._lContainer,n);return r&&ja(yd(this._lContainer),n)!=null?new Ro(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Jm(e){return e[Ha]}function yd(e){return e[Ha]||(e[Ha]=[])}function JS(e,t){let n,r=t[e.index];return mn(r)?n=r:(n=n_(r,t,null,e),t[e.index]=n,Pf(t,n)),XS(n,t,e,r),new c_(n,e,t)}function QS(e,t){let n=e[he],r=n.createComment(""),i=Zt(t,e),o=n.parentNode(i);return el(n,o,r,n.nextSibling(i),!1),r}var XS=nT,eT=()=>!1;function tT(e,t,n){return eT(e,t,n)}function nT(e,t,n,r){if(e[dr])return;let i;n.type&8?i=qt(r):i=QS(t,n),e[dr]=i}var fi=class{},Wf=class{};var Xd=class extends fi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new nl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Iv(t);this._bootstrapComponents=jy(o.bootstrap),this._r3Injector=fy(t,n,[{provide:fi,useValue:this},{provide:Tl,useValue:this.componentFactoryResolver},...r],Qe(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ef=class extends Wf{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Xd(this.moduleType,t,[])}};var rl=class extends fi{injector;componentFactoryResolver=new nl(this);instance=null;constructor(t){super();let n=new Mo([...t.providers,{provide:fi,useValue:this},{provide:Tl,useValue:this.componentFactoryResolver}],t.parent||mf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ml(e,t,n=null){return new rl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var rT=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Tv(!1,n.type),i=r.length>0?Ml([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:e,providedIn:"environment",factory:()=>new e(P(vt))})}return e})();function je(e){return ko(()=>{let t=u_(e),n=q(D({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ey.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(rT).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gt.Emulated,styles:e.styles||pt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Ay("NgStandalone"),d_(n);let r=e.dependencies;return n.directiveDefs=Qm(r,!1),n.pipeDefs=Qm(r,!0),n.id=lT(n),n})}function iT(e){return ii(e)||xD(e)}function oT(e){return e!==null}function br(e){return ko(()=>({type:e.type,bootstrap:e.bootstrap||pt,declarations:e.declarations||pt,imports:e.imports||pt,exports:e.exports||pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function sT(e,t){if(e==null)return ur;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=bl.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function aT(e){if(e==null)return ur;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function fe(e){return ko(()=>{let t=u_(e);return d_(t),t})}function Gf(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function u_(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ur,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||pt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sT(e.inputs,t),outputs:aT(e.outputs),debugInfo:null}}function d_(e){e.features?.forEach(t=>t(e))}function Qm(e,t){if(!e)return null;let n=t?AD:iT;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(oT)}function lT(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function cT(e){return Object.getPrototypeOf(e.prototype).constructor}function yt(e){let t=cT(e.type),n=!0,r=[e];for(;t;){let i;if(zt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=_d(e.inputs),s.declaredInputs=_d(e.declaredInputs),s.outputs=_d(e.outputs);let a=i.hostBindings;a&&pT(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&fT(e,l),c&&hT(e,c),uT(e,i),aD(e.outputs,i.outputs),zt(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===yt&&(n=!1)}}t=Object.getPrototypeOf(t)}dT(r)}function uT(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function dT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ui(i.hostAttrs,n=ui(n,i.hostAttrs))}}function _d(e){return e===ur?{}:e===pt?[]:e}function fT(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function hT(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function pT(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function f_(e){return mT(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function gT(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function mT(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function h_(e,t,n){return e[t]=n}function kn(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function p_(e,t,n,r){let i=kn(e,t,n);return kn(e,t+1,r)||i}function vT(e,t,n,r,i,o,s,a,l){let c=t.consts,u=Sl(t,e,4,s||null,a||null);wf()&&qf(t,n,u,ci(c,l),jf),u.mergedAttrs=ui(u.mergedAttrs,u.attrs),Cf(t,u);let f=u.tView=Nf(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}function yT(e,t,n,r,i,o,s,a,l,c){let u=n+et,f=t.firstCreatePass?vT(u,t,e,r,i,o,s,a,l):t.data[u];yr(f,!1);let p=_T(t,e,f,n);ml()&&Dl(t,e,p,f),_i(p,e);let d=n_(p,e,p,f);return e[u]=d,Pf(e,d),tT(d,f,e),dl(f)&&El(t,e,f),l!=null&&Ff(e,f,c),f}function Me(e,t,n,r,i,o,s,a){let l=X(),c=Fe(),u=ci(c.consts,o);return yT(l,c,e,t,n,r,i,u,s,a),Me}var _T=wT;function wT(e,t,n,r){return vl(!0),t[he].createComment("")}var g_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var m_=new R("");var bT=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>new tf})}return e})(),tf=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Fn(e){return!!e&&typeof e.then=="function"}function Kf(e){return!!e&&typeof e.subscribe=="function"}var ET=new R("");var v_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(ET,{optional:!0})??[];injector=C(fn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ot(this.injector,i);if(Fn(o))n.push(o);else if(Kf(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zf=new R("");function DT(){$u(()=>{throw new M(600,!1)})}function CT(e){return e.isBoundToModule}var IT=10;var gr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(VC);afterRenderManager=C(QC);zonelessEnabled=C(py);rootEffectScheduler=C(bT);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ce;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(yi).hasPendingTasks.pipe(W(n=>!n));constructor(){C(wl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=fn.NULL){oe(10);let o=n instanceof o_;if(!this._injector.get(v_).done){let d="";throw new M(405,d)}let a;o?a=n:a=this._injector.get(Tl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=CT(a)?void 0:this._injector.get(fi),c=r||a.selector,u=a.create(i,[],c,l),f=u.location.nativeElement,p=u.injector.get(m_,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Na(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),oe(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new M(101,!1);let n=H(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,H(n),this.afterTick.next(),oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(di,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<IT;)oe(14),this.synchronizeOnce(),oe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)ST(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>fl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Na(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Zf,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Na(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Na(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function ST(e,t,n,r){if(!n&&!fl(e))return;Qy(e,t,n&&!r?0:1)}function Yf(e,t,n,r){let i=X(),o=pl();if(kn(i,o,t)){let s=Fe(),a=gl();VI(a,i,e,t,n,r)}return Yf}function y_(e,t,n,r){return kn(e,pl(),n)?t+ri(n)+r:Yt}function TT(e,t,n,r,i,o){let s=sC(),a=p_(e,s,n,i);return Kv(2),a?t+ri(n)+r+ri(i)+o:Yt}function xa(e,t){return e<<17|t<<2}function mr(e){return e>>17&32767}function MT(e){return(e&2)==2}function xT(e,t){return e&131071|t<<17}function nf(e){return e|2}function hi(e){return(e&131068)>>2}function wd(e,t){return e&-131069|t<<2}function AT(e){return(e&1)===1}function rf(e){return e|1}function RT(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=mr(s),l=hi(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||Po(f,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let p=mr(e[a+1]);e[r+1]=xa(p,a),p!==0&&(e[p+1]=wd(e[p+1],r)),e[a+1]=xT(e[a+1],r)}else e[r+1]=xa(a,0),a!==0&&(e[a+1]=wd(e[a+1],r)),a=r;else e[r+1]=xa(l,0),a===0?a=r:e[l+1]=wd(e[l+1],r),l=r;c&&(e[r+1]=nf(e[r+1])),Xm(e,u,r,!0),Xm(e,u,r,!1),OT(t,u,e,r,o),s=xa(a,l),o?t.classBindings=s:t.styleBindings=s}function OT(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Po(o,t)>=0&&(n[r+1]=rf(n[r+1]))}function Xm(e,t,n,r){let i=e[n+1],o=t===null,s=r?mr(i):hi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];NT(l,t)&&(a=!0,e[s+1]=r?rf(c):nf(c)),s=r?mr(c):hi(c)}a&&(e[n+1]=r?nf(i):rf(i))}function NT(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Po(e,t)>=0:!1}function Z(e,t,n){let r=X(),i=pl();if(kn(r,i,t)){let o=Fe(),s=gl();Lf(o,s,r,e,t,r[he],n,!1)}return Z}function ev(e,t,n,r,i){Vf(t,e,n,i?"class":"style",r)}function jo(e,t,n){return __(e,t,n,!1),jo}function bi(e,t){return __(e,t,null,!0),bi}function __(e,t,n,r){let i=X(),o=Fe(),s=Kv(2);if(o.firstUpdatePass&&PT(o,e,s,r),t!==Yt&&kn(i,s,t)){let a=o.data[_r()];UT(o,a,i,i[he],e,i[s+1]=$T(t,n),r,s)}}function kT(e,t){return t>=e.expandoStartIndex}function PT(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[_r()],s=kT(e,n);BT(o,r)&&t===null&&!s&&(t=!1),t=FT(i,o,t,r),RT(i,o,t,n,s,r)}}function FT(e,t,n,r){let i=dC(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=bd(null,e,t,n,r),n=No(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=bd(i,e,t,n,r),o===null){let l=LT(e,t,r);l!==void 0&&Array.isArray(l)&&(l=bd(null,e,t,l[1],r),l=No(l,t.attrs,r),jT(e,t,r,l))}else o=VT(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function LT(e,t,n){let r=n?t.classBindings:t.styleBindings;if(hi(r)!==0)return e[mr(r)]}function jT(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[mr(i)]=r}function VT(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=No(r,s,n)}return No(r,t.attrs,n)}function bd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=No(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function No(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),TD(e,s,n?!0:t[++o]))}return e===void 0?null:e}function UT(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=AT(c)?tv(l,t,n,i,hi(c),s):void 0;if(!il(u)){il(o)||MT(c)&&(o=tv(l,null,n,i,a,s));let f=Lv(_r(),n);sS(r,s,f,i,o)}}function tv(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,p=n[i+1];p===Yt&&(p=f?pt:void 0);let d=f?ud(p,r):u===r?p:void 0;if(c&&!il(d)&&(d=ud(l,r)),il(d)&&(a=d,s))return a;let g=e[i+1];i=s?mr(g):hi(g)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=ud(l,r))}return a}function il(e){return e!==void 0}function $T(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Qe(Ny(e)))),e}function BT(e,t){return(e.flags&(t?8:16))!==0}function m(e,t,n,r){let i=X(),o=Fe(),s=et+e,a=i[he],l=o.firstCreatePass?a_(s,o,i,t,jf,wf(),n,r):o.data[s],c=HT(o,i,l,a,t,e);i[s]=c;let u=dl(l);return yr(l,!0),Fy(a,c,l),!zy(l)&&ml()&&Dl(o,i,c,l),(QD()===0||u)&&_i(c,i),XD(),u&&(El(o,i,l),Rf(o,l,i)),r!==null&&Ff(i,l),m}function y(){let e=at();bf()?qv():(e=e.parent,yr(e,!1));let t=e;nC(t)&&rC(),eC();let n=Fe();return n.firstCreatePass&&l_(n,t),t.classesWithoutHost!=null&&vC(t)&&ev(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&yC(t)&&ev(n,t,X(),t.stylesWithoutHost,!1),y}function re(e,t,n,r){return m(e,t,n,r),y(),re}var HT=(e,t,n,r,i,o)=>(vl(!0),ky(r,i,pC()));function zT(e,t,n,r,i){let o=t.consts,s=ci(o,r),a=Sl(t,e,8,"ng-container",s);s!==null&&Jd(a,s,!0);let l=ci(o,i);return wf()&&qf(t,n,a,l,jf),a.mergedAttrs=ui(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function Jf(e,t,n){let r=X(),i=Fe(),o=e+et,s=i.firstCreatePass?zT(o,i,r,t,n):i.data[o];yr(s,!0);let a=qT(i,r,s,e);return r[o]=a,ml()&&Dl(i,r,a,s),_i(a,r),dl(s)&&(El(i,r,s),Rf(i,s,r)),n!=null&&Ff(r,s),Jf}function Qf(){let e=at(),t=Fe();return bf()?qv():(e=e.parent,yr(e,!1)),t.firstCreatePass&&(Cf(t,e),vf(e)&&t.queries.elementEnd(e)),Qf}var qT=(e,t,n,r)=>(vl(!0),fI(t[he],""));function _n(){return X()}var sr=void 0;function WT(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var GT=["en",[["a","p"],["AM","PM"],sr],[["AM","PM"],sr,sr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sr,"{1} 'at' {0}",sr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WT],Ed={};function _t(e){let t=KT(e),n=nv(t);if(n)return n;let r=t.split("-")[0];if(n=nv(r),n)return n;if(r==="en")return GT;throw new M(701,!1)}function nv(e){return e in Ed||(Ed[e]=Do.ng&&Do.ng.common&&Do.ng.common.locales&&Do.ng.common.locales[e]),Ed[e]}var pe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(pe||{});function KT(e){return e.toLowerCase().replace(/_/g,"-")}var ol="en-US";var ZT=ol;function YT(e){typeof e=="string"&&(ZT=e.toLowerCase().replace(/_/g,"-"))}function rv(e,t,n){return function r(i){if(i===Function)return n;let o=gi(e)?Wt(e.index,t):t;zf(o,5);let s=t[Xe],a=iv(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=iv(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function iv(e,t,n,r){let i=H(null);try{return oe(6,t,n),n(r)!==!1}catch(o){return JT(e,o),!1}finally{oe(7,t,n),H(i)}}function JT(e,t){let n=e[si],r=n?n.get(hn,null):null;r&&r.handleError(t)}function ov(e,t,n,r,i,o){let s=t[n],a=t[G],c=a.data[n].outputs[r],u=s[c],f=a.firstCreatePass?Hv(a):null,p=Bv(t),d=u.subscribe(o),g=p.length;p.push(o,d),f&&f.push(i,e.index,g,-(g+1))}function _e(e,t,n,r){let i=X(),o=Fe(),s=at();return w_(o,i,i[he],s,e,t,r),_e}function QT(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[$a],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function w_(e,t,n,r,i,o,s){let a=dl(r),c=e.firstCreatePass?Hv(e):null,u=Bv(t),f=!0;if(r.type&3||s){let p=Zt(r,t),d=s?s(p):p,g=u.length,v=s?w=>s(qt(w[r.index])):r.index,_=null;if(!s&&a&&(_=QT(e,t,i,r.index)),_!==null){let w=_.__ngLastListenerFn__||_;w.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1}else{o=rv(r,t,o),eI(t,d,i,o);let w=n.listen(d,i,o);u.push(o,w),c&&c.push(i,v,g,g+1)}}else o=rv(r,t,o);if(f){let p=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let g=0;g<d.length;g+=2){let v=d[g],_=d[g+1];ov(r,t,v,_,i,o)}if(p&&p.length)for(let g of p)ov(r,t,g,i,i,o)}}function lt(e=1){return hC(e)}function Xf(e,t,n,r,i){let o=X(),s=y_(o,t,n,r);if(s!==Yt){let a=Fe(),l=gl();Lf(a,l,o,e,s,o[he],i,!1)}return Xf}function xl(e){let t=oC();return yf(t,et+e)}function b(e,t=""){let n=X(),r=Fe(),i=e+et,o=r.firstCreatePass?Sl(r,i,1,t,null):r.data[i],s=XT(r,n,o,t,e);n[i]=s,ml()&&Dl(r,n,s,o),yr(o,!1)}var XT=(e,t,n,r,i)=>(vl(!0),uI(t[he],r));function wt(e){return Jt("",e,""),wt}function Jt(e,t,n){let r=X(),i=y_(r,e,t,n);return i!==Yt&&b_(r,_r(),i),Jt}function Vo(e,t,n,r,i){let o=X(),s=TT(o,e,t,n,r,i);return s!==Yt&&b_(o,_r(),s),Vo}function b_(e,t,n){let r=Lv(t,e);dI(e[he],r,n)}function Ve(e,t,n){wy(t)&&(t=t());let r=X(),i=pl();if(kn(r,i,t)){let o=Fe(),s=gl();Lf(o,s,r,e,t,r[he],n,!1)}return Ve}function We(e,t){let n=wy(e);return n&&e.set(t),n}function Ue(e,t){let n=X(),r=Fe(),i=at();return w_(r,n,n[he],i,e,t),Ue}function eM(e,t,n){let r=Fe();if(r.firstCreatePass){let i=zt(e);of(n,r.data,r.blueprint,i,!0),of(t,r.data,r.blueprint,i,!1)}}function of(e,t,n,r,i){if(e=ze(e),Array.isArray(e))for(let o=0;o<e.length;o++)of(e[o],t,n,r,i);else{let o=Fe(),s=X(),a=at(),l=oi(e)?e:ze(e.provide),c=Av(e),u=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(oi(e)||!e.multi){let d=new pr(c,i,k),g=Cd(l,t,i?u:u+p,f);g===-1?(Fd(Za(a,s),o,l),Dd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(d),s.push(d)):(n[g]=d,s[g]=d)}else{let d=Cd(l,t,u+p,f),g=Cd(l,t,u,u+p),v=d>=0&&n[d],_=g>=0&&n[g];if(i&&!_||!i&&!v){Fd(Za(a,s),o,l);let w=rM(i?nM:tM,n.length,i,r,c);!i&&_&&(n[g].providerFactory=w),Dd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else{let w=E_(n[i?g:d],c,!i&&r);Dd(o,e,d>-1?d:g,w)}!i&&r&&_&&n[g].componentProviders++}}}function Dd(e,t,n,r){let i=oi(t),o=PD(t);if(i||o){let l=(o?ze(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function E_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function tM(e,t,n,r,i){return sf(this.multi,[])}function nM(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ya(r,r[G],this.providerFactory.index,i);s=l.slice(0,a),sf(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],sf(o,s);return s}function sf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function rM(e,t,n,r,i){let o=new pr(e,n,k);return o.multi=[],o.index=t,o.componentProviders=0,E_(o,i,r&&!n),o}function Ln(e,t=[]){return n=>{n.providersResolver=(r,i)=>eM(r,i?i(e):e,t)}}function D_(e,t){let n=e[t];return n===Yt?void 0:n}function iM(e,t,n,r,i,o){let s=t+n;return kn(e,s,i)?h_(e,s+1,o?r.call(o,i):r(i)):D_(e,s+1)}function oM(e,t,n,r,i,o,s){let a=t+n;return p_(e,a,i,o)?h_(e,a+2,s?r.call(s,i,o):r(i,o)):D_(e,a+2)}function Ei(e,t){let n=Fe(),r,i=e+et;n.firstCreatePass?(r=sM(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=cr(r.type,!0)),s,a=Je(k);try{let l=Ka(!1),c=o();return Ka(l),KD(n,X(),i,c),c}finally{Je(a)}}function sM(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Al(e,t,n){let r=e+et,i=X(),o=yf(i,r);return I_(i,r)?iM(i,Gv(),t,o.transform,n,o):o.transform(n)}function C_(e,t,n,r){let i=e+et,o=X(),s=yf(o,i);return I_(o,i)?oM(o,Gv(),t,s.transform,n,r,s):s.transform(n,r)}function I_(e,t){return e[G].data[t].pure}function S_(e,t){return i_(e,t)}var af=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},T_=(()=>{class e{compileModuleSync(n){return new ef(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Iv(n),o=jy(i.declarations).reduce((s,a)=>{let l=ii(a);return l&&s.push(new Oo(l)),s},[]);return new af(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var aM=(()=>{class e{zone=C(Pe);changeDetectionScheduler=C(Ao);applicationRef=C(gr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lM({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Pe(q(D({},cM()),{scheduleInRootZone:n})),[{provide:Pe,useFactory:e},{provide:To,multi:!0,useFactory:()=>{let r=C(aM,{optional:!0});return()=>r.initialize()}},{provide:To,multi:!0,useFactory:()=>{let r=C(uM);return()=>{r.initialize()}}},t===!0?{provide:gy,useValue:!0}:[],{provide:my,useValue:n??hy}]}function cM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var uM=(()=>{class e{subscription=new ge;initialized=!1;zone=C(Pe);pendingTasks=C(yi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dM=(()=>{class e{appRef=C(gr);taskService=C(yi);ngZone=C(Pe);zonelessEnabled=C(py);tracing=C(wl,{optional:!0});disableScheduling=C(gy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(my,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $d||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Lm:vy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fM(){return typeof $localize<"u"&&$localize.locale||ol}var Rl=new R("",{providedIn:"root",factory:()=>C(Rl,U.Optional|U.SkipSelf)||fM()});var lf=new R(""),hM=new R("");function Eo(e){return!e.moduleRef}function pM(e){let t=Eo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Pe);return n.run(()=>{Eo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(hn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Eo(e)){let o=()=>t.destroy(),s=e.platformInjector.get(lf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(lf);s.add(o),e.moduleRef.onDestroy(()=>{Na(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return mM(r,n,()=>{let o=t.get(v_);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Rl,ol);if(YT(s||ol),!t.get(hM,!0))return Eo(e)?t.get(gr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Eo(e)){let l=t.get(gr);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return gM(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function gM(e,t){let n=e.injector.get(gr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new M(-403,!1);t.push(e)}function mM(e,t,n){try{let r=n();return Fn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var ka=null;function vM(e=[],t){return fn.create({name:t,providers:[{provide:cl,useValue:"platform"},{provide:lf,useValue:new Set([()=>ka=null])},...e]})}function yM(e=[]){if(ka)return ka;let t=vM(e);return ka=t,DT(),_M(t),t}function _M(e){let t=e.get(xf,null);Ot(e,()=>{t?.forEach(n=>n())})}var Di=(()=>{class e{static __NG_ELEMENT_ID__=wM}return e})();function wM(e){return bM(at(),X(),(e&16)===16)}function bM(e,t,n){if(gi(e)&&!n){let r=Wt(e.index,t);return new Ro(r,r)}else if(e.type&175){let r=t[Ht];return new Ro(r,t)}return null}var cf=class{constructor(){}supports(t){return f_(t)}create(t){return new uf(t)}},EM=(e,t)=>t,uf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||EM}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<sv(r,i,o)?n:r,a=sv(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){let d=p<o.length?o[p]:o[p]=0,g=d+p;u<=g&&g<c&&(o[p]=d+1)}let f=s.previousIndex;o[f]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!f_(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,gT(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new df(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new sl),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},df=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},ff=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},sl=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new ff,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function sv(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function av(){return new eh([new cf])}var eh=(()=>{class e{factories;static \u0275prov=O({token:e,providedIn:"root",factory:av});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||av()),deps:[[e,new ID,new CD]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new M(901,!1)}}return e})();function M_(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;oe(8);try{let o=i?.injector??yM(r),s=[lM({}),{provide:Ao,useExisting:dM},...n||[]],a=new rl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return pM({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{oe(9)}}function Ol(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function kt(e){return zu(e)}function Uo(e,t){return Uu(e,t?.equal)}var lv=class{[ht];constructor(t){this[ht]=t}destroy(){this[ht].destroy()}};var $e=new R("");var R_=null;function bt(){return R_}function th(e){R_??=e}var $o=class{},Bo=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>C(O_),providedIn:"platform"})}return e})();var O_=(()=>{class e extends Bo{_location;_history;_doc=C($e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bt().getBaseHref(this._doc)}onPopState(n){let r=bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Nl(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function x_(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Pt(e){return e&&e[0]!=="?"?`?${e}`:e}var jn=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>C(nh),providedIn:"root"})}return e})(),kl=new R(""),nh=(()=>{class e extends jn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Nl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Pt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Pt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Pt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(P(Bo),P(kl,8))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Er=(()=>{class e{_subject=new Ce;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=IM(x_(A_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Pt(r))}normalize(n){return e.stripTrailingSlash(CM(this._basePath,A_(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Pt;static joinWithSlash=Nl;static stripTrailingSlash=x_;static \u0275fac=function(r){return new(r||e)(P(jn))};static \u0275prov=O({token:e,factory:()=>DM(),providedIn:"root"})}return e})();function DM(){return new Er(P(jn))}function CM(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function A_(e){return e.replace(/\/index.html$/,"")}function IM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var ch=(()=>{class e extends jn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Nl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Pt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Pt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(P(Bo),P(kl,8))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();var Be=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Be||{}),te=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(te||{}),tt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(tt||{}),bn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function L_(e){return _t(e)[pe.LocaleId]}function j_(e,t,n){let r=_t(e),i=[r[pe.DayPeriodsFormat],r[pe.DayPeriodsStandalone]],o=Et(i,t);return Et(o,n)}function V_(e,t,n){let r=_t(e),i=[r[pe.DaysFormat],r[pe.DaysStandalone]],o=Et(i,t);return Et(o,n)}function U_(e,t,n){let r=_t(e),i=[r[pe.MonthsFormat],r[pe.MonthsStandalone]],o=Et(i,t);return Et(o,n)}function $_(e,t){let r=_t(e)[pe.Eras];return Et(r,t)}function Ho(e,t){let n=_t(e);return Et(n[pe.DateFormat],t)}function zo(e,t){let n=_t(e);return Et(n[pe.TimeFormat],t)}function qo(e,t){let r=_t(e)[pe.DateTimeFormat];return Et(r,t)}function Wo(e,t){let n=_t(e),r=n[pe.NumberSymbols][t];if(typeof r>"u"){if(t===bn.CurrencyDecimal)return n[pe.NumberSymbols][bn.Decimal];if(t===bn.CurrencyGroup)return n[pe.NumberSymbols][bn.Group]}return r}function B_(e){if(!e[pe.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[pe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function H_(e){let t=_t(e);return B_(t),(t[pe.ExtraData][2]||[]).map(r=>typeof r=="string"?rh(r):[rh(r[0]),rh(r[1])])}function z_(e,t,n){let r=_t(e);B_(r);let i=[r[pe.ExtraData][0],r[pe.ExtraData][1]],o=Et(i,t)||[];return Et(o,n)||[]}function Et(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function rh(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var SM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pl={},TM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function q_(e,t,n,r){let i=FM(e);t=wn(n,t)||t;let s=[],a;for(;t;)if(a=TM.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=G_(r,l),i=PM(i,r));let c="";return s.forEach(u=>{let f=NM(u);c+=f?f(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ul(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function wn(e,t){let n=L_(e);if(Pl[n]??={},Pl[n][t])return Pl[n][t];let r="";switch(t){case"shortDate":r=Ho(e,tt.Short);break;case"mediumDate":r=Ho(e,tt.Medium);break;case"longDate":r=Ho(e,tt.Long);break;case"fullDate":r=Ho(e,tt.Full);break;case"shortTime":r=zo(e,tt.Short);break;case"mediumTime":r=zo(e,tt.Medium);break;case"longTime":r=zo(e,tt.Long);break;case"fullTime":r=zo(e,tt.Full);break;case"short":let i=wn(e,"shortTime"),o=wn(e,"shortDate");r=Fl(qo(e,tt.Short),[i,o]);break;case"medium":let s=wn(e,"mediumTime"),a=wn(e,"mediumDate");r=Fl(qo(e,tt.Medium),[s,a]);break;case"long":let l=wn(e,"longTime"),c=wn(e,"longDate");r=Fl(qo(e,tt.Long),[l,c]);break;case"full":let u=wn(e,"fullTime"),f=wn(e,"fullDate");r=Fl(qo(e,tt.Full),[u,f]);break}return r&&(Pl[n][t]=r),r}function Fl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function Ft(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function MM(e,t){return Ft(e,3).substring(0,t)}function we(e,t,n=0,r=!1,i=!1){return function(o,s){let a=xM(e,o);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return MM(a,t);let l=Wo(s,bn.MinusSign);return Ft(a,t,l,r,i)}}function xM(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function se(e,t,n=Be.Format,r=!1){return function(i,o){return AM(i,o,e,t,n,r)}}function AM(e,t,n,r,i,o){switch(n){case 2:return U_(t,i,r)[e.getMonth()];case 1:return V_(t,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=H_(t),u=z_(t,i,r),f=c.findIndex(p=>{if(Array.isArray(p)){let[d,g]=p,v=s>=d.hours&&a>=d.minutes,_=s<g.hours||s===g.hours&&a<g.minutes;if(d.hours<g.hours){if(v&&_)return!0}else if(v||_)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(f!==-1)return u[f]}return j_(t,i,r)[s<12?0:1];case 3:return $_(t,r)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Ll(e){return function(t,n,r){let i=-1*r,o=Wo(n,bn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Ft(s,2,o)+Ft(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Ft(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Ft(s,2,o)+":"+Ft(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Ft(s,2,o)+":"+Ft(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var RM=0,Vl=4;function OM(e){let t=Ul(e,RM,1).getDay();return Ul(e,0,1+(t<=Vl?Vl:Vl+7)-t)}function W_(e){let t=e.getDay(),n=t===0?-3:Vl-t;return Ul(e.getFullYear(),e.getMonth(),e.getDate()+n)}function ih(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=W_(n),s=OM(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ft(i,e,Wo(r,bn.MinusSign))}}function jl(e,t=!1){return function(n,r){let o=W_(n).getFullYear();return Ft(o,e,Wo(r,bn.MinusSign),t)}}var oh={};function NM(e){if(oh[e])return oh[e];let t;switch(e){case"G":case"GG":case"GGG":t=se(3,te.Abbreviated);break;case"GGGG":t=se(3,te.Wide);break;case"GGGGG":t=se(3,te.Narrow);break;case"y":t=we(0,1,0,!1,!0);break;case"yy":t=we(0,2,0,!0,!0);break;case"yyy":t=we(0,3,0,!1,!0);break;case"yyyy":t=we(0,4,0,!1,!0);break;case"Y":t=jl(1);break;case"YY":t=jl(2,!0);break;case"YYY":t=jl(3);break;case"YYYY":t=jl(4);break;case"M":case"L":t=we(1,1,1);break;case"MM":case"LL":t=we(1,2,1);break;case"MMM":t=se(2,te.Abbreviated);break;case"MMMM":t=se(2,te.Wide);break;case"MMMMM":t=se(2,te.Narrow);break;case"LLL":t=se(2,te.Abbreviated,Be.Standalone);break;case"LLLL":t=se(2,te.Wide,Be.Standalone);break;case"LLLLL":t=se(2,te.Narrow,Be.Standalone);break;case"w":t=ih(1);break;case"ww":t=ih(2);break;case"W":t=ih(1,!0);break;case"d":t=we(2,1);break;case"dd":t=we(2,2);break;case"c":case"cc":t=we(7,1);break;case"ccc":t=se(1,te.Abbreviated,Be.Standalone);break;case"cccc":t=se(1,te.Wide,Be.Standalone);break;case"ccccc":t=se(1,te.Narrow,Be.Standalone);break;case"cccccc":t=se(1,te.Short,Be.Standalone);break;case"E":case"EE":case"EEE":t=se(1,te.Abbreviated);break;case"EEEE":t=se(1,te.Wide);break;case"EEEEE":t=se(1,te.Narrow);break;case"EEEEEE":t=se(1,te.Short);break;case"a":case"aa":case"aaa":t=se(0,te.Abbreviated);break;case"aaaa":t=se(0,te.Wide);break;case"aaaaa":t=se(0,te.Narrow);break;case"b":case"bb":case"bbb":t=se(0,te.Abbreviated,Be.Standalone,!0);break;case"bbbb":t=se(0,te.Wide,Be.Standalone,!0);break;case"bbbbb":t=se(0,te.Narrow,Be.Standalone,!0);break;case"B":case"BB":case"BBB":t=se(0,te.Abbreviated,Be.Format,!0);break;case"BBBB":t=se(0,te.Wide,Be.Format,!0);break;case"BBBBB":t=se(0,te.Narrow,Be.Format,!0);break;case"h":t=we(3,1,-12);break;case"hh":t=we(3,2,-12);break;case"H":t=we(3,1);break;case"HH":t=we(3,2);break;case"m":t=we(4,1);break;case"mm":t=we(4,2);break;case"s":t=we(5,1);break;case"ss":t=we(5,2);break;case"S":t=we(6,1);break;case"SS":t=we(6,2);break;case"SSS":t=we(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Ll(0);break;case"ZZZZZ":t=Ll(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ll(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ll(2);break;default:return null}return oh[e]=t,t}function G_(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function kM(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function PM(e,t,n){let i=e.getTimezoneOffset(),o=G_(t,i);return kM(e,-1*(o-i))}function FM(e){if(N_(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Ul(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(SM))return LM(r)}let t=new Date(e);if(!N_(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function LM(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,l,c),t}function N_(e){return e instanceof Date&&!isNaN(e.valueOf())}var sh=/\s+/,k_=[],Go=(()=>{class e{_ngEl;_renderer;initialClasses=k_;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(sh):k_}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(sh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(sh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(k(Pn),k(wr))};static \u0275dir=fe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var $l=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vn=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $l(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),P_(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);P_(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(k(wi),k(Il),k(eh))};static \u0275dir=fe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function P_(e,t){e.context.$implicit=t.item}var En=(()=>{class e{_viewContainer;_context=new Bl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){F_(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){F_(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(k(wi),k(Il))};static \u0275dir=fe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Bl=class{$implicit=null;ngIf=null};function F_(e,t){if(e&&!e.createEmbeddedView)throw new M(2020,!1)}function K_(e,t){return new M(2100,!1)}var ah=class{createSubscription(t,n){return kt(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){kt(()=>t.unsubscribe())}},lh=class{createSubscription(t,n){return t.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(t){t.unsubscribe()}},jM=new lh,VM=new ah,uh=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Fn(n))return jM;if(Kf(n))return VM;throw K_(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(k(Di,16))};static \u0275pipe=Gf({name:"async",type:e,pure:!1})}return e})();var UM="mediumDate",Z_=new R(""),Y_=new R(""),dh=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??UM,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return q_(n,s,o||this.locale,a)}catch(s){throw K_(e,s.message)}}static \u0275fac=function(r){return new(r||e)(k(Rl,16),k(Z_,24),k(Y_,24))};static \u0275pipe=Gf({name:"date",type:e,pure:!0})}return e})();var Dt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=br({type:e});static \u0275inj=vr({})}return e})();function fh(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var hh="browser",J_="server";function Hl(e){return e===J_}var Ko=class{};var Wl=new R(""),vh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(P(Wl),P(Pe))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),Yo=class{_doc;constructor(t){this._doc=t}manager},zl="ng-app-id";function Q_(e){for(let t of e)t.remove()}function X_(e,t){let n=t.createElement("style");return n.textContent=e,n}function BM(e,t,n,r){let i=e.head?.querySelectorAll(`style[${zl}="${t}"],link[${zl}="${t}"]`);if(i)for(let o of i)o.removeAttribute(zl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function gh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var yh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Hl(o),BM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,X_);r?.forEach(i=>this.addUsage(i,this.external,gh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Q_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Q_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,X_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,gh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(zl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(P($e),P(Mf),P(Af,8),P(Lo))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_h=/%COMP%/g;var tw="%COMP%",HM=`_nghost-${tw}`,zM=`_ngcontent-${tw}`,qM=!0,WM=new R("",{providedIn:"root",factory:()=>qM});function GM(e){return zM.replace(_h,e)}function KM(e){return HM.replace(_h,e)}function nw(e,t){return t.map(n=>n.replace(_h,e))}var wh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Hl(a),this.defaultRenderer=new Jo(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gt.ShadowDom&&(r=q(D({},r),{encapsulation:Gt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ql?i.applyToHost(n):i instanceof Qo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Gt.Emulated:o=new ql(l,c,r,this.appId,u,s,a,f,p);break;case Gt.ShadowDom:return new mh(l,c,n,r,s,a,this.nonce,f,p);default:o=new Qo(l,c,r,u,s,a,f,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(P(vh),P(yh),P(Mf),P(WM),P($e),P(Lo),P(Pe),P(Af),P(wl,8))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),Jo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(ph[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(ew(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(ew(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=ph[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=ph[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(pn.DashCase|pn.Important)?t.style.setProperty(n,r,i&pn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&pn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=bt().getGlobalEventTarget(this.doc,t),!t))throw new M(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function ew(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var mh=class extends Jo{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=nw(i.id,u);for(let p of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=p,this.shadowRoot.appendChild(d)}let f=i.getExternalStyles?.();if(f)for(let p of f){let d=gh(p,o);a&&d.setAttribute("nonce",a),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qo=class extends Jo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?nw(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ql=class extends Qo{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=GM(u),this.hostAttr=KM(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Gl=class e extends $o{supportsDOMEvents=!0;static makeCurrent(){th(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=ZM();return n==null?null:YM(n)}resetBaseElement(){Xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return fh(document.cookie,t)}},Xo=null;function ZM(){return Xo=Xo||document.head.querySelector("base"),Xo?Xo.getAttribute("href"):null}function YM(e){return new URL(e,document.baseURI).pathname}var JM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),iw=(()=>{class e extends Yo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(P($e))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),rw=["alt","control","meta","shift"],QM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ow=(()=>{class e extends Yo{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),rw.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=QM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),rw.forEach(s=>{if(s!==i){let a=XM[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(P($e))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();function bh(e,t,n){return M_(D({rootComponent:e,platformRef:n?.platformRef},ex(t)))}function ex(e){return{appProviders:[...ox,...e?.providers??[]],platformProviders:ix}}function tx(){Gl.makeCurrent()}function nx(){return new hn}function rx(){return Ty(document),document}var ix=[{provide:Lo,useValue:hh},{provide:xf,useValue:tx,multi:!0},{provide:$e,useFactory:rx}];var ox=[{provide:cl,useValue:"root"},{provide:hn,useFactory:nx},{provide:Wl,useClass:iw,multi:!0,deps:[$e]},{provide:Wl,useClass:ow,multi:!0,deps:[$e]},wh,yh,vh,{provide:di,useExisting:wh},{provide:Ko,useClass:JM},[]];var sw=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(P($e))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var V="primary",hs=Symbol("RouteTitle"),Sh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ir(e){return new Sh(e)}function pw(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ax(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Qt(e[n],t[n]))return!1;return!0}function Qt(e,t){let n=e?Th(e):void 0,r=t?Th(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gw(e[i],t[i]))return!1;return!0}function Th(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function gw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function mw(e){return e.length>0?e[e.length-1]:null}function Bn(e){return id(e)?e:Fn(e)?de(Promise.resolve(e)):L(e)}var lx={exact:yw,subset:_w},vw={exact:cx,subset:ux,ignored:()=>!0};function aw(e,t,n){return lx[n.paths](e.root,t.root,n.matrixParams)&&vw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function cx(e,t){return Qt(e,t)}function yw(e,t,n){if(!Dr(e.segments,t.segments)||!Yl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!yw(e.children[r],t.children[r],n))return!1;return!0}function ux(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>gw(e[n],t[n]))}function _w(e,t,n){return ww(e,t,t.segments,n)}function ww(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Dr(i,n)||t.hasChildren()||!Yl(i,n,r))}else if(e.segments.length===n.length){if(!Dr(e.segments,n)||!Yl(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!_w(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Dr(e.segments,i)||!Yl(e.segments,i,r)||!e.children[V]?!1:ww(e.children[V],t,o,r)}}function Yl(e,t,n){return t.every((r,i)=>vw[n](e[i].parameters,r.parameters))}var en=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Y([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ir(this.queryParams),this._queryParamMap}toString(){return hx.serialize(this)}},Y=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}},Un=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ir(this.parameters),this._parameterMap}toString(){return Ew(this)}};function dx(e,t){return Dr(e,t)&&e.every((n,r)=>Qt(n.parameters,t[r].parameters))}function Dr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function fx(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===V&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==V&&(n=n.concat(t(i,r)))}),n}var ps=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>new Sr,providedIn:"root"})}return e})(),Sr=class{parse(t){let n=new xh(t);return new en(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${es(t.root,!0)}`,r=mx(t.queryParams),i=typeof t.fragment=="string"?`#${px(t.fragment)}`:"";return`${n}${r}${i}`}},hx=new Sr;function Jl(e){return e.segments.map(t=>Ew(t)).join("/")}function es(e,t){if(!e.hasChildren())return Jl(e);if(t){let n=e.children[V]?es(e.children[V],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${es(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=fx(e,(r,i)=>i===V?[es(e.children[V],!1)]:[`${i}:${es(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${Jl(e)}/${n[0]}`:`${Jl(e)}/(${n.join("//")})`}}function bw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kl(e){return bw(e).replace(/%3B/gi,";")}function px(e){return encodeURI(e)}function Mh(e){return bw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ql(e){return decodeURIComponent(e)}function lw(e){return Ql(e.replace(/\+/g,"%20"))}function Ew(e){return`${Mh(e.path)}${gx(e.parameters)}`}function gx(e){return Object.entries(e).map(([t,n])=>`;${Mh(t)}=${Mh(n)}`).join("")}function mx(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Kl(n)}=${Kl(i)}`).join("&"):`${Kl(n)}=${Kl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var vx=/^[^\/()?;#]+/;function Eh(e){let t=e.match(vx);return t?t[0]:""}var yx=/^[^\/()?;=#]+/;function _x(e){let t=e.match(yx);return t?t[0]:""}var wx=/^[^=?&#]+/;function bx(e){let t=e.match(wx);return t?t[0]:""}var Ex=/^[^&#]+/;function Dx(e){let t=e.match(Ex);return t?t[0]:""}var xh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[V]=new Y(t,n)),r}parseSegment(){let t=Eh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new Un(Ql(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=_x(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Eh(this.remaining);i&&(r=i,this.capture(r))}t[Ql(n)]=Ql(r)}parseQueryParam(t){let n=bx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Dx(this.remaining);s&&(r=s,this.capture(r))}let i=lw(n),o=lw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Eh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}};function Dw(e){return e.segments.length>0?new Y([],{[V]:e}):e}function Cw(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Cw(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Y(e.segments,t);return Cx(n)}function Cx(e){if(e.numberOfChildren===1&&e.children[V]){let t=e.children[V];return new Y(e.segments.concat(t.segments),t.children)}return e}function Mi(e){return e instanceof en}function Iw(e,t,n=null,r=null){let i=Sw(e);return Tw(i,t,n,r)}function Sw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new Y(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Dw(r);return t??i}function Tw(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Dh(i,i,i,n,r);let o=Ix(t);if(o.toRoot())return Dh(i,i,new Y([],{}),n,r);let s=Sx(o,i,e),a=s.processChildren?ns(s.segmentGroup,s.index,o.commands):xw(s.segmentGroup,s.index,o.commands);return Dh(i,s.segmentGroup,a,n,r)}function ec(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function is(e){return typeof e=="object"&&e!=null&&e.outlets}function Dh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=Mw(e,t,n);let a=Dw(Cw(s));return new en(a,o,i)}function Mw(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Mw(o,t,n)}),new Y(e.segments,r)}var tc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ec(r[0]))throw new M(4003,!1);let i=r.find(is);if(i&&i!==mw(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ix(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new tc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new tc(n,t,r)}var Si=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Sx(e,t,n){if(e.isAbsolute)return new Si(t,!0,0);if(!n)return new Si(t,!1,NaN);if(n.parent===null)return new Si(n,!0,0);let r=ec(e.commands[0])?0:1,i=n.segments.length-1+r;return Tx(n,i,e.numberOfDoubleDots)}function Tx(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Si(r,!1,i-o)}function Mx(e){return is(e[0])?e[0].outlets:{[V]:e}}function xw(e,t,n){if(e??=new Y([],{}),e.segments.length===0&&e.hasChildren())return ns(e,t,n);let r=xx(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Y(e.segments.slice(0,r.pathIndex),{});return o.children[V]=new Y(e.segments.slice(r.pathIndex),e.children),ns(o,0,i)}else return r.match&&i.length===0?new Y(e.segments,{}):r.match&&!e.hasChildren()?Ah(e,t,n):r.match?ns(e,0,i):Ah(e,t,n)}function ns(e,t,n){if(n.length===0)return new Y(e.segments,{});{let r=Mx(n),i={};if(Object.keys(r).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=ns(e.children[V],t,n);return new Y(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(e.segments,i)}}function xx(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(is(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!uw(l,c,s))return o;r+=2}else{if(!uw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ah(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(is(o)){let l=Ax(o.outlets);return new Y(r,l)}if(i===0&&ec(n[0])){let l=e.segments[t];r.push(new Un(l.path,cw(n[0]))),i++;continue}let s=is(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ec(a)?(r.push(new Un(s,cw(a))),i+=2):(r.push(new Un(s,{})),i++)}return new Y(r,{})}function Ax(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Ah(new Y([],{}),0,r))}),t}function cw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function uw(e,t,n){return e==n.path&&Qt(t,n.parameters)}var Xl="imperative",Ae=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ae||{}),ut=class{id;url;constructor(t,n){this.id=t,this.url=n}},Tr=class extends ut{type=Ae.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dn=class extends ut{urlAfterRedirects;type=Ae.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(nt||{}),os=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(os||{}),Xt=class extends ut{reason;code;type=Ae.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cn=class extends ut{reason;code;type=Ae.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},xi=class extends ut{error;target;type=Ae.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ss=class extends ut{urlAfterRedirects;state;type=Ae.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nc=class extends ut{urlAfterRedirects;state;type=Ae.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rc=class extends ut{urlAfterRedirects;state;shouldActivate;type=Ae.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ic=class extends ut{urlAfterRedirects;state;type=Ae.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oc=class extends ut{urlAfterRedirects;state;type=Ae.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sc=class{route;type=Ae.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ac=class{route;type=Ae.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lc=class{snapshot;type=Ae.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cc=class{snapshot;type=Ae.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uc=class{snapshot;type=Ae.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dc=class{snapshot;type=Ae.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var as=class{},Ai=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function Rx(e,t){return e.providers&&!e._injector&&(e._injector=Ml(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Lt(e){return e.outlet||V}function Ox(e,t){let n=e.filter(r=>Lt(r)===t);return n.push(...e.filter(r=>Lt(r)!==t)),n}function gs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var fc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ni(this.rootInjector)}},Ni=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new fc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(P(vt))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Rh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Rh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Oh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Oh(t,this._root).map(n=>n.value)}};function Rh(e,t){if(e===t.value)return t;for(let n of t.children){let r=Rh(e,n);if(r)return r}return null}function Oh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Oh(e,n);if(r.length)return r.unshift(t),r}return[]}var ct=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ii(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ls=class extends hc{snapshot;constructor(t,n){super(t),this.snapshot=n,Uh(this,t)}toString(){return this.snapshot.toString()}};function Aw(e){let t=Nx(e),n=new Ie([new Un("",{})]),r=new Ie({}),i=new Ie({}),o=new Ie({}),s=new Ie(""),a=new $n(n,r,o,s,i,V,e,t.root);return a.snapshot=t.root,new ls(new ct(a,[]),t)}function Nx(e){let t={},n={},r={},i="",o=new Cr([],t,r,i,n,V,e,null,{});return new cs("",new ct(o,[]))}var $n=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(W(c=>c[hs]))??L(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(t=>Ir(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(t=>Ir(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pc(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:D(D({},t.params),e.params),data:D(D({},t.data),e.data),resolve:D(D(D(D({},e.data),t.data),i?.data),e._resolvedData)}:r={params:D({},e.params),data:D({},e.data),resolve:D(D({},e.data),e._resolvedData??{})},i&&Ow(i)&&(r.resolve[hs]=i.title),r}var Cr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hs]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ir(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ir(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},cs=class extends hc{url;constructor(t,n){super(n),this.url=t,Uh(this,n)}toString(){return Rw(this._root)}};function Uh(e,t){t.value._routerState=e,t.children.forEach(n=>Uh(e,n))}function Rw(e){let t=e.children.length>0?` { ${e.children.map(Rw).join(", ")} } `:"";return`${e.value}${t}`}function Ch(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Qt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Qt(t.params,n.params)||e.paramsSubject.next(n.params),ax(t.url,n.url)||e.urlSubject.next(n.url),Qt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Nh(e,t){let n=Qt(e.params,t.params)&&dx(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Nh(e.parent,t.parent))}function Ow(e){return typeof e.title=="string"||e.title===null}var Nw=new R(""),ms=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=V;activateEvents=new Te;deactivateEvents=new Te;attachEvents=new Te;detachEvents=new Te;routerOutletData=_y(void 0);parentContexts=C(Ni);location=C(wi);changeDetector=C(Di);inputBinder=C(yc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new kh(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=fe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vi]})}return e})(),kh=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===$n?this.route:t===Ni?this.childContexts:t===Nw?this.outletData:this.parent.get(t,n)}},yc=new R("");var $h=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=je({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[ms],encapsulation:2})}return e})();function Bh(e){let t=e.children&&e.children.map(Bh),n=t?q(D({},e),{children:t}):D({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=$h),n}function kx(e,t,n){let r=us(e,t._root,n?n._root:void 0);return new ls(r,t)}function us(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=Px(e,t,n);return new ct(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>us(e,a)),s}}let r=Fx(t.value),i=t.children.map(o=>us(e,o));return new ct(r,i)}}function Px(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return us(e,r,i);return us(e,r)})}function Fx(e){return new $n(new Ie(e.url),new Ie(e.params),new Ie(e.queryParams),new Ie(e.fragment),new Ie(e.data),e.outlet,e.component,e)}var Ri=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},kw="ngNavigationCancelingError";function gc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Mi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Pw(!1,nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Pw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[kw]=!0,n.cancellationCode=t,n}function Lx(e){return Fw(e)&&Mi(e.url)}function Fw(e){return!!e&&e[kw]}var jx=(e,t,n,r)=>W(i=>(new Ph(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Ph=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Ch(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ii(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ii(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ii(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ii(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dc(o.value.snapshot))}),t.children.length&&this.forwardEvent(new cc(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Ch(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ch(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},mc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ti=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Vx(e,t,n){let r=e._root,i=t?t._root:null;return ts(r,i,n,[r.value])}function Ux(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ki(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!pv(e)?e:t.get(e):r}function ts(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ii(t);return e.children.forEach(s=>{$x(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rs(a,n.getContext(s),i)),i}function $x(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Bx(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new mc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ts(e,t,a?a.children:null,r,i):ts(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ti(a.outlet.component,s))}else s&&rs(t,a,i),i.canActivateChecks.push(new mc(r)),o.component?ts(e,null,a?a.children:null,r,i):ts(e,null,n,r,i);return i}function Bx(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Dr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Dr(e.url,t.url)||!Qt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nh(e,t)||!Qt(e.queryParams,t.queryParams);case"paramsChange":default:return!Nh(e,t)}}function rs(e,t,n){let r=Ii(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?rs(s,t.children.getContext(o),n):rs(s,null,n):rs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ti(t.outlet.component,i)):n.canDeactivateChecks.push(new Ti(null,i)):n.canDeactivateChecks.push(new Ti(null,i))}function vs(e){return typeof e=="function"}function Hx(e){return typeof e=="boolean"}function zx(e){return e&&vs(e.canLoad)}function qx(e){return e&&vs(e.canActivate)}function Wx(e){return e&&vs(e.canActivateChild)}function Gx(e){return e&&vs(e.canDeactivate)}function Kx(e){return e&&vs(e.canMatch)}function Lw(e){return e instanceof ln||e?.name==="EmptyError"}var Zl=Symbol("INITIAL_VALUE");function Oi(){return xt(e=>Ia(e.map(t=>t.pipe(cn(1),ld(Zl)))).pipe(W(t=>{for(let n of t)if(n!==!0){if(n===Zl)return Zl;if(n===!1||Zx(n))return n}return!0}),Mt(t=>t!==Zl),cn(1)))}function Zx(e){return Mi(e)||e instanceof Ri}function Yx(e,t){return Se(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?L(q(D({},n),{guardsResult:!0})):Jx(s,r,i,e).pipe(Se(a=>a&&Hx(a)?Qx(r,o,e,t):L(a)),W(a=>q(D({},n),{guardsResult:a})))})}function Jx(e,t,n,r){return de(e).pipe(Se(i=>rA(i.component,i.route,n,t,r)),un(i=>i!==!0,!0))}function Qx(e,t,n,r){return de(t).pipe(Jr(i=>Yr(eA(i.route.parent,r),Xx(i.route,r),nA(e,i.path,n),tA(e,i.route,n))),un(i=>i!==!0,!0))}function Xx(e,t){return e!==null&&t&&t(new uc(e)),L(!0)}function eA(e,t){return e!==null&&t&&t(new lc(e)),L(!0)}function tA(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let i=r.map(o=>Sa(()=>{let s=gs(t)??n,a=ki(o,s),l=qx(a)?a.canActivate(t,e):Ot(s,()=>a(t,e));return Bn(l).pipe(un())}));return L(i).pipe(Oi())}function nA(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Ux(s)).filter(s=>s!==null).map(s=>Sa(()=>{let a=s.guards.map(l=>{let c=gs(s.node)??n,u=ki(l,c),f=Wx(u)?u.canActivateChild(r,e):Ot(c,()=>u(r,e));return Bn(f).pipe(un())});return L(a).pipe(Oi())}));return L(o).pipe(Oi())}function rA(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let s=o.map(a=>{let l=gs(t)??i,c=ki(a,l),u=Gx(c)?c.canDeactivate(e,t,n,r):Ot(l,()=>c(e,t,n,r));return Bn(u).pipe(un())});return L(s).pipe(Oi())}function iA(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return L(!0);let o=i.map(s=>{let a=ki(s,e),l=zx(a)?a.canLoad(t,n):Ot(e,()=>a(t,n));return Bn(l)});return L(o).pipe(Oi(),jw(r))}function jw(e){return Ju(ke(t=>{if(typeof t!="boolean")throw gc(e,t)}),W(t=>t===!0))}function oA(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return L(!0);let o=i.map(s=>{let a=ki(s,e),l=Kx(a)?a.canMatch(t,n):Ot(e,()=>a(t,n));return Bn(l)});return L(o).pipe(Oi(),jw(r))}var ds=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},fs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Ci(e){return Zr(new ds(e))}function sA(e){return Zr(new M(4e3,!1))}function aA(e){return Zr(Pw(!1,nt.GuardRejected))}var Fh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return L(r);if(i.numberOfChildren>1||!i.children[V])return sA(`${t.redirectTo}`);i=i.children[V]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:f,outlet:p,params:d,data:g,title:v}=i,_=Ot(o,()=>a({params:d,data:g,queryParams:l,fragment:c,routeConfig:u,url:f,outlet:p,title:v}));if(_ instanceof en)throw new fs(_);n=_}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new fs(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new en(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Y(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Lh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lA(e,t,n,r,i){let o=Vw(e,t,n);return o.matched?(r=Rx(t,r),oA(r,t,n,i).pipe(W(s=>s===!0?o:D({},Lh)))):L(o)}function Vw(e,t,n){if(t.path==="**")return cA(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?D({},Lh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||pw)(n,e,t);if(!i)return D({},Lh);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cA(e){return{matched:!0,parameters:e.length>0?mw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function dw(e,t,n,r){return n.length>0&&fA(e,n,r)?{segmentGroup:new Y(t,dA(r,new Y(n,e.children))),slicedSegments:[]}:n.length===0&&hA(e,n,r)?{segmentGroup:new Y(e.segments,uA(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Y(e.segments,e.children),slicedSegments:n}}function uA(e,t,n,r){let i={};for(let o of n)if(_c(e,t,o)&&!r[Lt(o)]){let s=new Y([],{});i[Lt(o)]=s}return D(D({},r),i)}function dA(e,t){let n={};n[V]=t;for(let r of e)if(r.path===""&&Lt(r)!==V){let i=new Y([],{});n[Lt(r)]=i}return n}function fA(e,t,n){return n.some(r=>_c(e,t,r)&&Lt(r)!==V)}function hA(e,t,n){return n.some(r=>_c(e,t,r))}function _c(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pA(e,t,n){return t.length===0&&!e.children[n]}var jh=class{};function gA(e,t,n,r,i,o,s="emptyOnly"){return new Vh(e,t,n,r,i,s,o).recognize()}var mA=31,Vh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Fh(this.urlSerializer,this.urlTree)}noMatchError(t){return new M(4002,`'${t.segmentGroup}'`)}recognize(){let t=dw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(W(({children:n,rootSnapshot:r})=>{let i=new ct(r,n),o=new cs("",i),s=Iw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Cr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,V,n).pipe(W(r=>({children:r,rootSnapshot:n})),An(r=>{if(r instanceof fs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ds?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(W(s=>s instanceof ct?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return de(o).pipe(Jr(s=>{let a=r.children[s],l=Ox(n,s);return this.processSegmentGroup(t,l,a,s,i)}),ad((s,a)=>(s.push(...a),s)),Rn(null),sd(),Se(s=>{if(s===null)return Ci(r);let a=Uw(s);return vA(a),L(a)}))}processSegment(t,n,r,i,o,s,a){return de(n).pipe(Jr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(An(c=>{if(c instanceof ds)return L(null);throw c}))),un(l=>!!l),An(l=>{if(Lw(l))return pA(r,i,o)?L(new jh):Ci(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Lt(r)!==s&&(s===V||!_c(i,o,r))?Ci(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):Ci(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:p}=Vw(n,i,o);if(!l)return Ci(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mA&&(this.allowRedirects=!1));let d=new Cr(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,fw(i),Lt(i),i.component??i._loadedComponent??null,i,hw(i)),g=pc(d,a,this.paramsInheritanceStrategy);d.params=Object.freeze(g.params),d.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,d,t);return this.applyRedirects.lineralizeSegments(i,v).pipe(Se(_=>this.processSegment(t,r,n,_.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=lA(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(xt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(xt(({routes:c})=>{let u=r._loadedInjector??t,{parameters:f,consumedSegments:p,remainingSegments:d}=l,g=new Cr(p,f,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,fw(r),Lt(r),r.component??r._loadedComponent??null,r,hw(r)),v=pc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:w}=dw(n,p,d,c);if(w.length===0&&_.hasChildren())return this.processChildren(u,c,_,g).pipe(W(I=>new ct(g,I)));if(c.length===0&&w.length===0)return L(new ct(g,[]));let B=Lt(r)===o;return this.processSegment(u,c,_,w,B?V:o,!0,g).pipe(W(I=>new ct(g,I instanceof ct?[I]:[])))}))):Ci(n)))}getChildConfig(t,n,r){return n.children?L({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?L({routes:n._loadedRoutes,injector:n._loadedInjector}):iA(t,n,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(t,n).pipe(ke(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):aA(n))):L({routes:[],injector:t})}};function vA(e){e.sort((t,n)=>t.value.outlet===V?-1:n.value.outlet===V?1:t.value.outlet.localeCompare(n.value.outlet))}function yA(e){let t=e.value.routeConfig;return t&&t.path===""}function Uw(e){let t=[],n=new Set;for(let r of e){if(!yA(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=Uw(r.children);t.push(new ct(r.value,i))}return t.filter(r=>!n.has(r))}function fw(e){return e.data||{}}function hw(e){return e.resolve||{}}function _A(e,t,n,r,i,o){return Se(s=>gA(e,t,n,r,s.extractedUrl,i,o).pipe(W(({state:a,tree:l})=>q(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function wA(e,t){return Se(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return L(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of $w(l))s.add(c);let a=0;return de(s).pipe(Jr(l=>o.has(l)?bA(l,r,e,t):(l.data=pc(l,l.parent,e).resolve,L(void 0))),ke(()=>a++),Qr(1),Se(l=>a===s.size?L(n):Ze))})}function $w(e){let t=e.children.map(n=>$w(n)).flat();return[e,...t]}function bA(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Ow(i)&&(o[hs]=i.title),EA(o,e,t,r).pipe(W(s=>(e._resolvedData=s,e.data=pc(e,e.parent,n).resolve,null)))}function EA(e,t,n,r){let i=Th(e);if(i.length===0)return L({});let o={};return de(i).pipe(Se(s=>DA(e[s],t,n,r).pipe(un(),ke(a=>{if(a instanceof Ri)throw gc(new Sr,a);o[s]=a}))),Qr(1),W(()=>o),An(s=>Lw(s)?Ze:Zr(s)))}function DA(e,t,n,r){let i=gs(t)??r,o=ki(e,i),s=o.resolve?o.resolve(t,n):Ot(i,()=>o(t,n));return Bn(s)}function Ih(e){return xt(t=>{let n=e(t);return n?de(n).pipe(W(()=>t)):L(t)})}var Hh=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===V);return r}getResolvedTitleForRoute(n){return n.data[hs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>C(Bw),providedIn:"root"})}return e})(),Bw=(()=>{class e extends Hh{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(P(sw))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ys=new R("",{providedIn:"root",factory:()=>({})}),_s=new R(""),Hw=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(T_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return L(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Bn(n.loadComponent()).pipe(W(qw),ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),bo(()=>{this.componentLoaders.delete(n)})),i=new Kr(r,()=>new Ce).pipe(Gr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=zw(r,this.compiler,n,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(r)})),s=new Kr(o,()=>new Ce).pipe(Gr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zw(e,t,n,r){return Bn(e.loadChildren()).pipe(W(qw),Se(i=>i instanceof Wf||Array.isArray(i)?L(i):de(t.compileModuleAsync(i))),W(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(_s,[],{optional:!0,self:!0}).flat()),{routes:s.map(Bh),injector:o}}))}function CA(e){return e&&typeof e=="object"&&"default"in e}function qw(e){return CA(e)?e.default:e}var wc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>C(IA),providedIn:"root"})}return e})(),IA=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ww=new R("");var Gw=new R(""),Kw=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ce;transitionAbortSubject=new Ce;configLoader=C(Hw);environmentInjector=C(vt);destroyRef=C(yl);urlSerializer=C(ps);rootContexts=C(Ni);location=C(Er);inputBindingEnabled=C(yc,{optional:!0})!==null;titleStrategy=C(Hh);options=C(ys,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(wc);createViewTransition=C(Ww,{optional:!0});navigationErrorHandler=C(Gw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>L(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new sc(i)),r=i=>this.events.next(new ac(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(q(D({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Ie(null),this.transitions.pipe(Mt(r=>r!==null),xt(r=>{let i=!1,o=!1;return L(r).pipe(xt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",nt.SupersededByNewNavigation),Ze;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?q(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Cn(s.id,this.urlSerializer.serialize(s.rawUrl),c,os.IgnoredSameUrlNavigation)),s.resolve(!1),Ze}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return L(s).pipe(xt(c=>(this.events.next(new Tr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ze:Promise.resolve(c))),_A(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=q(D({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new ss(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:f,restoredState:p,extras:d}=s,g=new Tr(c,this.urlSerializer.serialize(u),f,p);this.events.next(g);let v=Aw(this.rootComponentType).snapshot;return this.currentTransition=r=q(D({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:q(D({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,L(r)}else{let c="";return this.events.next(new Cn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,os.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ze}}),ke(s=>{let a=new nc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),W(s=>(this.currentTransition=r=q(D({},s),{guards:Vx(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Yx(this.environmentInjector,s=>this.events.next(s)),ke(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw gc(this.urlSerializer,s.guardsResult);let a=new rc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Mt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",nt.GuardRejected),!1)),Ih(s=>{if(s.guards.canActivateChecks.length!==0)return L(s).pipe(ke(a=>{let l=new ic(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),xt(a=>{let l=!1;return L(a).pipe(wA(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",nt.NoDataFromResolver)}}))}),ke(a=>{let l=new oc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Ih(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(ke(u=>{l.component=u}),W(()=>{})));for(let u of l.children)c.push(...a(u));return c};return Ia(a(s.targetSnapshot.root)).pipe(Rn(null),cn(1))}),Ih(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?de(l).pipe(W(()=>r)):L(r)}),W(s=>{let a=kx(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=q(D({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ke(()=>{this.events.next(new as)}),jx(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),cn(1),ke({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),cd(this.transitionAbortSubject.pipe(ke(s=>{throw s}))),bo(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),An(s=>{if(this.destroyed)return r.resolve(!1),Ze;if(o=!0,Fw(s))this.events.next(new Xt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Lx(s)?this.events.next(new Ai(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new xi(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Ot(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ri){let{message:c,cancellationCode:u}=gc(this.urlSerializer,l);this.events.next(new Xt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Ai(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Ze}))}))}cancelNavigationTransition(n,r,i){let o=new Xt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SA(e){return e!==Xl}var Zw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>C(TA),providedIn:"root"})}return e})(),vc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},TA=(()=>{class e extends vc{static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(e)))(i||e)}})();static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yw=(()=>{class e{urlSerializer=C(ps);options=C(ys,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(Er);urlHandlingStrategy=C(wc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new en;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof en?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Aw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>C(MA),providedIn:"root"})}return e})(),MA=(()=>{class e extends Yw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Tr?this.updateStateMemento():n instanceof Cn?this.commitTransition(r):n instanceof ss?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof as?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Xt&&(n.code===nt.GuardRejected||n.code===nt.NoDataFromResolver)?this.restoreHistory(r):n instanceof xi?this.restoreHistory(r,!0):n instanceof Dn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=D(D({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=D(D({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(e)))(i||e)}})();static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zh(e,t){e.events.pipe(Mt(n=>n instanceof Dn||n instanceof Xt||n instanceof xi||n instanceof Cn),W(n=>n instanceof Dn||n instanceof Cn?0:(n instanceof Xt?n.code===nt.Redirect||n.code===nt.SupersededByNewNavigation:!1)?2:1),Mt(n=>n!==2),cn(1)).subscribe(()=>{t()})}var xA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ct=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(g_);stateManager=C(Yw);options=C(ys,{optional:!0})||{};pendingTasks=C(yi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(Kw);urlSerializer=C(ps);location=C(Er);urlHandlingStrategy=C(wc);_events=new Ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(Zw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(_s,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(yc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ge;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Xt&&r.code!==nt.Redirect&&r.code!==nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dn)this.navigated=!0;else if(r instanceof Ai){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=D({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SA(i.source)},s);this.scheduleNavigation(a,Xl,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}OA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=D({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Bh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let p=i?i.snapshot:this.routerState.snapshot.root;f=Sw(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return Tw(f,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Mi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xl,null,r)}navigate(n,r={skipLocationChange:!1}){return RA(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=D({},xA):r===!1?i=D({},AA):i=r,Mi(n))return aw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return aw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,p)=>{a=f,l=p});let u=this.pendingTasks.add();return zh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RA(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new M(4008,!1)}function OA(e){return!(e instanceof as)&&!(e instanceof Ai)}var kA=new R("");function qh(e,...t){return Sv([{provide:_s,multi:!0,useValue:e},[],{provide:$n,useFactory:PA,deps:[Ct]},{provide:Zf,multi:!0,useFactory:LA},t.map(n=>n.\u0275providers)])}function PA(e){return e.routerState.root}function FA(e,t){return{\u0275kind:e,\u0275providers:t}}function LA(){let e=C(fn);return t=>{let n=e.get(gr);if(t!==n.components[0])return;let r=e.get(Ct),i=e.get(jA);e.get(VA)===1&&r.initialNavigation(),e.get(UA,null,U.Optional)?.setUpPreloading(),e.get(kA,null,U.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jA=new R("",{factory:()=>new Ce}),VA=new R("",{providedIn:"root",factory:()=>1});var UA=new R("");function Wh(){return FA(6,[{provide:jn,useClass:ch}])}var ug=CE(U0(),1),{PostgrestError:s3,FunctionsHttpError:a3,FunctionsFetchError:l3,FunctionsRelayError:c3,FunctionsError:u3,FunctionRegion:d3,SupabaseClient:f3,createClient:$0,GoTrueAdminApi:h3,GoTrueClient:p3,AuthAdminApi:g3,AuthClient:m3,navigatorLock:v3,NavigatorLockAcquireTimeoutError:y3,lockInternals:_3,processLock:w3,SIGN_OUT_SCOPES:b3,AuthError:E3,AuthApiError:D3,AuthUnknownError:C3,CustomAuthError:I3,AuthSessionMissingError:S3,AuthInvalidTokenResponseError:T3,AuthInvalidCredentialsError:M3,AuthImplicitGrantRedirectError:x3,AuthPKCEGrantCodeExchangeError:A3,AuthRetryableFetchError:R3,AuthWeakPasswordError:O3,AuthInvalidJwtError:N3,isAuthError:k3,isAuthApiError:P3,isAuthSessionMissingError:F3,isAuthImplicitGrantRedirectError:L3,isAuthRetryableFetchError:j3,isAuthWeakPasswordError:V3,RealtimePresence:U3,RealtimeChannel:$3,RealtimeClient:B3,REALTIME_LISTEN_TYPES:H3,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:z3,REALTIME_PRESENCE_LISTEN_EVENTS:q3,REALTIME_SUBSCRIBE_STATES:W3,REALTIME_CHANNEL_STATES:G3}=ug.default||ug;var it=class e{supabase;constructor(){this.supabase=$0("https://xnhkyqflvfqjbmcbzzct.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuaGt5cWZsdmZxamJtY2J6emN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MDE5NDUsImV4cCI6MjA4MDk3Nzk0NX0.0Wjj_6kClOznswEo2hijdOf9XQ75WwfhkeWXRfEw9jI")}signInWithEmail(t,n){return this.supabase.auth.signInWithPassword({email:t,password:n})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/sportscenterchampionships/"}})}get client(){return this.supabase}getUser(){return this.supabase.auth.getUser().then(t=>t.data.user)}signUp(t,n){return this.supabase.auth.signUp({email:t,password:n,options:{emailRedirectTo:window.location.origin+"/sportscenterchampionships/"}})}signIn(t,n){return this.supabase.auth.signInWithPassword({email:t,password:n})}signOut(){return this.supabase.auth.signOut()}getPublicAvatarUrl(t){return this.supabase.storage.from("avatars").getPublicUrl(t).data.publicUrl}uploadAvatar(t){return h(this,null,function*(){let n=yield this.getUser();if(!n)throw new Error("User not authenticated");let r=`avatars/${n.id}.jpg`,{error:i}=yield this.supabase.storage.from("avatars").upload(r,t,{upsert:!0});if(i)throw i;let{data:o}=this.supabase.storage.from("avatars").getPublicUrl(r);return o.publicUrl})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})};var au=class e{constructor(t){this.supabase=t}ngOnInit(){}static \u0275fac=function(n){return new(n||e)(k(it))};static \u0275cmp=je({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&re(0,"router-outlet")},dependencies:[ms],encapsulation:2})};var lu=class e{constructor(t,n){this.sb=t;this.router=n;this.sb.supabase.auth.getSession().then(({data:r})=>{this._user$.next(r.session?.user??null)}),this.sb.supabase.auth.onAuthStateChange((r,i)=>h(this,null,function*(){if(this._user$.next(i?.user??null),console.log(i?.user),i?.user){let{data:o}=yield this.sb.supabase.from("users").select("mail").eq("mail",this._user$.value.email).single();o?this.router.navigate(["/user-dashboard"]):this.router.navigate(["/user-onboarding"])}}))}_user$=new Ie(null);user$=this._user$.asObservable();logout(){return h(this,null,function*(){yield this.sb.supabase.auth.signOut()})}static \u0275fac=function(n){return new(n||e)(P(it),P(Ct))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})};function hO(e,t){if(e&1){let n=_n();Jf(0),m(1,"button",14),_e("click",function(){ve(n);let i=lt();return ye(i.logout())}),b(2," Logout "),y(),re(3,"img",15),Qf()}if(e&2){let n=t.ngIf;x(3),Z("src",(n.user_metadata==null?null:n.user_metadata.avatar_url)||"assets/images/default-avatar.png",yn)}}function pO(e,t){if(e&1){let n=_n();m(0,"button",14),_e("click",function(){ve(n);let i=lt();return ye(i.login())}),b(1," Login "),y()}}function gO(e,t){if(e&1){let n=_n();m(0,"li",16)(1,"button",14),_e("click",function(){ve(n);let i=lt();return ye(i.logout())}),b(2," Logout "),y(),re(3,"img",15),y()}if(e&2){let n=t.ngIf;x(3),Z("src",(n.user_metadata==null?null:n.user_metadata.avatar_url)||"assets/images/default-avatar.jpg",yn)}}function mO(e,t){if(e&1){let n=_n();m(0,"li",16)(1,"button",14),_e("click",function(){ve(n);let i=lt();return ye(i.login())}),b(2," Login "),y()()}}var cu=class e{constructor(t,n,r){this.authService=t;this.supabase=n;this.router=r;this.user$=this.authService.user$}user$;login(){this.router.navigateByUrl("/login")}logout(){this.authService.logout()}loginWithGoogle(){this.supabase.signInWithGoogle()}static \u0275fac=function(n){return new(n||e)(k(lu),k(it),k(Ct))};static \u0275cmp=je({type:e,selectors:[["app-header"]],decls:30,vars:10,consts:[["showLogin",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","main-navbar"],[1,"container-fluid","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler","d-lg-none","me-2"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand","fw-bold","d-none","d-lg-block"],[1,"flex-grow-1"],[1,"d-lg-none","d-flex","align-items-center","gap-2"],[4,"ngIf","ngIfElse"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0","align-items-center"],[1,"nav-item"],["href","#",1,"nav-link"],["class","nav-item ms-3 d-none d-lg-flex align-items-center gap-2",4,"ngIf"],[1,"btn","btn-light","btn-sm","rounded-pill","fw-bold",3,"click"],["alt","avatar",1,"user-avatar",3,"src"],[1,"nav-item","ms-3","d-none","d-lg-flex","align-items-center","gap-2"]],template:function(n,r){if(n&1&&(m(0,"nav",1)(1,"div",2)(2,"button",3),re(3,"span",4),y(),m(4,"a",5),b(5," Sports Championships "),y(),re(6,"div",6),m(7,"div",7),Me(8,hO,4,1,"ng-container",8),Ei(9,"async"),Me(10,pO,2,0,"ng-template",null,0,S_),y(),m(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),b(16,"Inicio"),y()(),m(17,"li",11)(18,"a",12),b(19,"Campeonatos"),y()(),m(20,"li",11)(21,"a",12),b(22,"Equipos"),y()(),m(23,"li",11)(24,"a",12),b(25,"Resultados"),y()(),Me(26,gO,4,1,"li",13),Ei(27,"async"),Me(28,mO,3,0,"li",13),Ei(29,"async"),y()()()()),n&2){let i=xl(11);x(8),Z("ngIf",Al(9,4,r.user$))("ngIfElse",i),x(18),Z("ngIf",Al(27,6,r.user$)),x(2),Z("ngIf",Al(29,8,r.user$)===null)}},dependencies:[Dt,En,uh],styles:[".main-navbar[_ngcontent-%COMP%]{background:transparent;padding:.75rem 1rem;z-index:3}.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.7);transition:all .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3}.btn-light[_ngcontent-%COMP%]{color:#333;transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border:2px solid #fff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px;border-radius:.5rem}.navbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.35rem 1rem;font-size:.875rem}.main-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 6px #00000040}.navbar-collapse[_ngcontent-%COMP%]{background-color:#0f172af2;margin-top:.5rem}"]})};var uu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=je({type:e,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"app-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-links"],["href","#"],[1,"footer-bottom"]],template:function(n,r){n&1&&(m(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),b(4,"Sports Championships"),y(),m(5,"p"),b(6,"Organiza, compite y disfruta de tu deporte favorito"),y()(),m(7,"div",3)(8,"a",4),b(9,"Aviso legal"),y(),m(10,"a",4),b(11,"Privacidad"),y()()(),m(12,"div",5),b(13," \xA9 2025 Sports Center Championships \xB7 Todos los derechos reservados "),y()())},styles:[".app-footer[_ngcontent-%COMP%]{background:#0f172a;color:#cbd5e1;padding:1rem;margin-top:4rem}.footer-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:2rem;text-align:center}.footer-brand[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#fff}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;font-size:.9rem;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.8rem;color:#94a3b8}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;text-align:left}.footer-links[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};function vO(e,t){if(e&1&&(m(0,"div",21),re(1,"img",22),m(2,"div",23)(3,"div",24)(4,"small",25),b(5),y(),m(6,"div",26),b(7),y(),m(8,"small",27),b(9),Ei(10,"date"),y(),re(11,"br"),m(12,"small",27),b(13),y()()()()),e&2){let n=t.$implicit,r=lt();x(),Z("src",r.getGameImage(n.type),yn),x(4),Jt(" ",n.type," "),x(2),Vo(" ",n.team1_name," vs ",n.team2_name," "),x(2),Jt(" ",C_(10,6,n.date,"dd MMM \xB7 HH:mm")," "),x(4),Jt(" \u{1F4CD} ",n.location," ")}}function yO(e,t){if(e&1&&(m(0,"div",28)(1,"div",29),re(2,"div",30),m(3,"div",31)(4,"h5",32),b(5),y(),m(6,"small",27),b(7),y()()()()),e&2){let n=t.$implicit;x(2),jo("background-image","url("+n.image+")"),x(),Z("ngClass",n.color),x(2),wt(n.name),x(2),wt(n.nextEvent)}}var du=class e{sports=[{id:4,name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",nextEvent:"28 Sep \xB7 21:00"},{id:3,name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",nextEvent:"25 Sep \xB7 10:00"},{id:2,name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",nextEvent:"22 Sep \xB7 19:30"},{id:1,name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",nextEvent:"20 Sep \xB7 18:00"}];games=[{competition_id:1,team1_name:"Ace Masters",team2_name:"Clay Warriors",date:"2025-01-22T18:30:00",type:"tennis",location:"Club Deportivo Central"},{competition_id:2,team1_name:"Padel Smash",team2_name:"Golden Racket",date:"2025-01-25T19:00:00",type:"padel",location:"Padel Center Norte"},{competition_id:1,team1_name:"Topspin United",team2_name:"Baseline Kings",date:"2025-01-24T20:00:00",type:"tennis",location:"Real Club de Tenis"},{competition_id:2,team1_name:"Red Net Padel",team2_name:"Vibora Team",date:"2025-01-27T21:00:00",type:"padel",location:"Urban Padel Club"},{competition_id:3,team1_name:"Match Point",team2_name:"Deuce Squad",date:"2025-01-29T18:00:00",type:"tennis",location:"Complejo Deportivo Municipal"}];getGameImage(t){switch(t){case"tennis":return"assets/images/sports/tennis/tennis-field-1.jpeg";case"padel":return"assets/images/sports/padel/padel-field-1.jpeg";default:return"assets/images/default-field.jpeg"}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=je({type:e,selectors:[["app-home"]],decls:48,vars:2,consts:[[1,"hero-header"],[1,"hero-overlay"],[1,"container","hero-content"],[1,"display-5","fw-bold","text-white"],[1,"text-white-50","mt-2"],[1,"next-games-section"],[1,"container"],[1,"fw-bold","mb-3"],[1,"next-games-scroll"],["class","next-game-card",4,"ngFor","ngForOf"],[1,"sports-section"],[1,"fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"features-section"],[1,"row","g-4","text-center"],[1,"col-12","col-md-4"],[1,"feature-item"],[1,"feature-icon","icon-league"],[1,"feature-icon","icon-notify"],[1,"feature-icon","icon-free"],[1,"next-game-card"],["alt","Campo de juego",1,"next-game-img",3,"src"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"badge","bg-dark","text-uppercase","mb-1"],[1,"fw-semibold","small"],[1,"text-white-50"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"sport-card","shadow-sm","h-100"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],[1,"text-white","fw-bold","mb-1"]],template:function(n,r){n&1&&(m(0,"section",0),re(1,"app-header")(2,"div",1),m(3,"div",2)(4,"h1",3),b(5," App organizador de eventos deportivos "),y(),m(6,"p",4),b(7," Crea, gestiona y compite en ligas de tu deporte favorito "),y()()(),m(8,"section",5)(9,"div",6)(10,"h2",7),b(11,"Pr\xF3ximos partidos"),y(),m(12,"div",8),Me(13,vO,14,9,"div",9),y()()(),m(14,"section",10)(15,"div",6)(16,"h2",11),b(17,"Deportes"),y(),m(18,"div",12),Me(19,yO,8,5,"div",13),y()()(),m(20,"section",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),b(26,"\u{1F3C6}"),y(),m(27,"h5"),b(28,"Crea y compite"),y(),m(29,"p"),b(30,"Crea y ap\xFAntate a ligas de tu deporte favorito"),y()()(),m(31,"div",16)(32,"div",17)(33,"div",19),b(34,"\u{1F514}"),y(),m(35,"h5"),b(36,"Notificaciones"),y(),m(37,"p"),b(38,"Recibe avisos de partidos, resultados y cambios"),y()()(),m(39,"div",16)(40,"div",17)(41,"div",20),b(42,"\u{1F389}"),y(),m(43,"h5"),b(44,"100% gratis"),y(),m(45,"p"),b(46,"Sin costes ocultos, ahora y siempre"),y()()()()()(),re(47,"app-footer")),n&2&&(x(13),Z("ngForOf",r.games),x(6),Z("ngForOf",r.sports))},dependencies:[Dt,Go,Vn,dh,cu,uu],styles:[".hero-header[_ngcontent-%COMP%]{position:relative;min-height:45vh;background-image:url(/sportscenterchampionships/assets/images/homeHeader.jpeg);background-size:cover;background-position:center;display:flex;flex-direction:column}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0000,#00000080);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:auto;padding-bottom:3rem;max-width:720px}@media (max-width: 768px){.hero-header[_ngcontent-%COMP%]{min-height:23vh}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.title-section[_ngcontent-%COMP%]{position:relative;height:40vh;overflow:hidden;display:flex;align-items:center}.title-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}.title-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:720px}.sports-section[_ngcontent-%COMP%]{margin-top:.5rem}.sport-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.sport-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 25px #0003}.sport-image[_ngcontent-%COMP%]{height:180px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:16px}.features-section[_ngcontent-%COMP%]{padding:3rem 0;background-color:#f8f9fa}.feature-item[_ngcontent-%COMP%]{padding:1.75rem 1.25rem;border-radius:16px;background:#fff;height:100%;transition:transform .25s ease,box-shadow .25s ease}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014}.feature-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto .75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff}.feature-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.35rem;color:#222}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;line-height:1.4}@media (max-width: 576px){.feature-item[_ngcontent-%COMP%]{padding:1.25rem}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.icon-league[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7fa9c4,#6c96b1)}.icon-notify[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fbf9f,#7eaf90)}.icon-free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f2b36d,#c97a5a)}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:.5rem;font-weight:600;color:#222}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.5;margin:0}@media (min-width: 768px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.title-section[_ngcontent-%COMP%]{margin-top:3.4rem;height:10vh}.title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.sport-image[_ngcontent-%COMP%]{height:110px}@media (max-width: 576px){.sports-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.sport-body[_ngcontent-%COMP%]{padding:12px}.sport-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.95rem}.sport-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 768px){.sport-image[_ngcontent-%COMP%]{height:180px}}.next-games-section[_ngcontent-%COMP%]{padding:2.5rem 0}.next-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem;scroll-snap-type:x mandatory}.next-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.next-game-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.next-games-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.next-game-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}}"]})};var J0=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(k(wr),k(Pn))};static \u0275dir=fe({type:e})}return e})(),_u=(()=>{class e extends J0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(e)))(i||e)}})();static \u0275dir=fe({type:e,features:[yt]})}return e})(),zs=new R(""),_O={provide:zs,useExisting:Kt(()=>pg),multi:!0},pg=(()=>{class e extends _u{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&_e("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ln([_O]),yt]})}return e})(),wO={provide:zs,useExisting:Kt(()=>uo),multi:!0};function bO(){let e=bt()?bt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var EO=new R(""),uo=(()=>{class e extends J0{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!bO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(k(wr),k(Pn),k(EO,8))};static \u0275dir=fe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&_e("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ln([wO]),yt]})}return e})();function DO(e){return e==null||CO(e)===0}function CO(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var gg=new R(""),Q0=new R("");function IO(e){return DO(e.value)?{required:!0}:null}function B0(e){return null}function X0(e){return e!=null}function eE(e){return Fn(e)?de(e):e}function tE(e){let t={};return e.forEach(n=>{t=n!=null?D(D({},t),n):t}),Object.keys(t).length===0?null:t}function nE(e,t){return t.map(n=>n(e))}function SO(e){return!e.validate}function rE(e){return e.map(t=>SO(t)?t:n=>t.validate(n))}function TO(e){if(!e)return null;let t=e.filter(X0);return t.length==0?null:function(n){return tE(nE(n,t))}}function mg(e){return e!=null?TO(rE(e)):null}function MO(e){if(!e)return null;let t=e.filter(X0);return t.length==0?null:function(n){let r=nE(n,t).map(eE);return od(r).pipe(W(tE))}}function vg(e){return e!=null?MO(rE(e)):null}function H0(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function xO(e){return e._rawValidators}function AO(e){return e._rawAsyncValidators}function dg(e){return e?Array.isArray(e)?e:[e]:[]}function hu(e,t){return Array.isArray(e)?e.includes(t):e===t}function z0(e,t){let n=dg(t);return dg(e).forEach(i=>{hu(n,i)||n.push(i)}),n}function q0(e,t){return dg(t).filter(n=>!hu(e,n))}var pu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},co=class extends pu{name;get formDirective(){return null}get path(){return null}},Hs=class extends pu{_parent=null;name=null;valueAccessor=null},gu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},RO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},S8=q(D({},RO),{"[class.ng-submitted]":"isSubmitted"}),wu=(()=>{class e extends gu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(k(Hs,2))};static \u0275dir=fe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&bi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[yt]})}return e})(),iE=(()=>{class e extends gu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(k(co,10))};static \u0275dir=fe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&bi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[yt]})}return e})();var js="VALID",fu="INVALID",ao="PENDING",Vs="DISABLED",nr=class{},mu=class extends nr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},$s=class extends nr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Bs=class extends nr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},lo=class extends nr{status;source;constructor(t,n){super(),this.status=t,this.source=n}},fg=class extends nr{source;constructor(t){super(),this.source=t}},hg=class extends nr{source;constructor(t){super(),this.source=t}};function oE(e){return(bu(e)?e.validators:e)||null}function OO(e){return Array.isArray(e)?mg(e):e||null}function sE(e,t){return(bu(t)?t.asyncValidators:e)||null}function NO(e){return Array.isArray(e)?vg(e):e||null}function bu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function kO(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new M(1e3,"");if(!r[n])throw new M(1001,"")}function PO(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new M(1002,"")})}var vu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return kt(this.statusReactive)}set status(t){kt(()=>this.statusReactive.set(t))}_status=Uo(()=>this.statusReactive());statusReactive=Fo(void 0);get valid(){return this.status===js}get invalid(){return this.status===fu}get pending(){return this.status==ao}get disabled(){return this.status===Vs}get enabled(){return this.status!==Vs}errors;get pristine(){return kt(this.pristineReactive)}set pristine(t){kt(()=>this.pristineReactive.set(t))}_pristine=Uo(()=>this.pristineReactive());pristineReactive=Fo(!0);get dirty(){return!this.pristine}get touched(){return kt(this.touchedReactive)}set touched(t){kt(()=>this.touchedReactive.set(t))}_touched=Uo(()=>this.touchedReactive());touchedReactive=Fo(!1);get untouched(){return!this.touched}_events=new Ce;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(z0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(z0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(q0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(q0(t,this._rawAsyncValidators))}hasValidator(t){return hu(this._rawValidators,t)}hasAsyncValidator(t){return hu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(q(D({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Bs(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Bs(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(q(D({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new $s(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new $s(!0,r))}markAsPending(t={}){this.status=ao;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new lo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(q(D({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Vs,this.errors=null,this._forEachChild(i=>{i.disable(q(D({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mu(this.value,r)),this._events.next(new lo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(D({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=js,this._forEachChild(r=>{r.enable(q(D({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(q(D({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===js||this.status===ao)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mu(this.value,n)),this._events.next(new lo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(q(D({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vs:js}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ao,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=eE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new lo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Vs:this.errors?fu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ao)?ao:this._anyControlsHaveStatus(fu)?fu:js}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new $s(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Bs(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=OO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=NO(this._rawAsyncValidators)}},yu=class extends vu{constructor(t,n,r){super(oE(n),sE(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){PO(this,!0,t),Object.keys(t).forEach(r=>{kO(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var yg=new R("",{providedIn:"root",factory:()=>_g}),_g="always";function FO(e,t){return[...t.path,e]}function aE(e,t,n=_g){lE(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),jO(e,t),UO(e,t),VO(e,t),LO(e,t)}function W0(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function LO(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function lE(e,t){let n=xO(e);t.validator!==null?e.setValidators(H0(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=AO(e);t.asyncValidator!==null?e.setAsyncValidators(H0(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();W0(t._rawValidators,i),W0(t._rawAsyncValidators,i)}function jO(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&cE(e,t)})}function VO(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&cE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function cE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function UO(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function $O(e,t){e==null,lE(e,t)}function BO(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function HO(e){return Object.getPrototypeOf(e.constructor)===_u}function zO(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qO(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===uo?n=o:HO(o)?r=o:i=o}),i||r||n||null}var WO={provide:co,useExisting:Kt(()=>wg)},Us=Promise.resolve(),wg=(()=>{class e extends co{callSetDisabledState;get submitted(){return kt(this.submittedReactive)}_submitted=Uo(()=>this.submittedReactive());submittedReactive=Fo(!1);_directives=new Set;form;ngSubmit=new Te;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new yu({},mg(n),vg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Us.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),aE(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Us.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Us.then(()=>{let r=this._findContainer(n.path),i=new yu({});$O(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Us.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Us.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),zO(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new fg(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new hg(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(k(gg,10),k(Q0,10),k(yg,8))};static \u0275dir=fe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&_e("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ln([WO]),yt]})}return e})();function G0(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function K0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var GO=class extends vu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(oE(n),sE(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(K0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){G0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){G0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){K0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var KO={provide:Hs,useExisting:Kt(()=>qs)},Z0=Promise.resolve(),qs=(()=>{class e extends Hs{_changeDetectorRef;callSetDisabledState;control=new GO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Te;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qO(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),BO(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){aE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Z0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ol(r);Z0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?FO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(k(co,9),k(gg,10),k(Q0,10),k(zs,10),k(Di,8),k(yg,8))};static \u0275dir=fe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ln([KO]),yt,vi]})}return e})();var uE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=fe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var ZO={provide:zs,useExisting:Kt(()=>Eu),multi:!0};function dE(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function YO(e){return e.split(":")[0]}var Eu=(()=>{class e extends _u{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=dE(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=YO(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&_e("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ln([ZO]),yt]})}return e})(),fE=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(dE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(k(Pn),k(wr),k(Eu,9))};static \u0275dir=fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),JO={provide:zs,useExisting:Kt(()=>hE),multi:!0};function Y0(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function QO(e){return e.split(":")[0]}var hE=(()=>{class e extends _u{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=QO(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&_e("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ln([JO]),yt]})}return e})(),pE=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Y0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Y0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(k(Pn),k(wr),k(hE,9))};static \u0275dir=fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var XO=(()=>{class e{_validator=B0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):B0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=fe({type:e,features:[vi]})}return e})();var eN={provide:gg,useExisting:Kt(()=>bg),multi:!0};var bg=(()=>{class e extends XO{required;inputName="required";normalizeInput=Ol;createValidator=n=>IO;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Yf("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ln([eN]),yt]})}return e})();var tN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=br({type:e});static \u0275inj=vr({})}return e})();var Du=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:yg,useValue:n.callSetDisabledState??_g}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=br({type:e});static \u0275inj=vr({imports:[tN]})}return e})();var Cu=class e{sb=C(it);constructor(){}createUser(t){return h(this,null,function*(){let n=yield this.sb.getUser();if(!n)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").insert(D({id:n.id},t));if(r)throw r})}updateUser(t){return h(this,null,function*(){let n=yield this.sb.getUser();if(!n)throw new Error("User not authenticated");let{error:r}=yield this.sb.supabase.from("users").update(t).eq("id",n.id);if(r)throw r})}deleteUserProfile(){return h(this,null,function*(){let t=yield this.sb.getUser();if(!t)throw new Error("User not authenticated");let{error:n}=yield this.sb.supabase.from("users").delete().eq("id",t.id);if(n)throw n})}getUserTeams(t){return h(this,null,function*(){return this.sb.supabase.from("teams").select("id, name, image, gender").eq("active",!0)})}getUpcomingGames(){return h(this,null,function*(){return this.sb.supabase.from("games").select(`
        id,
        date,
        type,
        team1:team1_id ( id, name, image ),
        team2:team2_id ( id, name, image )
      `).order("date",{ascending:!0})})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})};function nN(e,t){if(e&1){let n=_n();m(0,"input",46),Ue("ngModelChange",function(i){ve(n);let o=lt().$implicit;return We(o.level,i)||(o.level=i),ye(i)}),y()}if(e&2){let n=lt().$implicit;Xf("name","level-",n.key,""),Ve("ngModel",n.level)}}function rN(e,t){if(e&1){let n=_n();m(0,"div",41)(1,"div",42),_e("click",function(){let i=ve(n).$implicit,o=lt();return ye(o.toggleSport(i))}),re(2,"div",43),m(3,"div",44)(4,"span"),b(5),y()()(),Me(6,nN,1,3,"input",45),y()}if(e&2){let n=t.$implicit;x(),bi("selected",n.selected)("disabled",n.disabled),x(),jo("background-image","url("+n.image+")"),x(),Z("ngClass",n.color),x(2),wt(n.name),x(),Z("ngIf",n.selected)}}function iN(e,t){e&1&&(m(0,"span"),b(1,"Crear cuenta"),y())}function oN(e,t){e&1&&re(0,"span",47)}var Iu=class e{profile={name:"",email:"",password:"",phone:"",language:"es",avatar_url:"",zone:"",city:"",position:"",birthdate:"",gender:"",notifications:!0};loading=!1;avatarFile=null;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1,level:"",disabled:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1,level:"",disabled:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",selected:!1,level:"",disabled:!0},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",selected:!1,level:"",disabled:!0}];supabase=C(it);userService=C(Cu);router=C(Ct);constructor(){}onAvatarSelected(t){return h(this,null,function*(){let n=t.target.files[0];if(!n)return;let r=yield this.supabase.uploadAvatar(n);r&&(this.profile.avatar_url=r)})}toggleSport(t){t.disabled||(t.selected=!t.selected,t.selected||(t.level=""))}saveProfile(){return h(this,null,function*(){try{this.loading=!0;let{data:t,error:n}=yield this.supabase.signUp(this.profile.email,this.profile.password);if(n)throw n;this.avatarFile&&(this.profile.avatar_url=yield this.supabase.uploadAvatar(this.avatarFile)),yield this.userService.createUser({name:this.profile.name,email:this.profile.email,avatar_url:this.profile.avatar_url,language:this.profile.language,birth_date:this.profile.birthdate,gender:this.profile.gender,position:this.profile.position,notifications:this.profile.notifications,city:this.profile.city,zone:this.profile.zone});let{data:r,error:i}=yield this.supabase.signInWithEmail(this.profile.email,this.profile.password);if(i)throw i;console.log("Login after sign up:",r)}catch(t){console.error(t)}finally{this.loading=!1,this.router.navigate(["/user_onboarding"])}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=je({type:e,selectors:[["app-user-onboarding"]],decls:64,vars:16,consts:[["form","ngForm"],[1,"onboarding-hero"],[1,"overlay"],[1,"onboarding-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"avatar-upload"],["alt","Avatar",1,"avatar-preview",3,"src"],[1,"upload-btn"],["type","file","hidden","","accept","image/*",3,"change"],["placeholder","Nombre","name","name","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["placeholder","Email","name","email","required","",1,"form-control","mb-3",3,"ngModelChange","value","ngModel"],["type","password","placeholder","Contrase\xF1a","name","password","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","language",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","es"],["value","en"],["value","ca"],["type","date","name","birthdate","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","gender","required","",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","male"],["value","female"],["value","other"],["name","position",1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value","drive"],["value","reves"],["value","indiferente"],["type","text","placeholder","Poblaci\xF3n","name","city","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","zone","required","",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","north"],["value","center"],["value","south"],[1,"form-check","form-switch","mb-4"],["type","checkbox","id","notifications","name","notifications",1,"form-check-input",3,"ngModelChange","ngModel"],["for","notifications",1,"form-check-label"],[1,"section-title"],[1,"row","g-3","mb-4"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],["type","submit",1,"mobile-submit",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"col-6","col-md-3"],[1,"sport-card",3,"click"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],["type","text","class","form-control mt-2","placeholder","Nivel",3,"ngModel","name","ngModelChange",4,"ngIf"],["type","text","placeholder","Nivel",1,"form-control","mt-2",3,"ngModelChange","ngModel","name"],[1,"spinner"]],template:function(n,r){if(n&1){let i=_n();m(0,"div",1),re(1,"div",2),m(2,"div",3)(3,"h2"),b(4,"Bienvenido \u{1F44B}"),y(),m(5,"p",4),b(6,"Crea tu perfil y empieza a competir"),y(),m(7,"form",5,0),_e("ngSubmit",function(){return ve(i),ye(r.saveProfile())}),m(9,"div",6),re(10,"img",7),m(11,"label",8),b(12," Cambiar foto "),m(13,"input",9),_e("change",function(s){return ve(i),ye(r.onAvatarSelected(s))}),y()()(),m(14,"input",10),Ue("ngModelChange",function(s){return ve(i),We(r.profile.name,s)||(r.profile.name=s),ye(s)}),y(),m(15,"input",11),Ue("ngModelChange",function(s){return ve(i),We(r.profile.email,s)||(r.profile.email=s),ye(s)}),y(),m(16,"input",12),Ue("ngModelChange",function(s){return ve(i),We(r.profile.password,s)||(r.profile.password=s),ye(s)}),y(),m(17,"select",13),Ue("ngModelChange",function(s){return ve(i),We(r.profile.language,s)||(r.profile.language=s),ye(s)}),m(18,"option",14),b(19,"\u{1F1EA}\u{1F1F8} Espa\xF1ol"),y(),m(20,"option",15),b(21,"\u{1F1EC}\u{1F1E7} English"),y(),m(22,"option",16),b(23," Valenci\xE0"),y()(),m(24,"input",17),Ue("ngModelChange",function(s){return ve(i),We(r.profile.birthdate,s)||(r.profile.birthdate=s),ye(s)}),y(),m(25,"select",18),Ue("ngModelChange",function(s){return ve(i),We(r.profile.gender,s)||(r.profile.gender=s),ye(s)}),m(26,"option",19),b(27,"Sexo"),y(),m(28,"option",20),b(29,"Hombre"),y(),m(30,"option",21),b(31,"Mujer"),y(),m(32,"option",22),b(33,"Otro"),y()(),m(34,"select",23),Ue("ngModelChange",function(s){return ve(i),We(r.profile.position,s)||(r.profile.position=s),ye(s)}),m(35,"option",19),b(36,"Posici\xF3n"),y(),m(37,"option",24),b(38,"Drive"),y(),m(39,"option",25),b(40,"Rev\xE9s"),y(),m(41,"option",26),b(42,"Indiferente"),y()(),m(43,"input",27),Ue("ngModelChange",function(s){return ve(i),We(r.profile.city,s)||(r.profile.city=s),ye(s)}),y(),m(44,"select",28),Ue("ngModelChange",function(s){return ve(i),We(r.profile.zone,s)||(r.profile.zone=s),ye(s)}),m(45,"option",19),b(46,"Zona de preferencia"),y(),m(47,"option",29),b(48,"Zona Norte"),y(),m(49,"option",30),b(50,"Zona Centro"),y(),m(51,"option",31),b(52,"Zona Sur"),y()(),m(53,"div",32)(54,"input",33),Ue("ngModelChange",function(s){return ve(i),We(r.profile.notifications,s)||(r.profile.notifications=s),ye(s)}),y(),m(55,"label",34),b(56,` Recibir notificaciones
`),y()(),m(57,"h4",35),b(58,"Deportes que practicas"),y(),m(59,"div",36),Me(60,rN,7,9,"div",37),y(),m(61,"button",38),Me(62,iN,2,0,"span",39)(63,oN,1,0,"span",40),y()()()()}if(n&2){let i=xl(8);x(10),Z("src",r.profile.avatar_url||"assets/images/default-avatar.jpg",yn),x(4),Ve("ngModel",r.profile.name),x(),Z("value",r.profile.email),Ve("ngModel",r.profile.email),x(),Ve("ngModel",r.profile.password),x(),Ve("ngModel",r.profile.language),x(7),Ve("ngModel",r.profile.birthdate),x(),Ve("ngModel",r.profile.gender),x(9),Ve("ngModel",r.profile.position),x(9),Ve("ngModel",r.profile.city),x(),Ve("ngModel",r.profile.zone),x(10),Ve("ngModel",r.profile.notifications),x(6),Z("ngForOf",r.sports),x(),Z("disabled",r.loading||!i.valid),x(),Z("ngIf",!r.loading),x(),Z("ngIf",r.loading)}},dependencies:[Dt,Go,Vn,En,Du,uE,fE,pE,uo,pg,Eu,wu,iE,bg,qs,wg],styles:[".onboarding-hero[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/images/homeHeader.jpeg) center / cover;display:flex;justify-content:center;align-items:center}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000008c}.onboarding-card[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:1rem;width:100%;max-width:520px;z-index:2}.avatar-upload[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.avatar-preview[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;object-fit:cover}.upload-btn[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#2563eb;cursor:pointer}.sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:.5rem;text-align:center}.sport-card.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.mobile-submit[_ngcontent-%COMP%]{position:inherit;bottom:1rem;width:100%;padding:1rem;border-radius:999px;background:linear-gradient(135deg,#2563eb,#1e40af);color:#fff;font-size:1.05rem;font-weight:600;border:none;box-shadow:0 10px 25px #2563eb59;transition:transform .15s ease,box-shadow .15s ease,opacity .15s;z-index:5}.mobile-submit[_ngcontent-%COMP%]:active{transform:scale(.97);box-shadow:0 6px 16px #2563eb40}.mobile-submit[_ngcontent-%COMP%]:disabled{opacity:.5;box-shadow:none}.spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:3px solid rgba(255,255,255,.4);border-top-color:#fff;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function sN(e,t){if(e&1&&(m(0,"div",14),b(1),y()),e&2){let n=lt();x(),Jt(" ",n.error," ")}}var Su=class e{constructor(t,n){this.supabase=t;this.router=n}email="";password="";loading=!1;error=null;loginWithEmail(){return h(this,null,function*(){this.loading=!0,this.error=null;let{data:t,error:n}=yield this.supabase.signInWithEmail(this.email,this.password);this.loading=!1,n?this.error=n.message:t?.user&&this.router.navigate(["/dashboard"])})}loginWithGoogle(){return h(this,null,function*(){let{data:t,error:n}=yield this.supabase.signInWithGoogle();n?this.error=n.message:t?.url&&this.router.navigate(["/dashboard"])})}goToOnboarding(){this.router.navigate(["/user_onboarding"])}static \u0275fac=function(n){return new(n||e)(k(it),k(Ct))};static \u0275cmp=je({type:e,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"login-container"],[1,"login-card","shadow"],[1,"mb-4","text-center"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","tu@email.com",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"separator"],[1,"btn","btn-outline-dark","w-100","mb-3","d-flex","align-items-center","justify-content-center","gap-2",3,"click"],["src","assets/icons/google-icon.svg","width","18"],[1,"text-center","mt-3"],[1,"register-link",3,"click"],[1,"alert","alert-danger"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"h2",2),b(3,"Iniciar sesi\xF3n"),y(),Me(4,sN,2,1,"div",3),m(5,"div",4)(6,"label",5),b(7,"Email"),y(),m(8,"input",6),Ue("ngModelChange",function(o){return We(r.email,o)||(r.email=o),o}),y()(),m(9,"div",4)(10,"label",5),b(11,"Contrase\xF1a"),y(),m(12,"input",7),Ue("ngModelChange",function(o){return We(r.password,o)||(r.password=o),o}),y()(),m(13,"button",8),_e("click",function(){return r.loginWithEmail()}),b(14," Entrar "),y(),m(15,"div",9),b(16,"o"),y(),m(17,"button",10),_e("click",function(){return r.loginWithGoogle()}),re(18,"img",11),b(19," Entrar con Google "),y(),m(20,"p",12),b(21," \xBFNo tienes cuenta? "),m(22,"a",13),_e("click",function(){return r.goToOnboarding()}),b(23," Darse de alta "),y()()()()),n&2&&(x(4),Z("ngIf",r.error),x(4),Ve("ngModel",r.email),x(4),Ve("ngModel",r.password),x(),Z("disabled",r.loading))},dependencies:[Dt,En,Du,uo,wu,qs],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#1e3c72,#2a5298)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;width:100%;max-width:400px;border-radius:12px}.separator[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;color:#888}.register-link[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;text-decoration:underline}"]})};function aN(e,t){e&1&&(m(0,"div",17)(1,"span"),b(2,"+"),y(),m(3,"small"),b(4,"Crear o unirse"),y()())}function lN(e,t){if(e&1&&(m(0,"div",18)(1,"h5"),b(2),y(),m(3,"small"),b(4),y()()),e&2){let n=t.$implicit;x(2),wt(n.name),x(2),wt(n.sport_name)}}function cN(e,t){e&1&&(m(0,"div",19),re(1,"img",20),m(2,"p"),b(3,"No tienes partidos"),y()())}function uN(e,t){if(e&1&&(m(0,"div",21)(1,"h5"),b(2),y(),m(3,"small"),b(4),y()()),e&2){let n=t.$implicit;x(2),Vo("",n.team1," vs ",n.team2,""),x(2),wt(n.date)}}function dN(e,t){if(e&1&&(m(0,"div",22)(1,"h5"),b(2),y(),m(3,"small"),b(4),y(),m(5,"button",23),b(6,"Unirse"),y()()),e&2){let n=t.$implicit;x(2),wt(n.name),x(2),wt(n.sport_name)}}var Tu=class e{user={name:"Albert",avatar:"assets/images/default-avatar.jpg"};teams=[];games=[];competitions=[];static \u0275fac=function(n){return new(n||e)};static \u0275cmp=je({type:e,selectors:[["app-user-dashboard"]],decls:54,vars:7,consts:[[1,"dashboard-header"],[1,"user-info"],[1,"avatar",3,"src"],[1,"subtitle"],[1,"notif-btn"],[1,"badge"],[1,"section"],[1,"horizontal-scroll"],["class","card add-card",4,"ngIf"],["class","card team-card",4,"ngFor","ngForOf"],["class","card empty-card",4,"ngIf"],["class","card game-card",4,"ngFor","ngForOf"],["class","card league-card",4,"ngFor","ngForOf"],[1,"section","stats"],[1,"stats-grid"],[1,"stat"],[1,"dashboard-footer"],[1,"card","add-card"],[1,"card","team-card"],[1,"card","empty-card"],["src","assets/images/sports/padel/padel-player-man.jpeg"],[1,"card","game-card"],[1,"card","league-card"],[1,"join-btn"]],template:function(n,r){n&1&&(m(0,"header",0)(1,"div",1),re(2,"img",2),m(3,"div")(4,"h3"),b(5),y(),m(6,"span",3),b(7,"Bienvenido de nuevo"),y()()(),m(8,"button",4),b(9," \u{1F514} "),re(10,"span",5),y()(),m(11,"section",6)(12,"h4"),b(13,"Mis equipos"),y(),m(14,"div",7),Me(15,aN,5,0,"div",8)(16,lN,5,2,"div",9),y()(),m(17,"section",6)(18,"h4"),b(19,"Pr\xF3ximos partidos"),y(),m(20,"div",7),Me(21,cN,4,0,"div",10)(22,uN,5,3,"div",11),y()(),m(23,"section",6)(24,"h4"),b(25,"Ligas disponibles"),y(),m(26,"div",7),Me(27,dN,7,2,"div",12),y()(),m(28,"section",13)(29,"h4"),b(30,"Estad\xEDsticas"),y(),m(31,"div",14)(32,"div",15)(33,"strong"),b(34,"12"),y(),m(35,"span"),b(36,"Partidos"),y()(),m(37,"div",15)(38,"strong"),b(39,"8"),y(),m(40,"span"),b(41,"Victorias"),y()(),m(42,"div",15)(43,"strong"),b(44,"2"),y(),m(45,"span"),b(46,"Ligas"),y()()()(),m(47,"footer",16)(48,"button"),b(49,"Inicio"),y(),m(50,"button"),b(51,"Equipos"),y(),m(52,"button"),b(53,"Perfil"),y()()),n&2&&(x(2),Z("src",r.user.avatar,yn),x(3),Jt("Hola, ",r.user.name,""),x(10),Z("ngIf",r.teams.length===0),x(),Z("ngForOf",r.teams),x(5),Z("ngIf",r.games.length===0),x(),Z("ngForOf",r.games),x(5),Z("ngForOf",r.competitions))},dependencies:[Dt,Vn,En],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.user-info[_ngcontent-%COMP%]{display:flex;gap:.8rem}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%}.notif-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.3rem;position:relative}.badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:8px;height:8px;background:red;border-radius:50%}.section[_ngcontent-%COMP%]{padding:1rem}.horizontal-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem}.card[_ngcontent-%COMP%]{min-width:160px;background:#fff;border-radius:1rem;padding:1rem;box-shadow:0 6px 20px #00000014}.add-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:2rem;color:#2563eb}.empty-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:.8rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.stat[_ngcontent-%COMP%]{background:#f8fafc;border-radius:.8rem;padding:1rem;text-align:center}.dashboard-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;display:flex;justify-content:space-around;padding:.8rem;background:#fff;border-top:1px solid #eee}"]})};var mE=[{path:"",component:du},{path:"user_onboarding",component:Iu},{path:"dashboard",component:Tu},{path:"login",component:Su},{path:"**",redirectTo:""}];bh(au,{providers:[qh(mE,Wh())]}).catch(e=>console.error(e));

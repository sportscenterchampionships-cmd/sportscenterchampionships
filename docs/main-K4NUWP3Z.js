var fD=Object.create;var co=Object.defineProperty,hD=Object.defineProperties,pD=Object.getOwnPropertyDescriptor,gD=Object.getOwnPropertyDescriptors,mD=Object.getOwnPropertyNames,vg=Object.getOwnPropertySymbols,vD=Object.getPrototypeOf,_g=Object.prototype.hasOwnProperty,yD=Object.prototype.propertyIsEnumerable;var yg=(e,t,n)=>t in e?co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||={})_g.call(t,n)&&yg(e,n,t[n]);if(vg)for(var n of vg(t))yD.call(t,n)&&yg(e,n,t[n]);return e},q=(e,t)=>hD(e,gD(t));var M=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ue=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),uo=(e,t)=>{for(var n in t)co(e,n,{get:t[n],enumerable:!0})},wg=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mD(t))!_g.call(e,i)&&i!==n&&co(e,i,{get:()=>t[i],enumerable:!(r=pD(t,i))||r.enumerable});return e};var _D=(e,t,n)=>(n=e!=null?fD(vD(e)):{},wg(t||!e||!e.__esModule?co(n,"default",{value:e,enumerable:!0}):n,e)),Qe=e=>wg(co({},"__esModule",{value:!0}),e);var h=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});var Xn={};uo(Xn,{__addDisposableResource:()=>nm,__assign:()=>ra,__asyncDelegator:()=>Zg,__asyncGenerator:()=>sa,__asyncValues:()=>aa,__await:()=>Pt,__awaiter:()=>_,__classPrivateFieldGet:()=>Xg,__classPrivateFieldIn:()=>tm,__classPrivateFieldSet:()=>em,__createBinding:()=>oa,__decorate:()=>Lg,__disposeResources:()=>rm,__esDecorate:()=>Vg,__exportStar:()=>qg,__extends:()=>Fg,__generator:()=>zg,__importDefault:()=>Qg,__importStar:()=>Jg,__makeTemplateObject:()=>Yg,__metadata:()=>Hg,__param:()=>jg,__propKey:()=>Ug,__read:()=>Qu,__rest:()=>Xt,__rewriteRelativeImportExtension:()=>im,__runInitializers:()=>$g,__setFunctionName:()=>Bg,__spread:()=>Gg,__spreadArray:()=>Kg,__spreadArrays:()=>Wg,__values:()=>ia,default:()=>PD});function Fg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Xt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Lg(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function jg(e,t){return function(n,r){t(n,r,e)}}function Vg(e,t,n,r,i,o){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,p=!1,d=n.length-1;d>=0;d--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(y||null))};var v=(0,n[d])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(u.get=f),(f=s(v.set))&&(u.set=f),(f=s(v.init))&&i.unshift(f)}else(f=s(v))&&(a==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,r.name,u),p=!0}function $g(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function Ug(e){return typeof e=="symbol"?e:"".concat(e)}function Bg(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Hg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function zg(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function qg(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&oa(t,e,n)}function ia(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qu(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Gg(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qu(arguments[t]));return e}function Wg(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function Kg(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Pt(e){return this instanceof Pt?(this.v=e,this):new Pt(e)}function sa(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(d){return function(g){return Promise.resolve(g).then(d,f)}}function a(d,g){r[d]&&(i[d]=function(m){return new Promise(function(v,y){o.push([d,m,v,y])>1||l(d,m)})},g&&(i[d]=g(i[d])))}function l(d,g){try{c(r[d](g))}catch(m){p(o[0][3],m)}}function c(d){d.value instanceof Pt?Promise.resolve(d.value.v).then(u,f):p(o[0][2],d)}function u(d){l("next",d)}function f(d){l("throw",d)}function p(d,g){d(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Zg(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:Pt(e[i](s)),done:!1}:o?o(s):s}:o}}function aa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ia=="function"?ia(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function Yg(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Jg(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ju(e),r=0;r<n.length;r++)n[r]!=="default"&&oa(t,e,n[r]);return ND(t,e),t}function Qg(e){return e&&e.__esModule?e:{default:e}}function Xg(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function em(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function tm(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function nm(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}function rm(e){function t(o){e.error=e.hasError?new kD(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function im(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,s){return r?t?".jsx":".js":i&&(!o||!s)?n:i+o+"."+s.toLowerCase()+"js"}):e}var Yu,ra,oa,ND,Ju,kD,PD,ae=M(()=>{"use strict";Yu=function(e,t){return Yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Yu(e,t)};ra=function(){return ra=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ra.apply(this,arguments)};oa=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};ND=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ju=function(e){return Ju=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Ju(e)};kD=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};PD={__extends:Fg,__assign:ra,__rest:Xt,__decorate:Lg,__param:jg,__esDecorate:Vg,__runInitializers:$g,__propKey:Ug,__setFunctionName:Bg,__metadata:Hg,__awaiter:_,__generator:zg,__createBinding:oa,__exportStar:qg,__values:ia,__read:Qu,__spread:Gg,__spreadArrays:Wg,__spreadArray:Kg,__await:Pt,__asyncGenerator:sa,__asyncDelegator:Zg,__asyncValues:aa,__makeTemplateObject:Yg,__importStar:Jg,__importDefault:Qg,__classPrivateFieldGet:Xg,__classPrivateFieldSet:em,__classPrivateFieldIn:tm,__addDisposableResource:nm,__disposeResources:rm,__rewriteRelativeImportExtension:im}});var Gw,Ww=M(()=>{"use strict";Gw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t)});var Ir,ki,Sr,Tr,vs,Hh=M(()=>{"use strict";Ir=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},ki=class extends Ir{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Sr=class extends Ir{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Tr=class extends Ir{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},vs=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(vs||{})});var _c,Kw=M(()=>{"use strict";ae();Ww();Hh();_c=class{constructor(t,{headers:n={},customFetch:r,region:i=vs.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Gw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:f}=r,p={},{region:d}=r;d||(d=this.region);let g=new URL(`${this.url}/${n}`);d&&d!=="any"&&(p["x-region"]=d,g.searchParams.set("forceFunctionRegion",d));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let v=u;f&&(s=new AbortController,o=setTimeout(()=>s.abort(),f),u?(v=s.signal,u.addEventListener("abort",()=>s.abort())):v=s.signal);let y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:v}).catch(Y=>{throw new ki(Y)}),U=y.headers.get("x-relay-error");if(U&&U==="true")throw new Sr(y);if(!y.ok)throw new Tr(y);let C=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return C==="application/json"?I=yield y.json():C==="application/octet-stream"||C==="application/pdf"?I=yield y.blob():C==="text/event-stream"?I=y:C==="multipart/form-data"?I=yield y.formData():I=yield y.text(),{data:I,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Tr||a instanceof Sr?a.context:void 0}}finally{o&&clearTimeout(o)}})}}});var zh={};uo(zh,{FunctionRegion:()=>vs,FunctionsClient:()=>_c,FunctionsError:()=>Ir,FunctionsFetchError:()=>ki,FunctionsHttpError:()=>Tr,FunctionsRelayError:()=>Sr});var qh=M(()=>{"use strict";Kw();Hh()});var Kh=Ue(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});var Gh=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Wh.default=Gh});var Jh=Ue(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});var jA=(ae(),Qe(Xn)),VA=jA.__importDefault(Kh()),Zh=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l,c;let u=null,f=null,p=null,d=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let U=yield o.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}let v=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,d=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{let v=yield o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(f=[],u=null,d=200,g="OK")}catch{o.status===404&&v===""?(d=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new VA.default(u)}return{error:u,data:f,count:p,status:d,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l,c,u,f;let p="",d=o?.cause;if(d){let g=(s=d?.message)!==null&&s!==void 0?s:"",m=(a=d?.code)!==null&&a!==void 0?a:"";p=`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,p+=`

Caused by: ${(c=d?.name)!==null&&c!==void 0?c:"Error"}: ${g}`,m&&(p+=` (${m})`),d?.stack&&(p+=`
${d.stack}`)}else p=(u=o?.stack)!==null&&u!==void 0?u:"";return{error:{message:`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Yh.default=Zh});var ep=Ue(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});var $A=(ae(),Qe(Xn)),UA=$A.__importDefault(Jh()),Qh=class extends UA.default{select(t){let n=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Xh.default=Qh});var wc=Ue(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});var BA=(ae(),Qe(Xn)),HA=BA.__importDefault(ep()),zA=new RegExp("[,()]"),tp=class extends HA.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}regexMatch(t,n){return this.url.searchParams.append(t,`match.${n}`),this}regexIMatch(t,n){return this.url.searchParams.append(t,`imatch.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}isDistinct(t,n){return this.url.searchParams.append(t,`isdistinct.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&zA.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};np.default=tp});var op=Ue(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var qA=(ae(),Qe(Xn)),ys=qA.__importDefault(wc()),rp=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){let{head:r=!1,count:i}=n??{},o=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new ys.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;let o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ys.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ys.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;let i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ys.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ys.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ip.default=rp});var Yw=Ue(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});var Zw=(ae(),Qe(Xn)),GA=Zw.__importDefault(op()),WA=Zw.__importDefault(wc()),sp=class e{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let n=new URL(`${this.url}/${t}`);return new GA.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${t}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",c=n);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new WA.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};ap.default=sp});var lp=Ue($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;var Pi=(ae(),Qe(Xn)),Jw=Pi.__importDefault(Yw());$e.PostgrestClient=Jw.default;var Qw=Pi.__importDefault(op());$e.PostgrestQueryBuilder=Qw.default;var Xw=Pi.__importDefault(wc());$e.PostgrestFilterBuilder=Xw.default;var eb=Pi.__importDefault(ep());$e.PostgrestTransformBuilder=eb.default;var tb=Pi.__importDefault(Jh());$e.PostgrestBuilder=tb.default;var nb=Pi.__importDefault(Kh());$e.PostgrestError=nb.default;$e.default={PostgrestClient:Jw.default,PostgrestQueryBuilder:Qw.default,PostgrestFilterBuilder:Xw.default,PostgrestTransformBuilder:eb.default,PostgrestBuilder:tb.default,PostgrestError:nb.default}});var cp,bc,up=M(()=>{"use strict";cp=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},bc=cp});var rb,ib=M(()=>{"use strict";rb="2.87.1"});var ob,dp,sb,fp,_s,ab,lb,Mr,ye,mt,hp,xr,Ec=M(()=>{"use strict";ib();ob=`realtime-js/${rb}`,dp="1.0.0",sb="2.0.0",fp=dp,_s=1e4,ab=1e3,lb=100,Mr=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Mr||{}),ye=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ye||{}),mt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(mt||{}),hp=function(e){return e.websocket="websocket",e}(hp||{}),xr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(xr||{})});var Dc,cb=M(()=>{"use strict";Dc=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+f.length,d=new ArrayBuffer(this.HEADER_LENGTH+p),g=new DataView(d),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,l.length),g.setUint8(m++,a.length),g.setUint8(m++,s.length),g.setUint8(m++,c.length),g.setUint8(m++,f.length),g.setUint8(m++,n),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>g.setUint8(m++,y.charCodeAt(0)));var v=new Uint8Array(d.byteLength+r.byteLength);return v.set(new Uint8Array(d),0),v.set(new Uint8Array(r),d.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,l]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:l})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(t.slice(l,l+i));l=l+i;let u=r.decode(t.slice(l,l+o));l=l+o;let f=r.decode(t.slice(l,l+s));l=l+s;let p=t.slice(l,t.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:u,payload:d};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}});var Fi,pp=M(()=>{"use strict";Fi=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var se,mp,KA,ub,gp,ZA,YA,JA,QA,XA,Cc,Ic=M(()=>{"use strict";se=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(se||{}),mp=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=KA(s,e,t,i),o),{}):{}},KA=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?ub(o,s):gp(s)},ub=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return QA(t,n)}switch(e){case se.bool:return ZA(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return YA(t);case se.json:case se.jsonb:return JA(t);case se.timestamp:return XA(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return gp(t);default:return gp(t)}},gp=e=>e,ZA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},YA=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},JA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QA=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>ub(t,a))}return e},XA=e=>typeof e=="string"?e.replace(" ","T"):e,Cc=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href}});var Li,db=M(()=>{"use strict";Ec();Li=class{constructor(t,n,r={},i=_s){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}});var vp,ji,yp=M(()=>{"use strict";vp=function(e){return e.SYNC="sync",e.JOIN="join",e.LEAVE="leave",e}(vp||{}),ji=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let f=o[c];if(f){let p=u.map(v=>v.presence_ref),d=f.map(v=>v.presence_ref),g=u.filter(v=>d.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){let f=t[a].map(d=>d.presence_ref),p=u.filter(d=>f.indexOf(d.presence_ref)<0);t[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;let u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var _p,Vi,Kt,fb,$i,wp=M(()=>{"use strict";Ec();db();pp();yp();Ic();Ic();_p=function(e){return e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE",e}(_p||{}),Vi=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(Vi||{}),Kt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Kt||{}),fb=ye,$i=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Li(this,mt.join,this.params,this.timeout),this.rejoinTimer=new Fi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ji(this),this.broadcastEndpointURL=Cc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Vi.PRESENCE]&&this.bindings[Vi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>t?.(Kt.CHANNEL_ERROR,d)),this._onClose(()=>t?.(Kt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:d}){var m;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){t?.(Kt.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,y=(m=v?.length)!==null&&m!==void 0?m:0,U=[];for(let C=0;C<y;C++){let I=v[C],{filter:{event:Y,schema:kt,table:ne,filter:_e}}=I,_n=d&&d[C];if(_n&&_n.event===Y&&e.isFilterValueEqual(_n.schema,kt)&&e.isFilterValueEqual(_n.table,ne)&&e.isFilterValueEqual(_n.filter,_e))U.push(Object.assign(Object.assign({},I),{id:_n.id}));else{this.unsubscribe(),this.state=ye.errored,t?.(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,t&&t(Kt.SUBSCRIBED);return}})).receive("error",d=>{this.state=ye.errored,t?.(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===ye.joined&&t===Vi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>h(this,null,function*(){return yield this.subscribe()}))),this._on(t,n,r)}httpSend(i,o){return h(this,arguments,function*(t,n,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{let f=yield c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Li(this,mt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Li(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>lb){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=mt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,m,v;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=d.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(d=>d.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(d=>{var g,m,v,y,U,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){let I=d.id,Y=(g=d.filter)===null||g===void 0?void 0:g.event;return I&&((m=n.ids)===null||m===void 0?void 0:m.includes(I))&&(Y==="*"||Y?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let I=(U=(y=d?.filter)===null||y===void 0?void 0:y.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return I==="*"||I===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:y,type:U,errors:C}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:U,new:{},old:{},errors:C}),this._getPayloadRecords(g))}d.callback(p,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mt.close,{},t)}_onError(t){this._on(mt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mp(t.columns,t.old_record)),n}}});var bp,Sc,tR,nR,rR,Tc,hb=M(()=>{"use strict";up();Ec();cb();pp();Ic();wp();bp=()=>{},Sc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tR=[1e3,2e3,5e3,1e4],nR=1e4,rR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Tc=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_s,this.transport=null,this.heartbeatIntervalMs=Sc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bp,this.ref=0,this.reconnectTimer=null,this.vsn=fp,this.logger=bp,this.conn=null,this.sendBuffer=[],this.serializer=new Dc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${hp.websocket}`,this.httpEndpoint=Cc(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bc.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mr.connecting:return xr.Connecting;case Mr.open:return xr.Open;case Mr.closing:return xr.Closing;default:return xr.Closed}}isConnected(){return this.connectionState()===xr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new $i(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return h(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ab,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Sc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Mr.open||this.conn.readyState===Mr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([rR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return h(this,null,function*(){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:ob};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(mt.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Fi(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Sc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,l,c,u,f,p,d;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:_s,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Sc.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:bp,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:fp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:g=>tR[g-1]||nR,this.vsn){case dp:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t?.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case sb:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}});var Ep={};uo(Ep,{REALTIME_CHANNEL_STATES:()=>fb,REALTIME_LISTEN_TYPES:()=>Vi,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>_p,REALTIME_PRESENCE_LISTEN_EVENTS:()=>vp,REALTIME_SUBSCRIBE_STATES:()=>Kt,RealtimeChannel:()=>$i,RealtimeClient:()=>Tc,RealtimePresence:()=>ji,WebSocketFactory:()=>bc});var Dp=M(()=>{"use strict";hb();wp();yp();up()});function X(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var mn,ws,Ln,jn=M(()=>{"use strict";mn=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};ws=class extends mn{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ln=class extends mn{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}});var Ui,pb,Mc,gb,mb,bs=M(()=>{"use strict";Ui=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pb=()=>Response,Mc=e=>{if(Array.isArray(e))return e.map(n=>Mc(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Mc(r)}),t},gb=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)});function Es(e,t,n,r,i,o){return _(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,oR(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>iR(l,a,r))})})}function Vn(e,t,n,r){return _(this,void 0,void 0,function*(){return Es(e,"GET",t,n,r)})}function Je(e,t,n,r,i){return _(this,void 0,void 0,function*(){return Es(e,"POST",t,r,i,n)})}function Ds(e,t,n,r,i){return _(this,void 0,void 0,function*(){return Es(e,"PUT",t,r,i,n)})}function vb(e,t,n,r){return _(this,void 0,void 0,function*(){return Es(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Bi(e,t,n,r,i){return _(this,void 0,void 0,function*(){return Es(e,"DELETE",t,r,i,n)})}var Cp,iR,oR,xc=M(()=>{"use strict";ae();jn();bs();Cp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},iR=(e,t,n)=>_(void 0,void 0,void 0,function*(){let r=yield pb();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{let o=e.status||500,s=i?.statusCode||o+"";t(new ws(Cp(i),o,s))}).catch(i=>{t(new Ln(Cp(i),i))}):t(new Ln(Cp(e),e))}),oR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(gb(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))}});var Ac,yb=M(()=>{"use strict";ae();jn();Ac=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return _(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}}});var _b,Ip,wb,bb=M(()=>{"use strict";ae();jn();yb();Ip=class{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[_b]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ac(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(X(t))return{data:null,error:t};throw t}})}};_b=Symbol.toStringTag;wb=Ip});var sR,Eb,Rc,Db=M(()=>{"use strict";ae();jn();xc();bs();bb();sR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Rc=class{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Ui(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return _(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Eb),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield(t=="PUT"?Ds:Je)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(X(o))return{data:null,error:o};throw o}})}upload(t,n,r){return _(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return _(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l,c=Object.assign({upsert:Eb.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let f=yield Ds(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(X(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return _(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield Je(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new mn("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}update(t,n,r){return _(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}copy(t,n,r){return _(this,void 0,void 0,function*(){try{return{data:{path:(yield Je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return _(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Je(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return _(this,void 0,void 0,function*(){try{let i=yield Je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}download(t,n){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>Vn(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new wb(l,this.shouldThrowOnError)}info(t){return _(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield Vn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Mc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}exists(t){return _(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield vb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r)&&r instanceof Ln){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return _(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}list(t,n,r){return _(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},sR),n),{prefix:t||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}listV2(t,n){return _(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield Je(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}});var Oc,Sp=M(()=>{"use strict";Oc="2.87.1"});var Nc,Tp=M(()=>{"use strict";Sp();Nc={"X-Client-Info":`storage-js/${Oc}`}});var kc,Cb=M(()=>{"use strict";ae();Tp();jn();xc();bs();kc=class{constructor(t,n={},r,i){this.shouldThrowOnError=!1;let o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nc),n),this.fetch=Ui(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return _(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(t);return{data:yield Vn(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}getBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}createBucket(t){return _(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return _(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}emptyBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){let n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}});function aR(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function lR(e){return h(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function cR(e){let t=e.fetchImpl??globalThis.fetch;return{request(l){return h(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let c=aR(e.baseUrl,i,o),u=yield lR(e.auth),f=yield t(c,{method:r,headers:w(w(w({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield f.text(),d=(f.headers.get("content-type")||"").includes("application/json"),g=d&&p?JSON.parse(p):p;if(!f.ok){let m=d?g:void 0,v=m?.error;throw new Cs(v?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:v?.type,icebergCode:v?.code,details:m})}return{status:f.status,headers:f.headers,data:g}})}}}function Pc(e){return e.join("")}function Hi(e){return e.join("")}var Cs,uR,dR,Ib,Sb=M(()=>{"use strict";Cs=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};uR=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return h(this,null,function*(){let t=e?{parent:Pc(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,t){return h(this,null,function*(){let n={namespace:e.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pc(e.namespace)}`})})}loadNamespaceMetadata(e){return h(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pc(e.namespace)}`})).data.properties}})}namespaceExists(e){return h(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pc(e.namespace)}`}),!0}catch(t){if(t instanceof Cs&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof Cs&&n.status===409)return;throw n}})}};dR=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return h(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hi(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return h(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hi(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return h(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return h(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(e){return h(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return h(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Cs&&n.status===404)return!1;throw n}})}createTableIfNotExists(e,t){return h(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof Cs&&n.status===409)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},Ib=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=cR({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new uR(this.client,t),this.tableOps=new dR(this.client,t,this.accessDelegation)}listNamespaces(e){return h(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return h(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return h(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return h(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return h(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return h(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return h(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return h(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return h(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return h(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return h(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return h(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}}});var zi,Mp=M(()=>{"use strict";ae();Sb();Tp();jn();xc();bs();zi=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nc),n),this.fetch=Ui(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}listBuckets(t){return _(this,void 0,void 0,function*(){try{let n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);let r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Vn(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}from(t){if(!mb(t))throw new mn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new Ib({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>_(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,s){let a=o[s];return typeof a!="function"?a:(...l)=>_(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}}});var qi,Fc=M(()=>{"use strict";Sp();qi={"X-Client-Info":`storage-js/${Oc}`,"Content-Type":"application/json"}});function Me(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Gi,$n,Wi,xp,Ki=M(()=>{"use strict";Gi=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};$n=class extends Gi{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wi=class extends Gi{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}},xp=function(e){return e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",e}(xp||{})});var Un,Tb,Lc,Mb,xb,Zi=M(()=>{"use strict";Un=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Tb=()=>Response,Lc=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Mb=e=>Array.from(new Float32Array(e)),xb=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)}});function pR(e,t,n,r,i,o){return _(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,hR(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;let c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>fR(l,a,r))})})}function Fe(e,t,n,r,i){return _(this,void 0,void 0,function*(){return pR(e,"POST",t,r,i,n)})}var Ab,fR,hR,jc=M(()=>{"use strict";ae();Ki();Zi();Ab=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fR=(e,t,n)=>_(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";t(new $n(Ab(s),i,a))}).catch(()=>{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new $n(a,i,s))});else{let s=i+"",a=o.statusText||`HTTP ${i} error`;t(new $n(a,i,s))}}else t(new Wi(Ab(e),e))}),hR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(Lc(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))}});var Yi,Ap=M(()=>{"use strict";ae();Fc();Ki();jc();Zi();Yi=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qi),n),this.fetch=Un(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Fe(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}getIndex(t,n){return _(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listIndexes(t){return _(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return _(this,void 0,void 0,function*(){try{return{data:(yield Fe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}}});var Ji,Rp=M(()=>{"use strict";ae();Fc();Ki();jc();Zi();Ji=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qi),n),this.fetch=Un(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return _(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fe(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}getVectors(t){return _(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}listVectors(t){return _(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Fe(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}queryVectors(t){return _(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}deleteVectors(t){return _(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fe(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}}});var Qi,Op=M(()=>{"use strict";ae();Fc();Ki();jc();Zi();Qi=class{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qi),n),this.fetch=Un(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Fe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}getBucket(t){return _(this,void 0,void 0,function*(){try{return{data:yield Fe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}listBuckets(){return _(this,arguments,void 0,function*(t={}){try{return{data:yield Fe(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _(this,void 0,void 0,function*(){try{return{data:(yield Fe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}}});var Xi,Is,Ss,Rb=M(()=>{"use strict";ae();Ap();Rp();Op();Xi=class extends Qi{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Is(this.url,this.headers,t,this.fetch)}createBucket(t){let n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){let n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){let t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){let n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}},Is=class extends Yi{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Ss(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ss=class extends Ji{constructor(t,n,r,i,o){super(t,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var Np=M(()=>{"use strict";Rb();Op();Ap();Rp();Ki();Zi()});var Vc,Ob=M(()=>{"use strict";Db();Cb();Mp();Np();Vc=class extends kc{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new Rc(this.url,this.headers,t,this.fetch)}get vectors(){return new Xi(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zi(this.url+"/iceberg",this.headers,this.fetch)}}});var Nb=M(()=>{"use strict"});var kb={};uo(kb,{StorageAnalyticsClient:()=>zi,StorageApiError:()=>ws,StorageClient:()=>Vc,StorageError:()=>mn,StorageUnknownError:()=>Ln,StorageVectorsApiError:()=>$n,StorageVectorsClient:()=>Xi,StorageVectorsError:()=>Gi,StorageVectorsErrorCode:()=>xp,StorageVectorsUnknownError:()=>Wi,VectorBucketApi:()=>Qi,VectorBucketScope:()=>Is,VectorDataApi:()=>Ji,VectorIndexApi:()=>Yi,VectorIndexScope:()=>Ss,isPlainObject:()=>Lc,isStorageError:()=>X,isStorageVectorsError:()=>Me,normalizeToFloat32:()=>Mb,resolveFetch:()=>Un,resolveResponse:()=>Tb,validateVectorDimension:()=>xb});var Pb=M(()=>{"use strict";Ob();Mp();Nb();jn();Np()});var Fb=Ue($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.version=void 0;$c.version="2.87.1"});var Lb=Ue(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.DEFAULT_REALTIME_OPTIONS=it.DEFAULT_AUTH_OPTIONS=it.DEFAULT_DB_OPTIONS=it.DEFAULT_GLOBAL_OPTIONS=it.DEFAULT_HEADERS=void 0;var gR=Fb(),Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";it.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${Ts}/${gR.version}`};it.DEFAULT_GLOBAL_OPTIONS={headers:it.DEFAULT_HEADERS};it.DEFAULT_DB_OPTIONS={schema:"public"};it.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};it.DEFAULT_REALTIME_OPTIONS={}});var jb=Ue(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.fetchWithAuth=Ot.resolveHeadersConstructor=Ot.resolveFetch=void 0;var mR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);Ot.resolveFetch=mR;var vR=()=>Headers;Ot.resolveHeadersConstructor=vR;var yR=(e,t,n)=>{let r=(0,Ot.resolveFetch)(n),i=(0,Ot.resolveHeadersConstructor)();return(o,s)=>h(null,null,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};Ot.fetchWithAuth=yR});var $b=Ue(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.isBrowser=void 0;Bn.uuid=_R;Bn.ensureTrailingSlash=Vb;Bn.applySettingDefaults=bR;Bn.validateSupabaseUrl=ER;function _R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function Vb(e){return e.endsWith("/")?e:e+"/"}var wR=()=>typeof window<"u";Bn.isBrowser=wR;function bR(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function ER(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var Uc,kp=M(()=>{"use strict";Uc="2.87.1"});var Ar,Bc,Hc,Ub,Bb,Hb,Ms,Pp,zb,qb,zc=M(()=>{"use strict";kp();Ar=30*1e3,Bc=3,Hc=Bc*Ar,Ub="http://localhost:9999",Bb="supabase.auth.token",Hb={"X-Client-Info":`gotrue-js/${Uc}`},Ms="X-Supabase-Api-Version",Pp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qb=10*60*1e3});function S(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}function Fp(e){return S(e)&&e.name==="AuthApiError"}function Lp(e){return S(e)&&e.name==="AuthSessionMissingError"}function jp(e){return S(e)&&e.name==="AuthImplicitGrantRedirectError"}function As(e){return S(e)&&e.name==="AuthRetryableFetchError"}function DR(e){return S(e)&&e.name==="AuthWeakPasswordError"}var vn,xs,ot,Nt,xe,Zt,Hn,zn,eo,Rr,to,qn,Or=M(()=>{"use strict";vn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};xs=class extends vn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};ot=class extends vn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Nt=class extends vn{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},xe=class extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};Zt=class extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hn=class extends Nt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},zn=class extends Nt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};eo=class extends Nt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Rr=class extends Nt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};to=class extends Nt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};qn=class extends Nt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}});function Wb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(qc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(qc[r]),t.queuedBits-=6}}function Kb(e,t,n){let r=CR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vp(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{TR(s,r,n)};for(let s=0;s<e.length;s+=1)Kb(e.charCodeAt(s),i,o);return t.join("")}function IR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function SR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}IR(r,t)}}function TR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Gn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Kb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Zb(e){let t=[];return SR(e,n=>t.push(n)),new Uint8Array(t)}function yn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Wb(i,n,r)),Wb(null,n,r),t.join("")}var qc,Gb,CR,Gc=M(()=>{"use strict";qc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gb=` 	
\r=`.split(""),CR=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gb.length;t+=1)e[Gb[t].charCodeAt(0)]=-2;for(let t=0;t<qc.length;t+=1)e[qc[t].charCodeAt(0)]=t;return e})()});function Yb(e){return Math.round(Date.now()/1e3)+e}function Jb(){return Symbol("auth-callback")}function Qb(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}function Zc(e){let t=e.split(".");if(t.length!==3)throw new qn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!zb.test(t[r]))throw new qn("JWT not in base64url format");return{header:JSON.parse(Vp(t[0])),payload:JSON.parse(Vp(t[1])),signature:Gn(t[2]),raw:{header:t[0],payload:t[1]}}}function eE(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function tE(e,t){return new Promise((r,i)=>{h(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function MR(e){return("0"+e.toString(16)).substr(-2)}function xR(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,MR).join("")}function AR(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function RR(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield AR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Pr(e,t,n=!1){return h(this,null,function*(){let r=xR(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield kr(e,`${t}-code-verifier`,i);let o=yield RR(r);return[o,r===o?"plain":"s256"]})}function nE(e){let t=e.headers.get(Ms);if(!t||!t.match(OR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rE(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function Fr(e){if(!NR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yc(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oE(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function $p(e){return JSON.parse(JSON.stringify(e))}var Se,Nr,Wc,Kc,Xb,kr,Wn,Ae,Rs,OR,NR,no=M(()=>{"use strict";zc();Or();Gc();Se=()=>typeof window<"u"&&typeof document<"u",Nr={tested:!1,writable:!1},Wc=()=>{if(!Se())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nr.tested)return Nr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nr.tested=!0,Nr.writable=!0}catch{Nr.tested=!0,Nr.writable=!1}return Nr.writable};Kc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Xb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",kr=(e,t,n)=>h(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Wn=(e,t)=>h(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Ae=(e,t)=>h(null,null,function*(){yield e.removeItem(t)}),Rs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Rs.promiseConstructor=Promise;OR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;NR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});function sE(e){return h(this,null,function*(){var t;if(!Xb(e))throw new Rr(Lr(e),0);if(kR.includes(e.status))throw new Rr(Lr(e),e.status);let n;try{n=yield e.json()}catch(o){throw new ot(Lr(o),o)}let r,i=nE(e);if(i&&i.getTime()>=Pp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new to(Lr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new xe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new to(Lr(n),e.status,n.weak_password.reasons);throw new xs(Lr(n),e.status||500,r)})}function O(e,t,n,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Ms]||(o[Ms]=Pp["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield FR(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function FR(e,t,n,r,i,o){return h(this,null,function*(){let s=PR(t,r,i,o),a;try{a=yield e(n,Object.assign({},s))}catch(l){throw console.error(l),new Rr(Lr(l),0)}if(a.ok||(yield sE(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield sE(l)}})}function vt(e){var t;let n=null;LR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Yb(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Up(e){let t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function aE(e){return{data:e,error:null}}function lE(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=Xt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Bp(e){return e}function LR(e){return e.access_token&&e.refresh_token&&e.expires_in}var Lr,kR,PR,Hp=M(()=>{"use strict";ae();zc();no();Or();Lr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kR=[502,503,504];PR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))}});var Os,zp=M(()=>{"use strict";Os=["global","local","others"]});var Kn,Jc=M(()=>{"use strict";ae();Hp();no();zp();Or();Kn=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Kc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(t,n=Os[0]){if(Os.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Os.join(", ")}`);try{return yield O(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(S(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield O(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yt})}catch(i){if(S(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=Xt(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lE,redirectTo:n?.redirectTo})}catch(n){if(S(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yt})}catch(n){if(S(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Bp});if(u.error)throw u.error;let f=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(S(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return h(this,null,function*(){Fr(t);try{return yield O(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yt})}catch(n){if(S(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){Fr(t);try{return yield O(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Yt})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){Fr(t);try{return yield O(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yt})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){Fr(t.userId);try{let{data:n,error:r}=yield O(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){Fr(t.userId),Fr(t.id);try{return{data:yield O(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_listOAuthClients(t){return h(this,null,function*(){var n,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Bp});if(u.error)throw u.error;let f=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(S(c))return{data:{clients:[]},error:c};throw c}})}_createOAuthClient(t){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}_getOAuthClient(t){return h(this,null,function*(){try{return yield O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}_updateOAuthClient(t,n){return h(this,null,function*(){try{return yield O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(S(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return h(this,null,function*(){try{return yield O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(t){return h(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}}});function qp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var cE=M(()=>{"use strict"});function Qc(e,t,n){return h(this,null,function*(){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(null,null,function*(){if(i){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ns(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zn.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function dE(e,t,n){return h(this,null,function*(){var r;let i=(r=uE[e])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),t>=0?new Promise((s,a)=>{setTimeout(()=>{a(new Gp(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(()=>h(null,null,function*(){return yield n()}));return uE[e]=o.catch(s=>h(null,null,function*(){if(s&&s.isAcquireTimeout)return yield i,null;throw s})),yield o})}var Zn,ro,Ns,Gp,uE,Wp=M(()=>{"use strict";no();Zn={debug:!!(globalThis&&Wc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ro=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Ns=class extends ro{},Gp=class extends ro{};uE={}});function fE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var hE=M(()=>{"use strict"});function Kp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pE(e){return parseInt(e,16)}function gE(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function mE(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:f,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let d=Kp(e.address),g=u?`${u}://${r}`:r,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${d}

${m}`,y=`URI: ${f}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let U=`
Resources:`;for(let C of c){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);U+=`
- ${C}`}y+=U}return`${v}
${y}`}var vE=M(()=>{"use strict"});function yE({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ce({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ce({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ce({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ce({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ce({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ce({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ce({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Zp(s)){if(o.rp.id!==s)return new ce({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ce({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _E({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ce({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Zp(r)){if(n.rpId!==r)return new ce({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var ce,jr,wE=M(()=>{"use strict";Yp();ce=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},jr=class extends ce{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}});function EE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=Xt(e,["challenge","user","excludeCredentials"]),o=Gn(t).buffer,s=Object.assign(Object.assign({},n),{id:Gn(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Gn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function DE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=Xt(e,["challenge","allowCredentials"]),i=Gn(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Gn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function CE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:yn(new Uint8Array(e.response.attestationObject)),clientDataJSON:yn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:yn(new Uint8Array(i.authenticatorData)),clientDataJSON:yn(new Uint8Array(i.clientDataJSON)),signature:yn(new Uint8Array(i.signature)),userHandle:i.userHandle?yn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Zp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function bE(){var e,t;return!!(Se()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function VR(e){return h(this,null,function*(){try{let t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jr("Browser returned unexpected credential type",t)}:{data:null,error:new jr("Empty credential response",t)}}catch(t){return{data:null,error:yE({error:t,options:e})}}})}function $R(e){return h(this,null,function*(){try{let t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jr("Browser returned unexpected credential type",t)}:{data:null,error:new jr("Empty credential response",t)}}catch(t){return{data:null,error:_E({error:t,options:e})}}})}function Xc(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=Xc(a,s):r[o]=Xc(s)}else r[o]=s}return r}function HR(e,t){return Xc(UR,e,t||{})}function zR(e,t){return Xc(BR,e,t||{})}var Jp,jR,UR,BR,eu,Yp=M(()=>{"use strict";ae();Gc();Or();no();wE();Jp=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},jR=new Jp;UR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};eu=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{let{data:l,error:c}=yield this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:c};let u=i??jR.createNewAbortSignal();if(l.webauthn.type==="create"){let{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{let f=HR(l.webauthn.credential_options.publicKey,o?.create),{data:p,error:d}=yield VR({publicKey:f,signal:u});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:d}}case"request":{let f=zR(l.webauthn.credential_options.publicKey,o?.request),{data:p,error:d}=yield $R(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:u}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:d}}}}catch(l){return S(l)?{data:null,error:l}:{data:null,error:new ot("Unexpected error in challenge",l)}}})}_verify(i){return h(this,arguments,function*({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new vn("rpId is required for WebAuthn authentication")};try{if(!bE())return{data:null,error:new ot("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:c};let{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return S(l)?{data:null,error:l}:{data:null,error:new ot("Unexpected error in authenticate",l)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new vn("rpId is required for WebAuthn registration")};try{if(!bE())return{data:null,error:new ot("Browser does not support WebAuthn",null)};let{data:l,error:c}=yield this._enroll({friendlyName:t});if(!l)return yield this.client.mfa.listFactors().then(p=>{var d;return(d=p.data)===null||d===void 0?void 0:d.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};let{data:u,error:f}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(l){return S(l)?{data:null,error:l}:{data:null,error:new ot("Unexpected error in register",l)}}})}}});function SE(e,t,n){return h(this,null,function*(){return yield n()})}var qR,io,GR,tu,Qp=M(()=>{"use strict";Jc();zc();Or();Hp();no();cE();Wp();hE();kp();Gc();vE();Yp();fE();qR={url:Ub,storageKey:Bb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};io={},GR=(()=>{class e{get jwks(){var n,r;return(r=(n=io[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=io[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},qR),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Se()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Kn({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kc(s.fetch),this.lock=s.lock||SE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Se()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Qc:this.lock=SE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eu(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Wc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=qp(this.memoryStorage)),Se()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uc}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r={},i="none";if(Se()&&(r=Qb(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),Se()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),jp(s)){let c=(n=s.details)===null||n===void 0?void 0:n.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return S(r)?this._returnResult({error:r}):this._returnResult({error:new ot("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,i,o;try{let s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:vt}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(S(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(n){return h(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:f,password:p,options:d}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield Pr(this.storage,this.storageKey)),s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:f,password:p,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:m},xform:vt})}else if("phone"in n){let{phone:f,password:p,options:d}=n;s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(i=d?.data)!==null&&i!==void 0?i:{},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:vt})}else throw new Hn("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return yield Ae(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(yield Ae(this.storage,`${this.storageKey}-code-verifier`),S(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:l}=n;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Up})}else if("phone"in n){let{phone:s,password:a,options:l}=n;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Up})}else throw new Hn("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Zt;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(S(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return h(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return h(this,null,function*(){var r,i,o,s,a,l,c,u,f,p,d;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:v,wallet:y,statement:U,options:C}=n,I;if(Se())if(typeof y=="object")I=y;else{let Jt=window;if("ethereum"in Jt&&typeof Jt.ethereum=="object"&&"request"in Jt.ethereum&&typeof Jt.ethereum.request=="function")I=Jt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=y}let Y=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),kt=yield I.request({method:"eth_requestAccounts"}).then(Jt=>Jt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!kt||kt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ne=Kp(kt[0]),_e=(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!_e){let Jt=yield I.request({method:"eth_chainId"});_e=pE(Jt)}let _n={domain:Y.host,address:ne,statement:U,uri:Y.href,version:"1",chainId:_e,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=mE(_n),m=yield I.request({method:"personal_sign",params:[gE(g),ne]})}try{let{data:v,error:y}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(d=n.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:vt});if(y)throw y;if(!v||!v.session||!v.user){let U=new Zt;return this._returnResult({data:{user:null,session:null},error:U})}return v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(S(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}})}signInWithSolana(n){return h(this,null,function*(){var r,i,o,s,a,l,c,u,f,p,d,g;let m,v;if("message"in n)m=n.message,v=n.signature;else{let{chain:y,wallet:U,statement:C,options:I}=n,Y;if(Se())if(typeof U=="object")Y=U;else{let ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))Y=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=U}let kt=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Y&&Y.signIn){let ne=yield Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:kt.host,uri:kt.href}),C?{statement:C}:null)),_e;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")_e=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)_e=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _e&&"signature"in _e&&(typeof _e.signedMessage=="string"||_e.signedMessage instanceof Uint8Array)&&_e.signature instanceof Uint8Array)m=typeof _e.signedMessage=="string"?_e.signedMessage:new TextDecoder().decode(_e.signedMessage),v=_e.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${kt.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${kt.href}`,`Issued At: ${(o=(i=I?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((a=I?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((l=I?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((p=(f=I?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...I.signInWithSolana.resources.map(_e=>`- ${_e}`)]:[]].join(`
`);let ne=yield Y.signMessage(new TextEncoder().encode(m),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=ne}}try{let{data:y,error:U}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:yn(v)},!((d=n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:vt});if(U)throw U;if(!y||!y.session||!y.user){let C=new Zt;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:U})}catch(y){if(S(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield Wn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:vt});if(yield Ae(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new Zt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield Ae(this.storage,`${this.storageKey}-code-verifier`),S(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,l=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:vt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let f=new Zt;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(S(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:l,options:c}=n,u=null,f=null;this.flowType==="pkce"&&([u,f]=yield Pr(this.storage,this.storageKey));let{error:p}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:l,options:c}=n,{data:u,error:f}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new Hn("You must provide either an email or phone number.")}catch(l){if(yield Ae(this.storage,`${this.storageKey}-code-verifier`),S(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}verifyOtp(n){return h(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:vt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(S(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(n){return h(this,null,function*(){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=yield Pr(this.storage,this.storageKey));let u=yield O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:aE});return!((s=u.data)===null||s===void 0)&&s.url&&Se()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(yield Ae(this.storage,`${this.storageKey}-code-verifier`),S(l))return this._returnResult({data:null,error:l});throw l}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new xe;let{error:o}=yield O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(n){if(S(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:l}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Hn("You must provide either an email or phone number and a type")}catch(r){if(S(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<Hc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=yield Wn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Yc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=oE(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(n){return h(this,null,function*(){try{return n?yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Yt}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xe}:yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Yt})}))}catch(r){if(S(r))return Lp(r)&&(yield this._removeSession(),yield Ae(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new xe;let l=s.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=yield Pr(this.storage,this.storageKey));let{data:f,error:p}=yield O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Yt});if(p)throw p;return l.user=f.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})}))}catch(o){if(yield Ae(this.storage,`${this.storageKey}-code-verifier`),S(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new xe;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Zc(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=yield this._callRefreshToken(n.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(n.access_token);if(c)throw c;s={access_token:n.access_token,refresh_token:n.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(S(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!n){let{data:a,error:l}=r;if(l)throw l;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new xe;let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(S(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!Se())throw new zn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new zn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new eo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new eo("No code detected.");let{data:C,error:I}=yield this._exchangeCodeForSession(n.code);if(I)throw I;let Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:C.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=n;if(!s||!l||!a||!u)throw new zn("No session defined in URL");let f=Math.round(Date.now()/1e3),p=parseInt(l),d=f+p;c&&(d=parseInt(c));let g=d-f;g*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=d-p;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,f);let{data:v,error:y}=yield this._getUser(s);if(y)throw y;let U={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:d,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:n.type},error:null})}catch(i){if(S(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield Wn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,n);if(l&&!(Fp(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return n!=="others"&&(yield this._removeSession(),yield Ae(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=Jb(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Pr(this.storage,this.storageKey,!0));try{return yield O(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield Ae(this.storage,`${this.storageKey}-code-verifier`),S(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return h(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,f;let{data:p,error:d}=s;if(d)throw d;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield O(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})}));if(o)throw o;return Se()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(S(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}})}linkIdentityIdToken(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:f}=n,p=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:vt}),{data:d,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Zt}):(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:g}))}catch(o){if(yield Ae(this.storage,`${this.storageKey}-code-verifier`),S(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield O(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield tE(o=>h(this,null,function*(){return o>0&&(yield eE(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:vt})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&As(s)&&Date.now()+a-i<Ar})}catch(i){if(this._debug(r,"error",i),S(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Se()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Wn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield kr(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:Yc()}else if(o&&!o.user&&!o.user){let a=yield Wn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield Ae(this.storage,this.storageKey+"-user"),yield kr(this.storage,this.storageKey,o)):o.user=Yc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hc;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Hc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),As(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=yield this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,i;if(!n)throw new xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Rs;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new xe;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),S(s)){let a={data:null,error:s};return As(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(n,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Ae(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield kr(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=$p(o);yield kr(this.storage,this.storageKey,s)}else{let o=$p(r);yield kr(this.storage,this.storageKey,o)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Ae(this.storage,this.storageKey),yield Ae(this.storage,this.storageKey+"-code-verifier"),yield Ae(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ae(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Se()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ar}ms, refresh threshold is ${Bc} ticks`),o<=Bc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof ro)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Se()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Pr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield O(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:c,error:u}=yield O(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?CE(n.webauthn.credential_response):IE(n.webauthn.credential_response)})}:{code:n.code}),{data:l,error:c}=yield O(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield O(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:EE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DE(l.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){var n;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){var n,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Zc(i.access_token),a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield O(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new xe})}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new xe});let a=yield O(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Se()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(S(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(n,r){return h(this,null,function*(){try{return yield this._useSession(i=>h(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new xe});let a=yield O(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Se()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(S(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?yield O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new xe})}))}catch(n){if(S(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xe})}))}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return h(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+qb>s)return o;let{data:a,error:l}=yield O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(c=>c.kid===n),!o)?null:o})}getClaims(i){return h(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});o=m.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=Zc(o);r?.allowExpired||rE(a.exp);let f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){let{error:m}=yield this.getUser(o);if(m)throw m;return{data:{claims:a,header:s,signature:l},error:null}}let p=iE(s.alg),d=yield crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,d,l,Zb(`${c}.${u}`))))throw new qn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(S(o))return this._returnResult({data:null,error:o});throw o}})}}return e.nextInstanceID={},e})(),tu=GR});var WR,TE,ME=M(()=>{"use strict";Jc();WR=Kn,TE=WR});var KR,xE,AE=M(()=>{"use strict";Qp();KR=tu,xE=KR});var Xp={};uo(Xp,{AuthAdminApi:()=>TE,AuthApiError:()=>xs,AuthClient:()=>xE,AuthError:()=>vn,AuthImplicitGrantRedirectError:()=>zn,AuthInvalidCredentialsError:()=>Hn,AuthInvalidJwtError:()=>qn,AuthInvalidTokenResponseError:()=>Zt,AuthPKCEGrantCodeExchangeError:()=>eo,AuthRetryableFetchError:()=>Rr,AuthSessionMissingError:()=>xe,AuthUnknownError:()=>ot,AuthWeakPasswordError:()=>to,CustomAuthError:()=>Nt,GoTrueAdminApi:()=>Kn,GoTrueClient:()=>tu,NavigatorLockAcquireTimeoutError:()=>Ns,SIGN_OUT_SCOPES:()=>Os,isAuthApiError:()=>Fp,isAuthError:()=>S,isAuthImplicitGrantRedirectError:()=>jp,isAuthRetryableFetchError:()=>As,isAuthSessionMissingError:()=>Lp,isAuthWeakPasswordError:()=>DR,lockInternals:()=>Zn,navigatorLock:()=>Qc,processLock:()=>dE});var eg=M(()=>{"use strict";Jc();Qp();ME();AE();zp();Or();Wp()});var RE=Ue(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.SupabaseAuthClient=void 0;var ZR=(eg(),Qe(Xp)),tg=class extends ZR.AuthClient{constructor(t){super(t)}};nu.SupabaseAuthClient=tg});var ig=Ue(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});var YR=(qh(),Qe(zh)),JR=lp(),QR=(Dp(),Qe(Ep)),XR=(Pb(),Qe(kb)),ru=Lb(),eO=jb(),OE=$b(),tO=RE(),ng=class{constructor(t,n,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=n;let a=(0,OE.validateSupabaseUrl)(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:ru.DEFAULT_DB_OPTIONS,realtime:ru.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},ru.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:ru.DEFAULT_GLOBAL_OPTIONS},u=(0,OE.applySettingDefaults)(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=(0,eO.fetchWithAuth)(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new JR.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new XR.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new YR.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var t,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},f,p){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tO.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),f),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new QR.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};rg.default=ng});var PE=Ue(oe=>{"use strict";var nO=oe&&oe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),NE=oe&&oe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&nO(t,e,n)},kE=oe&&oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oe,"__esModule",{value:!0});oe.createClient=oe.SupabaseClient=oe.FunctionRegion=oe.FunctionsError=oe.FunctionsRelayError=oe.FunctionsFetchError=oe.FunctionsHttpError=oe.PostgrestError=void 0;var rO=kE(ig());NE((eg(),Qe(Xp)),oe);var iO=lp();Object.defineProperty(oe,"PostgrestError",{enumerable:!0,get:function(){return iO.PostgrestError}});var ks=(qh(),Qe(zh));Object.defineProperty(oe,"FunctionsHttpError",{enumerable:!0,get:function(){return ks.FunctionsHttpError}});Object.defineProperty(oe,"FunctionsFetchError",{enumerable:!0,get:function(){return ks.FunctionsFetchError}});Object.defineProperty(oe,"FunctionsRelayError",{enumerable:!0,get:function(){return ks.FunctionsRelayError}});Object.defineProperty(oe,"FunctionsError",{enumerable:!0,get:function(){return ks.FunctionsError}});Object.defineProperty(oe,"FunctionRegion",{enumerable:!0,get:function(){return ks.FunctionRegion}});NE((Dp(),Qe(Ep)),oe);var oO=ig();Object.defineProperty(oe,"SupabaseClient",{enumerable:!0,get:function(){return kE(oO).default}});var sO=(e,t,n)=>new rO.default(e,t,n);oe.createClient=sO;function aO(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}aO()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});function Su(e,t){return Object.is(e,t)}var we=null,zs=!1,Tu=1,st=Symbol("SIGNAL");function B(e){let t=we;return we=e,t}function Mu(){return we}var ho={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function po(e){if(zs)throw new Error("");if(we===null)return;we.consumerOnSignalRead(e);let t=we.nextProducerIndex++;if(Ks(we),t<we.producerNode.length&&we.producerNode[t]!==e&&fo(we)){let n=we.producerNode[t];Ws(n,we.producerIndexOfThis[t])}we.producerNode[t]!==e&&(we.producerNode[t]=e,we.producerIndexOfThis[t]=fo(we)?Eg(e,we,t):0),we.producerLastReadVersion[t]=e.version}function bg(){Tu++}function xu(e){if(!(fo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Tu)){if(!e.producerMustRecompute(e)&&!Nu(e)){Iu(e);return}e.producerRecomputeValue(e),Iu(e)}}function Au(e){if(e.liveConsumerNode===void 0)return;let t=zs;zs=!0;try{for(let n of e.liveConsumerNode)n.dirty||wD(n)}finally{zs=t}}function Ru(){return we?.consumerAllowSignalWrites!==!1}function wD(e){e.dirty=!0,Au(e),e.consumerMarkedDirty?.(e)}function Iu(e){e.dirty=!1,e.lastCleanEpoch=Tu}function Gs(e){return e&&(e.nextProducerIndex=0),B(e)}function Ou(e,t){if(B(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(fo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ws(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Nu(e){Ks(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(xu(n),r!==n.version))return!0}return!1}function ku(e){if(Ks(e),fo(e))for(let t=0;t<e.producerNode.length;t++)Ws(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Eg(e,t,n){if(Dg(e),e.liveConsumerNode.length===0&&Cg(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Eg(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ws(e,t){if(Dg(e),e.liveConsumerNode.length===1&&Cg(e))for(let r=0;r<e.producerNode.length;r++)Ws(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ks(i),i.producerIndexOfThis[r]=t}}function fo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ks(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Dg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Cg(e){return e.producerNode!==void 0}function Pu(e,t){let n=Object.create(bD);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(xu(n),po(n),n.value===qs)throw n.error;return n.value};return r[st]=n,r}var Du=Symbol("UNSET"),Cu=Symbol("COMPUTING"),qs=Symbol("ERRORED"),bD=q(w({},ho),{value:Du,dirty:!0,error:null,equal:Su,kind:"computed",producerMustRecompute(e){return e.value===Du||e.value===Cu},producerRecomputeValue(e){if(e.value===Cu)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Cu;let n=Gs(e),r,i=!1;try{r=e.computation(),B(null),i=t!==Du&&t!==qs&&r!==qs&&e.equal(t,r)}catch(o){r=qs,e.error=o}finally{Ou(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function ED(){throw new Error}var Ig=ED;function Sg(e){Ig(e)}function Fu(e){Ig=e}var DD=null;function Lu(e,t){let n=Object.create(Zs);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(po(n),n.value);return r[st]=n,r}function go(e,t){Ru()||Sg(e),e.equal(e.value,t)||(e.value=t,CD(e))}function ju(e,t){Ru()||Sg(e),go(e,t(e.value))}var Zs=q(w({},ho),{equal:Su,value:void 0,kind:"signal"});function CD(e){e.version++,bg(),Au(e),DD?.()}function Vu(e){let t=B(null);try{return e()}finally{B(t)}}var $u;function mo(){return $u}function Qt(e){let t=$u;return $u=e,t}var Ys=Symbol("NotFound");function P(e){return typeof e=="function"}function Vr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Js=Vr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var pe=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(o){t=o instanceof Js?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Tg(o)}catch(s){t=t??[],s instanceof Js?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Js(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Tg(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&vo(n,t)}remove(t){let{_finalizers:n}=this;n&&vo(n,t),t instanceof e&&t._removeParent(this)}};pe.EMPTY=(()=>{let e=new pe;return e.closed=!0,e})();var Uu=pe.EMPTY;function Qs(e){return e instanceof pe||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function Tg(e){P(e)?e():e.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $r={setTimeout(e,t,...n){let{delegate:r}=$r;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=$r;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Xs(e){$r.setTimeout(()=>{let{onUnhandledError:t}=_t;if(t)t(e);else throw e})}function yo(){}var Mg=Bu("C",void 0,void 0);function xg(e){return Bu("E",void 0,e)}function Ag(e){return Bu("N",e,void 0)}function Bu(e,t,n){return{kind:e,value:t,error:n}}var Jn=null;function Ur(e){if(_t.useDeprecatedSynchronousErrorHandling){let t=!Jn;if(t&&(Jn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Jn;if(Jn=null,n)throw r}}else e()}function Rg(e){_t.useDeprecatedSynchronousErrorHandling&&Jn&&(Jn.errorThrown=!0,Jn.error=e)}var Qn=class extends pe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Qs(t)&&t.add(this)):this.destination=AD}static create(t,n,r){return new Br(t,n,r)}next(t){this.isStopped?zu(Ag(t),this):this._next(t)}error(t){this.isStopped?zu(xg(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?zu(Mg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MD=Function.prototype.bind;function Hu(e,t){return MD.call(e,t)}var qu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ea(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ea(r)}else ea(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ea(n)}}},Br=class extends Qn{constructor(t,n,r){super();let i;if(P(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Hu(t.next,o),error:t.error&&Hu(t.error,o),complete:t.complete&&Hu(t.complete,o)}):i=t}this.destination=new qu(i)}};function ea(e){_t.useDeprecatedSynchronousErrorHandling?Rg(e):Xs(e)}function xD(e){throw e}function zu(e,t){let{onStoppedNotification:n}=_t;n&&$r.setTimeout(()=>n(e,t))}var AD={closed:!0,next:yo,error:xD,complete:yo};var Hr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(e){return e}function Gu(...e){return Wu(e)}function Wu(e){return e.length===0?Xe:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var J=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OD(n)?n:new Br(n,r,i);return Ur(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Og(r),new r((i,o)=>{let s=new Br({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Hr](){return this}pipe(...n){return Wu(n)(this)}toPromise(n){return n=Og(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Og(e){var t;return(t=e??_t.Promise)!==null&&t!==void 0?t:Promise}function RD(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}function OD(e){return e&&e instanceof Qn||RD(e)&&Qs(e)}function Ku(e){return P(e?.lift)}function K(e){return t=>{if(Ku(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(e,t,n,r,i){return new Zu(e,t,n,r,i)}var Zu=class extends Qn{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function zr(){return K((e,t)=>{let n=null;e._refCount++;let r=H(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var qr=class extends J{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ku(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pe;let n=this.getSubject();t.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pe.EMPTY)}return t}refCount(){return zr()(this)}};var Ng=Vr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class e extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ta(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ng}next(n){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ur(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Uu:(this.currentObservers=null,o.push(n),new pe(()=>{this.currentObservers=null,vo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return e.create=(t,n)=>new ta(t,n),e})(),ta=class extends be{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Uu}};var Ee=class extends be{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Be=new J(e=>e.complete());function kg(e){return e&&P(e.schedule)}function Pg(e){return e[e.length-1]}function na(e){return P(Pg(e))?e.pop():void 0}function wn(e){return kg(Pg(e))?e.pop():void 0}ae();var la=e=>e&&typeof e.length=="number"&&typeof e!="function";function ca(e){return P(e?.then)}function ua(e){return P(e[Hr])}function da(e){return Symbol.asyncIterator&&P(e?.[Symbol.asyncIterator])}function fa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ha=FD();function pa(e){return P(e?.[ha])}ae();function ga(e){return sa(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Pt(n.read());if(i)return yield Pt(void 0);yield yield Pt(r)}}finally{n.releaseLock()}})}function ma(e){return P(e?.getReader)}function ge(e){if(e instanceof J)return e;if(e!=null){if(ua(e))return LD(e);if(la(e))return jD(e);if(ca(e))return VD(e);if(da(e))return om(e);if(pa(e))return $D(e);if(ma(e))return UD(e)}throw fa(e)}function LD(e){return new J(t=>{let n=e[Hr]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jD(e){return new J(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function VD(e){return new J(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Xs)})}function $D(e){return new J(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function om(e){return new J(t=>{BD(e,t).catch(n=>t.error(n))})}function UD(e){return om(ga(e))}function BD(e,t){var n,r,i,o;return _(this,void 0,void 0,function*(){try{for(n=aa(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function He(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function va(e,t=0){return K((n,r)=>{n.subscribe(H(r,i=>He(r,e,()=>r.next(i),t),()=>He(r,e,()=>r.complete(),t),i=>He(r,e,()=>r.error(i),t)))})}function ya(e,t=0){return K((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function sm(e,t){return ge(e).pipe(ya(t),va(t))}function am(e,t){return ge(e).pipe(ya(t),va(t))}function lm(e,t){return new J(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function cm(e,t){return new J(n=>{let r;return He(n,t,()=>{r=e[ha](),He(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function _a(e,t){if(!e)throw new Error("Iterable cannot be null");return new J(n=>{He(n,t,()=>{let r=e[Symbol.asyncIterator]();He(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function um(e,t){return _a(ga(e),t)}function dm(e,t){if(e!=null){if(ua(e))return sm(e,t);if(la(e))return lm(e,t);if(ca(e))return am(e,t);if(da(e))return _a(e,t);if(pa(e))return cm(e,t);if(ma(e))return um(e,t)}throw fa(e)}function ue(e,t){return t?dm(e,t):ge(e)}function F(...e){let t=wn(e);return ue(e,t)}function Gr(e,t){let n=P(e)?e:()=>e,r=i=>i.error(n());return new J(t?i=>t.schedule(r,0,i):r)}function Xu(e){return!!e&&(e instanceof J||P(e.lift)&&P(e.subscribe))}var en=Vr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function G(e,t){return K((n,r)=>{let i=0;n.subscribe(H(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:HD}=Array;function zD(e,t){return HD(t)?e(...t):e(t)}function wa(e){return G(t=>zD(e,t))}var{isArray:qD}=Array,{getPrototypeOf:GD,prototype:WD,keys:KD}=Object;function ba(e){if(e.length===1){let t=e[0];if(qD(t))return{args:t,keys:null};if(ZD(t)){let n=KD(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ZD(e){return e&&typeof e=="object"&&GD(e)===WD}function Ea(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Da(...e){let t=wn(e),n=na(e),{args:r,keys:i}=ba(e);if(r.length===0)return ue([],t);let o=new J(YD(r,t,i?s=>Ea(i,s):Xe));return n?o.pipe(wa(n)):o}function YD(e,t,n=Xe){return r=>{fm(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)fm(t,()=>{let c=ue(e[l],t),u=!1;c.subscribe(H(r,f=>{o[l]=f,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fm(e,t,n){e?He(n,e,t):t()}function hm(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,f=!1,p=()=>{f&&!l.length&&!c&&t.complete()},d=m=>c<r?g(m):l.push(m),g=m=>{o&&t.next(m),c++;let v=!1;ge(n(m,u++)).subscribe(H(t,y=>{i?.(y),o?d(y):t.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let y=l.shift();s?He(t,s,()=>g(y)):g(y)}p()}catch(y){t.error(y)}}))};return e.subscribe(H(t,d,()=>{f=!0,p()})),()=>{a?.()}}function De(e,t,n=1/0){return P(t)?De((r,i)=>G((o,s)=>t(r,o,i,s))(ge(e(r,i))),n):(typeof t=="number"&&(n=t),K((r,i)=>hm(r,i,e,n)))}function pm(e=1/0){return De(Xe,e)}function gm(){return pm(1)}function Wr(...e){return gm()(ue(e,wn(e)))}function Ca(e){return new J(t=>{ge(e()).subscribe(t)})}function ed(...e){let t=na(e),{args:n,keys:r}=ba(e),i=new J(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let f=!1;ge(n[u]).subscribe(H(o,p=>{f||(f=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?Ea(r,a):a),o.complete())}))}});return t?i.pipe(wa(t)):i}function wt(e,t){return K((n,r)=>{let i=0;n.subscribe(H(r,o=>e.call(t,o,i++)&&r.next(o)))})}function bn(e){return K((t,n)=>{let r=null,i=!1,o;r=t.subscribe(H(n,void 0,void 0,s=>{o=ge(e(s,bn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function mm(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(H(s,u=>{let f=c++;l=a?e(l,u,f):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Kr(e,t){return P(t)?De(e,t,1):De(e,1)}function En(e){return K((t,n)=>{let r=!1;t.subscribe(H(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function tn(e){return e<=0?()=>Be:K((t,n)=>{let r=0;t.subscribe(H(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Ia(e=JD){return K((t,n)=>{let r=!1;t.subscribe(H(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function JD(){return new en}function _o(e){return K((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function nn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?wt((i,o)=>e(i,o,r)):Xe,tn(1),n?En(t):Ia(()=>new en))}function Zr(e){return e<=0?()=>Be:K((t,n)=>{let r=[];t.subscribe(H(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function td(e,t){let n=arguments.length>=2;return r=>r.pipe(e?wt((i,o)=>e(i,o,r)):Xe,Zr(1),n?En(t):Ia(()=>new en))}function nd(e,t){return K(mm(e,t,arguments.length>=2,!0))}function rd(...e){let t=wn(e);return K((n,r)=>{(t?Wr(e,n,t):Wr(e,n)).subscribe(r)})}function bt(e,t){return K((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(H(r,l=>{i?.unsubscribe();let c=0,u=o++;ge(e(l,u)).subscribe(i=H(r,f=>r.next(t?t(l,f,u,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function id(e){return K((t,n)=>{ge(e).subscribe(H(n,()=>n.complete(),yo)),!n.closed&&t.subscribe(n)})}function Re(e,t,n){let r=P(e)||t||n?{next:e,error:t,complete:n}:e;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(H(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Xe}var iv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",T=class extends Error{code;constructor(t,n){super(XD(t,n)),this.code=t}};function QD(e){return`NG0${Math.abs(e)}`}function XD(e,t){return`${QD(e)}${t?": "+t:""}`}var ov=Symbol("InputSignalNode#UNSET"),e0=q(w({},Zs),{transformFn:void 0,applyValueToInputSignal(e,t){go(e,t)}});function sv(e,t){let n=Object.create(e0);n.value=e,n.transformFn=t?.transform;function r(){if(po(n),n.value===ov){let i=null;throw new T(-950,i)}return n.value}return r[st]=n,r}function Oo(e){return{toString:e}.toString()}var Sa="__parameters__";function t0(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function av(e,t,n){return Oo(()=>{let r=t0(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let f=l.hasOwnProperty(Sa)?l[Sa]:Object.defineProperty(l,Sa,{value:[]})[Sa];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var bo=globalThis;function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function n0(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function qe(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(qe).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function vm(e,t){return e?t?`${e} ${t}`:e:t||""}var r0=te({__forward_ref__:te});function ln(e){return e.__forward_ref__=ln,e.toString=function(){return qe(this())},e}function Le(e){return lv(e)?e():e}function lv(e){return typeof e=="function"&&e.hasOwnProperty(r0)&&e.__forward_ref__===ln}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function dr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ol(e){return ym(e,uv)||ym(e,dv)}function cv(e){return ol(e)!==null}function ym(e,t){return e.hasOwnProperty(t)?e[t]:null}function i0(e){let t=e&&(e[uv]||e[dv]);return t||null}function _m(e){return e&&(e.hasOwnProperty(wm)||e.hasOwnProperty(o0))?e[wm]:null}var uv=te({\u0275prov:te}),wm=te({\u0275inj:te}),dv=te({ngInjectableDef:te}),o0=te({ngInjectorDef:te}),A=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fv(e){return e&&!!e.\u0275providers}var s0=te({\u0275cmp:te}),a0=te({\u0275dir:te}),l0=te({\u0275pipe:te}),c0=te({\u0275mod:te}),Na=te({\u0275fac:te}),Co=te({__NG_ELEMENT_ID__:te}),bm=te({__NG_ENV_ID__:te});function ei(e){return typeof e=="string"?e:e==null?"":String(e)}function u0(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ei(e)}function hv(e,t){throw new T(-200,e)}function lf(e,t){throw new T(-201,!1)}var V=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(V||{}),wd;function pv(){return wd}function ze(e){let t=wd;return wd=e,t}function gv(e,t,n){let r=ol(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&V.Optional)return null;if(t!==void 0)return t;lf(e,"Injector")}var d0={},tr=d0,bd="__NG_DI_FLAG__",ka=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Ys:tr,r)}},Pa="ngTempTokenPath",f0="ngTokenPath",h0=/\n/gm,p0="\u0275",Em="__source";function g0(e,t=V.Default){if(mo()===void 0)throw new T(-203,!1);if(mo()===null)return gv(e,void 0,t);{let n=mo(),r;return n instanceof ka?r=n.injector:r=n,r.get(e,t&V.Optional?null:void 0,t)}}function k(e,t=V.Default){return(pv()||g0)(Le(e),t)}function E(e,t=V.Default){return k(e,sl(t))}function sl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ed(e){let t=[];for(let n=0;n<e.length;n++){let r=Le(e[n]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,o=V.Default;for(let s=0;s<r.length;s++){let a=r[s],l=m0(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(k(i,o))}else t.push(k(r))}return t}function mv(e,t){return e[bd]=t,e.prototype[bd]=t,e}function m0(e){return e[bd]}function v0(e,t,n,r){let i=e[Pa];throw t[Em]&&i.unshift(t[Em]),e.message=y0(`
`+e.message,i,n,r),e[f0]=i,e[Pa]=null,e}function y0(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==p0?e.slice(2):e;let i=qe(t);if(Array.isArray(t))i=t.map(qe).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(h0,`
  `)}`}var _0=mv(av("Optional"),8);var w0=mv(av("SkipSelf"),4);function rr(e,t){let n=e.hasOwnProperty(Na);return n?e[Na]:null}function cf(e,t){e.forEach(n=>Array.isArray(n)?cf(n,t):t(n))}function vv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function b0(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function E0(e,t,n){let r=No(e,t);return r>=0?e[r|1]=n:(r=~r,b0(e,r,t,n)),r}function od(e,t){let n=No(e,t);if(n>=0)return e[n|1]}function No(e,t){return D0(e,t,1)}function D0(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var ir={},at=[],Io=new A(""),yv=new A("",-1),_v=new A(""),La=class{get(t,n=tr){if(n===tr){let r=new Error(`NullInjectorError: No provider for ${qe(t)}!`);throw r.name="NullInjectorError",r}return n}};function wv(e,t){let n=e[c0]||null;if(!n&&t===!0)throw new Error(`Type ${qe(e)} does not have '\u0275mod' property.`);return n}function ti(e){return e[s0]||null}function C0(e){return e[a0]||null}function I0(e){return e[l0]||null}function bv(e){return{\u0275providers:e}}function S0(...e){return{\u0275providers:Ev(!0,e),\u0275fromNgModule:!0}}function Ev(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return cf(t,s=>{let a=s;Dd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Dv(i,o),n}function Dv(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];uf(i,o=>{t(o,r)})}}function Dd(e,t,n,r){if(e=Le(e),!e)return!1;let i=null,o=_m(e),s=!o&&ti(e);if(!o&&!s){let l=e.ngModule;if(o=_m(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Dd(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{cf(o.imports,u=>{Dd(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Dv(c,t)}if(!a){let c=rr(i)||(()=>new i);t({provide:i,useFactory:c,deps:at},i),t({provide:_v,useValue:i,multi:!0},i),t({provide:Io,useValue:()=>k(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;uf(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function uf(e,t){for(let n of e)fv(n)&&(n=n.\u0275providers),Array.isArray(n)?uf(n,t):t(n)}var T0=te({provide:String,useValue:te});function Cv(e){return e!==null&&typeof e=="object"&&T0 in e}function M0(e){return!!(e&&e.useExisting)}function x0(e){return!!(e&&e.useFactory)}function ni(e){return typeof e=="function"}function A0(e){return!!e.useClass}var al=new A(""),Ma={},Dm={},sd;function df(){return sd===void 0&&(sd=new La),sd}var ut=class{},So=class extends ut{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Id(t,s=>this.processProvider(s)),this.records.set(yv,Yr(void 0,this)),i.has("environment")&&this.records.set(ut,Yr(void 0,this));let o=this.records.get(al);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_v,at,V.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Ys:tr,r)}destroy(){Eo(this),this._destroyed=!0;let t=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(t)}}onDestroy(t){return Eo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Eo(this);let n=Qt(this),r=ze(void 0),i;try{return t()}finally{Qt(n),ze(r)}}get(t,n=tr,r=V.Default){if(Eo(this),t.hasOwnProperty(bm))return t[bm](this);r=sl(r);let i,o=Qt(this),s=ze(void 0);try{if(!(r&V.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=P0(t)&&ol(t);c&&this.injectableDefInScope(c)?l=Yr(Cd(t),Ma):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&V.Self?df():this.parent;return n=r&V.Optional&&n===tr?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Pa]=a[Pa]||[]).unshift(qe(t)),o)throw a;return v0(a,t,"R3InjectorError",this.source)}else throw a}finally{ze(s),Qt(o)}}resolveInjectorInitializers(){let t=B(null),n=Qt(this),r=ze(void 0),i;try{let o=this.get(Io,at,V.Self);for(let s of o)s()}finally{Qt(n),ze(r),B(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(qe(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Le(t);let n=ni(t)?t:Le(t&&t.provide),r=O0(t);if(!ni(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Yr(void 0,Ma,!0),i.factory=()=>Ed(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=B(null);try{return n.value===Dm?hv(qe(t)):n.value===Ma&&(n.value=Dm,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&k0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{B(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Le(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cd(e){let t=ol(e),n=t!==null?t.factory:rr(e);if(n!==null)return n;if(e instanceof A)throw new T(204,!1);if(e instanceof Function)return R0(e);throw new T(204,!1)}function R0(e){if(e.length>0)throw new T(204,!1);let n=i0(e);return n!==null?()=>n.factory(e):()=>new e}function O0(e){if(Cv(e))return Yr(void 0,e.useValue);{let t=Iv(e);return Yr(t,Ma)}}function Iv(e,t,n){let r;if(ni(e)){let i=Le(e);return rr(i)||Cd(i)}else if(Cv(e))r=()=>Le(e.useValue);else if(x0(e))r=()=>e.useFactory(...Ed(e.deps||[]));else if(M0(e))r=(i,o)=>k(Le(e.useExisting),o!==void 0&&o&V.Optional?V.Optional:void 0);else{let i=Le(e&&(e.useClass||e.provide));if(N0(e))r=()=>new i(...Ed(e.deps));else return rr(i)||Cd(i)}return r}function Eo(e){if(e.destroyed)throw new T(205,!1)}function Yr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function N0(e){return!!e.deps}function k0(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function P0(e){return typeof e=="function"||typeof e=="object"&&e instanceof A}function Id(e,t){for(let n of e)Array.isArray(n)?Id(n,t):n&&fv(n)?Id(n.\u0275providers,t):t(n)}function Ct(e,t){let n;e instanceof So?(Eo(e),n=e):n=new ka(e);let r,i=Qt(n),o=ze(void 0);try{return t()}finally{Qt(i),ze(o)}}function F0(){return pv()!==void 0||mo()!=null}function L0(e){return typeof e=="function"}var cn=0,W=1,L=2,je=3,Dt=4,It=5,ja=6,Va=7,Ge=8,ri=9,rn=10,me=11,To=12,Cm=13,di=14,Lt=15,ii=16,Jr=17,oi=18,ll=19,Sv=20,Dn=21,ad=22,$a=23,lt=24,ld=25,We=26,Tv=1;var or=7,Ua=8,Ba=9,ct=10;function Cn(e){return Array.isArray(e)&&typeof e[Tv]=="object"}function un(e){return Array.isArray(e)&&e[Tv]===!0}function ff(e){return(e.flags&4)!==0}function fi(e){return e.componentOffset>-1}function cl(e){return(e.flags&1)===1}function jt(e){return!!e.template}function Ha(e){return(e[L]&512)!==0}function hi(e){return(e[L]&256)===256}var Sd=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Mv(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var pi=(()=>{let e=()=>xv;return e.ngInherit=!0,e})();function xv(e){return e.type.prototype.ngOnChanges&&(e.setInput=V0),j0}function j0(){let e=Rv(this),t=e?.current;if(t){let n=e.previous;if(n===ir)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function V0(e,t,n,r,i){let o=this.declaredInputs[r],s=Rv(e)||$0(e,{previous:ir,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Sd(c&&c.currentValue,n,l===ir),Mv(e,t,i,n)}var Av="__ngSimpleChanges__";function Rv(e){return e[Av]||null}function $0(e,t){return e[Av]=t}var Im=null;var re=function(e,t=null,n){Im?.(e,t,n)},U0="svg",B0="math";function Vt(e){for(;Array.isArray(e);)e=e[cn];return e}function Ov(e,t){return Vt(t[e])}function Bt(e,t){return Vt(t[e.index])}function Nv(e,t){return e.data[t]}function hf(e,t){return e[t]}function H0(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function $t(e,t){let n=t[e];return Cn(n)?n:n[cn]}function pf(e){return(e[L]&128)===128}function z0(e){return un(e[je])}function si(e,t){return t==null?null:e[t]}function kv(e){e[Jr]=0}function Pv(e){e[L]&1024||(e[L]|=1024,pf(e)&&dl(e))}function q0(e,t){for(;e>0;)t=t[di],e--;return t}function ul(e){return!!(e[L]&9216||e[lt]?.dirty)}function Td(e){e[rn].changeDetectionScheduler?.notify(8),e[L]&64&&(e[L]|=1024),ul(e)&&dl(e)}function dl(e){e[rn].changeDetectionScheduler?.notify(0);let t=sr(e);for(;t!==null&&!(t[L]&8192||(t[L]|=8192,!pf(t)));)t=sr(t)}function Fv(e,t){if(hi(e))throw new T(911,!1);e[Dn]===null&&(e[Dn]=[]),e[Dn].push(t)}function G0(e,t){if(e[Dn]===null)return;let n=e[Dn].indexOf(t);n!==-1&&e[Dn].splice(n,1)}function sr(e){let t=e[je];return un(t)?t[je]:t}function Lv(e){return e[Va]??=[]}function jv(e){return e.cleanup??=[]}var $={lFrame:Wv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Md=!1;function W0(){return $.lFrame.elementDepthCount}function K0(){$.lFrame.elementDepthCount++}function Z0(){$.lFrame.elementDepthCount--}function gf(){return $.bindingsEnabled}function Y0(){return $.skipHydrationRootTNode!==null}function J0(e){return $.skipHydrationRootTNode===e}function Q0(){$.skipHydrationRootTNode=null}function Q(){return $.lFrame.lView}function Ne(){return $.lFrame.tView}function dt(e){return $.lFrame.contextLView=e,e[Ge]}function ft(e){return $.lFrame.contextLView=null,e}function et(){let e=Vv();for(;e!==null&&e.type===64;)e=e.parent;return e}function Vv(){return $.lFrame.currentTNode}function X0(){let e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function fr(e,t){let n=$.lFrame;n.currentTNode=e,n.isParent=t}function mf(){return $.lFrame.isParent}function $v(){$.lFrame.isParent=!1}function eC(){return $.lFrame.contextLView}function Uv(){return Md}function Sm(e){let t=Md;return Md=e,t}function Bv(){let e=$.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function tC(){return $.lFrame.bindingIndex}function nC(e){return $.lFrame.bindingIndex=e}function fl(){return $.lFrame.bindingIndex++}function Hv(e){let t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rC(){return $.lFrame.inI18n}function iC(e,t){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,xd(t)}function oC(){return $.lFrame.currentDirectiveIndex}function xd(e){$.lFrame.currentDirectiveIndex=e}function sC(e){let t=$.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function zv(e){$.lFrame.currentQueryIndex=e}function aC(e){let t=e[W];return t.type===2?t.declTNode:t.type===1?e[It]:null}function qv(e,t,n){if(n&V.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&V.Host);)if(i=aC(o),i===null||(o=o[di],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=$.lFrame=Gv();return r.currentTNode=t,r.lView=e,!0}function vf(e){let t=Gv(),n=e[W];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Gv(){let e=$.lFrame,t=e===null?null:e.child;return t===null?Wv(e):t}function Wv(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Kv(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Zv=Kv;function yf(){let e=Kv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lC(e){return($.lFrame.contextLView=q0(e,$.lFrame.contextLView))[Ge]}function hr(){return $.lFrame.selectedIndex}function ar(e){$.lFrame.selectedIndex=e}function _f(){let e=$.lFrame;return Nv(e.tView,e.selectedIndex)}function cC(){return $.lFrame.currentNamespace}var Yv=!0;function hl(){return Yv}function pl(e){Yv=e}function uC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=xv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function wf(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function xa(e,t,n){Jv(e,t,3,n)}function Aa(e,t,n,r){(e[L]&3)===n&&Jv(e,t,n,r)}function cd(e,t){let n=e[L];(n&3)===t&&(n&=16383,n+=1,e[L]=n)}function Jv(e,t,n,r){let i=r!==void 0?e[Jr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[Jr]+=65536),(a<o||o==-1)&&(dC(e,n,t,l),e[Jr]=(e[Jr]&4294901760)+l+2),l++}function Tm(e,t){re(4,e,t);let n=B(null);try{t.call(e)}finally{B(n),re(5,e,t)}}function dC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[L]>>14<e[Jr]>>16&&(e[L]&3)===t&&(e[L]+=16384,Tm(a,o)):Tm(a,o)}var Xr=-1,lr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function fC(e){return(e.flags&8)!==0}function hC(e){return(e.flags&16)!==0}function pC(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];mC(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function gC(e){return e===3||e===4||e===6}function mC(e){return e.charCodeAt(0)===64}function ai(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Mm(e,n,i,null,t[++r]):Mm(e,n,i,null,null))}}return e}function Mm(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Qv(e){return e!==Xr}function za(e){return e&32767}function vC(e){return e>>16}function qa(e,t){let n=vC(e),r=t;for(;n>0;)r=r[di],n--;return r}var Ad=!0;function Ga(e){let t=Ad;return Ad=e,t}var yC=256,Xv=yC-1,ey=5,_C=0,Ft={};function wC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Co)&&(r=n[Co]),r==null&&(r=n[Co]=_C++);let i=r&Xv,o=1<<i;t.data[e+(i>>ey)]|=o}function Wa(e,t){let n=ty(e,t);if(n!==-1)return n;let r=t[W];r.firstCreatePass&&(e.injectorIndex=t.length,ud(r.data,e),ud(t,null),ud(r.blueprint,null));let i=bf(e,t),o=e.injectorIndex;if(Qv(i)){let s=za(i),a=qa(i,t),l=a[W].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function ud(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ty(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function bf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=sy(i),r===null)return Xr;if(n++,i=i[di],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xr}function Rd(e,t,n){wC(e,t,n)}function ny(e,t,n){if(n&V.Optional||e!==void 0)return e;lf(t,"NodeInjector")}function ry(e,t,n,r){if(n&V.Optional&&r===void 0&&(r=null),(n&(V.Self|V.Host))===0){let i=e[ri],o=ze(void 0);try{return i?i.get(t,r,n&V.Optional):gv(t,r,n&V.Optional)}finally{ze(o)}}return ny(r,t,n)}function iy(e,t,n,r=V.Default,i){if(e!==null){if(t[L]&2048&&!(r&V.Self)){let s=IC(e,t,n,r,Ft);if(s!==Ft)return s}let o=oy(e,t,n,r,Ft);if(o!==Ft)return o}return ry(t,n,r,i)}function oy(e,t,n,r,i){let o=DC(n);if(typeof o=="function"){if(!qv(t,e,r))return r&V.Host?ny(i,n,r):ry(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&V.Optional))lf(n);else return s}finally{Zv()}}else if(typeof o=="number"){let s=null,a=ty(e,t),l=Xr,c=r&V.Host?t[Lt][It]:null;for((a===-1||r&V.SkipSelf)&&(l=a===-1?bf(e,t):t[a+8],l===Xr||!Am(r,!1)?a=-1:(s=t[W],a=za(l),t=qa(l,t)));a!==-1;){let u=t[W];if(xm(o,a,u.data)){let f=bC(a,t,n,s,r,c);if(f!==Ft)return f}l=t[a+8],l!==Xr&&Am(r,t[W].data[a+8]===c)&&xm(o,a,t)?(s=u,a=za(l),t=qa(l,t)):a=-1}}return i}function bC(e,t,n,r,i,o){let s=t[W],a=s.data[e+8],l=r==null?fi(a)&&Ad:r!=s&&(a.type&3)!==0,c=i&V.Host&&o===a,u=EC(a,s,n,l,c);return u!==null?Ka(t,s,u,a,i):Ft}function EC(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,f=r?a:a+u,p=i?a+u:c;for(let d=f;d<p;d++){let g=s[d];if(d<l&&n===g||d>=l&&g.type===n)return d}if(i){let d=s[l];if(d&&jt(d)&&d.type===n)return l}return null}function Ka(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof lr){let a=o;a.resolving&&hv(u0(s[n]));let l=Ga(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?ze(a.injectImpl):null,f=qv(e,r,V.Default);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&uC(n,s[n],t)}finally{u!==null&&ze(u),Ga(l),a.resolving=!1,Zv()}}return o}function DC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Co)?e[Co]:void 0;return typeof t=="number"?t>=0?t&Xv:CC:t}function xm(e,t,n){let r=1<<e;return!!(n[t+(e>>ey)]&r)}function Am(e,t){return!(e&V.Self)&&!(e&V.Host&&t)}var nr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return iy(this._tNode,this._lView,t,sl(r),n)}};function CC(){return new nr(et(),Q())}function Sn(e){return Oo(()=>{let t=e.prototype.constructor,n=t[Na]||Od(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Na]||Od(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Od(e){return lv(e)?()=>{let t=Od(Le(e));return t&&t()}:rr(e)}function IC(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[L]&2048&&!Ha(s);){let a=oy(o,s,n,r|V.Self,Ft);if(a!==Ft)return a;let l=o.parent;if(!l){let c=s[Sv];if(c){let u=c.get(n,Ft,r);if(u!==Ft)return u}l=sy(s),s=s[di]}o=l}return i}function sy(e){let t=e[W],n=t.type;return n===2?t.declTNode:n===1?e[It]:null}function Rm(e,t=null,n=null,r){let i=ay(e,t,n,r);return i.resolveInjectorInitializers(),i}function ay(e,t=null,n=null,r,i=new Set){let o=[n||at,S0(e)];return r=r||(typeof e=="object"?void 0:qe(e)),new So(o,t||df(),r||null,i)}var on=class e{static THROW_IF_NOT_FOUND=tr;static NULL=new La;static create(t,n){if(Array.isArray(t))return Rm({name:""},n,t,"");{let r=t.name??"";return Rm({name:r},t.parent,t.providers,r)}}static \u0275prov=R({token:e,providedIn:"any",factory:()=>k(yv)});static __NG_ELEMENT_ID__=-1};var SC=new A("");SC.__NG_ELEMENT_ID__=e=>{let t=et();if(t===null)throw new T(204,!1);if(t.type&2)return t.value;if(e&V.Optional)return null;throw new T(204,!1)};var ly=!1,gl=(()=>{class e{static __NG_ELEMENT_ID__=TC;static __NG_ENV_ID__=n=>n}return e})(),Nd=class extends gl{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return hi(n)?(t(),()=>{}):(Fv(n,t),()=>G0(n,t))}};function TC(){return new Nd(Q())}var Mo=class{},cy=new A("",{providedIn:"root",factory:()=>!1});var uy=new A(""),dy=new A(""),gi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ee(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})();var kd=class extends be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,F0()&&(this.destroyRef=E(gl,{optional:!0})??void 0,this.pendingTasks=E(gi,{optional:!0})??void 0)}emit(t){let n=B(null);try{super.next(t)}finally{B(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof pe&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ce=kd;function Za(...e){}function fy(e){let t,n;function r(){e=Za;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Om(e){return queueMicrotask(()=>e()),()=>{e=Za}}var Ef="isAngularZone",Ya=Ef+"_ID",MC=0,Oe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ce(!1);onMicrotaskEmpty=new Ce(!1);onStable=new Ce(!1);onError=new Ce(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ly}=t;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,RC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ef)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,xC,Za,Za);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},xC={};function Df(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function AC(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){fy(()=>{e.callbackScheduled=!1,Pd(e),e.isCheckStableRunning=!0,Df(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Pd(e)}function RC(e){let t=()=>{AC(e)},n=MC++;e._inner=e._inner.fork({name:"angular",properties:{[Ef]:!0,[Ya]:n,[Ya+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(OC(l))return r.invokeTask(o,s,a,l);try{return Nm(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),km(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Nm(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!NC(l)&&t(),km(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Pd(e),Df(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Pd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Nm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function km(e){e._nesting--,Df(e)}var Fd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ce;onMicrotaskEmpty=new Ce;onStable=new Ce;onError=new Ce;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function OC(e){return hy(e,"__ignore_ng_zone__")}function NC(e){return hy(e,"__scheduler_tick__")}function hy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var sn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},kC=new A("",{providedIn:"root",factory:()=>{let e=E(Oe),t=E(sn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Pm(e,t){return sv(e,t)}function PC(e){return sv(ov,e)}var py=(Pm.required=PC,Pm);function FC(){return ml(et(),Q())}function ml(e,t){return new Tn(Bt(e,t))}var Tn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=FC}return e})();function LC(e){return typeof e=="function"&&e[st]!==void 0}function ko(e,t){let n=Lu(e,t?.equal),r=n[st];return n.set=i=>go(r,i),n.update=i=>ju(r,i),n.asReadonly=jC.bind(n),n}function jC(){let e=this[st];if(e.readonlyFn===void 0){let t=()=>this();t[st]=e,e.readonlyFn=t}return e.readonlyFn}function gy(e){return LC(e)&&typeof e.set=="function"}function my(e){return(e.flags&128)===128}var vy=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(vy||{}),yy=new Map,VC=0;function $C(){return VC++}function UC(e){yy.set(e[ll],e)}function Ld(e){yy.delete(e[ll])}var Fm="__ngContext__";function mi(e,t){Cn(t)?(e[Fm]=t[ll],UC(t)):e[Fm]=t}function _y(e){return by(e[To])}function wy(e){return by(e[Dt])}function by(e){for(;e!==null&&!un(e);)e=e[Dt];return e}var jd;function Ey(e){jd=e}function BC(){if(jd!==void 0)return jd;if(typeof document<"u")return document;throw new T(210,!1)}var Cf=new A("",{providedIn:"root",factory:()=>HC}),HC="ng",If=new A(""),Po=new A("",{providedIn:"platform",factory:()=>"unknown"});var Sf=new A("",{providedIn:"root",factory:()=>BC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zC="h",qC="b";var Dy=!1,GC=new A("",{providedIn:"root",factory:()=>Dy});var Cy=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Cy||{}),vl=new A(""),Lm=new Set;function Iy(e){Lm.has(e)||(Lm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var WC=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})();var KC=(e,t,n,r)=>{};function ZC(e,t,n,r){KC(e,t,n,r)}var YC=()=>null;function Sy(e,t,n=!1){return YC(e,t,n)}function Ty(e,t){let n=e.contentQueries;if(n!==null){let r=B(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];zv(o),a.contentQueries(2,t[s],s)}}}finally{B(r)}}}function Vd(e,t,n){zv(0);let r=B(null);try{t(e,n)}finally{B(r)}}function Tf(e,t,n){if(ff(t)){let r=B(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{B(r)}}}var Ut=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ut||{});var Ja=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iv})`}};function My(e){return e instanceof Ja?e.changingThisBreaksApplicationSecurity:e}function JC(e,t){let n=QC(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${iv})`)}return n===t}function QC(e){return e instanceof Ja&&e.getTypeName()||null}var XC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eI(e){return e=String(e),e.match(XC)?e:"unsafe:"+e}var tI=/^>|^->|<!--|-->|--!>|<!-$/g,nI=/(<|>)/g,rI="\u200B$1\u200B";function iI(e){return e.replace(tI,t=>t.replace(nI,rI))}function oI(e,t){return e.createText(t)}function sI(e,t,n){e.setValue(t,n)}function aI(e,t){return e.createComment(iI(t))}function xy(e,t,n){return e.createElement(t,n)}function Qa(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Ay(e,t,n){e.appendChild(t,n)}function jm(e,t,n,r,i){r!==null?Qa(e,t,n,r,i):Ay(e,t,n)}function lI(e,t,n){e.removeChild(null,t,n)}function cI(e,t,n){e.setAttribute(t,"style",n)}function uI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ry(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pC(e,t,r),i!==null&&uI(e,t,i),o!==null&&cI(e,t,o)}var Oy=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Oy||{});function pr(e){let t=dI();return t?t.sanitize(Oy.URL,e)||"":JC(e,"URL")?My(e):eI(ei(e))}function dI(){let e=Q();return e&&e[rn].sanitizer}function Ny(e){return e instanceof Function?e():e}function fI(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var ky="ng-template";function hI(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&fI(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Mf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Mf(e){return e.type===4&&e.value!==ky}function pI(e,t,n){let r=e.type===4&&!n?ky:e.value;return t===r}function gI(e,t,n){let r=4,i=e.attrs,o=i!==null?yI(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Et(r)&&!Et(l))return!1;if(s&&Et(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!pI(e,l,n)||l===""&&t.length===1){if(Et(r))return!1;s=!0}}else if(r&8){if(i===null||!hI(e,i,l,n)){if(Et(r))return!1;s=!0}}else{let c=t[++a],u=mI(l,i,Mf(e),n);if(u===-1){if(Et(r))return!1;s=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(Et(r))return!1;s=!0}}}}return Et(r)||s}function Et(e){return(e&1)===0}function mI(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _I(t,e)}function vI(e,t,n=!1){for(let r=0;r<t.length;r++)if(gI(e,t[r],n))return!0;return!1}function yI(e){for(let t=0;t<e.length;t++){let n=e[t];if(gC(n))return t}return e.length}function _I(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Vm(e,t){return e?":not("+t.trim()+")":t}function wI(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Et(s)&&(t+=Vm(o,i),i=""),r=s,o=o||!Et(r);n++}return i!==""&&(t+=Vm(o,i)),t}function bI(e){return e.map(wI).join(",")}function EI(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Et(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var dn={};function xf(e,t,n,r,i,o,s,a,l,c,u){let f=We+r,p=f+i,d=DI(f,p),g=typeof c=="function"?c():c;return d[W]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function DI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:dn);return n}function CI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=xf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Af(e,t,n,r,i,o,s,a,l,c,u){let f=t.blueprint.slice();return f[cn]=i,f[L]=r|4|128|8|64|1024,(c!==null||e&&e[L]&2048)&&(f[L]|=2048),kv(f),f[je]=f[di]=e,f[Ge]=n,f[rn]=s||e&&e[rn],f[me]=a||e&&e[me],f[ri]=l||e&&e[ri]||null,f[It]=o,f[ll]=$C(),f[ja]=u,f[Sv]=c,f[Lt]=t.type==2?e[Lt]:f,f}function II(e,t,n){let r=Bt(t,e),i=CI(n),o=e[rn].rendererFactory,s=Rf(e,Af(e,i,null,Py(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Py(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Fy(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Rf(e,t){return e[To]?e[Cm][Dt]=t:e[To]=t,e[Cm]=t,t}function z(e=1){Ly(Ne(),Q(),hr()+e,!1)}function Ly(e,t,n,r){if(!r)if((t[L]&3)===3){let o=e.preOrderCheckHooks;o!==null&&xa(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Aa(t,o,0,n)}ar(n)}var yl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(yl||{});function $d(e,t,n,r){let i=B(null);try{let[o,s,a]=e.inputs[n],l=null;(s&yl.SignalBased)!==0&&(l=t[o][st]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):Mv(t,l,o,r)}finally{B(i)}}function jy(e,t,n,r,i){let o=hr(),s=r&2;try{ar(-1),s&&t.length>We&&Ly(e,t,We,!1),re(s?2:0,i),n(r,i)}finally{ar(o),re(s?3:1,i)}}function _l(e,t,n){RI(e,t,n),(n.flags&64)===64&&OI(e,t,n)}function Of(e,t,n=Bt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function SI(e,t,n,r){let o=r.get(GC,Dy)||n===Ut.ShadowDom,s=e.selectRootElement(t,o);return TI(s),s}function TI(e){MI(e)}var MI=()=>null;function xI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Vy(e,t,n,r,i,o,s,a){if(!a&&kf(t,e,n,r,i)){fi(t)&&AI(n,t.index);return}if(t.type&3){let l=Bt(t,n);r=xI(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function AI(e,t){let n=$t(t,e);n[L]&16||(n[L]|=64)}function RI(e,t,n){let r=n.directiveStart,i=n.directiveEnd;fi(n)&&II(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Wa(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Ka(t,e,s,n);if(mi(l,t),o!==null&&FI(t,s-r,l,a,n,o),jt(a)){let c=$t(n.index,t);c[Ge]=Ka(t,e,s,n)}}}function OI(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oC();try{ar(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];xd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&NI(l,c)}}finally{ar(-1),xd(s)}}function NI(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Nf(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];vI(t,o.selectors,!1)&&(r??=[],jt(o)?r.unshift(o):r.push(o))}return r}function kI(e,t,n,r,i,o){let s=Bt(e,t);PI(t[me],s,o,e.value,n,r,i)}function PI(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?ei(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function FI(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];$d(r,n,l,c)}}function LI(e,t){let n=e[ri],r=n?n.get(sn,null):null;r&&r.handleError(t)}function kf(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],f=t.data[c];$d(f,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=t.data[l];$d(u,c,r,i),a=!0}return a}function jI(e,t){let n=$t(t,e),r=n[W];VI(r,n);let i=n[cn];i!==null&&n[ja]===null&&(n[ja]=Sy(i,n[ri])),re(18),Pf(r,n,n[Ge]),re(19,n[Ge])}function VI(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Pf(e,t,n){vf(t);try{let r=e.viewQuery;r!==null&&Vd(1,r,n);let i=e.template;i!==null&&jy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[oi]?.finishViewCreation(e),e.staticContentQueries&&Ty(e,t),e.staticViewQueries&&Vd(2,e.viewQuery,n);let o=e.components;o!==null&&$I(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[L]&=-5,yf()}}function $I(e,t){for(let n=0;n<t.length;n++)jI(e,t[n])}function UI(e,t,n,r){let i=B(null);try{let o=t.tView,a=e[L]&4096?4096:16,l=Af(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[ii]=c;let u=e[oi];return u!==null&&(l[oi]=u.createEmbeddedView(o)),Pf(o,l,n),l}finally{B(i)}}function $m(e,t){return!t||t.firstChild===null||my(e)}var BI;function Ff(e,t){return BI(e,t)}var an=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(an||{});function $y(e){return(e.flags&32)===32}function Qr(e,t,n,r,i){if(r!=null){let o,s=!1;un(r)?o=r:Cn(r)&&(s=!0,r=r[cn]);let a=Vt(r);e===0&&n!==null?i==null?Ay(t,n,a):Qa(t,n,a,i||null,!0):e===1&&n!==null?Qa(t,n,a,i||null,!0):e===2?lI(t,a,s):e===3&&t.destroyNode(a),o!=null&&eS(t,e,o,n,i)}}function HI(e,t){Uy(e,t),t[cn]=null,t[It]=null}function zI(e,t,n,r,i,o){r[cn]=i,r[It]=t,bl(e,r,n,1,i,o)}function Uy(e,t){t[rn].changeDetectionScheduler?.notify(9),bl(e,t,t[me],2,null,null)}function qI(e){let t=e[To];if(!t)return dd(e[W],e);for(;t;){let n=null;if(Cn(t))n=t[To];else{let r=t[ct];r&&(n=r)}if(!n){for(;t&&!t[Dt]&&t!==e;)Cn(t)&&dd(t[W],t),t=t[je];t===null&&(t=e),Cn(t)&&dd(t[W],t),n=t&&t[Dt]}t=n}}function Lf(e,t){let n=e[Ba],r=n.indexOf(t);n.splice(r,1)}function By(e,t){if(hi(t))return;let n=t[me];n.destroyNode&&bl(e,t,n,3,null,null),qI(t)}function dd(e,t){if(hi(t))return;let n=B(null);try{t[L]&=-129,t[L]|=256,t[lt]&&ku(t[lt]),WI(e,t),GI(e,t),t[W].type===1&&t[me].destroy();let r=t[ii];if(r!==null&&un(t[je])){r!==t[je]&&Lf(r,t);let i=t[oi];i!==null&&i.detachView(e)}Ld(t)}finally{B(n)}}function GI(e,t){let n=e.cleanup,r=t[Va];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Va]=null);let i=t[Dn];if(i!==null){t[Dn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[$a];if(o!==null){t[$a]=null;for(let s of o)s.destroy()}}function WI(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof lr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];re(4,a,l);try{l.call(a)}finally{re(5,a,l)}}else{re(4,i,o);try{o.call(i)}finally{re(5,i,o)}}}}}function KI(e,t,n){return ZI(e,t.parent,n)}function ZI(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[cn];if(fi(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Ut.None||i===Ut.Emulated)return null}return Bt(r,n)}function YI(e,t,n){return QI(e,t,n)}function JI(e,t,n){return e.type&40?Bt(e,n):null}var QI=JI,Um;function wl(e,t,n,r){let i=KI(e,r,t),o=t[me],s=r.parent||t[It],a=YI(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)jm(o,i,n[l],a,!1);else jm(o,i,n,a,!1);Um!==void 0&&Um(o,r,t,n,i)}function Do(e,t){if(t!==null){let n=t.type;if(n&3)return Bt(t,e);if(n&4)return Ud(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Do(e,r);{let i=e[t.index];return un(i)?Ud(-1,i):Vt(i)}}else{if(n&128)return Do(e,t.next);if(n&32)return Ff(t,e)()||Vt(e[t.index]);{let r=Hy(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=sr(e[Lt]);return Do(i,r)}else return Do(e,t.next)}}}return null}function Hy(e,t){if(t!==null){let r=e[Lt][It],i=t.projection;return r.projection[i]}return null}function Ud(e,t){let n=ct+e+1;if(n<t.length){let r=t[n],i=r[W].firstChild;if(i!==null)return Do(r,i)}return t[or]}function jf(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&mi(Vt(a),r),n.flags|=2),!$y(n))if(l&8)jf(e,t,n.child,r,i,o,!1),Qr(t,e,i,a,o);else if(l&32){let c=Ff(n,r),u;for(;u=c();)Qr(t,e,i,u,o);Qr(t,e,i,a,o)}else l&16?XI(e,t,r,n,i,o):Qr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function bl(e,t,n,r,i,o){jf(n,r,e.firstChild,t,i,o,!1)}function XI(e,t,n,r,i,o){let s=n[Lt],l=s[It].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Qr(t,e,i,u,o)}else{let c=l,u=s[je];my(r)&&(c.flags|=128),jf(e,t,c,u,i,o,!0)}}function eS(e,t,n,r,i){let o=n[or],s=Vt(n);o!==s&&Qr(t,e,r,o,i);for(let a=ct;a<n.length;a++){let l=n[a];bl(l[W],l,e,t,r,o)}}function tS(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:an.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=an.Important),e.setStyle(n,r,i,o))}}function Xa(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Vt(o)),un(o)&&nS(o,r);let s=n.type;if(s&8)Xa(e,t,n.child,r);else if(s&32){let a=Ff(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Hy(t,n);if(Array.isArray(a))r.push(...a);else{let l=sr(t[Lt]);Xa(l[W],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nS(e,t){for(let n=ct;n<e.length;n++){let r=e[n],i=r[W].firstChild;i!==null&&Xa(r[W],r,i,t)}e[or]!==e[cn]&&t.push(e[or])}function zy(e){if(e[ld]!==null){for(let t of e[ld])t.impl.addSequence(t);e[ld].length=0}}var qy=[];function rS(e){return e[lt]??iS(e)}function iS(e){let t=qy.pop()??Object.create(sS);return t.lView=e,t}function oS(e){e.lView[lt]!==e&&(e.lView=null,qy.push(e))}var sS=q(w({},ho),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{dl(e.lView)},consumerOnSignalRead(){this.lView[lt]=this}});function aS(e){let t=e[lt]??Object.create(lS);return t.lView=e,t}var lS=q(w({},ho),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=sr(e.lView);for(;t&&!Gy(t[W]);)t=sr(t);t&&Pv(t)},consumerOnSignalRead(){this.lView[lt]=this}});function Gy(e){return e.type!==2}function Wy(e){if(e[$a]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[$a])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[L]&8192)}}var cS=100;function Ky(e,t=!0,n=0){let i=e[rn].rendererFactory,o=!1;o||i.begin?.();try{uS(e,n)}catch(s){throw t&&LI(e,s),s}finally{o||i.end?.()}}function uS(e,t){let n=Uv();try{Sm(!0),Bd(e,t);let r=0;for(;ul(e);){if(r===cS)throw new T(103,!1);r++,Bd(e,1)}}finally{Sm(n)}}function dS(e,t,n,r){if(hi(t))return;let i=t[L],o=!1,s=!1;vf(t);let a=!0,l=null,c=null;o||(Gy(e)?(c=rS(t),l=Gs(c)):Mu()===null?(a=!1,c=aS(t),l=Gs(c)):t[lt]&&(ku(t[lt]),t[lt]=null));try{kv(t),nC(e.bindingStartIndex),n!==null&&jy(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=e.preOrderCheckHooks;d!==null&&xa(t,d,null)}else{let d=e.preOrderHooks;d!==null&&Aa(t,d,0,null),cd(t,0)}if(s||fS(t),Wy(t),Zy(t,0),e.contentQueries!==null&&Ty(e,t),!o)if(u){let d=e.contentCheckHooks;d!==null&&xa(t,d)}else{let d=e.contentHooks;d!==null&&Aa(t,d,1),cd(t,1)}pS(e,t);let f=e.components;f!==null&&Jy(t,f,0);let p=e.viewQuery;if(p!==null&&Vd(2,p,r),!o)if(u){let d=e.viewCheckHooks;d!==null&&xa(t,d)}else{let d=e.viewHooks;d!==null&&Aa(t,d,2),cd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ad]){for(let d of t[ad])d();t[ad]=null}o||(zy(t),t[L]&=-73)}catch(u){throw o||dl(t),u}finally{c!==null&&(Ou(c,l),a&&oS(c)),yf()}}function Zy(e,t){for(let n=_y(e);n!==null;n=wy(n))for(let r=ct;r<n.length;r++){let i=n[r];Yy(i,t)}}function fS(e){for(let t=_y(e);t!==null;t=wy(t)){if(!(t[L]&2))continue;let n=t[Ba];for(let r=0;r<n.length;r++){let i=n[r];Pv(i)}}}function hS(e,t,n){re(18);let r=$t(t,e);Yy(r,n),re(19,r[Ge])}function Yy(e,t){pf(e)&&Bd(e,t)}function Bd(e,t){let r=e[W],i=e[L],o=e[lt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Nu(o)),s||=!1,o&&(o.dirty=!1),e[L]&=-9217,s)dS(r,e,r.template,e[Ge]);else if(i&8192){Wy(e),Zy(e,1);let a=r.components;a!==null&&Jy(e,a,1),zy(e)}}function Jy(e,t,n){for(let r=0;r<t.length;r++)hS(e,t[r],n)}function pS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ar(~i);else{let o=i,s=n[++r],a=n[++r];iC(s,o);let l=t[o];re(24,l),a(2,l),re(25,l)}}}finally{ar(-1)}}function Vf(e,t){let n=Uv()?64:1088;for(e[rn].changeDetectionScheduler?.notify(t);e;){e[L]|=n;let r=sr(e);if(Ha(e)&&!r)return e;e=r}return null}function Qy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function gS(e,t,n,r=!0){let i=t[W];if(mS(i,t,e,n),r){let s=Ud(n,e),a=t[me],l=a.parentNode(e[or]);l!==null&&zI(i,e[It],a,t,l,s)}let o=t[ja];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Hd(e,t){if(e.length<=ct)return;let n=ct+t,r=e[n];if(r){let i=r[ii];i!==null&&i!==e&&Lf(i,r),t>0&&(e[n-1][Dt]=r[Dt]);let o=Fa(e,ct+t);HI(r[W],r);let s=o[oi];s!==null&&s.detachView(o[W]),r[je]=null,r[Dt]=null,r[L]&=-129}return r}function mS(e,t,n,r){let i=ct+r,o=n.length;r>0&&(n[i-1][Dt]=t),r<o-ct?(t[Dt]=n[i],vv(n,ct+r,t)):(n.push(t),t[Dt]=null),t[je]=n;let s=t[ii];s!==null&&n!==s&&Xy(s,t);let a=t[oi];a!==null&&a.insertView(e),Td(t),t[L]|=128}function Xy(e,t){let n=e[Ba],r=t[je];if(Cn(r))e[L]|=2;else{let i=r[je][Lt];t[Lt]!==i&&(e[L]|=2)}n===null?e[Ba]=[t]:n.push(t)}var xo=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[W];return Xa(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ge]}set context(t){this._lView[Ge]=t}get destroyed(){return hi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[je];if(un(t)){let n=t[Ua],r=n?n.indexOf(this):-1;r>-1&&(Hd(t,r),Fa(n,r))}this._attachedToViewContainer=!1}By(this._lView[W],this._lView)}onDestroy(t){Fv(this._lView,t)}markForCheck(){Vf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[L]&=-129}reattach(){Td(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,Ky(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ha(this._lView),n=this._lView[ii];n!==null&&!t&&Lf(n,this._lView),Uy(this._lView[W],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t;let n=Ha(this._lView),r=this._lView[ii];r!==null&&!n&&Xy(r,this._lView),Td(this._lView)}};var El=(()=>{class e{static __NG_ELEMENT_ID__=_S}return e})(),vS=El,yS=class extends vS{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=UI(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new xo(i)}};function _S(){return e_(et(),Q())}function e_(e,t){return e.type&4?new yS(t,e,ml(e,t)):null}function Dl(e,t,n,r,i){let o=e.data[t];if(o===null)o=wS(e,t,n,r,i),rC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=X0();o.injectorIndex=s===null?-1:s.injectorIndex}return fr(o,!0),o}function wS(e,t,n,r,i){let o=Vv(),s=mf(),a=s?o:o&&o.parent,l=e.data[t]=ES(e,a,n,t,r,i);return bS(e,l,o,s),l}function bS(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function ES(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Y0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var YL=new RegExp(`^(\\d+)*(${qC}|${zC})*(.*)`);var DS=()=>null;function Bm(e,t){return DS(e,t)}var CS=class{},t_=class{},zd=class{resolveComponentFactory(t){throw Error(`No component factory found for ${qe(t)}.`)}},Cl=class{static NULL=new zd},li=class{},gr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>IS()}return e})();function IS(){let e=Q(),t=et(),n=$t(t.index,e);return(Cn(n)?n:e)[me]}var SS=(()=>{class e{static \u0275prov=R({token:e,providedIn:"root",factory:()=>null})}return e})();var fd={},qd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=sl(r);let i=this.injector.get(t,fd,r);return i!==fd||n===fd?i:this.parentInjector.get(t,n,r)}};function Gd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=vm(i,a);else if(o==2){let l=a,c=t[++s];r=vm(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function N(e,t=V.Default){let n=Q();if(n===null)return k(e,t);let r=et();return iy(r,n,Le(e),t)}function $f(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a,l=null,c=null,u=MS(s);u===null?a=s:[a,l,c]=u,RS(e,t,n,a,o,l,c)}o!==null&&r!==null&&TS(n,r,o)}function TS(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new T(-301,!1);r.push(t[i],o)}}function MS(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&jt(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,xS(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function xS(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function AS(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function RS(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let d=r[p];!l&&jt(d)&&(l=!0,AS(e,n,p)),Rd(Wa(n,t),e,d.type)}LS(n,e.data.length,a);for(let p=0;p<a;p++){let d=r[p];d.providersResolver&&d.providersResolver(d)}let c=!1,u=!1,f=Fy(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let d=r[p];if(n.mergedAttrs=ai(n.mergedAttrs,d.hostAttrs),NS(e,n,t,f,d),FS(f,d,i),s!==null&&s.has(d)){let[m,v]=s.get(d);n.directiveToIndex.set(d.type,[f,m+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(d))&&n.directiveToIndex.set(d.type,f);d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let g=d.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}OS(e,n,o)}function OS(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Hm(0,t,i,r),Hm(1,t,i,r),qm(t,r,!1);else{let o=n.get(i);zm(0,t,o,r),zm(1,t,o,r),qm(t,r,!0)}}}function Hm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),n_(t,o)}}function zm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),n_(t,s)}}function n_(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function qm(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Mf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function NS(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=rr(i.type,!0)),s=new lr(o,jt(i),N);e.blueprint[r]=s,n[r]=s,kS(e,t,r,Fy(e,n,i.hostVars,dn),i)}function kS(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;PS(s)!=a&&s.push(a),s.push(n,r,o)}}function PS(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function FS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;jt(t)&&(n[""]=e)}}function LS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function r_(e,t,n,r,i,o,s,a){let l=t.consts,c=si(l,s),u=Dl(t,e,2,r,c);return o&&$f(t,n,u,si(l,a),i),u.mergedAttrs=ai(u.mergedAttrs,u.attrs),u.attrs!==null&&Gd(u,u.attrs,!1),u.mergedAttrs!==null&&Gd(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function i_(e,t){wf(e,t),ff(t)&&e.queries.elementEnd(t)}var el=class extends Cl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ti(t);return new Ao(n,this.ngModule)}};function jS(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&yl.SignalBased)!==0};return i&&(o.transform=i),o})}function VS(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function $S(e,t,n){let r=t instanceof ut?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new qd(n,r):n}function US(e){let t=e.get(li,null);if(t===null)throw new T(407,!1);let n=e.get(SS,null),r=e.get(Mo,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function BS(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return xy(t,n,n==="svg"?U0:n==="math"?B0:null)}var Ao=class extends t_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=jS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=VS(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=bI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){re(22);let o=B(null);try{let s=this.componentDef,a=r?["ng-version","19.2.17"]:EI(this.componentDef.selectors[0]),l=xf(0,null,null,1,0,null,null,null,null,[a],null),c=$S(s,i||this.ngModule,t),u=US(c),f=u.rendererFactory.createRenderer(null,s),p=r?SI(f,r,s.encapsulation,c):BS(s,f),d=Af(null,l,null,512|Py(s),null,null,u,f,c,null,Sy(p,c,!0));d[We]=p,vf(d);let g=null;try{let m=r_(We,l,d,"#host",()=>[this.componentDef],!0,0);p&&(Ry(f,p,m),mi(p,d)),_l(l,d,m),Tf(l,m,d),i_(l,m),n!==void 0&&HS(m,this.ngContentSelectors,n),g=$t(m.index,d),d[Ge]=g[Ge],Pf(l,d,null)}catch(m){throw g!==null&&Ld(g),Ld(d),m}finally{re(23),yf()}return new Wd(this.componentType,d)}finally{B(o)}}},Wd=class extends CS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=Nv(n[W],We),this.location=ml(this._tNode,n),this.instance=$t(this._tNode.index,n)[Ge],this.hostView=this.changeDetectorRef=new xo(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=kf(r,i[W],i,t,n);this.previousInputValues.set(t,n);let s=$t(r.index,i);Vf(s,1)}get injector(){return new nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function HS(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var vi=(()=>{class e{static __NG_ELEMENT_ID__=zS}return e})();function zS(){let e=et();return GS(e,Q())}var qS=vi,o_=class extends qS{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ml(this._hostTNode,this._hostLView)}get injector(){return new nr(this._hostTNode,this._hostLView)}get parentInjector(){let t=bf(this._hostTNode,this._hostLView);if(Qv(t)){let n=qa(t,this._hostLView),r=za(t),i=n[W].data[r+8];return new nr(i,n)}else return new nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Gm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Bm(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,$m(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!L0(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?t:new Ao(ti(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(ut,null);m&&(o=m)}let u=ti(l.componentType??{}),f=Bm(this._lContainer,u?.id??null),p=f?.firstChild??null,d=l.create(c,i,p,o);return this.insertImpl(d.hostView,a,$m(this._hostTNode,f)),d}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(z0(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[je],c=new o_(l,l[It],l[je]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return gS(s,i,o,r),t.attachToViewContainerRef(),vv(hd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Gm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Hd(this._lContainer,n);r&&(Fa(hd(this._lContainer),n),By(r[W],r))}detach(t){let n=this._adjustIndex(t,-1),r=Hd(this._lContainer,n);return r&&Fa(hd(this._lContainer),n)!=null?new xo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Gm(e){return e[Ua]}function hd(e){return e[Ua]||(e[Ua]=[])}function GS(e,t){let n,r=t[e.index];return un(r)?n=r:(n=Qy(r,t,null,e),t[e.index]=n,Rf(t,n)),KS(n,t,e,r),new o_(n,e,t)}function WS(e,t){let n=e[me],r=n.createComment(""),i=Bt(t,e),o=n.parentNode(i);return Qa(n,o,r,n.nextSibling(i),!1),r}var KS=JS,ZS=()=>!1;function YS(e,t,n){return ZS(e,t,n)}function JS(e,t,n,r){if(e[or])return;let i;n.type&8?i=Vt(r):i=WS(t,n),e[or]=i}var ci=class{},Uf=class{};var Kd=class extends ci{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new el(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=wv(t);this._bootstrapComponents=Ny(o.bootstrap),this._r3Injector=ay(t,n,[{provide:ci,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver},...r],qe(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Zd=class extends Uf{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Kd(this.moduleType,t,[])}};var tl=class extends ci{injector;componentFactoryResolver=new el(this);instance=null;constructor(t){super();let n=new So([...t.providers,{provide:ci,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver}],t.parent||df(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Il(e,t,n=null){return new tl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var QS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ev(!1,n.type),i=r.length>0?Il([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(k(ut))})}return e})();function Ke(e){return Oo(()=>{let t=s_(e),n=q(w({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===vy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(QS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ut.Emulated,styles:e.styles||at,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Iy("NgStandalone"),a_(n);let r=e.dependencies;return n.directiveDefs=Wm(r,!1),n.pipeDefs=Wm(r,!0),n.id=rT(n),n})}function XS(e){return ti(e)||C0(e)}function eT(e){return e!==null}function mr(e){return Oo(()=>({type:e.type,bootstrap:e.bootstrap||at,declarations:e.declarations||at,imports:e.imports||at,exports:e.exports||at,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function tT(e,t){if(e==null)return ir;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=yl.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function nT(e){if(e==null)return ir;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function de(e){return Oo(()=>{let t=s_(e);return a_(t),t})}function Bf(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function s_(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ir,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||at,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tT(e.inputs,t),outputs:nT(e.outputs),debugInfo:null}}function a_(e){e.features?.forEach(t=>t(e))}function Wm(e,t){if(!e)return null;let n=t?I0:XS;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(eT)}function rT(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function iT(e){return Object.getPrototypeOf(e.prototype).constructor}function St(e){let t=iT(e.type),n=!0,r=[e];for(;t;){let i;if(jt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=pd(e.inputs),s.declaredInputs=pd(e.declaredInputs),s.outputs=pd(e.outputs);let a=i.hostBindings;a&&cT(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&aT(e,l),c&&lT(e,c),oT(e,i),n0(e.outputs,i.outputs),jt(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===St&&(n=!1)}}t=Object.getPrototypeOf(t)}sT(r)}function oT(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function sT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ai(i.hostAttrs,n=ai(n,i.hostAttrs))}}function pd(e){return e===ir?{}:e===at?[]:e}function aT(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function lT(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function cT(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function l_(e){return dT(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function uT(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function dT(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function c_(e,t,n){return e[t]=n}function In(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function u_(e,t,n,r){let i=In(e,t,n);return In(e,t+1,r)||i}function fT(e,t,n,r,i,o,s,a,l){let c=t.consts,u=Dl(t,e,4,s||null,a||null);gf()&&$f(t,n,u,si(c,l),Nf),u.mergedAttrs=ai(u.mergedAttrs,u.attrs),wf(t,u);let f=u.tView=xf(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}function hT(e,t,n,r,i,o,s,a,l,c){let u=n+We,f=t.firstCreatePass?fT(u,t,e,r,i,o,s,a,l):t.data[u];fr(f,!1);let p=pT(t,e,f,n);hl()&&wl(t,e,p,f),mi(p,e);let d=Qy(p,e,p,f);return e[u]=d,Rf(e,d),YS(d,f,e),cl(f)&&_l(t,e,f),l!=null&&Of(e,f,c),f}function tt(e,t,n,r,i,o,s,a){let l=Q(),c=Ne(),u=si(c.consts,o);return hT(l,c,e,t,n,r,i,u,s,a),tt}var pT=gT;function gT(e,t,n,r){return pl(!0),t[me].createComment("")}var d_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var f_=new A("");var mT=(()=>{class e{static \u0275prov=R({token:e,providedIn:"root",factory:()=>new Yd})}return e})(),Yd=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Mn(e){return!!e&&typeof e.then=="function"}function Hf(e){return!!e&&typeof e.subscribe=="function"}var vT=new A("");var h_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=E(vT,{optional:!0})??[];injector=E(on);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ct(this.injector,i);if(Mn(o))n.push(o);else if(Hf(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zf=new A("");function yT(){Fu(()=>{throw new T(600,!1)})}function _T(e){return e.isBoundToModule}var wT=10;var cr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(kC);afterRenderManager=E(WC);zonelessEnabled=E(cy);rootEffectScheduler=E(mT);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new be;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(gi).hasPendingTasks.pipe(G(n=>!n));constructor(){E(vl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=E(ut);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=on.NULL){re(10);let o=n instanceof t_;if(!this._injector.get(h_).done){let d="";throw new T(405,d)}let a;o?a=n:a=this._injector.get(Cl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=_T(a)?void 0:this._injector.get(ci),c=r||a.selector,u=a.create(i,[],c,l),f=u.location.nativeElement,p=u.injector.get(f_,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Ra(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),re(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){re(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Cy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new T(101,!1);let n=B(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,B(n),this.afterTick.next(),re(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(li,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<wT;)re(14),this.synchronizeOnce(),re(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)bT(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ul(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ra(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(zf,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ra(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ra(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function bT(e,t,n,r){if(!n&&!ul(e))return;Ky(e,t,n&&!r?0:1)}function qf(e,t,n,r){let i=Q(),o=fl();if(In(i,o,t)){let s=Ne(),a=_f();kI(a,i,e,t,n,r)}return qf}function ET(e,t,n,r){return In(e,fl(),n)?t+ei(n)+r:dn}function DT(e,t,n,r,i,o){let s=tC(),a=u_(e,s,n,i);return Hv(2),a?t+ei(n)+r+ei(i)+o:dn}function Ta(e,t){return e<<17|t<<2}function ur(e){return e>>17&32767}function CT(e){return(e&2)==2}function IT(e,t){return e&131071|t<<17}function Jd(e){return e|2}function ui(e){return(e&131068)>>2}function gd(e,t){return e&-131069|t<<2}function ST(e){return(e&1)===1}function Qd(e){return e|1}function TT(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=ur(s),l=ui(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||No(f,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let p=ur(e[a+1]);e[r+1]=Ta(p,a),p!==0&&(e[p+1]=gd(e[p+1],r)),e[a+1]=IT(e[a+1],r)}else e[r+1]=Ta(a,0),a!==0&&(e[a+1]=gd(e[a+1],r)),a=r;else e[r+1]=Ta(l,0),a===0?a=r:e[l+1]=gd(e[l+1],r),l=r;c&&(e[r+1]=Jd(e[r+1])),Km(e,u,r,!0),Km(e,u,r,!1),MT(t,u,e,r,o),s=Ta(a,l),o?t.classBindings=s:t.styleBindings=s}function MT(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&No(o,t)>=0&&(n[r+1]=Qd(n[r+1]))}function Km(e,t,n,r){let i=e[n+1],o=t===null,s=r?ur(i):ui(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];xT(l,t)&&(a=!0,e[s+1]=r?Qd(c):Jd(c)),s=r?ur(c):ui(c)}a&&(e[n+1]=r?Jd(i):Qd(i))}function xT(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?No(e,t)>=0:!1}function fe(e,t,n){let r=Q(),i=fl();if(In(r,i,t)){let o=Ne(),s=_f();Vy(o,s,r,e,t,r[me],n,!1)}return fe}function Zm(e,t,n,r,i){kf(t,e,n,i?"class":"style",r)}function Fo(e,t,n){return p_(e,t,n,!1),Fo}function yi(e,t){return p_(e,t,null,!0),yi}function p_(e,t,n,r){let i=Q(),o=Ne(),s=Hv(2);if(o.firstUpdatePass&&RT(o,e,s,r),t!==dn&&In(i,s,t)){let a=o.data[hr()];FT(o,a,i,i[me],e,i[s+1]=LT(t,n),r,s)}}function AT(e,t){return t>=e.expandoStartIndex}function RT(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[hr()],s=AT(e,n);jT(o,r)&&t===null&&!s&&(t=!1),t=OT(i,o,t,r),TT(i,o,t,n,s,r)}}function OT(e,t,n,r){let i=sC(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=md(null,e,t,n,r),n=Ro(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=md(i,e,t,n,r),o===null){let l=NT(e,t,r);l!==void 0&&Array.isArray(l)&&(l=md(null,e,t,l[1],r),l=Ro(l,t.attrs,r),kT(e,t,r,l))}else o=PT(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function NT(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ui(r)!==0)return e[ur(r)]}function kT(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[ur(i)]=r}function PT(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ro(r,s,n)}return Ro(r,t.attrs,n)}function md(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ro(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ro(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),E0(e,s,n?!0:t[++o]))}return e===void 0?null:e}function FT(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=ST(c)?Ym(l,t,n,i,ui(c),s):void 0;if(!nl(u)){nl(o)||CT(c)&&(o=Ym(l,null,n,i,a,s));let f=Ov(hr(),n);tS(r,s,f,i,o)}}function Ym(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,p=n[i+1];p===dn&&(p=f?at:void 0);let d=f?od(p,r):u===r?p:void 0;if(c&&!nl(d)&&(d=od(l,r)),nl(d)&&(a=d,s))return a;let g=e[i+1];i=s?ur(g):ui(g)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=od(l,r))}return a}function nl(e){return e!==void 0}function LT(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=qe(My(e)))),e}function jT(e,t){return(e.flags&(t?8:16))!==0}function b(e,t,n,r){let i=Q(),o=Ne(),s=We+e,a=i[me],l=o.firstCreatePass?r_(s,o,i,t,Nf,gf(),n,r):o.data[s],c=VT(o,i,l,a,t,e);i[s]=c;let u=cl(l);return fr(l,!0),Ry(a,c,l),!$y(l)&&hl()&&wl(o,i,c,l),(W0()===0||u)&&mi(c,i),K0(),u&&(_l(o,i,l),Tf(o,l,i)),r!==null&&Of(i,l),b}function D(){let e=et();mf()?$v():(e=e.parent,fr(e,!1));let t=e;J0(t)&&Q0(),Z0();let n=Ne();return n.firstCreatePass&&i_(n,t),t.classesWithoutHost!=null&&fC(t)&&Zm(n,t,Q(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&hC(t)&&Zm(n,t,Q(),t.stylesWithoutHost,!1),D}function le(e,t,n,r){return b(e,t,n,r),D(),le}var VT=(e,t,n,r,i,o)=>(pl(!0),xy(r,i,cC()));function $T(e,t,n,r,i){let o=t.consts,s=si(o,r),a=Dl(t,e,8,"ng-container",s);s!==null&&Gd(a,s,!0);let l=si(o,i);return gf()&&$f(t,n,a,l,Nf),a.mergedAttrs=ai(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function Gf(e,t,n){let r=Q(),i=Ne(),o=e+We,s=i.firstCreatePass?$T(o,i,r,t,n):i.data[o];fr(s,!0);let a=UT(i,r,s,e);return r[o]=a,hl()&&wl(i,r,a,s),mi(a,r),cl(s)&&(_l(i,r,s),Tf(i,s,r)),n!=null&&Of(r,s),Gf}function Wf(){let e=et(),t=Ne();return mf()?$v():(e=e.parent,fr(e,!1)),t.firstCreatePass&&(wf(t,e),ff(e)&&t.queries.elementEnd(e)),Wf}var UT=(e,t,n,r)=>(pl(!0),aI(t[me],""));function xn(){return Q()}var er=void 0;function BT(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var HT=["en",[["a","p"],["AM","PM"],er],[["AM","PM"],er,er],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],er,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],er,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",er,"{1} 'at' {0}",er],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",BT],vd={};function ht(e){let t=zT(e),n=Jm(t);if(n)return n;let r=t.split("-")[0];if(n=Jm(r),n)return n;if(r==="en")return HT;throw new T(701,!1)}function Jm(e){return e in vd||(vd[e]=bo.ng&&bo.ng.common&&bo.ng.common.locales&&bo.ng.common.locales[e]),vd[e]}var he=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(he||{});function zT(e){return e.toLowerCase().replace(/_/g,"-")}var rl="en-US";var qT=rl;function GT(e){typeof e=="string"&&(qT=e.toLowerCase().replace(/_/g,"-"))}function Qm(e,t,n){return function r(i){if(i===Function)return n;let o=fi(e)?$t(e.index,t):t;Vf(o,5);let s=t[Ge],a=Xm(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=Xm(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Xm(e,t,n,r){let i=B(null);try{return re(6,t,n),n(r)!==!1}catch(o){return WT(e,o),!1}finally{re(7,t,n),B(i)}}function WT(e,t){let n=e[ri],r=n?n.get(sn,null):null;r&&r.handleError(t)}function ev(e,t,n,r,i,o){let s=t[n],a=t[W],c=a.data[n].outputs[r],u=s[c],f=a.firstCreatePass?jv(a):null,p=Lv(t),d=u.subscribe(o),g=p.length;p.push(o,d),f&&f.push(i,e.index,g,-(g+1))}function Ie(e,t,n,r){let i=Q(),o=Ne(),s=et();return g_(o,i,i[me],s,e,t,r),Ie}function KT(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Va],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function g_(e,t,n,r,i,o,s){let a=cl(r),c=e.firstCreatePass?jv(e):null,u=Lv(t),f=!0;if(r.type&3||s){let p=Bt(r,t),d=s?s(p):p,g=u.length,m=s?y=>s(Vt(y[r.index])):r.index,v=null;if(!s&&a&&(v=KT(e,t,i,r.index)),v!==null){let y=v.__ngLastListenerFn__||v;y.__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,f=!1}else{o=Qm(r,t,o),ZC(t,d,i,o);let y=n.listen(d,i,o);u.push(o,y),c&&c.push(i,m,g,g+1)}}else o=Qm(r,t,o);if(f){let p=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let g=0;g<d.length;g+=2){let m=d[g],v=d[g+1];ev(r,t,m,v,i,o)}if(p&&p.length)for(let g of p)ev(r,t,g,i,i,o)}}function Tt(e=1){return lC(e)}function Sl(e){let t=eC();return hf(t,We+e)}function x(e,t=""){let n=Q(),r=Ne(),i=e+We,o=r.firstCreatePass?Dl(r,i,1,t,null):r.data[i],s=ZT(r,n,o,t,e);n[i]=s,hl()&&wl(r,n,s,o),fr(o,!1)}var ZT=(e,t,n,r,i)=>(pl(!0),oI(t[me],r));function _i(e){return An("",e,""),_i}function An(e,t,n){let r=Q(),i=ET(r,e,t,n);return i!==dn&&m_(r,hr(),i),An}function Kf(e,t,n,r,i){let o=Q(),s=DT(o,e,t,n,r,i);return s!==dn&&m_(o,hr(),s),Kf}function m_(e,t,n){let r=Ov(t,e);sI(e[me],r,n)}function Rn(e,t,n){gy(t)&&(t=t());let r=Q(),i=fl();if(In(r,i,t)){let o=Ne(),s=_f();Vy(o,s,r,e,t,r[me],n,!1)}return Rn}function vr(e,t){let n=gy(e);return n&&e.set(t),n}function On(e,t){let n=Q(),r=Ne(),i=et();return g_(r,n,n[me],i,e,t),On}function YT(e,t,n){let r=Ne();if(r.firstCreatePass){let i=jt(e);Xd(n,r.data,r.blueprint,i,!0),Xd(t,r.data,r.blueprint,i,!1)}}function Xd(e,t,n,r,i){if(e=Le(e),Array.isArray(e))for(let o=0;o<e.length;o++)Xd(e[o],t,n,r,i);else{let o=Ne(),s=Q(),a=et(),l=ni(e)?e:Le(e.provide),c=Iv(e),u=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(ni(e)||!e.multi){let d=new lr(c,i,N),g=_d(l,t,i?u:u+p,f);g===-1?(Rd(Wa(a,s),o,l),yd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(d),s.push(d)):(n[g]=d,s[g]=d)}else{let d=_d(l,t,u+p,f),g=_d(l,t,u,u+p),m=d>=0&&n[d],v=g>=0&&n[g];if(i&&!v||!i&&!m){Rd(Wa(a,s),o,l);let y=XT(i?QT:JT,n.length,i,r,c);!i&&v&&(n[g].providerFactory=y),yd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=v_(n[i?g:d],c,!i&&r);yd(o,e,d>-1?d:g,y)}!i&&r&&v&&n[g].componentProviders++}}}function yd(e,t,n,r){let i=ni(t),o=A0(t);if(i||o){let l=(o?Le(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function v_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function _d(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function JT(e,t,n,r,i){return ef(this.multi,[])}function QT(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ka(r,r[W],this.providerFactory.index,i);s=l.slice(0,a),ef(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],ef(o,s);return s}function ef(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function XT(e,t,n,r,i){let o=new lr(e,n,N);return o.multi=[],o.index=t,o.componentProviders=0,v_(o,i,r&&!n),o}function yr(e,t=[]){return n=>{n.providersResolver=(r,i)=>YT(r,i?i(e):e,t)}}function y_(e,t){let n=e[t];return n===dn?void 0:n}function eM(e,t,n,r,i,o){let s=t+n;return In(e,s,i)?c_(e,s+1,o?r.call(o,i):r(i)):y_(e,s+1)}function tM(e,t,n,r,i,o,s){let a=t+n;return u_(e,a,i,o)?c_(e,a+2,s?r.call(s,i,o):r(i,o)):y_(e,a+2)}function wi(e,t){let n=Ne(),r,i=e+We;n.firstCreatePass?(r=nM(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=rr(r.type,!0)),s,a=ze(N);try{let l=Ga(!1),c=o();return Ga(l),H0(n,Q(),i,c),c}finally{ze(a)}}function nM(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Tl(e,t,n){let r=e+We,i=Q(),o=hf(i,r);return w_(i,r)?eM(i,Bv(),t,o.transform,n,o):o.transform(n)}function __(e,t,n,r){let i=e+We,o=Q(),s=hf(o,i);return w_(o,i)?tM(o,Bv(),t,s.transform,n,r,s):s.transform(n,r)}function w_(e,t){return e[W].data[t].pure}function b_(e,t){return e_(e,t)}var tf=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},E_=(()=>{class e{compileModuleSync(n){return new Zd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=wv(n),o=Ny(i.declarations).reduce((s,a)=>{let l=ti(a);return l&&s.push(new Ao(l)),s},[]);return new tf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rM=(()=>{class e{zone=E(Oe);changeDetectionScheduler=E(Mo);applicationRef=E(cr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iM({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Oe(q(w({},oM()),{scheduleInRootZone:n})),[{provide:Oe,useFactory:e},{provide:Io,multi:!0,useFactory:()=>{let r=E(rM,{optional:!0});return()=>r.initialize()}},{provide:Io,multi:!0,useFactory:()=>{let r=E(sM);return()=>{r.initialize()}}},t===!0?{provide:uy,useValue:!0}:[],{provide:dy,useValue:n??ly}]}function oM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var sM=(()=>{class e{subscription=new pe;initialized=!1;zone=E(Oe);pendingTasks=E(gi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var aM=(()=>{class e{appRef=E(cr);taskService=E(gi);ngZone=E(Oe);zonelessEnabled=E(cy);tracing=E(vl,{optional:!0});disableScheduling=E(uy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ya):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(dy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Om:fy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ya+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Om(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lM(){return typeof $localize<"u"&&$localize.locale||rl}var Ml=new A("",{providedIn:"root",factory:()=>E(Ml,V.Optional|V.SkipSelf)||lM()});var nf=new A(""),cM=new A("");function wo(e){return!e.moduleRef}function uM(e){let t=wo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Oe);return n.run(()=>{wo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(sn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),wo(e)){let o=()=>t.destroy(),s=e.platformInjector.get(nf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(nf);s.add(o),e.moduleRef.onDestroy(()=>{Ra(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return fM(r,n,()=>{let o=t.get(h_);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Ml,rl);if(GT(s||rl),!t.get(cM,!0))return wo(e)?t.get(cr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(wo(e)){let l=t.get(cr);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return dM(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function dM(e,t){let n=e.injector.get(cr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new T(-403,!1);t.push(e)}function fM(e,t,n){try{let r=n();return Mn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Oa=null;function hM(e=[],t){return on.create({name:t,providers:[{provide:al,useValue:"platform"},{provide:nf,useValue:new Set([()=>Oa=null])},...e]})}function pM(e=[]){if(Oa)return Oa;let t=hM(e);return Oa=t,yT(),gM(t),t}function gM(e){let t=e.get(If,null);Ct(e,()=>{t?.forEach(n=>n())})}var bi=(()=>{class e{static __NG_ELEMENT_ID__=mM}return e})();function mM(e){return vM(et(),Q(),(e&16)===16)}function vM(e,t,n){if(fi(e)&&!n){let r=$t(e.index,t);return new xo(r,r)}else if(e.type&175){let r=t[Lt];return new xo(r,t)}return null}var rf=class{constructor(){}supports(t){return l_(t)}create(t){return new of(t)}},yM=(e,t)=>t,of=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||yM}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<tv(r,i,o)?n:r,a=tv(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){let d=p<o.length?o[p]:o[p]=0,g=d+p;u<=g&&g<c&&(o[p]=d+1)}let f=s.previousIndex;o[f]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!l_(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,uT(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new sf(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new il),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new il),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},sf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},af=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},il=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new af,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tv(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function nv(){return new Zf([new rf])}var Zf=(()=>{class e{factories;static \u0275prov=R({token:e,providedIn:"root",factory:nv});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||nv()),deps:[[e,new w0,new _0]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new T(901,!1)}}return e})();function D_(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;re(8);try{let o=i?.injector??pM(r),s=[iM({}),{provide:Mo,useExisting:aM},...n||[]],a=new tl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return uM({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{re(9)}}function xl(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Mt(e){return Vu(e)}function Lo(e,t){return Pu(e,t?.equal)}var rv=class{[st];constructor(t){this[st]=t}destroy(){this[st].destroy()}};var ke=new A("");var S_=null;function pt(){return S_}function Yf(e){S_??=e}var jo=class{},Vo=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>E(T_),providedIn:"platform"})}return e})();var T_=(()=>{class e extends Vo{_location;_history;_doc=E(ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pt().getBaseHref(this._doc)}onPopState(n){let r=pt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=pt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Al(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function C_(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function xt(e){return e&&e[0]!=="?"?`?${e}`:e}var Nn=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>E(Jf),providedIn:"root"})}return e})(),Rl=new A(""),Jf=(()=>{class e extends Nn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Al(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+xt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+xt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+xt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(k(Vo),k(Rl,8))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_r=(()=>{class e{_subject=new be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=bM(C_(I_(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xt(r))}normalize(n){return e.stripTrailingSlash(wM(this._basePath,I_(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=xt;static joinWithSlash=Al;static stripTrailingSlash=C_;static \u0275fac=function(r){return new(r||e)(k(Nn))};static \u0275prov=R({token:e,factory:()=>_M(),providedIn:"root"})}return e})();function _M(){return new _r(k(Nn))}function wM(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function I_(e){return e.replace(/\/index.html$/,"")}function bM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var ih=(()=>{class e extends Nn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Al(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+xt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+xt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(k(Vo),k(Rl,8))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})();var Pe=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Pe||{}),ee=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ee||{}),Ze=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Ze||{}),hn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function O_(e){return ht(e)[he.LocaleId]}function N_(e,t,n){let r=ht(e),i=[r[he.DayPeriodsFormat],r[he.DayPeriodsStandalone]],o=gt(i,t);return gt(o,n)}function k_(e,t,n){let r=ht(e),i=[r[he.DaysFormat],r[he.DaysStandalone]],o=gt(i,t);return gt(o,n)}function P_(e,t,n){let r=ht(e),i=[r[he.MonthsFormat],r[he.MonthsStandalone]],o=gt(i,t);return gt(o,n)}function F_(e,t){let r=ht(e)[he.Eras];return gt(r,t)}function $o(e,t){let n=ht(e);return gt(n[he.DateFormat],t)}function Uo(e,t){let n=ht(e);return gt(n[he.TimeFormat],t)}function Bo(e,t){let r=ht(e)[he.DateTimeFormat];return gt(r,t)}function Ho(e,t){let n=ht(e),r=n[he.NumberSymbols][t];if(typeof r>"u"){if(t===hn.CurrencyDecimal)return n[he.NumberSymbols][hn.Decimal];if(t===hn.CurrencyGroup)return n[he.NumberSymbols][hn.Group]}return r}function L_(e){if(!e[he.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[he.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function j_(e){let t=ht(e);return L_(t),(t[he.ExtraData][2]||[]).map(r=>typeof r=="string"?Qf(r):[Qf(r[0]),Qf(r[1])])}function V_(e,t,n){let r=ht(e);L_(r);let i=[r[he.ExtraData][0],r[he.ExtraData][1]],o=gt(i,t)||[];return gt(o,n)||[]}function gt(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function Qf(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var EM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ol={},DM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function $_(e,t,n,r){let i=OM(e);t=fn(n,t)||t;let s=[],a;for(;t;)if(a=DM.exec(t),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;t=u}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=B_(r,l),i=RM(i,r));let c="";return s.forEach(u=>{let f=xM(u);c+=f?f(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ll(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function fn(e,t){let n=O_(e);if(Ol[n]??={},Ol[n][t])return Ol[n][t];let r="";switch(t){case"shortDate":r=$o(e,Ze.Short);break;case"mediumDate":r=$o(e,Ze.Medium);break;case"longDate":r=$o(e,Ze.Long);break;case"fullDate":r=$o(e,Ze.Full);break;case"shortTime":r=Uo(e,Ze.Short);break;case"mediumTime":r=Uo(e,Ze.Medium);break;case"longTime":r=Uo(e,Ze.Long);break;case"fullTime":r=Uo(e,Ze.Full);break;case"short":let i=fn(e,"shortTime"),o=fn(e,"shortDate");r=Nl(Bo(e,Ze.Short),[i,o]);break;case"medium":let s=fn(e,"mediumTime"),a=fn(e,"mediumDate");r=Nl(Bo(e,Ze.Medium),[s,a]);break;case"long":let l=fn(e,"longTime"),c=fn(e,"longDate");r=Nl(Bo(e,Ze.Long),[l,c]);break;case"full":let u=fn(e,"fullTime"),f=fn(e,"fullDate");r=Nl(Bo(e,Ze.Full),[u,f]);break}return r&&(Ol[n][t]=r),r}function Nl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function At(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function CM(e,t){return At(e,3).substring(0,t)}function ve(e,t,n=0,r=!1,i=!1){return function(o,s){let a=IM(e,o);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return CM(a,t);let l=Ho(s,hn.MinusSign);return At(a,t,l,r,i)}}function IM(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function ie(e,t,n=Pe.Format,r=!1){return function(i,o){return SM(i,o,e,t,n,r)}}function SM(e,t,n,r,i,o){switch(n){case 2:return P_(t,i,r)[e.getMonth()];case 1:return k_(t,i,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(o){let c=j_(t),u=V_(t,i,r),f=c.findIndex(p=>{if(Array.isArray(p)){let[d,g]=p,m=s>=d.hours&&a>=d.minutes,v=s<g.hours||s===g.hours&&a<g.minutes;if(d.hours<g.hours){if(m&&v)return!0}else if(m||v)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(f!==-1)return u[f]}return N_(t,i,r)[s<12?0:1];case 3:return F_(t,r)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function kl(e){return function(t,n,r){let i=-1*r,o=Ho(n,hn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+At(s,2,o)+At(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+At(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+At(s,2,o)+":"+At(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+At(s,2,o)+":"+At(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var TM=0,Fl=4;function MM(e){let t=Ll(e,TM,1).getDay();return Ll(e,0,1+(t<=Fl?Fl:Fl+7)-t)}function U_(e){let t=e.getDay(),n=t===0?-3:Fl-t;return Ll(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Xf(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=U_(n),s=MM(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return At(i,e,Ho(r,hn.MinusSign))}}function Pl(e,t=!1){return function(n,r){let o=U_(n).getFullYear();return At(o,e,Ho(r,hn.MinusSign),t)}}var eh={};function xM(e){if(eh[e])return eh[e];let t;switch(e){case"G":case"GG":case"GGG":t=ie(3,ee.Abbreviated);break;case"GGGG":t=ie(3,ee.Wide);break;case"GGGGG":t=ie(3,ee.Narrow);break;case"y":t=ve(0,1,0,!1,!0);break;case"yy":t=ve(0,2,0,!0,!0);break;case"yyy":t=ve(0,3,0,!1,!0);break;case"yyyy":t=ve(0,4,0,!1,!0);break;case"Y":t=Pl(1);break;case"YY":t=Pl(2,!0);break;case"YYY":t=Pl(3);break;case"YYYY":t=Pl(4);break;case"M":case"L":t=ve(1,1,1);break;case"MM":case"LL":t=ve(1,2,1);break;case"MMM":t=ie(2,ee.Abbreviated);break;case"MMMM":t=ie(2,ee.Wide);break;case"MMMMM":t=ie(2,ee.Narrow);break;case"LLL":t=ie(2,ee.Abbreviated,Pe.Standalone);break;case"LLLL":t=ie(2,ee.Wide,Pe.Standalone);break;case"LLLLL":t=ie(2,ee.Narrow,Pe.Standalone);break;case"w":t=Xf(1);break;case"ww":t=Xf(2);break;case"W":t=Xf(1,!0);break;case"d":t=ve(2,1);break;case"dd":t=ve(2,2);break;case"c":case"cc":t=ve(7,1);break;case"ccc":t=ie(1,ee.Abbreviated,Pe.Standalone);break;case"cccc":t=ie(1,ee.Wide,Pe.Standalone);break;case"ccccc":t=ie(1,ee.Narrow,Pe.Standalone);break;case"cccccc":t=ie(1,ee.Short,Pe.Standalone);break;case"E":case"EE":case"EEE":t=ie(1,ee.Abbreviated);break;case"EEEE":t=ie(1,ee.Wide);break;case"EEEEE":t=ie(1,ee.Narrow);break;case"EEEEEE":t=ie(1,ee.Short);break;case"a":case"aa":case"aaa":t=ie(0,ee.Abbreviated);break;case"aaaa":t=ie(0,ee.Wide);break;case"aaaaa":t=ie(0,ee.Narrow);break;case"b":case"bb":case"bbb":t=ie(0,ee.Abbreviated,Pe.Standalone,!0);break;case"bbbb":t=ie(0,ee.Wide,Pe.Standalone,!0);break;case"bbbbb":t=ie(0,ee.Narrow,Pe.Standalone,!0);break;case"B":case"BB":case"BBB":t=ie(0,ee.Abbreviated,Pe.Format,!0);break;case"BBBB":t=ie(0,ee.Wide,Pe.Format,!0);break;case"BBBBB":t=ie(0,ee.Narrow,Pe.Format,!0);break;case"h":t=ve(3,1,-12);break;case"hh":t=ve(3,2,-12);break;case"H":t=ve(3,1);break;case"HH":t=ve(3,2);break;case"m":t=ve(4,1);break;case"mm":t=ve(4,2);break;case"s":t=ve(5,1);break;case"ss":t=ve(5,2);break;case"S":t=ve(6,1);break;case"SS":t=ve(6,2);break;case"SSS":t=ve(6,3);break;case"Z":case"ZZ":case"ZZZ":t=kl(0);break;case"ZZZZZ":t=kl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=kl(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=kl(2);break;default:return null}return eh[e]=t,t}function B_(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function AM(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function RM(e,t,n){let i=e.getTimezoneOffset(),o=B_(t,i);return AM(e,-1*(o-i))}function OM(e){if(M_(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return Ll(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(EM))return NM(r)}let t=new Date(e);if(!M_(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function NM(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,a,l,c),t}function M_(e){return e instanceof Date&&!isNaN(e.valueOf())}var th=/\s+/,x_=[],zo=(()=>{class e{_ngEl;_renderer;initialClasses=x_;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(th):x_}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(th):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(th).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(N(Tn),N(gr))};static \u0275dir=de({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var jl=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ei=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new jl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),A_(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);A_(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(N(vi),N(El),N(Zf))};static \u0275dir=de({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function A_(e,t){e.context.$implicit=t.item}var qo=(()=>{class e{_viewContainer;_context=new Vl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){R_(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){R_(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(N(vi),N(El))};static \u0275dir=de({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Vl=class{$implicit=null;ngIf=null};function R_(e,t){if(e&&!e.createEmbeddedView)throw new T(2020,!1)}function H_(e,t){return new T(2100,!1)}var nh=class{createSubscription(t,n){return Mt(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){Mt(()=>t.unsubscribe())}},rh=class{createSubscription(t,n){return t.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(t){t.unsubscribe()}},kM=new rh,PM=new nh,oh=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Mn(n))return kM;if(Hf(n))return PM;throw H_(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(N(bi,16))};static \u0275pipe=Bf({name:"async",type:e,pure:!1})}return e})();var FM="mediumDate",z_=new A(""),q_=new A(""),sh=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??FM,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return $_(n,s,o||this.locale,a)}catch(s){throw H_(e,s.message)}}static \u0275fac=function(r){return new(r||e)(N(Ml,16),N(z_,24),N(q_,24))};static \u0275pipe=Bf({name:"date",type:e,pure:!0})}return e})();var Ht=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=mr({type:e});static \u0275inj=dr({})}return e})();function ah(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var lh="browser",G_="server";function $l(e){return e===G_}var Go=class{};var zl=new A(""),fh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(k(zl),k(Oe))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Wo=class{_doc;constructor(t){this._doc=t}manager},Bl="ng-app-id";function W_(e){for(let t of e)t.remove()}function K_(e,t){let n=t.createElement("style");return n.textContent=e,n}function jM(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Bl}="${t}"],link[${Bl}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Bl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function uh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var hh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=$l(o),jM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,K_);r?.forEach(i=>this.addUsage(i,this.external,uh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(W_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])W_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,K_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,uh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Bl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(k(ke),k(Cf),k(Sf,8),k(Po))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),ch={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ph=/%COMP%/g;var Y_="%COMP%",VM=`_nghost-${Y_}`,$M=`_ngcontent-${Y_}`,UM=!0,BM=new A("",{providedIn:"root",factory:()=>UM});function HM(e){return $M.replace(ph,e)}function zM(e){return VM.replace(ph,e)}function J_(e,t){return t.map(n=>n.replace(ph,e))}var gh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=$l(a),this.defaultRenderer=new Ko(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ut.ShadowDom&&(r=q(w({},r),{encapsulation:Ut.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Hl?i.applyToHost(n):i instanceof Zo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Ut.Emulated:o=new Hl(l,c,r,this.appId,u,s,a,f,p);break;case Ut.ShadowDom:return new dh(l,c,n,r,s,a,this.nonce,f,p);default:o=new Zo(l,c,r,u,s,a,f,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(k(fh),k(hh),k(Cf),k(BM),k(ke),k(Po),k(Oe),k(Sf),k(vl,8))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Ko=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(ch[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Z_(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Z_(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=ch[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=ch[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(an.DashCase|an.Important)?t.style.setProperty(n,r,i&an.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&an.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=pt().getGlobalEventTarget(this.doc,t),!t))throw new T(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Z_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var dh=class extends Ko{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=J_(i.id,u);for(let p of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=p,this.shadowRoot.appendChild(d)}let f=i.getExternalStyles?.();if(f)for(let p of f){let d=uh(p,o);a&&d.setAttribute("nonce",a),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zo=class extends Ko{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?J_(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Hl=class extends Zo{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=HM(u),this.hostAttr=zM(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var ql=class e extends jo{supportsDOMEvents=!0;static makeCurrent(){Yf(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=qM();return n==null?null:GM(n)}resetBaseElement(){Yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ah(document.cookie,t)}},Yo=null;function qM(){return Yo=Yo||document.head.querySelector("base"),Yo?Yo.getAttribute("href"):null}function GM(e){return new URL(e,document.baseURI).pathname}var WM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),X_=(()=>{class e extends Wo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(k(ke))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Q_=["alt","control","meta","shift"],KM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ew=(()=>{class e extends Wo{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Q_.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=KM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Q_.forEach(s=>{if(s!==i){let a=ZM[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(k(ke))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})();function mh(e,t,n){return D_(w({rootComponent:e,platformRef:n?.platformRef},YM(t)))}function YM(e){return{appProviders:[...tx,...e?.providers??[]],platformProviders:ex}}function JM(){ql.makeCurrent()}function QM(){return new sn}function XM(){return Ey(document),document}var ex=[{provide:Po,useValue:lh},{provide:If,useValue:JM,multi:!0},{provide:ke,useFactory:XM}];var tx=[{provide:al,useValue:"root"},{provide:sn,useFactory:QM},{provide:zl,useClass:X_,multi:!0,deps:[ke]},{provide:zl,useClass:ew,multi:!0,deps:[ke]},gh,hh,fh,{provide:li,useExisting:gh},{provide:Go,useClass:WM},[]];var tw=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(k(ke))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var j="primary",us=Symbol("RouteTitle"),bh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Er(e){return new bh(e)}function cw(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function rx(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!zt(e[n],t[n]))return!1;return!0}function zt(e,t){let n=e?Eh(e):void 0,r=t?Eh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!uw(e[i],t[i]))return!1;return!0}function Eh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function uw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function dw(e){return e.length>0?e[e.length-1]:null}function Fn(e){return Xu(e)?e:Mn(e)?ue(Promise.resolve(e)):F(e)}var ix={exact:hw,subset:pw},fw={exact:ox,subset:sx,ignored:()=>!0};function nw(e,t,n){return ix[n.paths](e.root,t.root,n.matrixParams)&&fw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function ox(e,t){return zt(e,t)}function hw(e,t,n){if(!wr(e.segments,t.segments)||!Kl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!hw(e.children[r],t.children[r],n))return!1;return!0}function sx(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>uw(e[n],t[n]))}function pw(e,t,n){return gw(e,t,t.segments,n)}function gw(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!wr(i,n)||t.hasChildren()||!Kl(i,n,r))}else if(e.segments.length===n.length){if(!wr(e.segments,n)||!Kl(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!pw(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!wr(e.segments,i)||!Kl(e.segments,i,r)||!e.children[j]?!1:gw(e.children[j],t,o,r)}}function Kl(e,t,n){return t.every((r,i)=>fw[n](e[i].parameters,r.parameters))}var Gt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Z([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Er(this.queryParams),this._queryParamMap}toString(){return cx.serialize(this)}},Z=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zl(this)}},kn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Er(this.parameters),this._parameterMap}toString(){return vw(this)}};function ax(e,t){return wr(e,t)&&e.every((n,r)=>zt(n.parameters,t[r].parameters))}function wr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function lx(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}var ds=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>new Dr,providedIn:"root"})}return e})(),Dr=class{parse(t){let n=new Ch(t);return new Gt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Jo(t.root,!0)}`,r=fx(t.queryParams),i=typeof t.fragment=="string"?`#${ux(t.fragment)}`:"";return`${n}${r}${i}`}},cx=new Dr;function Zl(e){return e.segments.map(t=>vw(t)).join("/")}function Jo(e,t){if(!e.hasChildren())return Zl(e);if(t){let n=e.children[j]?Jo(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${Jo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lx(e,(r,i)=>i===j?[Jo(e.children[j],!1)]:[`${i}:${Jo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[j]!=null?`${Zl(e)}/${n[0]}`:`${Zl(e)}/(${n.join("//")})`}}function mw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gl(e){return mw(e).replace(/%3B/gi,";")}function ux(e){return encodeURI(e)}function Dh(e){return mw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yl(e){return decodeURIComponent(e)}function rw(e){return Yl(e.replace(/\+/g,"%20"))}function vw(e){return`${Dh(e.path)}${dx(e.parameters)}`}function dx(e){return Object.entries(e).map(([t,n])=>`;${Dh(t)}=${Dh(n)}`).join("")}function fx(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Gl(n)}=${Gl(i)}`).join("&"):`${Gl(n)}=${Gl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var hx=/^[^\/()?;#]+/;function vh(e){let t=e.match(hx);return t?t[0]:""}var px=/^[^\/()?;=#]+/;function gx(e){let t=e.match(px);return t?t[0]:""}var mx=/^[^=?&#]+/;function vx(e){let t=e.match(mx);return t?t[0]:""}var yx=/^[^&#]+/;function _x(e){let t=e.match(yx);return t?t[0]:""}var Ch=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new Z(t,n)),r}parseSegment(){let t=vh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new kn(Yl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=gx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=vh(this.remaining);i&&(r=i,this.capture(r))}t[Yl(n)]=Yl(r)}parseQueryParam(t){let n=vx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=_x(this.remaining);s&&(r=s,this.capture(r))}let i=rw(n),o=rw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new Z([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}};function yw(e){return e.segments.length>0?new Z([],{[j]:e}):e}function _w(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=_w(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Z(e.segments,t);return wx(n)}function wx(e){if(e.numberOfChildren===1&&e.children[j]){let t=e.children[j];return new Z(e.segments.concat(t.segments),t.children)}return e}function Ti(e){return e instanceof Gt}function ww(e,t,n=null,r=null){let i=bw(e);return Ew(i,t,n,r)}function bw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new Z(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=yw(r);return t??i}function Ew(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return yh(i,i,i,n,r);let o=bx(t);if(o.toRoot())return yh(i,i,new Z([],{}),n,r);let s=Ex(o,i,e),a=s.processChildren?Xo(s.segmentGroup,s.index,o.commands):Cw(s.segmentGroup,s.index,o.commands);return yh(i,s.segmentGroup,a,n,r)}function Ql(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ts(e){return typeof e=="object"&&e!=null&&e.outlets}function yh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=Dw(e,t,n);let a=yw(_w(s));return new Gt(a,o,i)}function Dw(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Dw(o,t,n)}),new Z(e.segments,r)}var Xl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ql(r[0]))throw new T(4003,!1);let i=r.find(ts);if(i&&i!==dw(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Xl(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xl(n,t,r)}var Ii=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Ex(e,t,n){if(e.isAbsolute)return new Ii(t,!0,0);if(!n)return new Ii(t,!1,NaN);if(n.parent===null)return new Ii(n,!0,0);let r=Ql(e.commands[0])?0:1,i=n.segments.length-1+r;return Dx(n,i,e.numberOfDoubleDots)}function Dx(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Ii(r,!1,i-o)}function Cx(e){return ts(e[0])?e[0].outlets:{[j]:e}}function Cw(e,t,n){if(e??=new Z([],{}),e.segments.length===0&&e.hasChildren())return Xo(e,t,n);let r=Ix(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Z(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new Z(e.segments.slice(r.pathIndex),e.children),Xo(o,0,i)}else return r.match&&i.length===0?new Z(e.segments,{}):r.match&&!e.hasChildren()?Ih(e,t,n):r.match?Xo(e,0,i):Ih(e,t,n)}function Xo(e,t,n){if(n.length===0)return new Z(e.segments,{});{let r=Cx(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&e.numberOfChildren===1&&e.children[j].segments.length===0){let o=Xo(e.children[j],t,n);return new Z(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Cw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Z(e.segments,i)}}function Ix(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(ts(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!ow(l,c,s))return o;r+=2}else{if(!ow(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ih(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ts(o)){let l=Sx(o.outlets);return new Z(r,l)}if(i===0&&Ql(n[0])){let l=e.segments[t];r.push(new kn(l.path,iw(n[0]))),i++;continue}let s=ts(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ql(a)?(r.push(new kn(s,iw(a))),i+=2):(r.push(new kn(s,{})),i++)}return new Z(r,{})}function Sx(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Ih(new Z([],{}),0,r))}),t}function iw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function ow(e,t,n){return e==n.path&&zt(t,n.parameters)}var Jl="imperative",Te=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Te||{}),rt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Cr=class extends rt{type=Te.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends rt{urlAfterRedirects;type=Te.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ye=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ye||{}),ns=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ns||{}),qt=class extends rt{reason;code;type=Te.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gn=class extends rt{reason;code;type=Te.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Mi=class extends rt{error;target;type=Te.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rs=class extends rt{urlAfterRedirects;state;type=Te.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ec=class extends rt{urlAfterRedirects;state;type=Te.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tc=class extends rt{urlAfterRedirects;state;shouldActivate;type=Te.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nc=class extends rt{urlAfterRedirects;state;type=Te.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rc=class extends rt{urlAfterRedirects;state;type=Te.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ic=class{route;type=Te.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},oc=class{route;type=Te.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sc=class{snapshot;type=Te.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ac=class{snapshot;type=Te.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lc=class{snapshot;type=Te.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cc=class{snapshot;type=Te.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var is=class{},xi=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function Tx(e,t){return e.providers&&!e._injector&&(e._injector=Il(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Rt(e){return e.outlet||j}function Mx(e,t){let n=e.filter(r=>Rt(r)===t);return n.push(...e.filter(r=>Rt(r)!==t)),n}function fs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var uc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Oi(this.rootInjector)}},Oi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(k(ut))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Sh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Sh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Th(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Th(t,this._root).map(n=>n.value)}};function Sh(e,t){if(e===t.value)return t;for(let n of t.children){let r=Sh(e,n);if(r)return r}return null}function Th(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Th(e,n);if(r.length)return r.unshift(t),r}return[]}var nt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ci(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var os=class extends dc{snapshot;constructor(t,n){super(t),this.snapshot=n,Ph(this,t)}toString(){return this.snapshot.toString()}};function Iw(e){let t=xx(e),n=new Ee([new kn("",{})]),r=new Ee({}),i=new Ee({}),o=new Ee({}),s=new Ee(""),a=new Pn(n,r,o,s,i,j,e,t.root);return a.snapshot=t.root,new os(new nt(a,[]),t)}function xx(e){let t={},n={},r={},i="",o=new br([],t,r,i,n,j,e,null,{});return new ss("",new nt(o,[]))}var Pn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(G(c=>c[us]))??F(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(t=>Er(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(t=>Er(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fc(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:w(w({},t.params),e.params),data:w(w({},t.data),e.data),resolve:w(w(w(w({},e.data),t.data),i?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},i&&Tw(i)&&(r.resolve[us]=i.title),r}var br=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[us]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Er(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Er(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ss=class extends dc{url;constructor(t,n){super(n),this.url=t,Ph(this,n)}toString(){return Sw(this._root)}};function Ph(e,t){t.value._routerState=e,t.children.forEach(n=>Ph(e,n))}function Sw(e){let t=e.children.length>0?` { ${e.children.map(Sw).join(", ")} } `:"";return`${e.value}${t}`}function _h(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),zt(t.params,n.params)||e.paramsSubject.next(n.params),rx(t.url,n.url)||e.urlSubject.next(n.url),zt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Mh(e,t){let n=zt(e.params,t.params)&&ax(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Mh(e.parent,t.parent))}function Tw(e){return typeof e.title=="string"||e.title===null}var Mw=new A(""),hs=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=j;activateEvents=new Ce;deactivateEvents=new Ce;attachEvents=new Ce;detachEvents=new Ce;routerOutletData=py(void 0);parentContexts=E(Oi);location=E(vi);changeDetector=E(bi);inputBinder=E(mc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new xh(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pi]})}return e})(),xh=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Pn?this.route:t===Oi?this.childContexts:t===Mw?this.outletData:this.parent.get(t,n)}},mc=new A("");var Fh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ke({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&le(0,"router-outlet")},dependencies:[hs],encapsulation:2})}return e})();function Lh(e){let t=e.children&&e.children.map(Lh),n=t?q(w({},e),{children:t}):w({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=Fh),n}function Ax(e,t,n){let r=as(e,t._root,n?n._root:void 0);return new os(r,t)}function as(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=Rx(e,t,n);return new nt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>as(e,a)),s}}let r=Ox(t.value),i=t.children.map(o=>as(e,o));return new nt(r,i)}}function Rx(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return as(e,r,i);return as(e,r)})}function Ox(e){return new Pn(new Ee(e.url),new Ee(e.params),new Ee(e.queryParams),new Ee(e.fragment),new Ee(e.data),e.outlet,e.component,e)}var Ai=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},xw="ngNavigationCancelingError";function hc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Ti(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Aw(!1,Ye.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Aw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[xw]=!0,n.cancellationCode=t,n}function Nx(e){return Rw(e)&&Ti(e.url)}function Rw(e){return!!e&&e[xw]}var kx=(e,t,n,r)=>G(i=>(new Ah(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Ah=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),_h(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ci(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ci(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ci(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ci(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cc(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ac(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(_h(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_h(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},pc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Si=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Px(e,t,n){let r=e._root,i=t?t._root:null;return Qo(r,i,n,[r.value])}function Fx(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ni(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!cv(e)?e:t.get(e):r}function Qo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ci(t);return e.children.forEach(s=>{Lx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>es(a,n.getContext(s),i)),i}function Lx(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=jx(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qo(e,t,a?a.children:null,r,i):Qo(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Si(a.outlet.component,s))}else s&&es(t,a,i),i.canActivateChecks.push(new pc(r)),o.component?Qo(e,null,a?a.children:null,r,i):Qo(e,null,n,r,i);return i}function jx(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!wr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wr(e.url,t.url)||!zt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mh(e,t)||!zt(e.queryParams,t.queryParams);case"paramsChange":default:return!Mh(e,t)}}function es(e,t,n){let r=Ci(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?es(s,t.children.getContext(o),n):es(s,null,n):es(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Si(t.outlet.component,i)):n.canDeactivateChecks.push(new Si(null,i)):n.canDeactivateChecks.push(new Si(null,i))}function ps(e){return typeof e=="function"}function Vx(e){return typeof e=="boolean"}function $x(e){return e&&ps(e.canLoad)}function Ux(e){return e&&ps(e.canActivate)}function Bx(e){return e&&ps(e.canActivateChild)}function Hx(e){return e&&ps(e.canDeactivate)}function zx(e){return e&&ps(e.canMatch)}function Ow(e){return e instanceof en||e?.name==="EmptyError"}var Wl=Symbol("INITIAL_VALUE");function Ri(){return bt(e=>Da(e.map(t=>t.pipe(tn(1),rd(Wl)))).pipe(G(t=>{for(let n of t)if(n!==!0){if(n===Wl)return Wl;if(n===!1||qx(n))return n}return!0}),wt(t=>t!==Wl),tn(1)))}function qx(e){return Ti(e)||e instanceof Ai}function Gx(e,t){return De(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?F(q(w({},n),{guardsResult:!0})):Wx(s,r,i,e).pipe(De(a=>a&&Vx(a)?Kx(r,o,e,t):F(a)),G(a=>q(w({},n),{guardsResult:a})))})}function Wx(e,t,n,r){return ue(e).pipe(De(i=>Xx(i.component,i.route,n,t,r)),nn(i=>i!==!0,!0))}function Kx(e,t,n,r){return ue(t).pipe(Kr(i=>Wr(Yx(i.route.parent,r),Zx(i.route,r),Qx(e,i.path,n),Jx(e,i.route,n))),nn(i=>i!==!0,!0))}function Zx(e,t){return e!==null&&t&&t(new lc(e)),F(!0)}function Yx(e,t){return e!==null&&t&&t(new sc(e)),F(!0)}function Jx(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>Ca(()=>{let s=fs(t)??n,a=Ni(o,s),l=Ux(a)?a.canActivate(t,e):Ct(s,()=>a(t,e));return Fn(l).pipe(nn())}));return F(i).pipe(Ri())}function Qx(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Fx(s)).filter(s=>s!==null).map(s=>Ca(()=>{let a=s.guards.map(l=>{let c=fs(s.node)??n,u=Ni(l,c),f=Bx(u)?u.canActivateChild(r,e):Ct(c,()=>u(r,e));return Fn(f).pipe(nn())});return F(a).pipe(Ri())}));return F(o).pipe(Ri())}function Xx(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let l=fs(t)??i,c=Ni(a,l),u=Hx(c)?c.canDeactivate(e,t,n,r):Ct(l,()=>c(e,t,n,r));return Fn(u).pipe(nn())});return F(s).pipe(Ri())}function eA(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=Ni(s,e),l=$x(a)?a.canLoad(t,n):Ct(e,()=>a(t,n));return Fn(l)});return F(o).pipe(Ri(),Nw(r))}function Nw(e){return Gu(Re(t=>{if(typeof t!="boolean")throw hc(e,t)}),G(t=>t===!0))}function tA(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=Ni(s,e),l=zx(a)?a.canMatch(t,n):Ct(e,()=>a(t,n));return Fn(l)});return F(o).pipe(Ri(),Nw(r))}var ls=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},cs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Di(e){return Gr(new ls(e))}function nA(e){return Gr(new T(4e3,!1))}function rA(e){return Gr(Aw(!1,Ye.GuardRejected))}var Rh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[j])return nA(`${t.redirectTo}`);i=i.children[j]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:f,outlet:p,params:d,data:g,title:m}=i,v=Ct(o,()=>a({params:d,data:g,queryParams:l,fragment:c,routeConfig:u,url:f,outlet:p,title:m}));if(v instanceof Gt)throw new cs(v);n=v}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new cs(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Gt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Z(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Oh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iA(e,t,n,r,i){let o=kw(e,t,n);return o.matched?(r=Tx(t,r),tA(r,t,n,i).pipe(G(s=>s===!0?o:w({},Oh)))):F(o)}function kw(e,t,n){if(t.path==="**")return oA(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?w({},Oh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||cw)(n,e,t);if(!i)return w({},Oh);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function oA(e){return{matched:!0,parameters:e.length>0?dw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function sw(e,t,n,r){return n.length>0&&lA(e,n,r)?{segmentGroup:new Z(t,aA(r,new Z(n,e.children))),slicedSegments:[]}:n.length===0&&cA(e,n,r)?{segmentGroup:new Z(e.segments,sA(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Z(e.segments,e.children),slicedSegments:n}}function sA(e,t,n,r){let i={};for(let o of n)if(vc(e,t,o)&&!r[Rt(o)]){let s=new Z([],{});i[Rt(o)]=s}return w(w({},r),i)}function aA(e,t){let n={};n[j]=t;for(let r of e)if(r.path===""&&Rt(r)!==j){let i=new Z([],{});n[Rt(r)]=i}return n}function lA(e,t,n){return n.some(r=>vc(e,t,r)&&Rt(r)!==j)}function cA(e,t,n){return n.some(r=>vc(e,t,r))}function vc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function uA(e,t,n){return t.length===0&&!e.children[n]}var Nh=class{};function dA(e,t,n,r,i,o,s="emptyOnly"){return new kh(e,t,n,r,i,s,o).recognize()}var fA=31,kh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Rh(this.urlSerializer,this.urlTree)}noMatchError(t){return new T(4002,`'${t.segmentGroup}'`)}recognize(){let t=sw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(G(({children:n,rootSnapshot:r})=>{let i=new nt(r,n),o=new ss("",i),s=ww(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new br([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,j,n).pipe(G(r=>({children:r,rootSnapshot:n})),bn(r=>{if(r instanceof cs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ls?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(G(s=>s instanceof nt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ue(o).pipe(Kr(s=>{let a=r.children[s],l=Mx(n,s);return this.processSegmentGroup(t,l,a,s,i)}),nd((s,a)=>(s.push(...a),s)),En(null),td(),De(s=>{if(s===null)return Di(r);let a=Pw(s);return hA(a),F(a)}))}processSegment(t,n,r,i,o,s,a){return ue(n).pipe(Kr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(bn(c=>{if(c instanceof ls)return F(null);throw c}))),nn(l=>!!l),bn(l=>{if(Ow(l))return uA(r,i,o)?F(new Nh):Di(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Rt(r)!==s&&(s===j||!vc(i,o,r))?Di(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):Di(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:p}=kw(n,i,o);if(!l)return Di(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fA&&(this.allowRedirects=!1));let d=new br(o,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,aw(i),Rt(i),i.component??i._loadedComponent??null,i,lw(i)),g=fc(d,a,this.paramsInheritanceStrategy);d.params=Object.freeze(g.params),d.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,d,t);return this.applyRedirects.lineralizeSegments(i,m).pipe(De(v=>this.processSegment(t,r,n,v.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=iA(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(bt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(bt(({routes:c})=>{let u=r._loadedInjector??t,{parameters:f,consumedSegments:p,remainingSegments:d}=l,g=new br(p,f,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,aw(r),Rt(r),r.component??r._loadedComponent??null,r,lw(r)),m=fc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:y}=sw(n,p,d,c);if(y.length===0&&v.hasChildren())return this.processChildren(u,c,v,g).pipe(G(C=>new nt(g,C)));if(c.length===0&&y.length===0)return F(new nt(g,[]));let U=Rt(r)===o;return this.processSegment(u,c,v,y,U?j:o,!0,g).pipe(G(C=>new nt(g,C instanceof nt?[C]:[])))}))):Di(n)))}getChildConfig(t,n,r){return n.children?F({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?F({routes:n._loadedRoutes,injector:n._loadedInjector}):eA(t,n,r,this.urlSerializer).pipe(De(i=>i?this.configLoader.loadChildren(t,n).pipe(Re(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):rA(n))):F({routes:[],injector:t})}};function hA(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}function pA(e){let t=e.value.routeConfig;return t&&t.path===""}function Pw(e){let t=[],n=new Set;for(let r of e){if(!pA(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=Pw(r.children);t.push(new nt(r.value,i))}return t.filter(r=>!n.has(r))}function aw(e){return e.data||{}}function lw(e){return e.resolve||{}}function gA(e,t,n,r,i,o){return De(s=>dA(e,t,n,r,s.extractedUrl,i,o).pipe(G(({state:a,tree:l})=>q(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function mA(e,t){return De(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return F(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Fw(l))s.add(c);let a=0;return ue(s).pipe(Kr(l=>o.has(l)?vA(l,r,e,t):(l.data=fc(l,l.parent,e).resolve,F(void 0))),Re(()=>a++),Zr(1),De(l=>a===s.size?F(n):Be))})}function Fw(e){let t=e.children.map(n=>Fw(n)).flat();return[e,...t]}function vA(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Tw(i)&&(o[us]=i.title),yA(o,e,t,r).pipe(G(s=>(e._resolvedData=s,e.data=fc(e,e.parent,n).resolve,null)))}function yA(e,t,n,r){let i=Eh(e);if(i.length===0)return F({});let o={};return ue(i).pipe(De(s=>_A(e[s],t,n,r).pipe(nn(),Re(a=>{if(a instanceof Ai)throw hc(new Dr,a);o[s]=a}))),Zr(1),G(()=>o),bn(s=>Ow(s)?Be:Gr(s)))}function _A(e,t,n,r){let i=fs(t)??r,o=Ni(e,i),s=o.resolve?o.resolve(t,n):Ct(i,()=>o(t,n));return Fn(s)}function wh(e){return bt(t=>{let n=e(t);return n?ue(n).pipe(G(()=>t)):F(t)})}var jh=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[us]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>E(Lw),providedIn:"root"})}return e})(),Lw=(()=>{class e extends jh{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(k(tw))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gs=new A("",{providedIn:"root",factory:()=>({})}),ms=new A(""),jw=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(E_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return F(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Fn(n.loadComponent()).pipe(G($w),Re(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),_o(()=>{this.componentLoaders.delete(n)})),i=new qr(r,()=>new be).pipe(zr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Vw(r,this.compiler,n,this.onLoadEndListener).pipe(_o(()=>{this.childrenLoaders.delete(r)})),s=new qr(o,()=>new be).pipe(zr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vw(e,t,n,r){return Fn(e.loadChildren()).pipe(G($w),De(i=>i instanceof Uf||Array.isArray(i)?F(i):ue(t.compileModuleAsync(i))),G(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ms,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lh),injector:o}}))}function wA(e){return e&&typeof e=="object"&&"default"in e}function $w(e){return wA(e)?e.default:e}var yc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>E(bA),providedIn:"root"})}return e})(),bA=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uw=new A("");var Bw=new A(""),Hw=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new be;transitionAbortSubject=new be;configLoader=E(jw);environmentInjector=E(ut);destroyRef=E(gl);urlSerializer=E(ds);rootContexts=E(Oi);location=E(_r);inputBindingEnabled=E(mc,{optional:!0})!==null;titleStrategy=E(jh);options=E(gs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(yc);createViewTransition=E(Uw,{optional:!0});navigationErrorHandler=E(Bw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>F(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ic(i)),r=i=>this.events.next(new oc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(q(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Ee(null),this.transitions.pipe(wt(r=>r!==null),bt(r=>{let i=!1,o=!1;return F(r).pipe(bt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ye.SupersededByNewNavigation),Be;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?q(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new gn(s.id,this.urlSerializer.serialize(s.rawUrl),c,ns.IgnoredSameUrlNavigation)),s.resolve(!1),Be}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return F(s).pipe(bt(c=>(this.events.next(new Cr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Be:Promise.resolve(c))),gA(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Re(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=q(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new rs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:f,restoredState:p,extras:d}=s,g=new Cr(c,this.urlSerializer.serialize(u),f,p);this.events.next(g);let m=Iw(this.rootComponentType).snapshot;return this.currentTransition=r=q(w({},s),{targetSnapshot:m,urlAfterRedirects:u,extras:q(w({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,F(r)}else{let c="";return this.events.next(new gn(s.id,this.urlSerializer.serialize(s.extractedUrl),c,ns.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Be}}),Re(s=>{let a=new ec(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),G(s=>(this.currentTransition=r=q(w({},s),{guards:Px(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Gx(this.environmentInjector,s=>this.events.next(s)),Re(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw hc(this.urlSerializer,s.guardsResult);let a=new tc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),wt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ye.GuardRejected),!1)),wh(s=>{if(s.guards.canActivateChecks.length!==0)return F(s).pipe(Re(a=>{let l=new nc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),bt(a=>{let l=!1;return F(a).pipe(mA(this.paramsInheritanceStrategy,this.environmentInjector),Re({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Ye.NoDataFromResolver)}}))}),Re(a=>{let l=new rc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),wh(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Re(u=>{l.component=u}),G(()=>{})));for(let u of l.children)c.push(...a(u));return c};return Da(a(s.targetSnapshot.root)).pipe(En(null),tn(1))}),wh(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ue(l).pipe(G(()=>r)):F(r)}),G(s=>{let a=Ax(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=q(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Re(()=>{this.events.next(new is)}),kx(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),tn(1),Re({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),id(this.transitionAbortSubject.pipe(Re(s=>{throw s}))),_o(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ye.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),bn(s=>{if(this.destroyed)return r.resolve(!1),Be;if(o=!0,Rw(s))this.events.next(new qt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Nx(s)?this.events.next(new xi(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Mi(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Ct(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ai){let{message:c,cancellationCode:u}=hc(this.urlSerializer,l);this.events.next(new qt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new xi(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Be}))}))}cancelNavigationTransition(n,r,i){let o=new qt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EA(e){return e!==Jl}var zw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>E(DA),providedIn:"root"})}return e})(),gc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},DA=(()=>{class e extends gc{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qw=(()=>{class e{urlSerializer=E(ds);options=E(gs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(_r);urlHandlingStrategy=E(yc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Gt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Iw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>E(CA),providedIn:"root"})}return e})(),CA=(()=>{class e extends qw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Cr?this.updateStateMemento():n instanceof gn?this.commitTransition(r):n instanceof rs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof is?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof qt&&(n.code===Ye.GuardRejected||n.code===Ye.NoDataFromResolver)?this.restoreHistory(r):n instanceof Mi?this.restoreHistory(r,!0):n instanceof pn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=w(w({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=w(w({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vh(e,t){e.events.pipe(wt(n=>n instanceof pn||n instanceof qt||n instanceof Mi||n instanceof gn),G(n=>n instanceof pn||n instanceof gn?0:(n instanceof qt?n.code===Ye.Redirect||n.code===Ye.SupersededByNewNavigation:!1)?2:1),wt(n=>n!==2),tn(1)).subscribe(()=>{t()})}var IA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(d_);stateManager=E(qw);options=E(gs,{optional:!0})||{};pendingTasks=E(gi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(Hw);urlSerializer=E(ds);location=E(_r);urlHandlingStrategy=E(yc);_events=new be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(zw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(ms,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(mc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new pe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qt&&r.code!==Ye.Redirect&&r.code!==Ye.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pn)this.navigated=!0;else if(r instanceof xi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||EA(i.source)},s);this.scheduleNavigation(a,Jl,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}MA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=w({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Lh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let p=i?i.snapshot:this.routerState.snapshot.root;f=bw(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return Ew(f,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ti(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Jl,null,r)}navigate(n,r={skipLocationChange:!1}){return TA(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=w({},IA):r===!1?i=w({},SA):i=r,Ti(n))return nw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return nw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,p)=>{a=f,l=p});let u=this.pendingTasks.add();return Vh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TA(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new T(4008,!1)}function MA(e){return!(e instanceof is)&&!(e instanceof xi)}var AA=new A("");function $h(e,...t){return bv([{provide:ms,multi:!0,useValue:e},[],{provide:Pn,useFactory:RA,deps:[Wt]},{provide:zf,multi:!0,useFactory:NA},t.map(n=>n.\u0275providers)])}function RA(e){return e.routerState.root}function OA(e,t){return{\u0275kind:e,\u0275providers:t}}function NA(){let e=E(on);return t=>{let n=e.get(cr);if(t!==n.components[0])return;let r=e.get(Wt),i=e.get(kA);e.get(PA)===1&&r.initialNavigation(),e.get(FA,null,V.Optional)?.setUpPreloading(),e.get(AA,null,V.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var kA=new A("",{factory:()=>new be}),PA=new A("",{providedIn:"root",factory:()=>1});var FA=new A("");function Uh(){return OA(6,[{provide:Nn,useClass:ih}])}var og=_D(PE(),1),{PostgrestError:WH,FunctionsHttpError:KH,FunctionsFetchError:ZH,FunctionsRelayError:YH,FunctionsError:JH,FunctionRegion:QH,SupabaseClient:XH,createClient:FE,GoTrueAdminApi:e3,GoTrueClient:t3,AuthAdminApi:n3,AuthClient:r3,navigatorLock:i3,NavigatorLockAcquireTimeoutError:o3,lockInternals:s3,processLock:a3,SIGN_OUT_SCOPES:l3,AuthError:c3,AuthApiError:u3,AuthUnknownError:d3,CustomAuthError:f3,AuthSessionMissingError:h3,AuthInvalidTokenResponseError:p3,AuthInvalidCredentialsError:g3,AuthImplicitGrantRedirectError:m3,AuthPKCEGrantCodeExchangeError:v3,AuthRetryableFetchError:y3,AuthWeakPasswordError:_3,AuthInvalidJwtError:w3,isAuthError:b3,isAuthApiError:E3,isAuthSessionMissingError:D3,isAuthImplicitGrantRedirectError:C3,isAuthRetryableFetchError:I3,isAuthWeakPasswordError:S3,RealtimePresence:T3,RealtimeChannel:M3,RealtimeClient:x3,REALTIME_LISTEN_TYPES:A3,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:R3,REALTIME_PRESENCE_LISTEN_EVENTS:O3,REALTIME_SUBSCRIBE_STATES:N3,REALTIME_CHANNEL_STATES:k3}=og.default||og;var yt=class e{supabase;constructor(){this.supabase=FE("https://xnhkyqflvfqjbmcbzzct.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuaGt5cWZsdmZxamJtY2J6emN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0MDE5NDUsImV4cCI6MjA4MDk3Nzk0NX0.0Wjj_6kClOznswEo2hijdOf9XQ75WwfhkeWXRfEw9jI")}signInWithEmail(t,n){return this.supabase.auth.signInWithPassword({email:t,password:n})}signInWithGoogle(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/sportscenterchampionships/"}})}get client(){return this.supabase}getPublicAvatarUrl(t){return this.supabase.storage.from("avatars").getPublicUrl(t).data.publicUrl}uploadAvatar(t,n){return this.supabase.storage.from("avatars").upload(t,n)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};var iu=class e{constructor(t){this.supabase=t}ngOnInit(){}static \u0275fac=function(n){return new(n||e)(N(yt))};static \u0275cmp=Ke({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&le(0,"router-outlet")},dependencies:[hs],encapsulation:2})};var ou=class e{constructor(t,n){this.sb=t;this.router=n;this.sb.supabase.auth.getSession().then(({data:r})=>{this._user$.next(r.session?.user??null)}),this.sb.supabase.auth.onAuthStateChange((r,i)=>h(this,null,function*(){if(this._user$.next(i?.user??null),console.log(i?.user),i?.user){let{data:o}=yield this.sb.supabase.from("users").select("mail").eq("mail",this._user$.value.email).single();o?this.router.navigate(["/user-dashboard"]):this.router.navigate(["/user-onboarding"])}}))}_user$=new Ee(null);user$=this._user$.asObservable();logout(){return h(this,null,function*(){yield this.sb.supabase.auth.signOut()})}static \u0275fac=function(n){return new(n||e)(k(yt),k(Wt))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};function cO(e,t){if(e&1){let n=xn();Gf(0),b(1,"button",14),Ie("click",function(){dt(n);let i=Tt();return ft(i.logout())}),x(2," Logout "),D(),le(3,"img",15),Wf()}if(e&2){let n=t.ngIf;z(3),fe("src",(n.user_metadata==null?null:n.user_metadata.avatar_url)||"assets/images/default-avatar.png",pr)}}function uO(e,t){if(e&1){let n=xn();b(0,"button",14),Ie("click",function(){dt(n);let i=Tt();return ft(i.login())}),x(1," Login "),D()}}function dO(e,t){if(e&1){let n=xn();b(0,"li",16)(1,"button",14),Ie("click",function(){dt(n);let i=Tt();return ft(i.logout())}),x(2," Logout "),D(),le(3,"img",15),D()}if(e&2){let n=t.ngIf;z(3),fe("src",(n.user_metadata==null?null:n.user_metadata.avatar_url)||"assets/images/default-avatar.jpg",pr)}}function fO(e,t){if(e&1){let n=xn();b(0,"li",16)(1,"button",14),Ie("click",function(){dt(n);let i=Tt();return ft(i.login())}),x(2," Login "),D()()}}var su=class e{constructor(t,n,r){this.authService=t;this.supabase=n;this.router=r;this.user$=this.authService.user$}user$;login(){this.router.navigateByUrl("/login")}logout(){this.authService.logout()}loginWithGoogle(){this.supabase.signInWithGoogle()}static \u0275fac=function(n){return new(n||e)(N(ou),N(yt),N(Wt))};static \u0275cmp=Ke({type:e,selectors:[["app-header"]],decls:30,vars:10,consts:[["showLogin",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","main-navbar"],[1,"container-fluid","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler","d-lg-none","me-2"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand","fw-bold","d-none","d-lg-block"],[1,"flex-grow-1"],[1,"d-lg-none","d-flex","align-items-center","gap-2"],[4,"ngIf","ngIfElse"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0","align-items-center"],[1,"nav-item"],["href","#",1,"nav-link"],["class","nav-item ms-3 d-none d-lg-flex align-items-center gap-2",4,"ngIf"],[1,"btn","btn-light","btn-sm","rounded-pill","fw-bold",3,"click"],["alt","avatar",1,"user-avatar",3,"src"],[1,"nav-item","ms-3","d-none","d-lg-flex","align-items-center","gap-2"]],template:function(n,r){if(n&1&&(b(0,"nav",1)(1,"div",2)(2,"button",3),le(3,"span",4),D(),b(4,"a",5),x(5," Sports Championships "),D(),le(6,"div",6),b(7,"div",7),tt(8,cO,4,1,"ng-container",8),wi(9,"async"),tt(10,uO,2,0,"ng-template",null,0,b_),D(),b(12,"div",9)(13,"ul",10)(14,"li",11)(15,"a",12),x(16,"Inicio"),D()(),b(17,"li",11)(18,"a",12),x(19,"Campeonatos"),D()(),b(20,"li",11)(21,"a",12),x(22,"Equipos"),D()(),b(23,"li",11)(24,"a",12),x(25,"Resultados"),D()(),tt(26,dO,4,1,"li",13),wi(27,"async"),tt(28,fO,3,0,"li",13),wi(29,"async"),D()()()()),n&2){let i=Sl(11);z(8),fe("ngIf",Tl(9,4,r.user$))("ngIfElse",i),z(18),fe("ngIf",Tl(27,6,r.user$)),z(2),fe("ngIf",Tl(29,8,r.user$)===null)}},dependencies:[Ht,qo,oh],styles:[".main-navbar[_ngcontent-%COMP%]{background:transparent;padding:.75rem 1rem;z-index:3}.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.7);transition:all .3s ease}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3}.btn-light[_ngcontent-%COMP%]{color:#333;transition:all .3s ease}.btn-light[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border:2px solid #fff}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:150px;border-radius:.5rem}.navbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.35rem 1rem;font-size:.875rem}.main-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;box-shadow:0 2px 6px #00000040}.navbar-collapse[_ngcontent-%COMP%]{background-color:#0f172af2;margin-top:.5rem}"]})};var au=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ke({type:e,selectors:[["app-footer"]],decls:14,vars:0,consts:[[1,"app-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-links"],["href","#"],[1,"footer-bottom"]],template:function(n,r){n&1&&(b(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),x(4,"Sports Championships"),D(),b(5,"p"),x(6,"Organiza, compite y disfruta de tu deporte favorito"),D()(),b(7,"div",3)(8,"a",4),x(9,"Aviso legal"),D(),b(10,"a",4),x(11,"Privacidad"),D()()(),b(12,"div",5),x(13," \xA9 2025 Sports Center Championships \xB7 Todos los derechos reservados "),D()())},styles:[".app-footer[_ngcontent-%COMP%]{background:#0f172a;color:#cbd5e1;padding:1rem;margin-top:4rem}.footer-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:2rem;text-align:center}.footer-brand[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.5rem;color:#fff}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1;font-size:.9rem;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.8rem;color:#94a3b8}@media (min-width: 768px){.footer-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;text-align:left}.footer-links[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};function hO(e,t){if(e&1&&(b(0,"div",21),le(1,"img",22),b(2,"div",23)(3,"div",24)(4,"small",25),x(5),D(),b(6,"div",26),x(7),D(),b(8,"small",27),x(9),wi(10,"date"),D(),le(11,"br"),b(12,"small",27),x(13),D()()()()),e&2){let n=t.$implicit,r=Tt();z(),fe("src",r.getGameImage(n.type),pr),z(4),An(" ",n.type," "),z(2),Kf(" ",n.team1_name," vs ",n.team2_name," "),z(2),An(" ",__(10,6,n.date,"dd MMM \xB7 HH:mm")," "),z(4),An(" \u{1F4CD} ",n.location," ")}}function pO(e,t){if(e&1&&(b(0,"div",28)(1,"div",29),le(2,"div",30),b(3,"div",31)(4,"h5",32),x(5),D(),b(6,"small",27),x(7),D()()()()),e&2){let n=t.$implicit;z(2),Fo("background-image","url("+n.image+")"),z(),fe("ngClass",n.color),z(2),_i(n.name),z(2),_i(n.nextEvent)}}var lu=class e{sports=[{id:4,name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",nextEvent:"28 Sep \xB7 21:00"},{id:3,name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",nextEvent:"25 Sep \xB7 10:00"},{id:2,name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-baloncesto",nextEvent:"22 Sep \xB7 19:30"},{id:1,name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-futbol",nextEvent:"20 Sep \xB7 18:00"}];games=[{competition_id:1,team1_name:"Ace Masters",team2_name:"Clay Warriors",date:"2025-01-22T18:30:00",type:"tennis",location:"Club Deportivo Central"},{competition_id:2,team1_name:"Padel Smash",team2_name:"Golden Racket",date:"2025-01-25T19:00:00",type:"padel",location:"Padel Center Norte"},{competition_id:1,team1_name:"Topspin United",team2_name:"Baseline Kings",date:"2025-01-24T20:00:00",type:"tennis",location:"Real Club de Tenis"},{competition_id:2,team1_name:"Red Net Padel",team2_name:"Vibora Team",date:"2025-01-27T21:00:00",type:"padel",location:"Urban Padel Club"},{competition_id:3,team1_name:"Match Point",team2_name:"Deuce Squad",date:"2025-01-29T18:00:00",type:"tennis",location:"Complejo Deportivo Municipal"}];getGameImage(t){switch(t){case"tennis":return"assets/images/sports/tennis/tennis-field-1.jpeg";case"padel":return"assets/images/sports/padel/padel-field-1.jpeg";default:return"assets/images/default-field.jpeg"}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ke({type:e,selectors:[["app-home"]],decls:48,vars:2,consts:[[1,"hero-header"],[1,"hero-overlay"],[1,"container","hero-content"],[1,"display-5","fw-bold","text-white"],[1,"text-white-50","mt-2"],[1,"next-games-section"],[1,"container"],[1,"fw-bold","mb-3"],[1,"next-games-scroll"],["class","next-game-card",4,"ngFor","ngForOf"],[1,"sports-section"],[1,"fw-bold","mb-4"],[1,"row","g-4"],["class","col-12 col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"features-section"],[1,"row","g-4","text-center"],[1,"col-12","col-md-4"],[1,"feature-item"],[1,"feature-icon","icon-league"],[1,"feature-icon","icon-notify"],[1,"feature-icon","icon-free"],[1,"next-game-card"],["alt","Campo de juego",1,"next-game-img",3,"src"],[1,"next-game-overlay"],[1,"next-game-info"],[1,"badge","bg-dark","text-uppercase","mb-1"],[1,"fw-semibold","small"],[1,"text-white-50"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"sport-card","shadow-sm","h-100"],[1,"sport-image"],[1,"sport-body",3,"ngClass"],[1,"text-white","fw-bold","mb-1"]],template:function(n,r){n&1&&(b(0,"section",0),le(1,"app-header")(2,"div",1),b(3,"div",2)(4,"h1",3),x(5," App organizador de eventos deportivos "),D(),b(6,"p",4),x(7," Crea, gestiona y compite en ligas de tu deporte favorito "),D()()(),b(8,"section",5)(9,"div",6)(10,"h2",7),x(11,"Pr\xF3ximos partidos"),D(),b(12,"div",8),tt(13,hO,14,9,"div",9),D()()(),b(14,"section",10)(15,"div",6)(16,"h2",11),x(17,"Deportes"),D(),b(18,"div",12),tt(19,pO,8,5,"div",13),D()()(),b(20,"section",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),x(26,"\u{1F3C6}"),D(),b(27,"h5"),x(28,"Crea y compite"),D(),b(29,"p"),x(30,"Crea y ap\xFAntate a ligas de tu deporte favorito"),D()()(),b(31,"div",16)(32,"div",17)(33,"div",19),x(34,"\u{1F514}"),D(),b(35,"h5"),x(36,"Notificaciones"),D(),b(37,"p"),x(38,"Recibe avisos de partidos, resultados y cambios"),D()()(),b(39,"div",16)(40,"div",17)(41,"div",20),x(42,"\u{1F389}"),D(),b(43,"h5"),x(44,"100% gratis"),D(),b(45,"p"),x(46,"Sin costes ocultos, ahora y siempre"),D()()()()()(),le(47,"app-footer")),n&2&&(z(13),fe("ngForOf",r.games),z(6),fe("ngForOf",r.sports))},dependencies:[Ht,zo,Ei,sh,su,au],styles:[".color-padel[_ngcontent-%COMP%]{background-color:#7fa9c4;color:#fff}.color-futbol[_ngcontent-%COMP%]{background-color:#8fbf9f;color:#fff}.color-baloncesto[_ngcontent-%COMP%]{background-color:#f2b36d;color:#fff}.color-tenis[_ngcontent-%COMP%]{background-color:#c97a5a;color:#fff}.hero-header[_ngcontent-%COMP%]{position:relative;min-height:45vh;background-image:url(/sportscenterchampionships/assets/images/homeHeader.jpeg);background-size:cover;background-position:center;display:flex;flex-direction:column}.hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0000,#00000080);z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:auto;padding-bottom:3rem;max-width:720px}@media (max-width: 768px){.hero-header[_ngcontent-%COMP%]{min-height:23vh}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.title-section[_ngcontent-%COMP%]{position:relative;height:40vh;overflow:hidden;display:flex;align-items:center}.title-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0}.title-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:720px}.sports-section[_ngcontent-%COMP%]{margin-top:.5rem}.sport-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.sport-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 25px #0003}.sport-image[_ngcontent-%COMP%]{height:180px;background-size:cover;background-position:center}.sport-body[_ngcontent-%COMP%]{padding:16px}.features-section[_ngcontent-%COMP%]{padding:3rem 0;background-color:#f8f9fa}.feature-item[_ngcontent-%COMP%]{padding:1.75rem 1.25rem;border-radius:16px;background:#fff;height:100%;transition:transform .25s ease,box-shadow .25s ease}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014}.feature-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto .75rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff}.feature-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.35rem;color:#222}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;line-height:1.4}@media (max-width: 576px){.feature-item[_ngcontent-%COMP%]{padding:1.25rem}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.icon-league[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7fa9c4,#6c96b1)}.icon-notify[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fbf9f,#7eaf90)}.icon-free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f2b36d,#c97a5a)}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:.5rem;font-weight:600;color:#222}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#555;line-height:1.5;margin:0}@media (min-width: 768px){.features[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.title-section[_ngcontent-%COMP%]{margin-top:3.4rem;height:10vh}.title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.sport-image[_ngcontent-%COMP%]{height:110px}@media (max-width: 576px){.sports-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.sport-body[_ngcontent-%COMP%]{padding:12px}.sport-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.95rem}.sport-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}}@media (min-width: 768px){.sport-image[_ngcontent-%COMP%]{height:180px}}.next-games-section[_ngcontent-%COMP%]{padding:2.5rem 0}.next-games-scroll[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow-x:auto;padding-bottom:.5rem;scroll-snap-type:x mandatory}.next-games-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.next-game-card[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%;border-radius:14px;overflow:hidden;position:relative;scroll-snap-align:start;box-shadow:0 6px 20px #00000026}.next-game-img[_ngcontent-%COMP%]{width:100%;height:160px;object-fit:cover}.next-game-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000000b3,#00000026);display:flex;align-items:flex-end}.next-game-info[_ngcontent-%COMP%]{padding:.75rem;color:#fff}@media (min-width: 768px){.next-games-scroll[_ngcontent-%COMP%]{overflow:visible;flex-wrap:wrap;gap:1.5rem}.next-game-card[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);max-width:calc(33.333% - 1rem)}}"]})};var GE=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(N(gr),N(Tn))};static \u0275dir=de({type:e})}return e})(),cg=(()=>{class e extends GE{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275dir=de({type:e,features:[St]})}return e})(),mu=new A("");var gO={provide:mu,useExisting:ln(()=>lo),multi:!0};function mO(){let e=pt()?pt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var vO=new A(""),lo=(()=>{class e extends GE{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!mO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(N(gr),N(Tn),N(vO,8))};static \u0275dir=de({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[yr([gO]),St]})}return e})();function yO(e){return e==null||_O(e)===0}function _O(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var ug=new A(""),WE=new A("");function wO(e){return yO(e.value)?{required:!0}:null}function LE(e){return null}function KE(e){return e!=null}function ZE(e){return Mn(e)?ue(e):e}function YE(e){let t={};return e.forEach(n=>{t=n!=null?w(w({},t),n):t}),Object.keys(t).length===0?null:t}function JE(e,t){return t.map(n=>n(e))}function bO(e){return!e.validate}function QE(e){return e.map(t=>bO(t)?t:n=>t.validate(n))}function EO(e){if(!e)return null;let t=e.filter(KE);return t.length==0?null:function(n){return YE(JE(n,t))}}function dg(e){return e!=null?EO(QE(e)):null}function DO(e){if(!e)return null;let t=e.filter(KE);return t.length==0?null:function(n){let r=JE(n,t).map(ZE);return ed(r).pipe(G(YE))}}function fg(e){return e!=null?DO(QE(e)):null}function jE(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function CO(e){return e._rawValidators}function IO(e){return e._rawAsyncValidators}function sg(e){return e?Array.isArray(e)?e:[e]:[]}function uu(e,t){return Array.isArray(e)?e.includes(t):e===t}function VE(e,t){let n=sg(t);return sg(e).forEach(i=>{uu(n,i)||n.push(i)}),n}function $E(e,t){return sg(t).filter(n=>!uu(e,n))}var du=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=dg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=fg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},ao=class extends du{name;get formDirective(){return null}get path(){return null}},Bs=class extends du{_parent=null;name=null;valueAccessor=null},fu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},SO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dz=q(w({},SO),{"[class.ng-submitted]":"isSubmitted"}),vu=(()=>{class e extends fu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(N(Bs,2))};static \u0275dir=de({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&yi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[St]})}return e})(),XE=(()=>{class e extends fu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(N(ao,10))};static \u0275dir=de({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&yi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[St]})}return e})();var Ls="VALID",cu="INVALID",oo="PENDING",js="DISABLED",Yn=class{},hu=class extends Yn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},$s=class extends Yn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Us=class extends Yn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},so=class extends Yn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},ag=class extends Yn{source;constructor(t){super(),this.source=t}},lg=class extends Yn{source;constructor(t){super(),this.source=t}};function eD(e){return(yu(e)?e.validators:e)||null}function TO(e){return Array.isArray(e)?dg(e):e||null}function tD(e,t){return(yu(t)?t.asyncValidators:e)||null}function MO(e){return Array.isArray(e)?fg(e):e||null}function yu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function xO(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function AO(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new T(1002,"")})}var pu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Mt(this.statusReactive)}set status(t){Mt(()=>this.statusReactive.set(t))}_status=Lo(()=>this.statusReactive());statusReactive=ko(void 0);get valid(){return this.status===Ls}get invalid(){return this.status===cu}get pending(){return this.status==oo}get disabled(){return this.status===js}get enabled(){return this.status!==js}errors;get pristine(){return Mt(this.pristineReactive)}set pristine(t){Mt(()=>this.pristineReactive.set(t))}_pristine=Lo(()=>this.pristineReactive());pristineReactive=ko(!0);get dirty(){return!this.pristine}get touched(){return Mt(this.touchedReactive)}set touched(t){Mt(()=>this.touchedReactive.set(t))}_touched=Lo(()=>this.touchedReactive());touchedReactive=ko(!1);get untouched(){return!this.touched}_events=new be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(VE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(VE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($E(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($E(t,this._rawAsyncValidators))}hasValidator(t){return uu(this._rawValidators,t)}hasAsyncValidator(t){return uu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(q(w({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Us(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Us(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(q(w({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new $s(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new $s(!0,r))}markAsPending(t={}){this.status=oo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new so(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(q(w({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=js,this.errors=null,this._forEachChild(i=>{i.disable(q(w({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new hu(this.value,r)),this._events.next(new so(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(w({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ls,this._forEachChild(r=>{r.enable(q(w({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(q(w({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ls||this.status===oo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new hu(this.value,n)),this._events.next(new so(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(q(w({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?js:Ls}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=oo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ZE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new so(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?js:this.errors?cu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oo)?oo:this._anyControlsHaveStatus(cu)?cu:Ls}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new $s(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Us(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=TO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=MO(this._rawAsyncValidators)}},gu=class extends pu{constructor(t,n,r){super(eD(n),tD(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){AO(this,!0,t),Object.keys(t).forEach(r=>{xO(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var hg=new A("",{providedIn:"root",factory:()=>pg}),pg="always";function RO(e,t){return[...t.path,e]}function nD(e,t,n=pg){rD(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),NO(e,t),PO(e,t),kO(e,t),OO(e,t)}function UE(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function OO(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function rD(e,t){let n=CO(e);t.validator!==null?e.setValidators(jE(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=IO(e);t.asyncValidator!==null?e.setAsyncValidators(jE(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();UE(t._rawValidators,i),UE(t._rawAsyncValidators,i)}function NO(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&iD(e,t)})}function kO(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&iD(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function iD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function PO(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function FO(e,t){e==null,rD(e,t)}function LO(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function jO(e){return Object.getPrototypeOf(e.constructor)===cg}function VO(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $O(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===lo?n=o:jO(o)?r=o:i=o}),i||r||n||null}var UO={provide:ao,useExisting:ln(()=>gg)},Vs=Promise.resolve(),gg=(()=>{class e extends ao{callSetDisabledState;get submitted(){return Mt(this.submittedReactive)}_submitted=Lo(()=>this.submittedReactive());submittedReactive=ko(!1);_directives=new Set;form;ngSubmit=new Ce;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new gu({},dg(n),fg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Vs.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),nD(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Vs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Vs.then(()=>{let r=this._findContainer(n.path),i=new gu({});FO(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Vs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Vs.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),VO(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new ag(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new lg(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(N(ug,10),N(WE,10),N(hg,8))};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yr([UO]),St]})}return e})();function BE(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function HE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var BO=class extends pu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(eD(n),tD(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(HE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){HE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var HO={provide:Bs,useExisting:ln(()=>Hs)},zE=Promise.resolve(),Hs=(()=>{class e extends Bs{_changeDetectorRef;callSetDisabledState;control=new BO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ce;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$O(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),LO(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){zE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&xl(r);zE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?RO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(N(ao,9),N(ug,10),N(WE,10),N(mu,10),N(bi,8),N(hg,8))};static \u0275dir=de({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yr([HO]),St,pi]})}return e})();var oD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var zO={provide:mu,useExisting:ln(()=>_u),multi:!0};function sD(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function qO(e){return e.split(":")[0]}var _u=(()=>{class e extends cg{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=sD(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=qO(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275dir=de({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yr([zO]),St]})}return e})(),aD=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(sD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(N(Tn),N(gr),N(_u,9))};static \u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),GO={provide:mu,useExisting:ln(()=>lD),multi:!0};function qE(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function WO(e){return e.split(":")[0]}var lD=(()=>{class e extends cg{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=WO(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275dir=de({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yr([GO]),St]})}return e})(),cD=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(qE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(qE(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(N(Tn),N(gr),N(lD,9))};static \u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var KO=(()=>{class e{_validator=LE;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):LE,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,features:[pi]})}return e})();var ZO={provide:ug,useExisting:ln(()=>mg),multi:!0};var mg=(()=>{class e extends KO{required;inputName="required";normalizeInput=xl;createValidator=n=>wO;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275dir=de({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&qf("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[yr([ZO]),St]})}return e})();var YO=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=mr({type:e});static \u0275inj=dr({})}return e})();var wu=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:hg,useValue:n.callSetDisabledState??pg}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=mr({type:e});static \u0275inj=dr({imports:[YO]})}return e})();function JO(e,t){if(e&1){let n=xn();b(0,"div",21)(1,"div",22),Ie("click",function(){let i=dt(n).$implicit,o=Tt();return ft(o.toggleSport(i))}),le(2,"div",23),b(3,"div",24)(4,"span"),x(5),D()()()()}if(e&2){let n=t.$implicit;z(),yi("selected",n.selected),z(),Fo("background-image","url("+n.image+")"),z(),fe("ngClass",n.color),z(2),_i(n.name)}}var bu=class e{constructor(t){this.supabase=t}profile={name:"",email:"",password:"",phone:"",language:"es",avatar_url:""};loading=!1;sports=[{key:"padel",name:"P\xE1del",image:"assets/images/sports/padel/padel-player-man.jpeg",color:"color-padel",selected:!1},{key:"tennis",name:"Tenis",image:"assets/images/sports/tennis/tennis-player-woman.jpeg",color:"color-tenis",selected:!1},{key:"basket",name:"Baloncesto",image:"assets/images/sports/basket/basket-player-man.jpeg",color:"color-basket",selected:!1},{key:"football",name:"F\xFAtbol",image:"assets/images/sports/football/football-player-woman.jpeg",color:"color-football",selected:!1}];onAvatarSelected(t){return h(this,null,function*(){let n=t.target.files[0];if(!n)return;let r=`avatars/${Date.now()}-${n.name}`,{error:i}=yield this.supabase.uploadAvatar(r,n);i||(this.profile.avatar_url=this.supabase.getPublicAvatarUrl(r))})}toggleSport(t){t.selected=!t.selected}saveProfile(){return h(this,null,function*(){this.loading=!0;let t=this.sports.filter(n=>n.selected).map(n=>n.key);console.log("Perfil:",this.profile),console.log("Deportes:",t)})}static \u0275fac=function(n){return new(n||e)(N(yt))};static \u0275cmp=Ke({type:e,selectors:[["app-user-onboarding"]],decls:30,vars:7,consts:[["form","ngForm"],[1,"onboarding-hero"],[1,"overlay"],[1,"onboarding-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"avatar-upload"],["alt","Avatar",1,"avatar-preview",3,"src"],[1,"upload-btn"],["type","file","hidden","","accept","image/*",3,"change"],["placeholder","Nombre","name","name","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"form-control","mb-3",3,"value"],["type","password","placeholder","Contrase\xF1a","name","password","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["name","language",1,"form-select","mb-4",3,"ngModelChange","ngModel"],["value","es"],["value","en"],["value","ca"],[1,"section-title"],[1,"row","g-3","mb-4"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"col-6","col-md-3"],[1,"sport-card",3,"click"],[1,"sport-image"],[1,"sport-body",3,"ngClass"]],template:function(n,r){if(n&1){let i=xn();b(0,"div",1),le(1,"div",2),b(2,"div",3)(3,"h2"),x(4,"Bienvenido \u{1F44B}"),D(),b(5,"p",4),x(6,"Crea tu perfil y empieza a competir"),D(),b(7,"form",5,0),Ie("ngSubmit",function(){return dt(i),ft(r.saveProfile())}),b(9,"div",6),le(10,"img",7),b(11,"label",8),x(12," Cambiar foto "),b(13,"input",9),Ie("change",function(s){return dt(i),ft(r.onAvatarSelected(s))}),D()()(),b(14,"input",10),On("ngModelChange",function(s){return dt(i),vr(r.profile.name,s)||(r.profile.name=s),ft(s)}),D(),le(15,"input",11),b(16,"input",12),On("ngModelChange",function(s){return dt(i),vr(r.profile.password,s)||(r.profile.password=s),ft(s)}),D(),b(17,"select",13),On("ngModelChange",function(s){return dt(i),vr(r.profile.language,s)||(r.profile.language=s),ft(s)}),b(18,"option",14),x(19,"\u{1F1EA}\u{1F1F8} Espa\xF1ol"),D(),b(20,"option",15),x(21,"\u{1F1EC}\u{1F1E7} English"),D(),b(22,"option",16),x(23," Valenci\xE0"),D()(),b(24,"h4",17),x(25,"Deportes"),D(),b(26,"div",18),tt(27,JO,6,6,"div",19),D(),b(28,"button",20),x(29," Crear cuenta "),D()()()()}if(n&2){let i=Sl(8);z(10),fe("src",r.profile.avatar_url||"assets/images/default-avatar.jpg",pr),z(4),Rn("ngModel",r.profile.name),z(),fe("value",r.profile.email),z(),Rn("ngModel",r.profile.password),z(),Rn("ngModel",r.profile.language),z(10),fe("ngForOf",r.sports),z(),fe("disabled",r.loading||!i.valid)}},dependencies:[Ht,zo,Ei,wu,oD,aD,cD,lo,_u,vu,XE,mg,Hs,gg],styles:[".onboarding-hero[_ngcontent-%COMP%]{min-height:100vh;background:url(/assets/images/homeHeader.jpeg) center / cover;display:flex;justify-content:center;align-items:center}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000008c}.onboarding-card[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:1rem;width:100%;max-width:520px;z-index:2}.avatar-upload[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.avatar-preview[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;object-fit:cover}.upload-btn[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#2563eb;cursor:pointer}.sport-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;cursor:pointer;transition:transform .2s}.sport-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 3px #2563eb}.sport-image[_ngcontent-%COMP%]{height:80px;background-size:cover;background-position:center}"]})};function QO(e,t){if(e&1&&(b(0,"div",14),x(1),D()),e&2){let n=Tt();z(),An(" ",n.error," ")}}var Eu=class e{constructor(t,n){this.supabase=t;this.router=n}email="";password="";loading=!1;error=null;loginWithEmail(){return h(this,null,function*(){this.loading=!0,this.error=null;let{error:t}=yield this.supabase.signInWithEmail(this.email,this.password);this.loading=!1,t&&(this.error=t.message)})}loginWithGoogle(){return h(this,null,function*(){yield this.supabase.signInWithGoogle()})}goToOnboarding(){this.router.navigate(["/user_onboarding"])}static \u0275fac=function(n){return new(n||e)(N(yt),N(Wt))};static \u0275cmp=Ke({type:e,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"login-container"],[1,"login-card","shadow"],[1,"mb-4","text-center"],["class","alert alert-danger",4,"ngIf"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","tu@email.com",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"separator"],[1,"btn","btn-outline-dark","w-100","mb-3","d-flex","align-items-center","justify-content-center","gap-2",3,"click"],["src","assets/icons/google-icon.svg","width","18"],[1,"text-center","mt-3"],[1,"register-link",3,"click"],[1,"alert","alert-danger"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"div",1)(2,"h2",2),x(3,"Iniciar sesi\xF3n"),D(),tt(4,QO,2,1,"div",3),b(5,"div",4)(6,"label",5),x(7,"Email"),D(),b(8,"input",6),On("ngModelChange",function(o){return vr(r.email,o)||(r.email=o),o}),D()(),b(9,"div",4)(10,"label",5),x(11,"Contrase\xF1a"),D(),b(12,"input",7),On("ngModelChange",function(o){return vr(r.password,o)||(r.password=o),o}),D()(),b(13,"button",8),Ie("click",function(){return r.loginWithEmail()}),x(14," Entrar "),D(),b(15,"div",9),x(16,"o"),D(),b(17,"button",10),Ie("click",function(){return r.loginWithGoogle()}),le(18,"img",11),x(19," Entrar con Google "),D(),b(20,"p",12),x(21," \xBFNo tienes cuenta? "),b(22,"a",13),Ie("click",function(){return r.goToOnboarding()}),x(23," Darse de alta "),D()()()()),n&2&&(z(4),fe("ngIf",r.error),z(4),Rn("ngModel",r.email),z(4),Rn("ngModel",r.password),z(),fe("disabled",r.loading))},dependencies:[Ht,qo,wu,lo,vu,Hs],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#1e3c72,#2a5298)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;width:100%;max-width:400px;border-radius:12px}.separator[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;color:#888}.register-link[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;text-decoration:underline}"]})};var dD=[{path:"",component:lu},{path:"user_onboarding",component:bu},{path:"login",component:Eu},{path:"**",redirectTo:""}];mh(iu,{providers:[$h(dD,Uh())]}).catch(e=>console.error(e));
